<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><link href="favicon.svg" rel="icon"/><script defer="defer" type="module">/*! For license information please see index.9c295a1a.js.LICENSE.txt */
(()=>{var e={183:(e,t,n)=>{var r=n(59363);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("0a5fbf17",r,!0,{sourceMap:!1,shadowMode:!1})},343:e=>{"use strict";const t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function o(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function i(e){const t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}const a={scheme:"http",domainHost:!0,parse:o,serialize:i},s={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=r(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){if(e.port!==(r(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,n]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=n,e.resourceName=void 0}return e.fragment=void 0,e}},l={http:a,https:{scheme:"https",domainHost:a.domainHost,parse:o,serialize:i},ws:s,wss:{scheme:"wss",domainHost:s.domainHost,parse:s.parse,serialize:s.serialize},urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(n);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const o=`${n}:${t.nid||e.nid}`,i=l[o];e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){const n=t.scheme||e.scheme||"urn",r=e.nid.toLowerCase(),o=`${n}:${t.nid||r}`,i=l[o];i&&(e=i.serialize(e,t));const a=e,s=e.nss;return a.path=`${r||t.nid}:${s}`,t.skipEscape=!0,a},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,n){const r=e;return r.uuid=r.nss,r.nss=void 0,n.tolerant||r.uuid&&t.test(r.uuid)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t},skipNormalize:!0}};e.exports=l},659:(e,t,n)=>{var r=n(51873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},886:(e,t,n)=>{var r=n(39498);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("902fb3e2",r,!0,{sourceMap:!1,shadowMode:!1})},1239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:i}=e;void 0===n.then&&void 0===n.else&&(0,o.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const s=a(i,"then"),l=a(i,"else");if(!s&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),s&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else s?t.if(u,d("then")):t.if((0,r.not)(u),d("else"));function d(n,o){return()=>{const i=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(i,c),o?t.assign(o,r._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}};function a(e,t){const n=e.schema[t];return void 0!==n&&!(0,o.alwaysValidSchema)(e,n)}t.default=i},1795:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=10,r=(1+Math.sqrt(5))/2,o=1e-4;t.applyPacking=function(e,t,i,a,s,l){void 0===s&&(s=1),void 0===l&&(l=!0);var c=t,u=i,d=(s=void 0!==s?s:1,a=void 0!==a?a:0,0),p=0,h=0,f=0,m=[];function g(e,t){m=[],d=0,p=0,f=0;for(var n=0;n<e.length;n++)v(e[n],t);return Math.abs(d/p-s)}function v(e,t){for(var r=void 0,i=0;i<m.length;i++)if(m[i].space_left>=e.height&&m[i].x+m[i].width+e.width+n-t<=o){r=m[i];break}m.push(e),void 0!==r?(e.x=r.x+r.width+n,e.y=r.bottom,e.space_left=e.height,e.bottom=e.y,r.space_left-=e.height+n,r.bottom+=e.height+n):(e.y=f,f+=e.height+n,e.x=0,e.bottom=e.y,e.space_left=e.height),e.y+e.height-p>-1e-4&&(p=e.y+e.height-0),e.x+e.width-d>-1e-4&&(d=e.x+e.width-0)}0!=e.length&&(function(e){e.forEach((function(e){var t,n,r,o,i;t=e,n=Number.MAX_VALUE,r=Number.MAX_VALUE,o=0,i=0,t.array.forEach((function(e){var t=void 0!==e.width?e.width:a,s=void 0!==e.height?e.height:a;t/=2,s/=2,o=Math.max(e.x+t,o),n=Math.min(e.x-t,n),i=Math.max(e.y+s,i),r=Math.min(e.y-s,r)})),t.width=o-n,t.height=i-r}))}(e),function(e){var t=Number.POSITIVE_INFINITY,i=0;e.sort((function(e,t){return t.height-e.height}));for(var a=m=h=e.reduce((function(e,t){return e.width<t.width?e.width:t.width})),s=v=function(e){var t=0;return e.forEach((function(e){return t+=e.width+n})),t}(e),l=0,c=Number.MAX_VALUE,u=Number.MAX_VALUE,d=-1,p=Number.MAX_VALUE,f=Number.MAX_VALUE;p>h||f>o;){if(1!=d){var m=s-(s-a)/r;c=g(e,m)}if(0!=d){var v=a+(s-a)/r;u=g(e,v)}if(p=Math.abs(m-v),f=Math.abs(c-u),c<t&&(t=c,i=m),u<t&&(t=u,i=v),c>u?(a=m,m=v,c=u,d=1):(s=v,v=m,u=c,d=0),l++>100)break}g(e,i)}(e),l&&function(e){e.forEach((function(e){var t={x:0,y:0};e.array.forEach((function(e){t.x+=e.x,t.y+=e.y})),t.x/=e.array.length,t.y/=e.array.length;var n=t.x-e.width/2,r=t.y-e.height/2,o=e.x-n+c/2-d/2,i=e.y-r+u/2-p/2;e.array.forEach((function(e){e.x+=o,e.y+=i}))}))}(e))},t.separateGraphs=function(e,t){for(var n={},r={},o=[],i=0,a=0;a<t.length;a++){var s=t[a],l=s.source,c=s.target;r[l.index]?r[l.index].push(c):r[l.index]=[c],r[c.index]?r[c.index].push(l):r[c.index]=[l]}for(a=0;a<e.length;a++){var u=e[a];n[u.index]||d(u,!0)}function d(e,t){if(void 0===n[e.index]){t&&(i++,o.push({array:[]})),n[e.index]=i,o[i-1].array.push(e);var a=r[e.index];if(a)for(var s=0;s<a.length;s++)d(a[s],!1)}}return o}},1882:(e,t,n)=>{var r=n(72552),o=n(23805);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},2046:(e,t,n)=>{var r=n(88319);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("71359660",r,!0,{sourceMap:!1,shadowMode:!1})},2523:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},3335:e=>{e.exports=function(e,t){return e>t}},3650:(e,t,n)=>{var r=n(74335)(Object.keys,Object);e.exports=r},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),o=n(89935),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},3988:(e,t,n)=>{"use strict";var r=n(56857),o=n(68191).Graph;function i(e,t,n,o){var i;do{i=r.uniqueId(o)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){return r.max(r.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n})))}e.exports={addDummyNode:i,simplify:function(e){var t=(new o).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t},asNonCompoundGraph:function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,l=e.width/2,c=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(l=-l),n=l,r=l*s/a),{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),(function(){return[]}));return r.forEach(e.nodes(),(function(n){var o=e.node(n),i=o.rank;r.isUndefined(i)||(t[i][o.order]=n)})),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank})));r.forEach(e.nodes(),(function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)}))},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];r.forEach(e.nodes(),(function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=e.graph().nodeRankFactor;r.forEach(n,(function(t,n){r.isUndefined(t)&&n%i!=0?--o:o&&r.forEach(t,(function(t){e.node(t).rank+=o}))}))},addBorderNode:function(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),i(e,"border",o,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},4042:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var o=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const i=n(13558),a=n(34551),s=n(10396),l=n(73835),c=n(99029),u=n(66939),d=n(10208),p=n(94227),h=n(63837),f=n(55944),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,n,r,o,i,a,s,l,c,u,d,p,h,g,v,y,b,w,x,_,k,C,S,E,P;const T=e.strict,A=null===(t=e.code)||void 0===t?void 0:t.optimize,M=!0===A||void 0===A?1:A||0,N=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,O=null!==(o=e.uriResolver)&&void 0!==o?o:f.default;return{strictSchema:null===(a=null!==(i=e.strictSchema)&&void 0!==i?i:T)||void 0===a||a,strictNumbers:null===(l=null!==(s=e.strictNumbers)&&void 0!==s?s:T)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:T)&&void 0!==u?u:"log",strictTuples:null!==(p=null!==(d=e.strictTuples)&&void 0!==d?d:T)&&void 0!==p?p:"log",strictRequired:null!==(g=null!==(h=e.strictRequired)&&void 0!==h?h:T)&&void 0!==g&&g,code:e.code?{...e.code,optimize:M,regExp:N}:{optimize:M,regExp:N},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(x=e.inlineRefs)||void 0===x||x,schemaId:null!==(_=e.schemaId)&&void 0!==_?_:"$id",addUsedSchema:null===(k=e.addUsedSchema)||void 0===k||k,validateSchema:null===(C=e.validateSchema)||void 0===C||C,validateFormats:null===(S=e.validateFormats)||void 0===S||S,unicodeRegExp:null===(E=e.unicodeRegExp)||void 0===E||E,int32range:null===(P=e.int32range)||void 0===P||P,uriResolver:O}}class x{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:t,lines:n}),this.logger=function(e){if(!1===e)return T;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,s.getRules)(),_.call(this,y,e,"NOT SUPPORTED"),_.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=P.call(this),e.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&E.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),C.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=h;"id"===n&&(r={...h},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await o.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||i.call(this,n)}async function o(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof a.default))throw t;return s.call(this,t),await l.call(this,t.missingSchema),i.call(this,e)}}function s({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await o.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let o;if("object"==typeof e){const{schemaId:t}=this.opts;if(o=e[t],void 0!==o&&"string"!=typeof o)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=k.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=k.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(M.call(this,n,t),!t)return(0,p.eachItem)(n,(e=>N.call(this,e))),this;I.call(this,t);const r={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,p.eachItem)(n,0===r.type.length?e=>N.call(this,e,r):e=>r.type.forEach((t=>N.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,i=o[e];r&&i&&(o[e]=L(i))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let i;const{schemaId:a}=this.opts;if("object"==typeof e)i=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let s=this._cache.get(e);if(void 0!==s)return s;n=(0,u.normalizeId)(i||n);const c=u.getSchemaRefs.call(this,e,n);return s=new l.SchemaEnv({schema:e,schemaId:a,meta:t,baseId:n,localRefs:c}),this._cache.set(s.schema,s),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=s),r&&this.validateSchema(e,!0),s}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,n,r="error"){for(const o in e){const i=o;i in t&&this.logger[r](`${n}: option ${o}. ${e[i]}`)}}function k(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function C(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function S(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function E(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function P(){const e={...this.opts};for(const t of g)delete e[t];return e}x.ValidationError=i.default,x.MissingRefError=a.default,t.default=x;const T={log(){},warn(){},error(){}},A=/^[a-z_$][a-z0-9_$:-]*$/i;function M(e,t){const{RULES:n}=this;if((0,p.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!A.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function N(e,t,n){var r;const o=null==t?void 0:t.post;if(n&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let a=o?i.post:i.rules.find((({type:e})=>e===n));if(a||(a={type:n,rules:[]},i.rules.push(a)),i.keywords[e]=!0,!t)return;const s={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?O.call(this,a,s,t.before):a.rules.push(s),i.all[e]=s,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function O(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function I(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=L(t)),e.validateSchema=this.compile(t,!0))}const R={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(e){return{anyOf:[e,R]}}},4509:(e,t,n)=>{var r=n(12651);e.exports=function(e){return r(this,e).has(e)}},4664:(e,t,n)=>{var r=n(79770),o=n(63345),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},4698:(e,t,n)=>{var r=n(39454);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("124a4a72",r,!0,{sourceMap:!1,shadowMode:!1})},4850:(e,t,n)=>{"use strict";var r=n(56857);function o(e){r.forEach(e.nodes(),(function(t){i(e.node(t))})),r.forEach(e.edges(),(function(t){i(e.edge(t))}))}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||o(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),(function(t){a(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(e),"lr"!==t&&"rl"!==t||(function(e){r.forEach(e.nodes(),(function(t){s(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(e),o(e))}}},4901:(e,t,n)=>{var r=n(72552),o=n(30294),i=n(40346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},4908:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/applicator":true},"$recursiveAnchor":true,"title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"additionalItems":{"$recursiveRef":"#"},"unevaluatedItems":{"$recursiveRef":"#"},"items":{"anyOf":[{"$recursiveRef":"#"},{"$ref":"#/$defs/schemaArray"}]},"contains":{"$recursiveRef":"#"},"additionalProperties":{"$recursiveRef":"#"},"unevaluatedProperties":{"$recursiveRef":"#"},"properties":{"type":"object","additionalProperties":{"$recursiveRef":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$recursiveRef":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$recursiveRef":"#"}},"propertyNames":{"$recursiveRef":"#"},"if":{"$recursiveRef":"#"},"then":{"$recursiveRef":"#"},"else":{"$recursiveRef":"#"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$recursiveRef":"#"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$recursiveRef":"#"}}}}')},5128:(e,t,n)=>{var r=n(80909),o=n(64894);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},5556:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCServerAndClient=void 0;var i=n(51287),a=function(){function e(e,t,n){var r;void 0===n&&(n={}),this.server=e,this.client=t,this.errorListener=null!==(r=n.errorListener)&&void 0!==r?r:console.warn}return e.prototype.applyServerMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.server).applyMiddleware.apply(e,t)},e.prototype.hasMethod=function(e){return this.server.hasMethod(e)},e.prototype.addMethod=function(e,t){this.server.addMethod(e,t)},e.prototype.addMethodAdvanced=function(e,t){this.server.addMethodAdvanced(e,t)},e.prototype.timeout=function(e){return this.client.timeout(e)},e.prototype.request=function(e,t,n){return this.client.request(e,t,n)},e.prototype.requestAdvanced=function(e,t){return this.client.requestAdvanced(e,t)},e.prototype.notify=function(e,t,n){this.client.notify(e,t,n)},e.prototype.rejectAllPendingRequests=function(e){this.client.rejectAllPendingRequests(e)},e.prototype.receiveAndSend=function(e,t,n){return r(this,void 0,void 0,(function(){var r,a;return o(this,(function(o){switch(o.label){case 0:return(0,i.isJSONRPCResponse)(e)||(0,i.isJSONRPCResponses)(e)?(this.client.receive(e),[3,4]):[3,1];case 1:return(0,i.isJSONRPCRequest)(e)||(0,i.isJSONRPCRequests)(e)?[4,this.server.receive(e,t)]:[3,3];case 2:return(r=o.sent())?[2,this.client.send(r,n)]:[3,4];case 3:return a="Received an invalid JSON-RPC message",this.errorListener(a,e),[2,Promise.reject(new Error(a))];case 4:return[2]}}))}))},e}();t.JSONRPCServerAndClient=a},5861:(e,t,n)=>{var r=n(55580),o=n(68223),i=n(32804),a=n(76545),s=n(28303),l=n(72552),c=n(47473),u="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=c(r),g=c(o),v=c(i),y=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=f||o&&w(new o)!=u||i&&w(i.resolve())!=d||a&&w(new a)!=p||s&&w(new s)!=h)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return d;case y:return p;case b:return h}return t}),e.exports=w},6421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"svg[data-v-0f26c012]{stroke:#6f6f6f}.white[data-v-0f26c012]{stroke:#fff}",""]);const s=a},7106:e=>{"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,o,i,a,s,l,c,u,d){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var p in r(i,a,s,l,c,u,d),i){var h=i[p];if(Array.isArray(h)){if(p in t.arrayKeywords)for(var f=0;f<h.length;f++)n(e,r,o,h[f],a+"/"+p+"/"+f,s,a,p,i,f)}else if(p in t.propsKeywords){if(h&&"object"==typeof h)for(var m in h)n(e,r,o,h[m],a+"/"+p+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,p,i,m)}else(p in t.keywords||e.allKeys&&!(p in t.skipKeywords))&&n(e,r,o,h,a+"/"+p,s,a,p,i)}o(i,a,s,l,c,u,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},7309:(e,t,n)=>{var r=n(62006)(n(24713));e.exports=r},7598:(e,t,n)=>{e.exports=n(81813)},7870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(99029),o=n(94227);function i(e,t,n){const{gen:i,compositeRule:a,data:s,opts:l}=e;if(void 0===n)return;const c=r._`${s}${(0,r.getProperty)(t)}`;if(a)return void(0,o.checkStrictMode)(e,`default is ignored for: ${c}`);let u=r._`${c} === undefined`;"empty"===l.useDefaults&&(u=r._`${u} || ${c} === null || ${c} === ""`),i.if(u,r._`${c} = ${(0,r.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const t in n)i(e,t,n[t].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>i(e,n,t.default)))}},7887:(e,t)=>{"use strict";function n(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},r){const o=t.RULES.types[r];return o&&!0!==o&&n(e,o)},t.shouldUseGroup=n,t.shouldUseRule=r},8157:(e,t,n)=>{var r=n(76433);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("127c9070",r,!0,{sourceMap:!1,shadowMode:!1})},9325:(e,t,n)=>{var r=n(34840),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},9459:(e,t,n)=>{e=n.nmd(e);var r,o=((r={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,r,o,i,a){var s=i.length-1;switch(o){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=i[s-1];case 13:this.$={};break;case 14:case 19:this.$=i[s-1];break;case 15:this.$=[i[s-2],i[s]];break;case 16:this.$={},this.$[i[s][0]]=i[s][1];break;case 17:this.$=i[s-2],i[s-2][i[s][0]]=i[s][1];break;case 18:this.$=[];break;case 20:this.$=[i[s]];break;case 21:this.$=i[s-2],i[s-2].push(i[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],o=[],i=this.table,a="",s=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;function d(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}o.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,h,f,m,g,v,y,b,w,x={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null==p&&(p=d()),m=i[f]&&i[f][p]),void 0===m||!m.length||!m[0]){if(!c){for(v in w=[],i[f])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");var _="";_=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+this.terminals_[p]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}if(3==c){if(1==p)throw new Error(_||"Parsing halted.");l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,p=d()}for(;!(2..toString()in i[f]);){if(0==f)throw new Error(_||"Parsing halted.");n.length=n.length-2,r.length=r.length-1,o.length=o.length-1,f=n[n.length-1]}h=p,p=2,m=i[f=n[n.length-1]]&&i[f][2],c=3}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+p);switch(m[0]){case 1:n.push(p),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(m[1]),p=null,h?(p=h,h=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[m[1]][1],x.$=r[r.length-y],x._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},void 0!==(g=this.performAction.call(x,a,l,s,this.yy,m[1],r,o)))return g;y&&(n=n.slice(0,-1*y*2),r=r.slice(0,-1*y),o=o.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),r.push(x.$),o.push(x._$),b=i[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length&&(!(n=this._input.match(this.rules[i[a]]))||t&&!(n[0].length>t[0].length)||(t=n,r=a,this.options.flex));a++);return t?((o=t[0].match(/\n.*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},r);t.parser=o,t.parse=function(){return o.parse.apply(o,arguments)},t.main=function(e){if(!e[1])throw new Error("Usage: "+e[0]+" FILE");if("undefined"!=typeof process)var r=n(77681).readFileSync(n(97629).join(process.cwd(),e[1]),"utf8");else r=n(16714).path(n(16714).cwd()).join(e[1]).read({charset:"utf-8"});return t.parser.parse(r)},n.c[n.s]===e&&t.main("undefined"!=typeof process?process.argv.slice(1):n(26875).args)},9721:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".prevent-select[data-v-f928b04a]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.prevent-select>.__content[data-v-f928b04a]{-webkit-user-select:text;-moz-user-select:text;user-select:text}",""]);const s=a},9999:(e,t,n)=>{var r=n(37217),o=n(83729),i=n(16547),a=n(74733),s=n(43838),l=n(93290),c=n(23007),u=n(92271),d=n(48948),p=n(50002),h=n(83349),f=n(5861),m=n(76189),g=n(77199),v=n(35529),y=n(56449),b=n(3656),w=n(87730),x=n(23805),_=n(38440),k=n(95950),C=n(37241),S="[object Arguments]",E="[object Function]",P="[object Object]",T={};T[S]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[P]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[E]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,A,M,N,O){var I,R=1&n,L=2&n,j=4&n;if(A&&(I=N?A(t,M,N,O):A(t)),void 0!==I)return I;if(!x(t))return t;var D=y(t);if(D){if(I=m(t),!R)return c(t,I)}else{var $=f(t),B=$==E||"[object GeneratorFunction]"==$;if(b(t))return l(t,R);if($==P||$==S||B&&!N){if(I=L||B?{}:v(t),!R)return L?d(t,s(I,t)):u(t,a(I,t))}else{if(!T[$])return N?t:{};I=g(t,$,R)}}O||(O=new r);var V=O.get(t);if(V)return V;O.set(t,I),_(t)?t.forEach((function(r){I.add(e(r,n,A,r,t,O))})):w(t)&&t.forEach((function(r,o){I.set(o,e(r,n,A,o,t,O))}));var F=D?void 0:(j?L?h:p:L?C:k)(t);return o(F||t,(function(r,o){F&&(r=t[o=r]),i(I,o,e(r,n,A,o,t,O))})),I}},10117:(e,t,n)=>{var r;try{r={clone:n(32629),constant:n(37334),each:n(76135),filter:n(87612),has:n(61448),isArray:n(56449),isEmpty:n(62193),isFunction:n(1882),isUndefined:n(62216),keys:n(95950),map:n(55378),reduce:n(40860),size:n(47091),transform:n(69752),union:n(80299),values:n(35880)}}catch(e){}r||(r=window._),e.exports=r},10124:(e,t,n)=>{var r=n(9325);e.exports=function(){return r.Date.now()}},10208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(10396),o=n(7887),i=n(48708),a=n(99029),s=n(94227);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l||(t.DataType=l={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:i}=e,s=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),c=t.length>0&&!(0===s.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(c){const o=p(t,r,i.strictNumbers,l.Wrong);n.if(o,(()=>{s.length?function(e,t,n){const{gen:r,data:o,opts:i}=e,s=r.let("dataType",a._`typeof ${o}`),l=r.let("coerced",a._`undefined`);"array"===i.coerceTypes&&r.if(a._`${s} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>r.assign(o,a._`${o}[0]`).assign(s,a._`typeof ${o}`).if(p(t,o,i.strictNumbers),(()=>r.assign(l,o))))),r.if(a._`${l} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===i.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void r.elseIf(a._`${s} == "number" || ${s} == "boolean"`).assign(l,a._`"" + ${o}`).elseIf(a._`${o} === null`).assign(l,a._`""`);case"number":return void r.elseIf(a._`${s} == "boolean" || ${o} === null
              || (${s} == "string" && ${o} && ${o} == +${o})`).assign(l,a._`+${o}`);case"integer":return void r.elseIf(a._`${s} === "boolean" || ${o} === null
              || (${s} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(l,a._`+${o}`);case"boolean":return void r.elseIf(a._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(l,!1).elseIf(a._`${o} === "true" || ${o} === 1`).assign(l,!0);case"null":return r.elseIf(a._`${o} === "" || ${o} === 0 || ${o} === false`),void r.assign(l,null);case"array":r.elseIf(a._`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${o} === null`).assign(l,a._`[${o}]`)}}r.else(),f(e),r.endIf(),r.if(a._`${l} !== undefined`,(()=>{r.assign(o,l),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(a._`${t} !== undefined`,(()=>e.assign(a._`${t}[${n}]`,r)))}(e,l)}))}(e,t,s):f(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n,r=l.Correct){const o=r===l.Correct?a.operators.EQ:a.operators.NEQ;let i;switch(e){case"null":return a._`${t} ${o} null`;case"array":i=a._`Array.isArray(${t})`;break;case"object":i=a._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=s(a._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=s();break;default:return a._`typeof ${t} ${o} ${e}`}return r===l.Correct?i:(0,a.not)(i);function s(e=a.nil){return(0,a.and)(a._`typeof ${t} == "number"`,e,n?a._`isFinite(${t})`:a.nil)}}function p(e,t,n,r){if(1===e.length)return d(e[0],t,n,r);let o;const i=(0,s.toHash)(e);if(i.array&&i.object){const e=a._`typeof ${t} != "object"`;o=i.null?e:a._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=a.nil;i.number&&delete i.integer;for(const e in i)o=(0,a.and)(o,d(e,t,n,r));return o}t.checkDataType=d,t.checkDataTypes=p;const h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?a._`{type: ${e}}`:a._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:n,schema:r}=e,o=(0,s.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:o,schemaValue:o,parentSchema:r,params:{},it:e}}(e);(0,i.reportError)(t,h)}t.reportTypeError=f},10392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},10396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},10637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"__validation_errors[data-v-3d7e1cf0]{max-width:100%}",""]);const s=a},10776:(e,t,n)=>{var r=n(30756),o=n(95950);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},10883:(e,t,n)=>{var r=n(74431);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("60265db6",r,!0,{sourceMap:!1,shadowMode:!1})},11331:(e,t,n)=>{var r=n(72552),o=n(28879),i=n(40346),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},11924:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(20641),o=n(90033),i=n(53751);const a=["placeholder","title","disabled"];var s=n(50953);const l=/[^a-f0-9]/i,c=/^(?:(.*)0)?(?:(.*)x)?/,u=(0,r.pM)({props:{intf:{required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=(0,s.KR)(null),o=(0,r.EW)({get:()=>e.modelValue,set:r=>{let o,i;if(!r.startsWith("0x")&&c.test(r)){const t=r.match(c);o=r.replace(c,"0x$1$2");const n=(t[1]??"").length+(t[2]??"").length;i=2,n>0?i+=n:(e.modelValue.length>o.length||""===e.modelValue)&&(i+=1)}else o=r;"0x"===o&&(o=""),t("update:modelValue",o),n.value.value=e.intf.value,void 0!==i&&n.value.setSelectionRange(i,i)}}),i=(0,r.EW)((()=>{let t;try{t=BigInt(e.intf.value)}catch(e){return!0}return t<e.intf.min||t>e.intf.max}));return{v:o,el:n,handleRestrictedKeys:e=>{1===e.key.length&&l.test(e.key)&&e.preventDefault()},handleBlur:()=>{let n;try{n=BigInt(e.intf.value)}catch(n){return void t("update:modelValue",e.modelValue.toLowerCase())}n>e.intf.max?t("update:modelValue",`0x${e.intf.max.toString(16)}`):n<e.intf.min?t("update:modelValue",`0x${e.intf.min.toString(16)}`):t("update:modelValue",e.modelValue.toLowerCase())},invalid:i}}});n(38689);const d=(0,n(66262).A)(u,[["render",function(e,t,n,s,l,c){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bo)((0,r.Lk)("input",{ref:"el","onUpdate:modelValue":t[0]||(t[0]=t=>e.v=t),type:"text",class:(0,o.C4)(["baklava-input hex-input",{"--invalid":e.invalid}]),placeholder:e.intf.name,title:e.intf.name,onKeypress:t[1]||(t[1]=(...t)=>e.handleRestrictedKeys&&e.handleRestrictedKeys(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),tabindex:"-1",disabled:e.intf.readonly},null,42,a),[[i.Jo,e.v]])])}]])},12206:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";t.a=function e(){var t={},n=!1,r=0,o=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],r++);r<o;r++)!function(r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n&&"[object Object]"===Object.prototype.toString.call(r[o])?t[o]=e(!0,t[o],r[o]):t[o]=r[o])}(arguments[r]);return t}},function(e,t){!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==e&&e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};r<o;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)i[n[0][r]]=e[r];return i}return!1}(),o={change:r.fullscreenchange,error:r.fullscreenerror},i={request:function(e,n){return new Promise(function(o,i){var a=function(){this.off("change",a),o()}.bind(this);this.on("change",a);var s=(e=e||t.documentElement)[r.requestFullscreen](n);s instanceof Promise&&s.then(a).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var o=function(){this.off("change",o),e()}.bind(this);this.on("change",o);var i=t[r.exitFullscreen]();i instanceof Promise&&i.then(o).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=o[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=o[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=i:window.screenfull=i):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(e,t,n){"use strict";function r(e,t){e.style.position=t.position,e.style.left=t.left,e.style.top=t.top,e.style.width=t.width,e.style.height=t.height}function o(e){var t=e.element;t&&(t.classList.remove(e.options.fullscreenClass),(e.options.teleport||e.options.pageOnly)&&(e.options.teleport&&u&&(u.insertBefore(t,c),u.removeChild(c)),t.__styleCache&&r(t,t.__styleCache)))}var i=n(1),a=n.n(i),s=n(0),l={callback:function(){},fullscreenClass:"fullscreen",pageOnly:!1,teleport:!1},c=void 0,u=void 0,d={options:null,element:null,isFullscreen:!1,isEnabled:a.a.isEnabled,toggle:function(e,t,n){return void 0===n?this.isFullscreen?this.exit():this.request(e,t):n?this.request(e,t):this.exit()},request:function(e,t){var i=this;if(this.isFullscreen)return Promise.resolve();if(e||(e=document.body),this.options=n.i(s.a)({},l,t),e===document.body&&(this.options.teleport=!1),a.a.isEnabled||(this.options.pageOnly=!0),e.classList.add(this.options.fullscreenClass),this.options.teleport||this.options.pageOnly){var d=e.style,p=d.position,h=d.left,f=d.top,m=d.width,g=d.height;e.__styleCache={position:p,left:h,top:f,width:m,height:g},r(e,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"})}if(this.options.teleport&&(u=e.parentNode)&&(c=document.createComment("fullscreen-token"),u.insertBefore(c,e),document.body.appendChild(e)),this.options.pageOnly){var v=function e(t){"Escape"===t.key&&(document.removeEventListener("keyup",e),i.exit())};return this.isFullscreen=!0,this.element=e,document.removeEventListener("keyup",v),document.addEventListener("keyup",v),this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()}return a.a.on("change",(function t(){a.a.isFullscreen||(a.a.off("change",t),o(i)),i.isFullscreen=a.a.isFullscreen,i.options.teleport?i.element=e||null:i.element=a.a.element,i.options.callback&&i.options.callback(a.a.isFullscreen)})),a.a.request(this.options.teleport?document.body:e)},exit:function(){return this.isFullscreen?this.options.pageOnly?(o(this),this.isFullscreen=!1,this.element=null,this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()):a.a.exit():Promise.resolve()}};d.support=d.isEnabled,d.getState=function(){return d.isFullscreen},d.enter=d.request,t.a=d},function(e,t,n){"use strict";var r=n(2),o=n(0);t.a=function(e,t){var i=function(){var e=void 0,i={teleport:t.modifiers.teleport,pageOnly:t.modifiers.pageOnly};if(t.value)if("string"==typeof t.value)e=t.value;else{var a=t.value,s=a.target,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(a,["target"]);e=s,i=n.i(o.a)(i,l)}"string"==typeof e&&(e=document.querySelector(e)),r.a.toggle(e,i)};e._onClickFullScreen&&e.removeEventListener("click",e._onClickFullScreen),e.addEventListener("click",i),e._onClickFullScreen=i}},function(e,t,n){var r=n(7)(n(6),n(8),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n.n(r),i=n(2),a=n(3),s=n(1),l=n.n(s),c=n(0);n.d(t,"screenfull",(function(){return l.a})),n.d(t,"api",(function(){return i.a})),n.d(t,"directive",(function(){return a.a})),n.d(t,"component",(function(){return o.a})),t.default={install:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).name||"fullscreen";e.component(t,n.i(c.a)(o.a,{name:t})),e.prototype["$"+t]=i.a,e.directive(t,a.a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r);t.default={props:{value:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},exitOnClickWrapper:{type:Boolean,default:!0},fullscreenClass:{type:String,default:"fullscreen"},pageOnly:{type:Boolean,default:!1},teleport:{type:Boolean,default:!1}},data:function(){return{isFullscreen:!1,isEnabled:!1}},computed:{support:function(){return this.isEnabled},isPageOnly:function(){return this.pageOnly||!o.a.isEnabled},wrapperStyle:function(){return(this.isPageOnly||this.teleport)&&this.isFullscreen?{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}:void 0}},methods:{toggle:function(e){void 0===e?this.isFullscreen?this.exit():this.request():e?this.request():this.exit()},request:function(){if(this.isPageOnly?(this.isFullscreen=!0,this.onChangeFullScreen(),document.removeEventListener("keyup",this.keypressCallback),document.addEventListener("keyup",this.keypressCallback)):(o.a.off("change",this.fullScreenCallback),o.a.on("change",this.fullScreenCallback),o.a.request(this.teleport?document.body:this.$el)),this.teleport){if(this.$el.parentNode===document.body)return;this.__parentNode=this.$el.parentNode,this.__token=document.createComment("fullscreen-token"),this.__parentNode.insertBefore(this.__token,this.$el),document.body.appendChild(this.$el)}},exit:function(){this.isFullscreen&&(this.isPageOnly?(this.isFullscreen=!1,this.onChangeFullScreen(),document.removeEventListener("keyup",this.keypressCallback)):o.a.exit())},shadeClick:function(e){e.target===this.$el&&this.exitOnClickWrapper&&this.exit()},fullScreenCallback:function(){o.a.isFullscreen||o.a.off("change",this.fullScreenCallback),this.isFullscreen=o.a.isFullscreen,this.onChangeFullScreen()},keypressCallback:function(e){"Escape"===e.key&&this.exit()},onChangeFullScreen:function(){this.isFullscreen||this.teleport&&this.__parentNode&&(this.__parentNode.insertBefore(this.$el,this.__token),this.__parentNode.removeChild(this.__token)),this.$emit("change",this.isFullscreen),this.$emit("update:fullscreen",this.isFullscreen),this.$emit("input",this.isFullscreen)},enter:function(){this.request()},getState:function(){return this.isFullscreen}},watch:{value:function(e){e!==this.isFullscreen&&(e?this.request():this.exit())},fullscreen:function(e){e!==this.isFullscreen&&(e?this.request():this.exit())}},created:function(){this.isEnabled=o.a.isEnabled}}},function(e,t){e.exports=function(e,t,n,r){var o,i=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(o=e,i=e.default);var s="function"==typeof i?i.options:i;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),r){var l=Object.create(s.computed||null);Object.keys(r).forEach((function(e){var t=r[e];l[e]=function(){return t}})),s.computed=l}return{esModule:o,exports:i,options:s}}},function(e,t){e.exports={render:function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("div",t._b({ref:"wrapper",class:(e={},e[t.fullscreenClass]=t.isFullscreen,e),style:t.wrapperStyle,on:{click:function(e){return t.shadeClick(e)}}},"div",t.$attrs,!1),[t._t("default")],2)},staticRenderFns:[]}}])},12651:(e,t,n)=>{var r=n(74218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},12661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:a,it:s}=e;let l,c;const{minContains:u,maxContains:d}=i;s.opts.next?(l=void 0===u?1:u,c=d):l=1;const p=t.const("len",r._`${a}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,o.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,o.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,o.alwaysValidSchema)(s,n)){let t=r._`${p} >= ${l}`;return void 0!==c&&(t=r._`${t} && ${p} <= ${c}`),void e.pass(t)}s.items=!0;const h=t.name("valid");function f(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===c?t.if(r._`${e} >= ${l}`,(()=>t.assign(h,!0).break())):(t.if(r._`${e} > ${c}`,(()=>t.assign(h,!1).break())),1===l?t.assign(h,!0):t.if(r._`${e} >= ${l}`,(()=>t.assign(h,!0))))}(n)))))}function m(n,r){t.forRange("i",0,p,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:!0},n),r()}))}void 0===c&&1===l?m(h,(()=>t.if(h,(()=>t.break())))):0===l?(t.let(h,!0),void 0!==c&&t.if(r._`${a}.length > 0`,f)):(t.let(h,!1),f()),e.result(h,(()=>e.reset()))}};t.default=i},12721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(72476),o=n(94227),i={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,r.dynamicAnchor)(e,""):(0,o.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};t.default=i},12749:(e,t,n)=>{var r=n(81042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},12893:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(78126),a=n(46266);function s(e){return e.bounds=void 0!==e.leaves?e.leaves.reduce((function(e,t){return t.bounds.union(e)}),l.empty()):l.empty(),void 0!==e.groups&&(e.bounds=e.groups.reduce((function(e,t){return s(t).union(e)}),e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}t.computeGroupBounds=s;var l=function(){function e(e,t,n,r){this.x=e,this.X=t,this.y=n,this.Y=r}return e.empty=function(){return new e(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},e.prototype.cx=function(){return(this.x+this.X)/2},e.prototype.cy=function(){return(this.y+this.Y)/2},e.prototype.overlapX=function(e){var t=this.cx(),n=e.cx();return t<=n&&e.x<this.X?this.X-e.x:n<=t&&this.x<e.X?e.X-this.x:0},e.prototype.overlapY=function(e){var t=this.cy(),n=e.cy();return t<=n&&e.y<this.Y?this.Y-e.y:n<=t&&this.y<e.Y?e.Y-this.y:0},e.prototype.setXCentre=function(e){var t=e-this.cx();this.x+=t,this.X+=t},e.prototype.setYCentre=function(e){var t=e-this.cy();this.y+=t,this.Y+=t},e.prototype.width=function(){return this.X-this.x},e.prototype.height=function(){return this.Y-this.y},e.prototype.union=function(t){return new e(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},e.prototype.lineIntersections=function(t,n,r,o){for(var i=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],a=[],s=0;s<4;++s){var l=e.lineIntersection(t,n,r,o,i[s][0],i[s][1],i[s][2],i[s][3]);null!==l&&a.push({x:l.x,y:l.y})}return a},e.prototype.rayIntersection=function(e,t){var n=this.lineIntersections(this.cx(),this.cy(),e,t);return n.length>0?n[0]:null},e.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},e.lineIntersection=function(e,t,n,r,o,i,a,s){var l=n-e,c=a-o,u=r-t,d=s-i,p=d*l-c*u;if(0==p)return null;var h=e-o,f=t-i,m=(c*f-d*h)/p,g=(l*f-u*h)/p;return m>=0&&m<=1&&g>=0&&g<=1?{x:e+m*l,y:t+m*u}:null},e.prototype.inflate=function(t){return new e(this.x-t,this.X+t,this.y-t,this.Y+t)},e}();t.Rectangle=l,t.makeEdgeBetween=function(e,t,n){var r=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},i=o.x-r.x,a=o.y-r.y,s=Math.sqrt(i*i+a*a),l=s-n;return{sourceIntersection:r,targetIntersection:o,arrowStart:{x:r.x+l*i/s,y:r.y+l*a/s}}},t.makeEdgeTo=function(e,t,n){var r=t.rayIntersection(e.x,e.y);r||(r={x:t.cx(),y:t.cy()});var o=r.x-e.x,i=r.y-e.y,a=Math.sqrt(o*o+i*i);return{x:r.x-n*o/a,y:r.y-n*i/a}};var c=function(e,t,n){this.v=e,this.r=t,this.pos=n,this.prev=p(),this.next=p()},u=function(e,t,n){this.isOpen=e,this.v=t,this.pos=n};function d(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function p(){return new a.RBTree((function(e,t){return e.pos-t.pos}))}var h={getCentre:function(e){return e.cx()},getOpen:function(e){return e.y},getClose:function(e){return e.Y},getSize:function(e){return e.width()},makeRect:function(e,t,n,r){return new l(n-r/2,n+r/2,e,t)},findNeighbours:function(e,t){var n=function(n,r){for(var o,i=t.findIter(e);null!==(o=i[n]());){var a=o.r.overlapX(e.r);if((a<=0||a<=o.r.overlapY(e.r))&&(e[n].insert(o),o[r].insert(e)),a<=0)break}};n("next","prev"),n("prev","next")}},f={getCentre:function(e){return e.cy()},getOpen:function(e){return e.x},getClose:function(e){return e.X},getSize:function(e){return e.height()},makeRect:function(e,t,n,r){return new l(e,t,n-r/2,n+r/2)},findNeighbours:function(e,t){var n=function(n,r){var o=t.findIter(e)[n]();null!==o&&o.r.overlapX(e.r)>0&&(e[n].insert(o),o[r].insert(e))};n("next","prev"),n("prev","next")}};function m(e,t,n,r){void 0===r&&(r=!1);var o=e.padding,i=void 0!==e.groups?e.groups.length:0,a=void 0!==e.leaves?e.leaves.length:0,s=i?e.groups.reduce((function(e,r){return e.concat(m(r,t,n,!0))}),[]):[],l=(r?2:0)+a+i,c=new Array(l),u=new Array(l),d=0,p=function(e,t){u[d]=e,c[d++]=t};if(r){var h=e.bounds,f=t.getCentre(h),v=t.getSize(h)/2,y=t.getOpen(h),b=t.getClose(h),w=f-v+o/2,x=f+v-o/2;e.minVar.desiredPosition=w,p(t.makeRect(y,b,w,o),e.minVar),e.maxVar.desiredPosition=x,p(t.makeRect(y,b,x,o),e.maxVar)}a&&e.leaves.forEach((function(e){return p(e.bounds,e.variable)})),i&&e.groups.forEach((function(e){var n=e.bounds;p(t.makeRect(t.getOpen(n),t.getClose(n),t.getCentre(n),t.getSize(n)),e.minVar)}));var _=g(u,c,t,n);return i&&(c.forEach((function(e){e.cOut=[],e.cIn=[]})),_.forEach((function(e){e.left.cOut.push(e),e.right.cIn.push(e)})),e.groups.forEach((function(e){var n=(e.padding-t.getSize(e.bounds))/2;e.minVar.cIn.forEach((function(e){return e.gap+=n})),e.minVar.cOut.forEach((function(t){t.left=e.maxVar,t.gap+=n}))}))),s.concat(_)}function g(e,t,n,r){var o,a=e.length,s=2*a;console.assert(t.length>=a);var l=new Array(s);for(o=0;o<a;++o){var h=e[o],f=new c(t[o],h,n.getCentre(h));l[o]=new u(!0,f,n.getOpen(h)),l[o+a]=new u(!1,f,n.getClose(h))}l.sort(d);var m=new Array,g=p();for(o=0;o<s;++o){var v=l[o];if(f=v.v,v.isOpen)g.insert(f),n.findNeighbours(f,g);else{g.remove(f);var y=function(e,t){var o=(n.getSize(e.r)+n.getSize(t.r))/2+r;m.push(new i.Constraint(e.v,t.v,o))},b=function(e,t,n){for(var r,o=f[e].iterator();null!==(r=o[e]());)n(r,f),r[t].remove(f)};b("prev","next",(function(e,t){return y(e,t)})),b("next","prev",(function(e,t){return y(t,e)}))}}return console.assert(0===g.size),m}function v(e,t){return g(e,t,h,1e-6)}function y(e,t){return g(e,t,f,1e-6)}function b(e){return m(e,h,1e-6)}function w(e){return m(e,f,1e-6)}t.generateXConstraints=v,t.generateYConstraints=y,t.generateXGroupConstraints=b,t.generateYGroupConstraints=w,t.removeOverlaps=function(e){var t=e.map((function(e){return new i.Variable(e.cx())})),n=v(e,t),r=new i.Solver(t,n);r.solve(),t.forEach((function(t,n){return e[n].setXCentre(t.position())})),t=e.map((function(e){return new i.Variable(e.cy())})),n=y(e,t),(r=new i.Solver(t,n)).solve(),t.forEach((function(t,n){return e[n].setYCentre(t.position())}))};var x=function(e){function t(t,n){var r=e.call(this,0,n)||this;return r.index=t,r}return o(t,e),t}(i.Variable);t.IndexedVariable=x;var _=function(){function e(e,t,n,r,o){var i=this;if(void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!1),this.nodes=e,this.groups=t,this.rootGroup=n,this.avoidOverlaps=o,this.variables=e.map((function(e,t){return e.variable=new x(t,1)})),r&&this.createConstraints(r),o&&n&&void 0!==n.groups){e.forEach((function(e){if(e.width&&e.height){var t=e.width/2,n=e.height/2;e.bounds=new l(e.x-t,e.x+t,e.y-n,e.y+n)}else e.bounds=new l(e.x,e.x,e.y,e.y)})),s(n);var a=e.length;t.forEach((function(e){i.variables[a]=e.minVar=new x(a++,void 0!==e.stiffness?e.stiffness:.01),i.variables[a]=e.maxVar=new x(a++,void 0!==e.stiffness?e.stiffness:.01)}))}}return e.prototype.createSeparation=function(e){return new i.Constraint(this.nodes[e.left].variable,this.nodes[e.right].variable,e.gap,void 0!==e.equality&&e.equality)},e.prototype.makeFeasible=function(e){var t=this;if(this.avoidOverlaps){var n="x",r="width";"x"===e.axis&&(n="y",r="height");var o=e.offsets.map((function(e){return t.nodes[e.node]})).sort((function(e,t){return e[n]-t[n]})),i=null;o.forEach((function(e){if(i){var t=i[n]+i[r];t>e[n]&&(e[n]=t)}i=e}))}},e.prototype.createAlignment=function(e){var t=this,n=this.nodes[e.offsets[0].node].variable;this.makeFeasible(e);var r="x"===e.axis?this.xConstraints:this.yConstraints;e.offsets.slice(1).forEach((function(e){var o=t.nodes[e.node].variable;r.push(new i.Constraint(n,o,e.offset,!0))}))},e.prototype.createConstraints=function(e){var t=this,n=function(e){return void 0===e.type||"separation"===e.type};this.xConstraints=e.filter((function(e){return"x"===e.axis&&n(e)})).map((function(e){return t.createSeparation(e)})),this.yConstraints=e.filter((function(e){return"y"===e.axis&&n(e)})).map((function(e){return t.createSeparation(e)})),e.filter((function(e){return"alignment"===e.type})).forEach((function(e){return t.createAlignment(e)}))},e.prototype.setupVariablesAndBounds=function(e,t,n,r){this.nodes.forEach((function(o,i){o.fixed?(o.variable.weight=o.fixedWeight?o.fixedWeight:1e3,n[i]=r(o)):o.variable.weight=1;var a=(o.width||0)/2,s=(o.height||0)/2,c=e[i],u=t[i];o.bounds=new l(c-a,c+a,u-s,u+s)}))},e.prototype.xProject=function(e,t,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(e,t,e,n,(function(e){return e.px}),this.xConstraints,b,(function(e){return e.bounds.setXCentre(n[e.variable.index]=e.variable.position())}),(function(e){var t=n[e.minVar.index]=e.minVar.position(),r=n[e.maxVar.index]=e.maxVar.position(),o=e.padding/2;e.bounds.x=t-o,e.bounds.X=r+o}))},e.prototype.yProject=function(e,t,n){(this.rootGroup||this.yConstraints)&&this.project(e,t,t,n,(function(e){return e.py}),this.yConstraints,w,(function(e){return e.bounds.setYCentre(n[e.variable.index]=e.variable.position())}),(function(e){var t=n[e.minVar.index]=e.minVar.position(),r=n[e.maxVar.index]=e.maxVar.position(),o=e.padding/2;e.bounds.y=t-o,e.bounds.Y=r+o}))},e.prototype.projectFunctions=function(){var e=this;return[function(t,n,r){return e.xProject(t,n,r)},function(t,n,r){return e.yProject(t,n,r)}]},e.prototype.project=function(e,t,n,r,o,i,a,l,c){this.setupVariablesAndBounds(e,t,r,o),this.rootGroup&&this.avoidOverlaps&&(s(this.rootGroup),i=i.concat(a(this.rootGroup))),this.solve(this.variables,i,n,r),this.nodes.forEach(l),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(c),s(this.rootGroup))},e.prototype.solve=function(e,t,n,r){var o=new i.Solver(e,t);o.setStartingPositions(n),o.setDesiredPositions(r),o.solve()},e}();t.Projection=_},13222:(e,t,n)=>{var r=n(77556);e.exports=function(e){return null==e?"":r(e)}},13445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{gen:t,schema:n,data:i,it:a}=e,s=a.items||0;if(!0===s)return;const l=t.const("len",r._`${i}.length`);if(!1===n)e.setParams({len:s}),e.fail(r._`${l} > ${s}`);else if("object"==typeof n&&!(0,o.alwaysValidSchema)(a,n)){const n=t.var("valid",r._`${l} <= ${s}`);t.if((0,r.not)(n),(()=>function(n,i){t.forRange("i",i,l,(i=>{e.subschema({keyword:"unevaluatedItems",dataProp:i,dataPropType:o.Type.Num},n),a.allErrors||t.if((0,r.not)(n),(()=>t.break()))}))}(n,s))),e.ok(n)}a.items=!0}};t.default=i},13558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},13693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(34551),o=n(15765),i=n(99029),a=n(42023),s=n(73835),l=n(94227),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:a,schemaEnv:l,validateName:c,opts:p,self:h}=o,{root:f}=l;if(("#"===n||"#/"===n)&&a===f.baseId)return function(){if(l===f)return d(e,c,l,l.$async);const n=t.scopeValue("root",{ref:f});return d(e,i._`${n}.validate`,f,f.$async)}();const m=s.resolveRef.call(h,f,a,n);if(void 0===m)throw new r.default(o.opts.uriResolver,a,n);return m instanceof s.SchemaEnv?function(t){const n=u(e,t);d(e,n,t,t.$async)}(m):function(r){const o=t.scopeValue("schema",!0===p.code.source?{ref:r,code:(0,i.stringify)(r)}:{ref:r}),a=t.name("valid"),s=e.subschema({schema:r,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:n},a);e.mergeEvaluated(s),e.ok(a)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):i._`${n.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,n,r){const{gen:s,it:c}=e,{allErrors:u,schemaEnv:d,opts:p}=c,h=p.passContext?a.default.this:i.nil;function f(e){const t=i._`${e}.errors`;s.assign(a.default.vErrors,i._`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`),s.assign(a.default.errors,i._`${a.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const r=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(r&&!r.dynamicProps)void 0!==r.props&&(c.props=l.mergeEvaluated.props(s,r.props,c.props));else{const t=s.var("props",i._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(s,t,c.props,i.Name)}if(!0!==c.items)if(r&&!r.dynamicItems)void 0!==r.items&&(c.items=l.mergeEvaluated.items(s,r.items,c.items));else{const t=s.var("items",i._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(s,t,c.items,i.Name)}}r?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const n=s.let("valid");s.try((()=>{s.code(i._`await ${(0,o.callValidateCode)(e,t,h)}`),m(t),u||s.assign(n,!0)}),(e=>{s.if(i._`!(${e} instanceof ${c.ValidationError})`,(()=>s.throw(e))),f(e),u||s.assign(n,!1)})),e.ok(n)}():e.result((0,o.callValidateCode)(e,t,h),(()=>m(t)),(()=>f(t)))}t.getValidate=u,t.callRef=d,t.default=c},13773:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(27094),t),o(n(31989),t),o(n(51287),t),o(n(63490),t),o(n(5556),t)},14248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},14426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(94227),o={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=o},14520:(e,t,n)=>{var r=n(56857),o=n(33860),i=n(44959),a=n(35169);e.exports=function e(t,n,s,l){var c=t.children(n),u=t.node(n),d=u?u.borderLeft:void 0,p=u?u.borderRight:void 0,h={};d&&(c=r.filter(c,(function(e){return e!==d&&e!==p})));var f=o(t,c);r.forEach(f,(function(n){if(t.children(n.v).length){var o=e(t,n.v,s,l);h[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var m=i(f,s);!function(e,t){r.forEach(e,(function(e){e.vs=r.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(m,h);var g=a(m,l);if(d&&(g.vs=r.flatten([d,g.vs,p],!0),t.predecessors(d).length)){var v=t.node(t.predecessors(d)[0]),y=t.node(t.predecessors(p)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+v.order+y.order)/(g.weight+2),g.weight+=2}return g}},14528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},14596:(e,t,n)=>{var r=n(79992);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("65c66139",r,!0,{sourceMap:!1,shadowMode:!1})},14826:(e,t,n)=>{var r=n(69310);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("16b83ebf",r,!0,{sourceMap:!1,shadowMode:!1})},14974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},15054:(e,t,n)=>{var r=n(92002);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("1c5e29fe",r,!0,{sourceMap:!1,shadowMode:!1})},15068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".white[data-v-1fc3c03b]{fill:#fff}.hovered[data-v-1fc3c03b]{fill:#00e58d}",""]);const s=a},15325:(e,t,n)=>{var r=n(96131);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},15389:(e,t,n)=>{var r=n(93663),o=n(87978),i=n(83488),a=n(56449),s=n(50583);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},15457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=n(99029),o=n(94227),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?a(e,r):(0,o.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function a(e,t){const{gen:n,schema:i,data:a,keyword:s,it:l}=e;l.items=!0;const c=n.const("len",r._`${a}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(r._`${c} <= ${t.length}`);else if("object"==typeof i&&!(0,o.alwaysValidSchema)(l,i)){const i=n.var("valid",r._`${c} <= ${t.length}`);n.if((0,r.not)(i),(()=>function(i){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:s,dataProp:t,dataPropType:o.Type.Num},i),l.allErrors||n.if((0,r.not)(i),(()=>n.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=a,t.default=i},15531:function(e,t){var n,r;void 0===(r="function"==typeof(n=e=>{"use strict";var t=(e,t)=>{if(e===S)return S;var n=e.target,r=n.length,o=e._indexes;o=o.slice(0,o.len).sort(((e,t)=>e-t));for(var i="",a=0,s=0,l=!1,c=(e=[],0);c<r;++c){var u=n[c];if(o[s]===c){if(++s,l||(l=!0,e.push(i),i=""),s===o.length){i+=u,e.push(t(i,a++)),i="",e.push(n.substr(c+1));break}}else l&&(l=!1,e.push(t(i,a++)),i="");i+=u}return e},n=e=>{"string"!=typeof e&&(e="");var t=c(e);return{target:e,_targetLower:t._lower,_targetLowerCodes:t.lowerCodes,_nextBeginningIndexes:S,_bitflags:t.bitflags,score:S,_indexes:[0],obj:S}},r=e=>{"string"!=typeof e&&(e=""),e=e.trim();var t=c(e),n=[];if(t.containsSpace){var r=e.split(/\s+/);r=[...new Set(r)];for(var o=0;o<r.length;o++)if(""!==r[o]){var i=c(r[o]);n.push({lowerCodes:i.lowerCodes,_lower:r[o].toLowerCase(),containsSpace:!1})}}return{lowerCodes:t.lowerCodes,bitflags:t.bitflags,containsSpace:t.containsSpace,_lower:t._lower,spaceSearches:n}},o=e=>{if(e.length>999)return n(e);var t=d.get(e);return void 0!==t||(t=n(e),d.set(e,t)),t},i=e=>{if(e.length>999)return r(e);var t=p.get(e);return void 0!==t||(t=r(e),p.set(e,t)),t},a=(e,t,n)=>{var r=[];r.total=t.length;var i=n&&n.limit||y;if(n&&n.key)for(var a=0;a<t.length;a++){var s=t[a];if(d=g(s,n.key)){v(d)||(d=o(d)),d.score=b,d._indexes.len=0;var l=d;if(l={target:l.target,_targetLower:"",_targetLowerCodes:S,_nextBeginningIndexes:S,_bitflags:0,score:d.score,_indexes:S,obj:s},r.push(l),r.length>=i)return r}}else if(n&&n.keys)for(a=0;a<t.length;a++){s=t[a];for(var c=new Array(n.keys.length),u=n.keys.length-1;u>=0;--u)(d=g(s,n.keys[u]))?(v(d)||(d=o(d)),d.score=b,d._indexes.len=0,c[u]=d):c[u]=S;if(c.obj=s,c.score=b,r.push(c),r.length>=i)return r}else for(a=0;a<t.length;a++){var d;if((d=t[a])&&(v(d)||(d=o(d)),d.score=b,d._indexes.len=0,r.push(d),r.length>=i))return r}return r},s=(e,t,n=!1)=>{if(!1===n&&e.containsSpace)return l(e,t);for(var r=e._lower,o=e.lowerCodes,i=o[0],a=t._targetLowerCodes,s=o.length,c=a.length,d=0,p=0,m=0;;){if(i===a[p]){if(h[m++]=p,++d===s)break;i=o[d]}if(++p>=c)return S}d=0;var g=!1,v=0,y=t._nextBeginningIndexes;y===S&&(y=t._nextBeginningIndexes=u(t.target));var b=0;if((p=0===h[0]?0:y[h[0]-1])!==c)for(;;)if(p>=c){if(d<=0)break;if(++b>200)break;--d,p=y[f[--v]]}else if(o[d]===a[p]){if(f[v++]=p,++d===s){g=!0;break}++p}else p=y[p];var w=t._targetLower.indexOf(r,h[0]),x=~w;if(x&&!g)for(var _=0;_<m;++_)h[_]=w+_;var k=!1;if(x&&(k=t._nextBeginningIndexes[w-1]===w),g)var C=f,E=v;else C=h,E=m;var P=0,T=0;for(_=1;_<s;++_)C[_]-C[_-1]!=1&&(P-=C[_],++T);if(P-=(C[s-1]-C[0]-(s-1)+12)*T,0!==C[0]&&(P-=C[0]*C[0]*.2),g){var A=1;for(_=y[0];_<c;_=y[_])++A;A>24&&(P*=10*(A-24))}else P*=1e3;for(x&&(P/=1+s*s*1),k&&(P/=1+s*s*1),P-=c-s,t.score=P,_=0;_<E;++_)t._indexes[_]=C[_];return t._indexes.len=E,t},l=(e,t)=>{for(var n=new Set,r=0,o=S,i=0,a=e.spaceSearches,l=0;l<a.length;++l){var c=a[l];if((o=s(c,t))===S)return S;r+=o.score,o._indexes[0]<i&&(r-=i-o._indexes[0]),i=o._indexes[0];for(var u=0;u<o._indexes.len;++u)n.add(o._indexes[u])}var d=s(e,t,!0);if(d!==S&&d.score>r)return d;o.score=r,l=0;for(let e of n)o._indexes[l++]=e;return o._indexes.len=l,o},c=e=>{for(var t=e.length,n=e.toLowerCase(),r=[],o=0,i=!1,a=0;a<t;++a){var s=r[a]=n.charCodeAt(a);32!==s?o|=1<<(s>=97&&s<=122?s-97:s>=48&&s<=57?26:s<=127?30:31):i=!0}return{lowerCodes:r,bitflags:o,containsSpace:i,_lower:n}},u=e=>{for(var t=e.length,n=(e=>{for(var t=e.length,n=[],r=0,o=!1,i=!1,a=0;a<t;++a){var s=e.charCodeAt(a),l=s>=65&&s<=90,c=l||s>=97&&s<=122||s>=48&&s<=57,u=l&&!o||!i||!c;o=l,i=c,u&&(n[r++]=a)}return n})(e),r=[],o=n[0],i=0,a=0;a<t;++a)o>a?r[a]=o:(o=n[++i],r[a]=void 0===o?t:o);return r},d=new Map,p=new Map,h=[],f=[],m=e=>{for(var t=b,n=e.length,r=0;r<n;++r){var o=e[r];if(o!==S){var i=o.score;i>t&&(t=i)}}return t===b?S:t},g=(e,t)=>{var n=e[t];if(void 0!==n)return n;var r=t;Array.isArray(t)||(r=t.split("."));for(var o=r.length,i=-1;e&&++i<o;)e=e[r[i]];return e},v=e=>"object"==typeof e,y=1/0,b=-y,w=[];w.total=0;var x,_,k,C,S=null,E=(x=[],_=0,C=e=>{for(var t=0,n=x[t],r=1;r<_;){var o=r+1;t=r,o<_&&x[o].score<x[r].score&&(t=o),x[t-1>>1]=x[t],r=1+(t<<1)}for(var i=t-1>>1;t>0&&n.score<x[i].score;i=(t=i)-1>>1)x[t]=x[i];x[t]=n},(k={}).add=e=>{var t=_;x[_++]=e;for(var n=t-1>>1;t>0&&e.score<x[n].score;n=(t=n)-1>>1)x[t]=x[n];x[t]=e},k.poll=e=>{if(0!==_){var t=x[0];return x[0]=x[--_],C(),t}},k.peek=e=>{if(0!==_)return x[0]},k.replaceTop=e=>{x[0]=e,C()},k);return{single:(e,t)=>{if("farzher"==e)return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!e||!t)return S;var n=i(e);v(t)||(t=o(t));var r=n.bitflags;return(r&t._bitflags)!==r?S:s(n,t)},go:(e,t,n)=>{if("farzher"==e)return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:t?t[0]:S}];if(!e)return n&&n.all?a(e,t,n):w;var r=i(e),l=r.bitflags,c=(r.containsSpace,n&&n.threshold||b),u=n&&n.limit||y,d=0,p=0,h=t.length;if(n&&n.key)for(var f=n.key,x=0;x<h;++x){var _=t[x];(N=g(_,f))&&(v(N)||(N=o(N)),(l&N._bitflags)===l&&(O=s(r,N))!==S&&(O.score<c||(O={target:O.target,_targetLower:"",_targetLowerCodes:S,_nextBeginningIndexes:S,_bitflags:0,score:O.score,_indexes:O._indexes,obj:_},d<u?(E.add(O),++d):(++p,O.score>E.peek().score&&E.replaceTop(O)))))}else if(n&&n.keys){var k=n.scoreFn||m,C=n.keys,P=C.length;for(x=0;x<h;++x){_=t[x];for(var T=new Array(P),A=0;A<P;++A)f=C[A],(N=g(_,f))?(v(N)||(N=o(N)),(l&N._bitflags)!==l?T[A]=S:T[A]=s(r,N)):T[A]=S;T.obj=_;var M=k(T);M!==S&&(M<c||(T.score=M,d<u?(E.add(T),++d):(++p,M>E.peek().score&&E.replaceTop(T))))}}else for(x=0;x<h;++x){var N,O;(N=t[x])&&(v(N)||(N=o(N)),(l&N._bitflags)===l&&(O=s(r,N))!==S&&(O.score<c||(d<u?(E.add(O),++d):(++p,O.score>E.peek().score&&E.replaceTop(O)))))}if(0===d)return w;var I=new Array(d);for(x=d-1;x>=0;--x)I[x]=E.poll();return I.total=d+p,I},highlight:(e,n,r)=>{if("function"==typeof n)return t(e,n);if(e===S)return S;void 0===n&&(n="<b>"),void 0===r&&(r="</b>");var o="",i=0,a=!1,s=e.target,l=s.length,c=e._indexes;c=c.slice(0,c.len).sort(((e,t)=>e-t));for(var u=0;u<l;++u){var d=s[u];if(c[i]===u){if(a||(a=!0,o+=n),++i===c.length){o+=d+r+s.substr(u+1);break}}else a&&(a=!1,o+=r);o+=d}return o},prepare:n,indexes:e=>e._indexes.slice(0,e._indexes.len).sort(((e,t)=>e-t)),cleanup:()=>{d.clear(),p.clear(),h=[],f=[]}}})?n.apply(t,[]):n)||(e.exports=r)},15624:(e,t,n)=>{var r=n(26060);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("3fd7e652",r,!0,{sourceMap:!1,shadowMode:!1})},15664:(e,t,n)=>{var r=n(24222);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("d8887208",r,!0,{sourceMap:!1,shadowMode:!1})},15765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(99029),o=n(94227),i=n(42023),a=n(94227);function s(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return r._`${s(e)}.call(${t}, ${n})`}function c(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} === undefined`;return o?(0,r.or)(i,(0,r.not)(l(e,t,n))):i}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:o,it:i}=e;n.if(c(n,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},o,i){return(0,r.or)(...o.map((o=>(0,r.and)(c(e,t,o,n.ownProperties),r._`${i} = ${o}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=s,t.isOwnProperty=l,t.propertyInData=function(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return o?r._`${i} && ${l(e,t,n)}`:i},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((n=>!(0,o.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:a,errorPath:s},it:l},c,u,d){const p=d?r._`${e}, ${t}, ${o}${a}`:t,h=[[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,s)],[i.default.parentData,l.parentData],[i.default.parentDataProperty,l.parentDataProperty],[i.default.rootData,i.default.rootData]];l.opts.dynamicRef&&h.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const f=r._`${p}, ${n.object(...h)}`;return u!==r.nil?r._`${c}.call(${u}, ${f})`:r._`${c}(${f})`};const d=r._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,o);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:r._`${"new RegExp"===i.code?d:(0,a.useFunc)(e,i)}(${n}, ${o})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:i,it:a}=e,s=t.name("valid");if(a.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(s,!0),l((()=>t.break())),s;function l(a){const l=t.const("len",r._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:o.Type.Num},s),t.if((0,r.not)(s),a)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:i,it:a}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,o.alwaysValidSchema)(a,e)))&&!a.opts.unevaluated)return;const s=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,o)=>{const a=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},l);t.assign(s,r._`${s} || ${l}`),e.mergeValidEvaluated(a,l)||t.if((0,r.not)(s))})))),e.result(s,(()=>e.reset()),(()=>e.error(!0)))}},15844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(94227),o={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(o,t))return;const a=e.subschema({keyword:"allOf",schemaProp:n},i);e.ok(i),e.mergeEvaluated(a)}))}};t.default=o},16038:(e,t,n)=>{var r=n(5861),o=n(40346);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},16291:(e,t,n)=>{var r=n(10117);e.exports=function(e){var t=0,n=[],o={},i=[];function a(s){var l=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(o,e)?o[e].onStack&&(l.lowlink=Math.min(l.lowlink,o[e].index)):(a(e),l.lowlink=Math.min(l.lowlink,o[e].lowlink))})),l.lowlink===l.index){var c,u=[];do{c=n.pop(),o[c].onStack=!1,u.push(c)}while(s!==c);i.push(u)}}return e.nodes().forEach((function(e){r.has(o,e)||a(e)})),i}},16505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(15765).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},16547:(e,t,n)=>{var r=n(43360),o=n(75288),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},16574:(e,t,n)=>{var r=n(80909);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},16678:(e,t,n)=>{var r=n(10117),o=n(16291);e.exports=function(e){return r.filter(o(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},16714:()=>{},16945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal{fill:#fff}.gray{fill:#6f6f6f}.green{fill:#00e58d}",""]);const s=a},17255:(e,t,n)=>{var r=n(47422);e.exports=function(e){return function(t){return r(t,e)}}},17307:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".hovered[data-v-e991a23a]{fill:#00e58d}",""]);const s=a},17400:(e,t,n)=>{var r=n(99374),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},17670:(e,t,n)=>{var r=n(12651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},17853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-410f3ef8]{fill:#fff}.gray[data-v-410f3ef8]{fill:#6f6f6f}.green[data-v-410f3ef8],.hovered[data-v-410f3ef8]{fill:#00e58d}.animate[data-v-410f3ef8]{animation:blink-410f3ef8 1.5s cubic-bezier(.68,-.55,.27,1.55) 2}@keyframes blink-410f3ef8{0%{fill:#00e58d}40%{fill:#cca747}60%{fill:#cca747}to{fill:#00e58d}}",""]);const s=a},17946:(e,t,n)=>{var r=n(24438);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("5cacd8a8",r,!0,{sourceMap:!1,shadowMode:!1})},18209:(e,t,n)=>{"use strict";var r=n(56857),o=n(3988);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,a=t.v,s=e.node(a).rank,l=t.w,c=e.node(l).rank,u=t.name,d=e.edge(t),p=d.labelRank;if(c!==s+1){for(e.removeEdge(t),i=0,++s;s<c;++i,++s)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:t,rank:s},n=o.addDummyNode(e,"edge",r,"_d"),s===p&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),e.setEdge(a,n,{weight:d.weight},u),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,l,{weight:d.weight},u)}}(e,t)}))},undo:function(e){r.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)}))}}},19219:e=>{e.exports=function(e,t){return e.has(t)}},19570:(e,t,n)=>{var r=n(37334),o=n(93243),i=n(83488),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},19713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:i,it:a}=e;if((0,o.alwaysValidSchema)(a,n))return;const s=t.name("valid");t.forIn("key",i,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},s),t.if((0,r.not)(s),(()=>{e.error(!0),a.allErrors||t.break()}))})),e.ok(s)}};t.default=i},19915:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(52128),a=function(e){function t(){var t=e.call(this)||this;t.event=d3.dispatch(i.EventType[i.EventType.start],i.EventType[i.EventType.tick],i.EventType[i.EventType.end]);var n=t;return t.drag=function(){if(!e)var e=d3.behavior.drag().origin(i.Layout.dragOrigin).on("dragstart.d3adaptor",i.Layout.dragStart).on("drag.d3adaptor",(function(e){i.Layout.drag(e,d3.event),n.resume()})).on("dragend.d3adaptor",i.Layout.dragEnd);if(!arguments.length)return e;this.call(e)},t}return o(t,e),t.prototype.trigger=function(e){var t={type:i.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event[t.type](t)},t.prototype.kick=function(){var t=this;d3.timer((function(){return e.prototype.tick.call(t)}))},t.prototype.on=function(e,t){return"string"==typeof e?this.event.on(e,t):this.event.on(i.EventType[e],t),this},t}(i.Layout);t.D3StyleLayoutAdaptor=a,t.d3adaptor=function(){return new a}},20317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},20426:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},20494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=n(99029),o=n(94227),i=n(15765),a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return s(e,"additionalItems",t);n.items=!0,(0,o.alwaysValidSchema)(n,t)||e.ok((0,i.validateArray)(e))}};function s(e,t,n=e.schema){const{gen:i,parentSchema:a,data:s,keyword:l,it:c}=e;!function(e){const{opts:r,errSchemaPath:i}=c,a=n.length,s=a===e.minItems&&(a===e.maxItems||!1===e[t]);if(r.strictTuples&&!s){const e=`"${l}" is ${a}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,o.checkStrictMode)(c,e,r.strictTuples)}}(a),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=o.mergeEvaluated.items(i,n.length,c.items));const u=i.name("valid"),d=i.const("len",r._`${s}.length`);n.forEach(((t,n)=>{(0,o.alwaysValidSchema)(c,t)||(i.if(r._`${d} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}t.validateTuple=s,t.default=a},20641:(e,t,n)=>{"use strict";n.d(t,{$u:()=>ie,$y:()=>ge,CE:()=>Vt,Df:()=>W,Dl:()=>y,EW:()=>wn,FK:()=>Mt,Fv:()=>Yt,Gt:()=>We,Gy:()=>I,Ic:()=>oe,K9:()=>ct,Lk:()=>Ht,MZ:()=>U,OW:()=>V,Q3:()=>Jt,QP:()=>L,RG:()=>xe,Tb:()=>ke,WQ:()=>Ke,Wv:()=>Ft,bF:()=>qt,bo:()=>P,dY:()=>m,eW:()=>Xt,g2:()=>fe,gN:()=>ve,h:()=>xn,hi:()=>se,jC:()=>It,k6:()=>E,nI:()=>sn,pI:()=>we,pM:()=>K,pR:()=>$,qL:()=>a,sV:()=>re,uX:()=>jt,v6:()=>tn,wB:()=>vt,xo:()=>ae});var r=n(50953),o=n(90033);function i(e,t,n,r){try{return r?e(...r):e()}catch(e){s(e,t,n)}}function a(e,t,n,r){if((0,o.Tn)(e)){const a=i(e,t,n,r);return a&&(0,o.yL)(a)&&a.catch((e=>{s(e,t,n)})),a}if((0,o.cy)(e)){const o=[];for(let i=0;i<e.length;i++)o.push(a(e[i],t,n,r));return o}}function s(e,t,n,a=!0){t&&t.vnode;const{errorHandler:s,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||o.MZ;if(t){let o=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const t=o.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,a,l))return;o=o.parent}if(s)return(0,r.C4)(),i(s,null,10,[e,a,l]),void(0,r.bl)()}!function(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}(e,0,0,a,l)}const l=[];let c=-1;const u=[];let d=null,p=0;const h=Promise.resolve();let f=null;function m(e){const t=f||h;return e?t.then(this?e.bind(this):e):t}function g(e){if(!(1&e.flags)){const t=x(e),n=l[l.length-1];!n||!(2&e.flags)&&t>=x(n)?l.push(e):l.splice(function(e){let t=c+1,n=l.length;for(;t<n;){const r=t+n>>>1,o=l[r],i=x(o);i<e||i===e&&2&o.flags?t=r+1:n=r}return t}(t),0,e),e.flags|=1,v()}}function v(){f||(f=h.then(_))}function y(e){(0,o.cy)(e)?u.push(...e):d&&-1===e.id?d.splice(p+1,0,e):1&e.flags||(u.push(e),e.flags|=1),v()}function b(e,t,n=c+1){for(;n<l.length;n++){const t=l[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;l.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function w(e){if(u.length){const e=[...new Set(u)].sort(((e,t)=>x(e)-x(t)));if(u.length=0,d)return void d.push(...e);for(d=e,p=0;p<d.length;p++){const e=d[p];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}d=null,p=0}}const x=e=>null==e.id?2&e.flags?-1:1/0:e.id;function _(e){o.tE;try{for(c=0;c<l.length;c++){const e=l[c];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),i(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;c<l.length;c++){const e=l[c];e&&(e.flags&=-2)}c=-1,l.length=0,w(),f=null,(l.length||u.length)&&_(e)}}let k=null,C=null;function S(e){const t=k;return k=e,C=e&&e.type.__scopeId||null,t}function E(e,t=k,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&$t(-1);const o=S(t);let i;try{i=e(...n)}finally{S(o),r._d&&$t(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function P(e,t){if(null===k)return e;const n=bn(k),i=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[a,s,l,c=o.MZ]=t[e];a&&((0,o.Tn)(a)&&(a={mounted:a,updated:a}),a.deep&&(0,r.hV)(s),i.push({dir:a,instance:n,value:s,oldValue:void 0,arg:l,modifiers:c}))}return e}function T(e,t,n,o){const i=e.dirs,s=t&&t.dirs;for(let l=0;l<i.length;l++){const c=i[l];s&&(c.oldValue=s[l].value);let u=c.dir[o];u&&((0,r.C4)(),a(u,n,8,[e.el,c,e,t]),(0,r.bl)())}}const A=Symbol("_vte"),M=e=>e.__isTeleport,N=Symbol("_leaveCb"),O=Symbol("_enterCb");function I(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return re((()=>{e.isMounted=!0})),ae((()=>{e.isUnmounting=!0})),e}const R=[Function,Array],L={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:R,onEnter:R,onAfterEnter:R,onEnterCancelled:R,onBeforeLeave:R,onLeave:R,onAfterLeave:R,onLeaveCancelled:R,onBeforeAppear:R,onAppear:R,onAfterAppear:R,onAppearCancelled:R},j=e=>{const t=e.subTree;return t.component?j(t.component):t};function D(e){let t=e[0];if(e.length>1){let n=!1;for(const r of e)if(r.type!==Ot){t=r,n=!0;break}}return t}const $={name:"BaseTransition",props:L,setup(e,{slots:t}){const n=sn(),o=I();return()=>{const i=t.default&&W(t.default(),!0);if(!i||!i.length)return;const a=D(i),s=(0,r.ux)(e),{mode:l}=s;if(o.isLeaving)return F(a);const c=z(a);if(!c)return F(a);let u=V(c,s,o,n,(e=>u=e));c.type!==Ot&&U(c,u);let d=n.subTree&&z(n.subTree);if(d&&d.type!==Ot&&!Ut(c,d)&&j(n).type!==Ot){let e=V(d,s,o,n);if(U(d,e),"out-in"===l&&c.type!==Ot)return o.isLeaving=!0,e.afterLeave=()=>{o.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,d=void 0},F(a);"in-out"===l&&c.type!==Ot?e.delayLeave=(e,t,n)=>{B(o,d)[String(d.key)]=d,e[N]=()=>{t(),e[N]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{n(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return a}}};function B(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function V(e,t,n,r,i){const{appear:s,mode:l,persisted:c=!1,onBeforeEnter:u,onEnter:d,onAfterEnter:p,onEnterCancelled:h,onBeforeLeave:f,onLeave:m,onAfterLeave:g,onLeaveCancelled:v,onBeforeAppear:y,onAppear:b,onAfterAppear:w,onAppearCancelled:x}=t,_=String(e.key),k=B(n,e),C=(e,t)=>{e&&a(e,r,9,t)},S=(e,t)=>{const n=t[1];C(e,t),(0,o.cy)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},E={mode:l,persisted:c,beforeEnter(t){let r=u;if(!n.isMounted){if(!s)return;r=y||u}t[N]&&t[N](!0);const o=k[_];o&&Ut(e,o)&&o.el[N]&&o.el[N](),C(r,[t])},enter(e){let t=d,r=p,o=h;if(!n.isMounted){if(!s)return;t=b||d,r=w||p,o=x||h}let i=!1;const a=e[O]=t=>{i||(i=!0,C(t?o:r,[e]),E.delayedLeave&&E.delayedLeave(),e[O]=void 0)};t?S(t,[e,a]):a()},leave(t,r){const o=String(e.key);if(t[O]&&t[O](!0),n.isUnmounting)return r();C(f,[t]);let i=!1;const a=t[N]=n=>{i||(i=!0,r(),C(n?v:g,[t]),t[N]=void 0,k[o]===e&&delete k[o])};k[o]=e,m?S(m,[t,a]):a()},clone(e){const o=V(e,t,n,r,i);return i&&i(o),o}};return E}function F(e){if(X(e))return(e=Gt(e)).children=null,e}function z(e){if(!X(e))return M(e.type)&&e.children?D(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&(0,o.Tn)(n.default))return n.default()}}function U(e,t){6&e.shapeFlag&&e.component?(e.transition=t,U(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function W(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:i);a.type===Mt?(128&a.patchFlag&&o++,r=r.concat(W(a.children,t,s))):(t||a.type!==Ot)&&r.push(null!=s?Gt(a,{key:s}):a)}if(o>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}function K(e,t){return(0,o.Tn)(e)?(()=>(0,o.X$)({name:e.name},t,{setup:e}))():e}function H(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function q(e,t,n,a,s=!1){if((0,o.cy)(e))return void e.forEach(((e,r)=>q(e,t&&((0,o.cy)(t)?t[r]:t),n,a,s)));if(G(a)&&!s)return void(512&a.shapeFlag&&a.type.__asyncResolved&&a.component.subTree.component&&q(e,t,n,a.component.subTree));const l=4&a.shapeFlag?bn(a.component):a.el,c=s?null:l,{i:u,r:d}=e,p=t&&t.r,h=u.refs===o.MZ?u.refs={}:u.refs,f=u.setupState,m=(0,r.ux)(f),g=f===o.MZ?()=>!1:e=>(0,o.$3)(m,e);if(null!=p&&p!==d&&((0,o.Kg)(p)?(h[p]=null,g(p)&&(f[p]=null)):(0,r.i9)(p)&&(p.value=null)),(0,o.Tn)(d))i(d,u,12,[c,h]);else{const t=(0,o.Kg)(d),i=(0,r.i9)(d);if(t||i){const r=()=>{if(e.f){const n=t?g(d)?f[d]:h[d]:d.value;s?(0,o.cy)(n)&&(0,o.TF)(n,l):(0,o.cy)(n)?n.includes(l)||n.push(l):t?(h[d]=[l],g(d)&&(f[d]=h[d])):(d.value=[l],e.k&&(h[e.k]=d.value))}else t?(h[d]=c,g(d)&&(f[d]=c)):i&&(d.value=c,e.k&&(h[e.k]=c))};c?(r.id=-1,lt(r,n)):r()}}}(0,o.We)().requestIdleCallback,(0,o.We)().cancelIdleCallback;const G=e=>!!e.type.__asyncLoader,X=e=>e.type.__isKeepAlive;function Y(e,t){Z(e,"a",t)}function J(e,t){Z(e,"da",t)}function Z(e,t,n=an){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(ee(t,r,n),n){let e=n.parent;for(;e&&e.parent;)X(e.parent.vnode)&&Q(r,t,n,e),e=e.parent}}function Q(e,t,n,r){const i=ee(t,e,r,!0);se((()=>{(0,o.TF)(r[t],i)}),n)}function ee(e,t,n=an,o=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{(0,r.C4)();const i=un(n),s=a(t,n,e,o);return i(),(0,r.bl)(),s});return o?i.unshift(s):i.push(s),s}}RegExp,RegExp;const te=e=>(t,n=an)=>{mn&&"sp"!==e||ee(e,((...e)=>t(...e)),n)},ne=te("bm"),re=te("m"),oe=te("bu"),ie=te("u"),ae=te("bum"),se=te("um"),le=te("sp"),ce=te("rtg"),ue=te("rtc");function de(e,t=an){ee("ec",e,t)}const pe="components",he="directives";function fe(e,t){return ye(pe,e,!0,t)||e}const me=Symbol.for("v-ndc");function ge(e){return(0,o.Kg)(e)?ye(pe,e,!1)||e:e||me}function ve(e){return ye(he,e)}function ye(e,t,n=!0,r=!1){const i=k||an;if(i){const n=i.type;if(e===pe){const e=function(e,t=!0){return(0,o.Tn)(e)?e.displayName||e.name:e.name||t&&e.__name}(n,!1);if(e&&(e===t||e===(0,o.PT)(t)||e===(0,o.ZH)((0,o.PT)(t))))return n}const a=be(i[e]||n[e],t)||be(i.appContext[e],t);return!a&&r?n:a}}function be(e,t){return e&&(e[t]||e[(0,o.PT)(t)]||e[(0,o.ZH)((0,o.PT)(t))])}function we(e,t,n,i){let a;const s=n&&n[i],l=(0,o.cy)(e);if(l||(0,o.Kg)(e)){let n=!1,o=!1;l&&(0,r.g8)(e)&&(n=!(0,r.fE)(e),o=(0,r.Tm)(e),e=(0,r.qA)(e)),a=new Array(e.length);for(let i=0,l=e.length;i<l;i++)a[i]=t(n?o?(0,r.a1)((0,r.lJ)(e[i])):(0,r.lJ)(e[i]):e[i],i,void 0,s&&s[i])}else if("number"==typeof e){a=new Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,s&&s[n])}else if((0,o.Gv)(e))if(e[Symbol.iterator])a=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);a=new Array(n.length);for(let r=0,o=n.length;r<o;r++){const o=n[r];a[r]=t(e[o],o,r,s&&s[r])}}else a=[];return n&&(n[i]=a),a}function xe(e,t,n={},r,i){if(k.ce||k.parent&&G(k.parent)&&k.parent.ce)return"default"!==t&&(n.name=t),jt(),Ft(Mt,null,[qt("slot",n,r&&r())],64);let a=e[t];a&&a._c&&(a._d=!1),jt();const s=a&&_e(a(n)),l=n.key||s&&s.key,c=Ft(Mt,{key:(l&&!(0,o.Bm)(l)?l:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&1===e._?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),a&&a._c&&(a._d=!0),c}function _e(e){return e.some((e=>!zt(e)||e.type!==Ot&&!(e.type===Mt&&!_e(e.children))))?e:null}function ke(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:(0,o.rU)(r)]=e[r];return n}const Ce=e=>e?pn(e)?bn(e):Ce(e.parent):null,Se=(0,o.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ce(e.parent),$root:e=>Ce(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Oe(e),$forceUpdate:e=>e.f||(e.f=()=>{g(e.update)}),$nextTick:e=>e.n||(e.n=m.bind(e.proxy)),$watch:e=>bt.bind(e)}),Ee=(e,t)=>e!==o.MZ&&!e.__isScriptSetup&&(0,o.$3)(e,t),Pe={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:i,data:a,props:s,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(Ee(i,t))return l[t]=1,i[t];if(a!==o.MZ&&(0,o.$3)(a,t))return l[t]=2,a[t];if((d=e.propsOptions[0])&&(0,o.$3)(d,t))return l[t]=3,s[t];if(n!==o.MZ&&(0,o.$3)(n,t))return l[t]=4,n[t];Ae&&(l[t]=0)}}const p=Se[t];let h,f;return p?("$attrs"===t&&(0,r.u4)(e.attrs,"get",""),p(e)):(h=c.__cssModules)&&(h=h[t])?h:n!==o.MZ&&(0,o.$3)(n,t)?(l[t]=4,n[t]):(f=u.config.globalProperties,(0,o.$3)(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return Ee(i,t)?(i[t]=n,!0):r!==o.MZ&&(0,o.$3)(r,t)?(r[t]=n,!0):!((0,o.$3)(e.props,t)||"$"===t[0]&&t.slice(1)in e||(a[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},s){let l;return!!n[s]||e!==o.MZ&&(0,o.$3)(e,s)||Ee(t,s)||(l=a[0])&&(0,o.$3)(l,s)||(0,o.$3)(r,s)||(0,o.$3)(Se,s)||(0,o.$3)(i.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,o.$3)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Te(e){return(0,o.cy)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let Ae=!0;function Me(e,t,n){a((0,o.cy)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Ne(e,t,n,r){let i=r.includes(".")?wt(n,r):()=>n[r];if((0,o.Kg)(e)){const n=t[e];(0,o.Tn)(n)&&vt(i,n)}else if((0,o.Tn)(e))vt(i,e.bind(n));else if((0,o.Gv)(e))if((0,o.cy)(e))e.forEach((e=>Ne(e,t,n,r)));else{const r=(0,o.Tn)(e.handler)?e.handler.bind(n):t[e.handler];(0,o.Tn)(r)&&vt(i,r,e)}}function Oe(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,l=a.get(t);let c;return l?c=l:i.length||n||r?(c={},i.length&&i.forEach((e=>Ie(c,e,s,!0))),Ie(c,t,s)):c=t,(0,o.Gv)(t)&&a.set(t,c),c}function Ie(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Ie(e,i,n,!0),o&&o.forEach((t=>Ie(e,t,n,!0)));for(const o in t)if(r&&"expose"===o);else{const r=Re[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const Re={data:Le,props:Be,emits:Be,methods:$e,computed:$e,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:$e,directives:$e,watch:function(e,t){if(!e)return t;if(!t)return e;const n=(0,o.X$)(Object.create(null),e);for(const r in t)n[r]=De(e[r],t[r]);return n},provide:Le,inject:function(e,t){return $e(je(e),je(t))}};function Le(e,t){return t?e?function(){return(0,o.X$)((0,o.Tn)(e)?e.call(this,this):e,(0,o.Tn)(t)?t.call(this,this):t)}:t:e}function je(e){if((0,o.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function De(e,t){return e?[...new Set([].concat(e,t))]:t}function $e(e,t){return e?(0,o.X$)(Object.create(null),e,t):t}function Be(e,t){return e?(0,o.cy)(e)&&(0,o.cy)(t)?[...new Set([...e,...t])]:(0,o.X$)(Object.create(null),Te(e),Te(null!=t?t:{})):t}function Ve(){return{app:null,config:{isNativeTag:o.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fe=0;function ze(e,t){return function(n,r=null){(0,o.Tn)(n)||(n=(0,o.X$)({},n)),null==r||(0,o.Gv)(r)||(r=null);const i=Ve(),s=new WeakSet,l=[];let c=!1;const u=i.app={_uid:Fe++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:_n,get config(){return i.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&(0,o.Tn)(e.install)?(s.add(e),e.install(u,...t)):(0,o.Tn)(e)&&(s.add(e),e(u,...t))),u),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),u),component:(e,t)=>t?(i.components[e]=t,u):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,u):i.directives[e],mount(o,a,s){if(!c){const l=u._ceVNode||qt(n,r);return l.appContext=i,!0===s?s="svg":!1===s&&(s=void 0),a&&t?t(l,o):e(l,o,s),c=!0,u._container=o,o.__vue_app__=u,bn(l.component)}},onUnmount(e){l.push(e)},unmount(){c&&(a(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,u),runWithContext(e){const t=Ue;Ue=u;try{return e()}finally{Ue=t}}};return u}}let Ue=null;function We(e,t){if(an){let n=an.provides;const r=an.parent&&an.parent.provides;r===n&&(n=an.provides=Object.create(r)),n[e]=t}}function Ke(e,t,n=!1){const r=an||k;if(r||Ue){let i=Ue?Ue._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,o.Tn)(t)?t.call(r&&r.proxy):t}}const He={},qe=()=>Object.create(He),Ge=e=>Object.getPrototypeOf(e)===He;function Xe(e,t,n,i){const[a,s]=e.propsOptions;let l,c=!1;if(t)for(let r in t){if((0,o.SU)(r))continue;const u=t[r];let d;a&&(0,o.$3)(a,d=(0,o.PT)(r))?s&&s.includes(d)?(l||(l={}))[d]=u:n[d]=u:Ct(e.emitsOptions,r)||r in i&&u===i[r]||(i[r]=u,c=!0)}if(s){const t=(0,r.ux)(n),i=l||o.MZ;for(let r=0;r<s.length;r++){const l=s[r];n[l]=Ye(a,t,l,i[l],e,!(0,o.$3)(i,l))}}return c}function Ye(e,t,n,r,i,a){const s=e[n];if(null!=s){const e=(0,o.$3)(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&!s.skipFactory&&(0,o.Tn)(e)){const{propsDefaults:o}=i;if(n in o)r=o[n];else{const a=un(i);r=o[n]=e.call(null,t),a()}}else r=e;i.ce&&i.ce._setProp(n,r)}s[0]&&(a&&!e?r=!1:!s[1]||""!==r&&r!==(0,o.Tg)(n)||(r=!0))}return r}const Je=new WeakMap;function Ze(e,t,n=!1){const r=n?Je:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,s={},l=[];let c=!1;if(!(0,o.Tn)(e)){const r=e=>{c=!0;const[n,r]=Ze(e,t,!0);(0,o.X$)(s,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return(0,o.Gv)(e)&&r.set(e,o.Oj),o.Oj;if((0,o.cy)(a))for(let e=0;e<a.length;e++){const t=(0,o.PT)(a[e]);Qe(t)&&(s[t]=o.MZ)}else if(a)for(const e in a){const t=(0,o.PT)(e);if(Qe(t)){const n=a[e],r=s[t]=(0,o.cy)(n)||(0,o.Tn)(n)?{type:n}:(0,o.X$)({},n),i=r.type;let c=!1,u=!0;if((0,o.cy)(i))for(let e=0;e<i.length;++e){const t=i[e],n=(0,o.Tn)(t)&&t.name;if("Boolean"===n){c=!0;break}"String"===n&&(u=!1)}else c=(0,o.Tn)(i)&&"Boolean"===i.name;r[0]=c,r[1]=u,(c||(0,o.$3)(r,"default"))&&l.push(t)}}const u=[s,l];return(0,o.Gv)(e)&&r.set(e,u),u}function Qe(e){return"$"!==e[0]&&!(0,o.SU)(e)}const et=e=>"_"===e[0]||"$stable"===e,tt=e=>(0,o.cy)(e)?e.map(Zt):[Zt(e)],nt=(e,t,n)=>{if(t._n)return t;const r=E(((...e)=>tt(t(...e))),n);return r._c=!1,r},rt=(e,t,n)=>{const r=e._ctx;for(const n in e){if(et(n))continue;const i=e[n];if((0,o.Tn)(i))t[n]=nt(0,i,r);else if(null!=i){const e=tt(i);t[n]=()=>e}}},ot=(e,t)=>{const n=tt(t);e.slots.default=()=>n},it=(e,t,n)=>{for(const r in t)!n&&et(r)||(e[r]=t[r])},at=(e,t,n)=>{const r=e.slots=qe();if(32&e.vnode.shapeFlag){const e=t.__;e&&(0,o.yQ)(r,"__",e,!0);const i=t._;i?(it(r,t,n),n&&(0,o.yQ)(r,"_",i,!0)):rt(t,r)}else t&&ot(e,t)},st=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,s=o.MZ;if(32&r.shapeFlag){const e=t._;e?n&&1===e?a=!1:it(i,t,n):(a=!t.$stable,rt(t,i)),s=t}else t&&(ot(e,t),s={default:1});if(a)for(const e in i)et(e)||null!=s[e]||delete i[e]},lt=function(e,t){t&&t.pendingBranch?(0,o.cy)(e)?t.effects.push(...e):t.effects.push(e):y(e)};function ct(e){return function(e,t){"boolean"!=typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,o.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),(0,o.We)().__VUE__=!0;const{insert:n,remove:a,patchProp:l,createElement:c,createText:u,createComment:d,setText:p,setElementText:h,parentNode:f,nextSibling:m,setScopeId:v=o.tE,insertStaticContent:y}=e,x=(e,t,n,r=null,o=null,i=null,a=void 0,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Ut(e,t)&&(r=ee(e),K(e,o,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Nt:_(e,t,n,r);break;case Ot:k(e,t,n,r);break;case It:null==e&&C(t,n,r,a);break;case Mt:L(e,t,n,r,o,i,a,s,l);break;default:1&d?E(e,t,n,r,o,i,a,s,l):6&d?j(e,t,n,r,o,i,a,s,l):(64&d||128&d)&&c.process(e,t,n,r,o,i,a,s,l,re)}null!=u&&o?q(u,e&&e.ref,i,t||e,!t):null==u&&e&&null!=e.ref&&q(e.ref,null,i,e,!0)},_=(e,t,r,o)=>{if(null==e)n(t.el=u(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&p(n,t.children)}},k=(e,t,r,o)=>{null==e?n(t.el=d(t.children||""),r,o):t.el=e.el},C=(e,t,n,r)=>{[e.el,e.anchor]=y(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),a(e),e=n;a(t)},E=(e,t,n,r,o,i,a,s,l)=>{"svg"===t.type?a="svg":"math"===t.type&&(a="mathml"),null==e?P(t,n,r,o,i,a,s,l):O(e,t,o,i,a,s,l)},P=(e,t,r,i,a,s,u,d)=>{let p,f;const{props:m,shapeFlag:g,transition:v,dirs:y}=e;if(p=e.el=c(e.type,s,m&&m.is,m),8&g?h(p,e.children):16&g&&N(e.children,p,null,i,a,ut(e,s),u,d),y&&T(e,null,i,"created"),M(p,e,e.scopeId,u,i),m){for(const e in m)"value"===e||(0,o.SU)(e)||l(p,e,null,m[e],s,i);"value"in m&&l(p,"value",null,m.value,s),(f=m.onVnodeBeforeMount)&&nn(f,i,e)}y&&T(e,null,i,"beforeMount");const b=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(a,v);b&&v.beforeEnter(p),n(p,t,r),((f=m&&m.onVnodeMounted)||b||y)&&lt((()=>{f&&nn(f,i,e),b&&v.enter(p),y&&T(e,null,i,"mounted")}),a)},M=(e,t,n,r,o)=>{if(n&&v(e,n),r)for(let t=0;t<r.length;t++)v(e,r[t]);if(o){let n=o.subTree;if(t===n||At(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=o.vnode;M(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},N=(e,t,n,r,o,i,a,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?Qt(e[c]):Zt(e[c]);x(null,l,t,n,r,o,i,a,s)}},O=(e,t,n,r,i,a,s)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||o.MZ,m=t.props||o.MZ;let g;if(n&&dt(n,!1),(g=m.onVnodeBeforeUpdate)&&nn(g,n,t,e),p&&T(t,e,n,"beforeUpdate"),n&&dt(n,!0),(f.innerHTML&&null==m.innerHTML||f.textContent&&null==m.textContent)&&h(c,""),d?I(e.dynamicChildren,d,c,n,r,ut(t,i),a):s||F(e,t,c,null,n,r,ut(t,i),a,!1),u>0){if(16&u)R(c,f,m,n,i);else if(2&u&&f.class!==m.class&&l(c,"class",null,m.class,i),4&u&&l(c,"style",f.style,m.style,i),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t],o=f[r],a=m[r];a===o&&"value"!==r||l(c,r,o,a,i,n)}}1&u&&e.children!==t.children&&h(c,t.children)}else s||null!=d||R(c,f,m,n,i);((g=m.onVnodeUpdated)||p)&&lt((()=>{g&&nn(g,n,t,e),p&&T(t,e,n,"updated")}),r)},I=(e,t,n,r,o,i,a)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===Mt||!Ut(l,c)||198&l.shapeFlag)?f(l.el):n;x(l,c,u,null,r,o,i,a,!0)}},R=(e,t,n,r,i)=>{if(t!==n){if(t!==o.MZ)for(const a in t)(0,o.SU)(a)||a in n||l(e,a,t[a],null,i,r);for(const a in n){if((0,o.SU)(a))continue;const s=n[a],c=t[a];s!==c&&"value"!==a&&l(e,a,c,s,i,r)}"value"in n&&l(e,"value",t.value,n.value,i)}},L=(e,t,r,o,i,a,s,l,c)=>{const d=t.el=e?e.el:u(""),p=t.anchor=e?e.anchor:u("");let{patchFlag:h,dynamicChildren:f,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(n(d,r,o),n(p,r,o),N(t.children||[],r,p,i,a,s,l,c)):h>0&&64&h&&f&&e.dynamicChildren?(I(e.dynamicChildren,f,r,i,a,s,l),(null!=t.key||i&&t===i.subTree)&&pt(e,t,!0)):F(e,t,r,p,i,a,s,l,c)},j=(e,t,n,r,o,i,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,a,l):D(t,n,r,o,i,a,l):$(e,t,l)},D=(e,t,n,a,l,c,u)=>{const d=e.component=function(e,t,n){const i=e.type,a=(t?t.appContext:e.appContext)||rn,s={uid:on++,vnode:e,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new r.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ze(i,a),emitsOptions:kt(i,a),emit:null,emitted:null,propsDefaults:o.MZ,inheritAttrs:i.inheritAttrs,ctx:o.MZ,data:o.MZ,props:o.MZ,attrs:o.MZ,slots:o.MZ,refs:o.MZ,setupState:o.MZ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=_t.bind(null,s),e.ce&&e.ce(s),s}(e,a,l);if(X(e)&&(d.ctx.renderer=re),function(e,t=!1,n=!1){t&&cn(t);const{props:a,children:l}=e.vnode,c=pn(e);!function(e,t,n,o=!1){const i={},a=qe();e.propsDefaults=Object.create(null),Xe(e,t,i,a);for(const t in e.propsOptions[0])t in i||(i[t]=void 0);n?e.props=o?i:(0,r.Gc)(i):e.type.props?e.props=i:e.props=a,e.attrs=a}(e,a,c,t),at(e,l,n||t);const u=c?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Pe);const{setup:a}=n;if(a){(0,r.C4)();const n=e.setupContext=a.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,yn),slots:e.slots,emit:e.emit,expose:t}}(e):null,l=un(e),c=i(a,e,0,[e.props,n]),u=(0,o.yL)(c);if((0,r.bl)(),l(),!u&&!e.sp||G(e)||H(e),u){if(c.then(dn,dn),t)return c.then((n=>{gn(e,n,t)})).catch((t=>{s(t,e,0)}));e.asyncDep=c}else gn(e,c,t)}else vn(e,t)}(e,t):void 0;t&&cn(!1)}(d,!1,u),d.asyncDep){if(l&&l.registerDep(d,B,u),!e.el){const e=d.subTree=qt(Ot);k(null,e,t,n)}}else B(d,e,t,n,l,c,u)},$=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:i}=e,{props:a,children:s,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!o&&!s||s&&s.$stable)||r!==a&&(r?!a||Tt(r,a,c):!!a);if(1024&l)return!0;if(16&l)return r?Tt(r,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!Ct(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void V(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},B=(e,t,n,i,a,s,l)=>{const c=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:i,vnode:u}=e;{const n=ht(e);if(n)return t&&(t.el=u.el,V(e,t,l)),void n.asyncDep.then((()=>{e.isUnmounted||c()}))}let d,p=t;dt(e,!1),t?(t.el=u.el,V(e,t,l)):t=u,n&&(0,o.DY)(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&nn(d,i,t,u),dt(e,!0);const h=St(e),m=e.subTree;e.subTree=h,x(m,h,f(m.el),ee(m),e,a,s),t.el=h.el,null===p&&function({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,h.el),r&&lt(r,a),(d=t.props&&t.props.onVnodeUpdated)&&lt((()=>nn(d,i,t,u)),a)}else{let r;const{el:l,props:c}=t,{bm:u,m:d,parent:p,root:h,type:f}=e,m=G(t);if(dt(e,!1),u&&(0,o.DY)(u),!m&&(r=c&&c.onVnodeBeforeMount)&&nn(r,p,t),dt(e,!0),l&&ie){const t=()=>{e.subTree=St(e),ie(l,e.subTree,e,a,null)};m&&f.__asyncHydrate?f.__asyncHydrate(l,e,t):t()}else{h.ce&&!1!==h.ce._def.shadowRoot&&h.ce._injectChildStyle(f);const r=e.subTree=St(e);x(null,r,n,i,e,a,s),t.el=r.el}if(d&&lt(d,a),!m&&(r=c&&c.onVnodeMounted)){const e=t;lt((()=>nn(r,p,e)),a)}(256&t.shapeFlag||p&&G(p.vnode)&&256&p.vnode.shapeFlag)&&e.a&&lt(e.a,a),e.isMounted=!0,t=n=i=null}};e.scope.on();const u=e.effect=new r.X2(c);e.scope.off();const d=e.update=u.run.bind(u),p=e.job=u.runIfDirty.bind(u);p.i=e,p.id=e.uid,u.scheduler=()=>g(p),dt(e,!0),d()},V=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,i){const{props:a,attrs:s,vnode:{patchFlag:l}}=e,c=(0,r.ux)(a),[u]=e.propsOptions;let d=!1;if(!(i||l>0)||16&l){let r;Xe(e,t,a,s)&&(d=!0);for(const i in c)t&&((0,o.$3)(t,i)||(r=(0,o.Tg)(i))!==i&&(0,o.$3)(t,r))||(u?!n||void 0===n[i]&&void 0===n[r]||(a[i]=Ye(u,c,i,void 0,e,!0)):delete a[i]);if(s!==c)for(const e in s)t&&(0,o.$3)(t,e)||(delete s[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let i=n[r];if(Ct(e.emitsOptions,i))continue;const l=t[i];if(u)if((0,o.$3)(s,i))l!==s[i]&&(s[i]=l,d=!0);else{const t=(0,o.PT)(i);a[t]=Ye(u,c,t,l,e,!1)}else l!==s[i]&&(s[i]=l,d=!0)}}d&&(0,r.hZ)(e.attrs,"set","")}(e,t.props,i,n),st(e,t.children,n),(0,r.C4)(),b(e),(0,r.bl)()},F=(e,t,n,r,o,i,a,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void U(c,d,n,r,o,i,a,s,l);if(256&p)return void z(c,d,n,r,o,i,a,s,l)}8&f?(16&u&&Q(c,o,i),d!==c&&h(n,d)):16&u?16&f?U(c,d,n,r,o,i,a,s,l):Q(c,o,i,!0):(8&u&&h(n,""),16&f&&N(d,n,r,o,i,a,s,l))},z=(e,t,n,r,i,a,s,l,c)=>{e=e||o.Oj,t=t||o.Oj;const u=e.length,d=t.length,p=Math.min(u,d);let h;for(h=0;h<p;h++){const r=t[h]=c?Qt(t[h]):Zt(t[h]);x(e[h],r,n,null,i,a,s,l,c)}u>d?Q(e,i,a,!0,!1,p):N(t,n,r,i,a,s,l,c,p)},U=(e,t,n,r,i,a,s,l,c)=>{let u=0;const d=t.length;let p=e.length-1,h=d-1;for(;u<=p&&u<=h;){const r=e[u],o=t[u]=c?Qt(t[u]):Zt(t[u]);if(!Ut(r,o))break;x(r,o,n,null,i,a,s,l,c),u++}for(;u<=p&&u<=h;){const r=e[p],o=t[h]=c?Qt(t[h]):Zt(t[h]);if(!Ut(r,o))break;x(r,o,n,null,i,a,s,l,c),p--,h--}if(u>p){if(u<=h){const e=h+1,o=e<d?t[e].el:r;for(;u<=h;)x(null,t[u]=c?Qt(t[u]):Zt(t[u]),n,o,i,a,s,l,c),u++}}else if(u>h)for(;u<=p;)K(e[u],i,a,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=h;u++){const e=t[u]=c?Qt(t[u]):Zt(t[u]);null!=e.key&&g.set(e.key,u)}let v,y=0;const b=h-m+1;let w=!1,_=0;const k=new Array(b);for(u=0;u<b;u++)k[u]=0;for(u=f;u<=p;u++){const r=e[u];if(y>=b){K(r,i,a,!0);continue}let o;if(null!=r.key)o=g.get(r.key);else for(v=m;v<=h;v++)if(0===k[v-m]&&Ut(r,t[v])){o=v;break}void 0===o?K(r,i,a,!0):(k[o-m]=u+1,o>=_?_=o:w=!0,x(r,t[o],n,null,i,a,s,l,c),y++)}const C=w?function(e){const t=e.slice(),n=[0];let r,o,i,a,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(o=n[n.length-1],e[o]<l){t[r]=o,n.push(r);continue}for(i=0,a=n.length-1;i<a;)s=i+a>>1,e[n[s]]<l?i=s+1:a=s;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}(k):o.Oj;for(v=C.length-1,u=b-1;u>=0;u--){const e=m+u,o=t[e],p=e+1<d?t[e+1].el:r;0===k[u]?x(null,o,n,p,i,a,s,l,c):w&&(v<0||u!==C[v]?W(o,n,p,2):v--)}}},W=(e,t,r,o,i=null)=>{const{el:s,type:l,transition:c,children:u,shapeFlag:d}=e;if(6&d)W(e.component.subTree,t,r,o);else if(128&d)e.suspense.move(t,r,o);else if(64&d)l.move(e,t,r,re);else if(l!==Mt)if(l!==It)if(2!==o&&1&d&&c)if(0===o)c.beforeEnter(s),n(s,t,r),lt((()=>c.enter(s)),i);else{const{leave:o,delayLeave:i,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?a(s):n(s,t,r)},d=()=>{o(s,(()=>{u(),l&&l()}))};i?i(s,u,d):d()}else n(s,t,r);else(({el:e,anchor:t},r,o)=>{let i;for(;e&&e!==t;)i=m(e),n(e,r,o),e=i;n(t,r,o)})(e,t,r);else{n(s,t,r);for(let e=0;e<u.length;e++)W(u[e],t,r,o);n(e.anchor,t,r)}},K=(e,t,n,o=!1,i=!1)=>{const{type:a,props:s,ref:l,children:c,dynamicChildren:u,shapeFlag:d,patchFlag:p,dirs:h,cacheIndex:f}=e;if(-2===p&&(i=!1),null!=l&&((0,r.C4)(),q(l,null,n,e,!0),(0,r.bl)()),null!=f&&(t.renderCache[f]=void 0),256&d)return void t.ctx.deactivate(e);const m=1&d&&h,g=!G(e);let v;if(g&&(v=s&&s.onVnodeBeforeUnmount)&&nn(v,t,e),6&d)Z(e.component,n,o);else{if(128&d)return void e.suspense.unmount(n,o);m&&T(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,n,re,o):u&&!u.hasOnce&&(a!==Mt||p>0&&64&p)?Q(u,t,n,!1,!0):(a===Mt&&384&p||!i&&16&d)&&Q(c,t,n),o&&Y(e)}(g&&(v=s&&s.onVnodeUnmounted)||m)&&lt((()=>{v&&nn(v,t,e),m&&T(e,null,t,"unmounted")}),n)},Y=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===Mt)return void J(n,r);if(t===It)return void S(e);const i=()=>{a(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,a=()=>t(n,i);r?r(e.el,i,a):a()}else i()},J=(e,t)=>{let n;for(;e!==t;)n=m(e),a(e),e=n;a(t)},Z=(e,t,n)=>{const{bum:r,scope:i,job:a,subTree:s,um:l,m:c,a:u,parent:d,slots:{__:p}}=e;ft(c),ft(u),r&&(0,o.DY)(r),d&&(0,o.cy)(p)&&p.forEach((e=>{d.renderCache[e]=void 0})),i.stop(),a&&(a.flags|=8,K(s,e,t,n)),l&&lt(l,t),lt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Q=(e,t,n,r=!1,o=!1,i=0)=>{for(let a=i;a<e.length;a++)K(e[a],t,n,r,o)},ee=e=>{if(6&e.shapeFlag)return ee(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=m(e.anchor||e.el),n=t&&t[A];return n?m(n):t};let te=!1;const ne=(e,t,n)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):x(t._vnode||null,e,t,null,null,null,n),t._vnode=e,te||(te=!0,b(),w(),te=!1)},re={p:x,um:K,m:W,r:Y,mt:D,mc:N,pc:F,pbc:I,n:ee,o:e};let oe,ie;return t&&([oe,ie]=t(re)),{render:ne,hydrate:oe,createApp:ze(ne,oe)}}(e)}function ut({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function dt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function pt(e,t,n=!1){const r=e.children,i=t.children;if((0,o.cy)(r)&&(0,o.cy)(i))for(let e=0;e<r.length;e++){const t=r[e];let o=i[e];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=i[e]=Qt(i[e]),o.el=t.el),n||-2===o.patchFlag||pt(t,o)),o.type===Nt&&(o.el=t.el),o.type!==Ot||o.el||(o.el=t.el)}}function ht(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ht(t)}function ft(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const mt=Symbol.for("v-scx"),gt=()=>Ke(mt);function vt(e,t,n){return yt(e,t,n)}function yt(e,t,n=o.MZ){const{immediate:i,deep:s,flush:l,once:c}=n,u=(0,o.X$)({},n),d=t&&i||!t&&"post"!==l;let p;if(mn)if("sync"===l){const e=gt();p=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=o.tE,e.resume=o.tE,e.pause=o.tE,e}const h=an;u.call=(e,t,n)=>a(e,h,t,n);let f=!1;"post"===l?u.scheduler=e=>{lt(e,h&&h.suspense)}:"sync"!==l&&(f=!0,u.scheduler=(e,t)=>{t?e():g(e)}),u.augmentJob=e=>{t&&(e.flags|=4),f&&(e.flags|=2,h&&(e.id=h.uid,e.i=h))};const m=(0,r.wB)(e,t,u);return mn&&(p?p.push(m):d&&m()),m}function bt(e,t,n){const r=this.proxy,i=(0,o.Kg)(e)?e.includes(".")?wt(r,e):()=>r[e]:e.bind(r,r);let a;(0,o.Tn)(t)?a=t:(a=t.handler,n=t);const s=un(this),l=yt(i,a.bind(r),n);return s(),l}function wt(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const xt=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${(0,o.PT)(t)}Modifiers`]||e[`${(0,o.Tg)(t)}Modifiers`];function _t(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||o.MZ;let i=n;const s=t.startsWith("update:"),l=s&&xt(r,t.slice(7));let c;l&&(l.trim&&(i=n.map((e=>(0,o.Kg)(e)?e.trim():e))),l.number&&(i=n.map(o.bB)));let u=r[c=(0,o.rU)(t)]||r[c=(0,o.rU)((0,o.PT)(t))];!u&&s&&(u=r[c=(0,o.rU)((0,o.Tg)(t))]),u&&a(u,e,6,i);const d=r[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,a(d,e,6,i)}}function kt(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;const a=e.emits;let s={},l=!1;if(!(0,o.Tn)(e)){const r=e=>{const n=kt(e,t,!0);n&&(l=!0,(0,o.X$)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return a||l?((0,o.cy)(a)?a.forEach((e=>s[e]=null)):(0,o.X$)(s,a),(0,o.Gv)(e)&&r.set(e,s),s):((0,o.Gv)(e)&&r.set(e,null),null)}function Ct(e,t){return!(!e||!(0,o.Mp)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,o.$3)(e,t[0].toLowerCase()+t.slice(1))||(0,o.$3)(e,(0,o.Tg)(t))||(0,o.$3)(e,t))}function St(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:l,attrs:c,emit:u,render:d,renderCache:p,props:h,data:f,setupState:m,ctx:g,inheritAttrs:v}=e,y=S(e);let b,w;try{if(4&n.shapeFlag){const e=i||r,t=e;b=Zt(d.call(t,e,p,h,m,f,g)),w=c}else{const e=t;b=Zt(e.length>1?e(h,{attrs:c,slots:l,emit:u}):e(h,null)),w=t.props?c:Et(c)}}catch(t){Rt.length=0,s(t,e,1),b=qt(Ot)}let x=b;if(w&&!1!==v){const e=Object.keys(w),{shapeFlag:t}=x;e.length&&7&t&&(a&&e.some(o.CP)&&(w=Pt(w,a)),x=Gt(x,w,!1,!0))}return n.dirs&&(x=Gt(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&U(x,n.transition),b=x,S(y),b}const Et=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,o.Mp)(n))&&((t||(t={}))[n]=e[n]);return t},Pt=(e,t)=>{const n={};for(const r in e)(0,o.CP)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Tt(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!Ct(n,i))return!0}return!1}const At=e=>e.__isSuspense;const Mt=Symbol.for("v-fgt"),Nt=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),It=Symbol.for("v-stc"),Rt=[];let Lt=null;function jt(e=!1){Rt.push(Lt=e?null:[])}let Dt=1;function $t(e,t=!1){Dt+=e,e<0&&Lt&&t&&(Lt.hasOnce=!0)}function Bt(e){return e.dynamicChildren=Dt>0?Lt||o.Oj:null,Rt.pop(),Lt=Rt[Rt.length-1]||null,Dt>0&&Lt&&Lt.push(e),e}function Vt(e,t,n,r,o,i){return Bt(Ht(e,t,n,r,o,i,!0))}function Ft(e,t,n,r,o){return Bt(qt(e,t,n,r,o,!0))}function zt(e){return!!e&&!0===e.__v_isVNode}function Ut(e,t){return e.type===t.type&&e.key===t.key}const Wt=({key:e})=>null!=e?e:null,Kt=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?(0,o.Kg)(e)||(0,r.i9)(e)||(0,o.Tn)(e)?{i:k,r:e,k:t,f:!!n}:e:null);function Ht(e,t=null,n=null,r=0,i=null,a=(e===Mt?0:1),s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wt(t),ref:t&&Kt(t),scopeId:C,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:k};return l?(en(c,n),128&a&&e.normalize(c)):n&&(c.shapeFlag|=(0,o.Kg)(n)?8:16),Dt>0&&!s&&Lt&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&Lt.push(c),c}const qt=function(e,t=null,n=null,i=0,a=null,s=!1){if(e&&e!==me||(e=Ot),zt(e)){const r=Gt(e,t,!0);return n&&en(r,n),Dt>0&&!s&&Lt&&(6&r.shapeFlag?Lt[Lt.indexOf(e)]=r:Lt.push(r)),r.patchFlag=-2,r}if(l=e,(0,o.Tn)(l)&&"__vccOpts"in l&&(e=e.__vccOpts),t){t=function(e){return e?(0,r.ju)(e)||Ge(e)?(0,o.X$)({},e):e:null}(t);let{class:e,style:n}=t;e&&!(0,o.Kg)(e)&&(t.class=(0,o.C4)(e)),(0,o.Gv)(n)&&((0,r.ju)(n)&&!(0,o.cy)(n)&&(n=(0,o.X$)({},n)),t.style=(0,o.Tr)(n))}var l;return Ht(e,t,n,i,a,(0,o.Kg)(e)?1:At(e)?128:M(e)?64:(0,o.Gv)(e)?4:(0,o.Tn)(e)?2:0,s,!0)};function Gt(e,t,n=!1,r=!1){const{props:i,ref:a,patchFlag:s,children:l,transition:c}=e,u=t?tn(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Wt(u),ref:t&&t.ref?n&&a?(0,o.cy)(a)?a.concat(Kt(t)):[a,Kt(t)]:Kt(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Mt?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gt(e.ssContent),ssFallback:e.ssFallback&&Gt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&U(d,c.clone(d)),d}function Xt(e=" ",t=0){return qt(Nt,null,e,t)}function Yt(e,t){const n=qt(It,null,e);return n.staticCount=t,n}function Jt(e="",t=!1){return t?(jt(),Ft(Ot,null,e)):qt(Ot,null,e)}function Zt(e){return null==e||"boolean"==typeof e?qt(Ot):(0,o.cy)(e)?qt(Mt,null,e.slice()):zt(e)?Qt(e):qt(Nt,null,String(e))}function Qt(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Gt(e)}function en(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,o.cy)(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),en(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Ge(t)?3===r&&k&&(1===k.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=k}}else(0,o.Tn)(t)?(t={default:t,_ctx:k},n=32):(t=String(t),64&r?(n=16,t=[Xt(t)]):n=8);e.children=t,e.shapeFlag|=n}function tn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,o.C4)([t.class,r.class]));else if("style"===e)t.style=(0,o.Tr)([t.style,r.style]);else if((0,o.Mp)(e)){const n=t[e],i=r[e];!i||n===i||(0,o.cy)(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function nn(e,t,n,r=null){a(e,t,7,[n,r])}const rn=Ve();let on=0;let an=null;const sn=()=>an||k;let ln,cn;{const e=(0,o.We)(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach((t=>t(e))):r[0](e)}};ln=t("__VUE_INSTANCE_SETTERS__",(e=>an=e)),cn=t("__VUE_SSR_SETTERS__",(e=>mn=e))}const un=e=>{const t=an;return ln(e),e.scope.on(),()=>{e.scope.off(),ln(t)}},dn=()=>{an&&an.scope.off(),ln(null)};function pn(e){return 4&e.vnode.shapeFlag}let hn,fn,mn=!1;function gn(e,t,n){(0,o.Tn)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,o.Gv)(t)&&(e.setupState=(0,r.Pr)(t)),vn(e,n)}function vn(e,t,n){const i=e.type;if(!e.render){if(!t&&hn&&!i.render){const t=i.template||Oe(e).template;if(t){const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:s}=i,l=(0,o.X$)((0,o.X$)({isCustomElement:n,delimiters:a},r),s);i.render=hn(t,l)}}e.render=i.render||o.tE,fn&&fn(e)}{const t=un(e);(0,r.C4)();try{!function(e){const t=Oe(e),n=e.proxy,i=e.ctx;Ae=!1,t.beforeCreate&&Me(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:l,watch:c,provide:u,inject:d,created:p,beforeMount:h,mounted:f,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:x,unmounted:_,render:k,renderTracked:C,renderTriggered:S,errorCaptured:E,serverPrefetch:P,expose:T,inheritAttrs:A,components:M,directives:N,filters:O}=t;if(d&&function(e,t){(0,o.cy)(e)&&(e=je(e));for(const n in e){const i=e[n];let a;a=(0,o.Gv)(i)?"default"in i?Ke(i.from||n,i.default,!0):Ke(i.from||n):Ke(i),(0,r.i9)(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[n]=a}}(d,i),l)for(const e in l){const t=l[e];(0,o.Tn)(t)&&(i[e]=t.bind(n))}if(a){const t=a.call(n,n);(0,o.Gv)(t)&&(e.data=(0,r.Kh)(t))}if(Ae=!0,s)for(const e in s){const t=s[e],r=(0,o.Tn)(t)?t.bind(n,n):(0,o.Tn)(t.get)?t.get.bind(n,n):o.tE,a=!(0,o.Tn)(t)&&(0,o.Tn)(t.set)?t.set.bind(n):o.tE,l=wn({get:r,set:a});Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const e in c)Ne(c[e],i,n,e);if(u){const e=(0,o.Tn)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{We(t,e[t])}))}function I(e,t){(0,o.cy)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(p&&Me(p,e,"c"),I(ne,h),I(re,f),I(oe,m),I(ie,g),I(Y,v),I(J,y),I(de,E),I(ue,C),I(ce,S),I(ae,w),I(se,_),I(le,P),(0,o.cy)(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});k&&e.render===o.tE&&(e.render=k),null!=A&&(e.inheritAttrs=A),M&&(e.components=M),N&&(e.directives=N),P&&H(e)}(e)}finally{(0,r.bl)(),t()}}}const yn={get:(e,t)=>((0,r.u4)(e,"get",""),e[t])};function bn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy((0,r.Pr)((0,r.IG)(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Se?Se[n](e):void 0,has:(e,t)=>t in e||t in Se})):e.proxy}const wn=(e,t)=>(0,r.EW)(e,t,mn);function xn(e,t,n){const r=arguments.length;return 2===r?(0,o.Gv)(t)&&!(0,o.cy)(t)?zt(t)?qt(e,null,[t]):qt(e,t):qt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&zt(n)&&(n=[n]),qt(e,t,n))}const _n="3.5.17"},20711:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/meta-data":true},"$recursiveAnchor":true,"title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},20999:(e,t,n)=>{var r=n(69302),o=n(36800);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},21549:(e,t,n)=>{var r=n(22032),o=n(63862),i=n(66721),a=n(12749),s=n(35749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},21667:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"div[data-v-74c292ef]{display:flex;justify-content:space-between;min-width:10em;height:2.5em;flex-direction:row;align-items:center}div label[data-v-74c292ef],div>input[type=button][data-v-74c292ef]{width:100%;font-size:12px;color:#fff;padding:0 .9375em;line-height:2.5rem;background-color:unset;border:unset;cursor:pointer}div label[data-v-74c292ef]:hover,div>input[type=button][data-v-74c292ef]:hover{color:#00e58d}",""]);const s=a},21791:(e,t,n)=>{var r=n(16547),o=n(43360);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?o(n,c,u):r(n,c,u)}return n}},21793:(e,t,n)=>{var r=n(98621);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("e20c8d90",r,!0,{sourceMap:!1,shadowMode:!1})},21986:(e,t,n)=>{var r=n(51873),o=n(37828),i=n(75288),a=n(25911),s=n(20317),l=n(84247),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=a(h(e),h(t),r,c,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},22031:(e,t,n)=>{var r=n(56857),o=n(68191).Graph,i=n(39859);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new o,a=0,s=0;r.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),r.forEach(e.edges(),(function(e){var r=n.edge(e.v,e.w)||0,o=t(e),i=r+o;n.setEdge(e.v,e.w,i),s=Math.max(s,n.node(e.v).out+=o),a=Math.max(a,n.node(e.w).in+=o)}));var c=r.range(s+a+3).map((function(){return new i})),u=a+1;return r.forEach(n.nodes(),(function(e){l(c,u,n.node(e))})),{graph:n,buckets:c,zeroIdx:u}}(e,t||a),c=function(e,t,n){for(var r,o=[],i=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)s(e,t,n,r);for(;r=i.dequeue();)s(e,t,n,r);if(e.nodeCount())for(var l=t.length-2;l>0;--l)if(r=t[l].dequeue()){o=o.concat(s(e,t,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(t){return e.outEdges(t.v,t.w)})),!0)};var a=r.constant(1);function s(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),(function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,l(t,n,s)})),r.forEach(e.outEdges(o.v),(function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,l(t,n,a)})),e.removeNode(o.v),a}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},22032:(e,t,n)=>{var r=n(81042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},23007:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},23181:(e,t,n)=>{var r=n(85508)();e.exports=r},23210:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.locks={}}return e.prototype.add=function(e,t){this.locks[e]=t},e.prototype.clear=function(){this.locks={}},e.prototype.isEmpty=function(){for(var e in this.locks)return!1;return!0},e.prototype.apply=function(e){for(var t in this.locks)e(Number(t),this.locks[t])},e}();t.Locks=n;var r=function(){function e(e,t,r){void 0===r&&(r=null),this.D=t,this.G=r,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new o,this.project=null,this.x=e,this.k=e.length;var i=this.n=e[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new n,this.minD=Number.MAX_VALUE;for(var a,s=i;s--;)for(a=i;--a>s;){var l=t[s][a];l>0&&l<this.minD&&(this.minD=l)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),s=this.k;s--;){for(this.g[s]=new Array(i),this.H[s]=new Array(i),a=i;a--;)this.H[s][a]=new Array(i);this.Hd[s]=new Array(i),this.a[s]=new Array(i),this.b[s]=new Array(i),this.c[s]=new Array(i),this.d[s]=new Array(i),this.e[s]=new Array(i),this.ia[s]=new Array(i),this.ib[s]=new Array(i),this.xtmp[s]=new Array(i)}}return e.createSquareMatrix=function(e,t){for(var n=new Array(e),r=0;r<e;++r){n[r]=new Array(e);for(var o=0;o<e;++o)n[r][o]=t(r,o)}return n},e.prototype.offsetDir=function(){for(var e=this,t=new Array(this.k),n=0,r=0;r<this.k;++r){var o=t[r]=this.random.getNextBetween(.01,1)-.5;n+=o*o}return n=Math.sqrt(n),t.map((function(t){return t*(e.minD/n)}))},e.prototype.computeDerivatives=function(e){var t=this,n=this.n;if(!(n<1)){for(var r,o=new Array(this.k),i=new Array(this.k),a=new Array(this.k),s=0,l=0;l<n;++l){for(r=0;r<this.k;++r)a[r]=this.g[r][l]=0;for(var c=0;c<n;++c)if(l!==c){for(var u=n;u--;){var d=0;for(r=0;r<this.k;++r){var p=o[r]=e[r][l]-e[r][c];d+=i[r]=p*p}if(d>1e-9)break;var h=this.offsetDir();for(r=0;r<this.k;++r)e[r][c]+=h[r]}var f=Math.sqrt(d),m=this.D[l][c],g=null!=this.G?this.G[l][c]:1;if(g>1&&f>m||!isFinite(m))for(r=0;r<this.k;++r)this.H[r][l][c]=0;else{g>1&&(g=1);var v=m*m,y=2*g*(f-m)/(v*f),b=f*f*f,w=2*-g/(v*b);for(isFinite(y)||console.log(y),r=0;r<this.k;++r)this.g[r][l]+=o[r]*y,a[r]-=this.H[r][l][c]=w*(b+m*(i[r]-d)+f*d)}}for(r=0;r<this.k;++r)s=Math.max(s,this.H[r][l][l]=a[r])}var x=this.snapGridSize/2,_=this.snapGridSize,k=this.snapStrength/(x*x),C=this.numGridSnapNodes;for(l=0;l<C;++l)for(r=0;r<this.k;++r){var S=this.x[r][l],E=S/_,P=E%1,T=E-P;-x<(p=Math.abs(P)<=.5?S-T*_:S>0?S-(T+1)*_:S-(T-1)*_)&&p<=x&&(this.scaleSnapByMaxH?(this.g[r][l]+=s*k*p,this.H[r][l][l]+=s*k):(this.g[r][l]+=k*p,this.H[r][l][l]+=k))}this.locks.isEmpty()||this.locks.apply((function(n,o){for(r=0;r<t.k;++r)t.H[r][n][n]+=s,t.g[r][n]-=s*(o[r]-e[r][n])}))}},e.dotProd=function(e,t){for(var n=0,r=e.length;r--;)n+=e[r]*t[r];return n},e.rightMultiply=function(t,n,r){for(var o=t.length;o--;)r[o]=e.dotProd(t[o],n)},e.prototype.computeStepSize=function(t){for(var n=0,r=0,o=0;o<this.k;++o)n+=e.dotProd(this.g[o],t[o]),e.rightMultiply(this.H[o],t[o],this.Hd[o]),r+=e.dotProd(t[o],this.Hd[o]);return 0!==r&&isFinite(r)?1*n/r:0},e.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var e=this.computeStepSize(this.g),t=0;t<this.k;++t)this.takeDescentStep(this.x[t],this.g[t],e);return this.computeStress()},e.copy=function(e,t){for(var n=e.length,r=t[0].length,o=0;o<n;++o)for(var i=0;i<r;++i)t[o][i]=e[o][i]},e.prototype.stepAndProject=function(t,n,r,o){e.copy(t,n),this.takeDescentStep(n[0],r[0],o),this.project&&this.project[0](t[0],t[1],n[0]),this.takeDescentStep(n[1],r[1],o),this.project&&this.project[1](n[0],t[1],n[1]);for(var i=2;i<this.k;i++)this.takeDescentStep(n[i],r[i],o)},e.mApply=function(e,t,n){for(var r=e;r-- >0;)for(var o=t;o-- >0;)n(r,o)},e.prototype.matrixApply=function(t){e.mApply(this.k,this.n,t)},e.prototype.computeNextPosition=function(e,t){var n=this;this.computeDerivatives(e);var r=this.computeStepSize(this.g);if(this.stepAndProject(e,t,this.g,r),this.project){this.matrixApply((function(r,o){return n.e[r][o]=e[r][o]-t[r][o]}));var o=this.computeStepSize(this.e);o=Math.max(.2,Math.min(o,1)),this.stepAndProject(e,t,this.e,o)}},e.prototype.run=function(e){for(var t=Number.MAX_VALUE,n=!1;!n&&e-- >0;){var r=this.rungeKutta();n=Math.abs(t/r-1)<this.threshold,t=r}return t},e.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),e.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),e.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply((function(e,r){var o=(t.a[e][r]+2*t.b[e][r]+2*t.c[e][r]+t.d[e][r])/6,i=t.x[e][r]-o;n+=i*i,t.x[e][r]=o})),n},e.mid=function(t,n,r){e.mApply(t.length,t[0].length,(function(e,o){return r[e][o]=t[e][o]+(n[e][o]-t[e][o])/2}))},e.prototype.takeDescentStep=function(e,t,n){for(var r=0;r<this.n;++r)e[r]=e[r]-n*t[r]},e.prototype.computeStress=function(){for(var e=0,t=0,n=this.n-1;t<n;++t)for(var r=t+1,o=this.n;r<o;++r){for(var i=0,a=0;a<this.k;++a){var s=this.x[a][t]-this.x[a][r];i+=s*s}i=Math.sqrt(i);var l=this.D[t][r];if(isFinite(l)){var c=l-i;e+=c*c/(l*l)}}return e},e.zeroDistance=1e-10,e}();t.Descent=r;var o=function(){function e(e){void 0===e&&(e=1),this.seed=e,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return e.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},e.prototype.getNextBetween=function(e,t){return e+this.getNext()*(t-e)},e}();t.PseudoRandom=o},23799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(33252),o={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,r.dynamicRef)(e,e.schema)};t.default=o},23805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},24066:(e,t,n)=>{var r=n(83488);e.exports=function(e){return"function"==typeof e?e:r}},24222:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@500&family=Roboto&family=Roboto+Mono&display=swap);"]),a.push([e.id,':root{--baklava-control-color-primary:#00e58d;--baklava-control-color-error:#cc4747;--baklava-control-color-background:#343434;--baklava-control-color-foreground:#fff;--baklava-control-color-hover:#4a4a4a;--baklava-control-color-active:#6f6f6f;--baklava-control-border-radius:10px;--baklava-node-color-background:#1d1d1d;--baklava-node-color-foreground:#fff;--baklava-node-color-selected:--baklava-control-color-primary;--baklava-node-title-color-background:#343434;--baklava-node-title-color-foreground:#fff;--baklava-node-border-radius:15px;--baklava-color-connection-default:#fff;--baklava-color-connection-allowed:#00e58d;--baklava-color-connection-forbidden:#cc4747;--baklava-editor-background-pattern-default:#0f0f0f;--baklava-editor-background-pattern-line:#343434;--baklava-editor-background-pattern-black:#343434;--baklava-sidebar-color-background:#1d1d1d;--baklava-sidebar-color-foreground:#fff}.connections-container{z-index:1}.node-container{z-index:2}.selection-container{z-index:3;position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none}.baklava-editor .background{background-image:linear-gradient(#151515 2%,transparent 0),linear-gradient(90deg,#151515 2%,transparent 0)}.baklava-editor{position:relative;z-index:1}.baklava-slider>.__slider{background-color:#00e58d}.baklava-node-interface{padding:.5em 0}.baklava-node-interface .--input,.baklava-node-interface .--output{height:1em}.baklava-node-interface>.__port,.baklava-node-interface>.__square{background-color:#00e58d;width:1em;height:1em;top:calc(50% - .5em)}.baklava-node-interface>.__port>svg,.baklava-node-interface>.__square>svg{position:absolute;top:0;left:0;height:1em;width:1em}.baklava-node-interface>.__square{border-radius:10%}.baklava-node-interface>.__square>.__port_name_left,.baklava-node-interface>.__square>.__port_name_right{position:relative;height:1em;width:-moz-fit-content;width:fit-content;top:-.15em}.baklava-node-interface>.__square>.__port_name_left>span,.baklava-node-interface>.__square>.__port_name_right>span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 .3em 0 .3em;border-radius:5px;background-color:rgba(0,229,141,.5)}.baklava-node-interface>.__square>.__port_name_left>input,.baklava-node-interface>.__square>.__port_name_right>input{color:#fff;background-color:rgba(52,52,52,.7);position:relative;outline:none;border:none;border-radius:5px}.baklava-node-interface>.__square>.__port_name_left>input:focus,.baklava-node-interface>.__square>.__port_name_right>input:focus{outline:2px solid #00e58d}.baklava-node-interface>.__square>.__port_name_left>input.__error,.baklava-node-interface>.__square>.__port_name_right>input.__error{outline:2px solid #cc4747}.baklava-node-interface>.__square>.__port_name_left{left:0;translate:-100%}.baklava-node-interface>.__square>.__port_name_left>input,.baklava-node-interface>.__square>.__port_name_left>span{margin-left:0}.baklava-node-interface>.__square>.__port_name_left>span{margin-right:.15em}.baklava-node-interface>.__square>.__port_name_left>input{margin-right:.3em}.baklava-node-interface>.__square>.__port_name_right{left:100%}.baklava-node-interface>.__square>.__port_name_right>input,.baklava-node-interface>.__square>.__port_name_right>span{margin-right:0}.baklava-node-interface>.__square>.__port_name_right>span{margin-left:.15em}.baklava-node-interface>.__square>.__port_name_right>input{margin-left:.3em}.baklava-node-interface>.__square.__port_input{position:relative;top:-.15em;height:1em;width:-moz-fit-content;width:fit-content;background-color:transparent;border:none;border-radius:10%;color:#fff;caret-color:#fff}.baklava-node-interface .__property_name{left:0;translate:-100%;position:absolute;height:1em;width:-moz-fit-content;width:fit-content;top:50%}.baklava-node-interface .__property_name>span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 .3em 0 .3em;border-radius:5px;background-color:rgba(0,229,141,.5);position:absolute;transform:translate(-102%,-50%)}.baklava-node-interface .__property_name>input{color:#fff;background-color:rgba(52,52,52,.7);outline:none;border:none;border-radius:5px;position:absolute;transform:translate(-102%,-50%)}.baklava-node-interface .__property_name>input:focus{outline:2px solid #00e58d}.baklava-node-interface .__property_name>input.__error{outline:2px solid #cc4747}.baklava-node-interface .__property_input{position:relative;height:1em;width:-moz-fit-content;width:fit-content;background-color:transparent;border:none;border-radius:10%;color:#fff;caret-color:#fff}.baklava-node-interface.__readonly{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:auto}.baklava-node-interface.__readonly,.baklava-node-interface.__readonly *{pointer-events:none}.baklava-node-interface.__readonly .__markdown-content,.baklava-node-interface.__readonly .baklava-button{-webkit-user-select:text;-moz-user-select:text;user-select:text}.baklava-node-interface.__readonly .__markdown-content,.baklava-node-interface.__readonly .__markdown-content *,.baklava-node-interface.__readonly .baklava-button,.baklava-node-interface.__readonly .baklava-button *{pointer-events:auto}.baklava-node-interface>.baklava-num-input>.__button.--inc{border-bottom-right-radius:var(--baklava-control-border-radius);border-top-right-radius:var(--baklava-control-border-radius)}.baklava-node-interface>.baklava-num-input>.__button.--dec{border-bottom-left-radius:var(--baklava-control-border-radius);border-top-left-radius:var(--baklava-control-border-radius)}.baklava-checkbox .__checkmark-container>svg>path{display:none}.baklava-node-interface .greyedout_arrow{background-color:#343434}.baklava-node-interface .picked{background-color:#cca747!important}.baklava-context-menu{display:flex;flex-direction:column;background-color:#1d1d1d;border-radius:unset;border:1px solid #343434;cursor:auto}.baklava-context-menu.hidden-navbar{translate:0 60px}.baklava-context-menu>.item{display:flex;gap:1em;position:relative;flex-direction:row;text-decoration:none;padding:.75em 1em;height:2.75em;color:inherit;font-size:.875em}.baklava-context-menu>.item:not(.--disabled):hover{color:var(--baklava-control-color-primary);cursor:pointer}.baklava-context-menu>.item>.icon{flex-grow:0;pointer-events:none;width:auto;height:1.25em;width:1.25em}.baklava-context-menu>.item>.icon:not(.readonly):hover{color:var(--baklava-control-color-primary)}.baklava-context-menu>.item>.icon>img,.baklava-context-menu>.item>.icon>svg{height:1.25em;width:1.25em}.baklava-context-menu>.item:not(.--header):not(.--active):not(.--disabled):hover{background-color:#1d1d1d}.baklava-context-menu>.item:not(.--header):not(.--active):not(.--disabled):hover>.flex-fill{color:#00e58d}.baklava-context-menu>.item:not(.--header):not(.--active):not(.--disabled):hover>.ml-3 svg path{fill:#00e58d}.baklava-context-menu>.item>.ml-3>svg{height:7px;transform:scale(80);scale:.02}.baklava-context-menu>.item>.ml-3>svg>path{d:path("M99.4,111.6l64.2,69.2L99.4,250h54.5l64.2-69.2l-64.2-69.2H99.4z")!important}.rectangle-selection{height:100%;width:100%;opacity:.15;background-color:#00e58d}.rectangle-selection-border{border:2px dashed #00e58d;opacity:.7}.Vue-Toastification__toast--default{background-color:#1d1d1d!important}@media only screen and (max-width:600px){.Vue-Toastification__toast{width:90%!important;margin-left:5%;border-radius:8px!important}}*{font-family:Montserrat,sans-serif}#app,#container,body,html{position:absolute;width:100%;height:100%;margin:0;background-color:#0f0f0f;overflow:hidden}input[type=file]{display:none}input[type=button],label{margin:0;padding:0;text-align:left;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset}hr{border:1px solid #343434}hr,ul{margin:0}ul{list-style:none;padding:0;display:flex;flex-direction:column;gap:20px}button{background-color:unset;border:unset;cursor:pointer;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset;padding:0}:root{scrollbar-color:#6f6f6f #343434!important}::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:#343434}::-webkit-scrollbar-thumb{background-color:#6f6f6f;border-radius:5px}.baklava-connection,.connection-wrapper{pointer-events:visibleStroke;stroke:var(--color);stroke-width:.2%}.--hover.connection-wrapper,.baklava-connection.--hover{stroke-width:.25%;stroke:#00e58d}.--dashed.connection-wrapper,.baklava-connection.--dashed{stroke-dasharray:10 4;stroke-dashoffset:0}.--dotted.connection-wrapper,.baklava-connection.--dotted{stroke-dasharray:3 3}.connection-wrapper{stroke:transparent;stroke-width:10px}.create-menu{display:flex;flex-direction:column;gap:1em;height:-moz-max-content;height:max-content;max-height:85vh}.create-menu,.create-menu>div>.__name-option>.baklava-input{box-sizing:border-box}.create-menu>div>.option-label{padding-bottom:10px;color:#fff;font-size:14px}.baklava-node{min-width:300px!important;width:auto;display:table;max-width:none;background-color:#1d1d1de6;transition:box-shadow var(--baklava-visual-transition)!important;filter:none}.baklava-node.--selected{z-index:5}.baklava-node.--selected,.baklava-node:hover{box-shadow:0 0 0 calc(1px/var(--scale)) #00e58d}.baklava-node.--dragging{box-shadow:0 0 0 calc(1.5px/var(--scale)) #00e58d;filter:none}.baklava-node>.__content>div>div{margin:0}.baklava-node>.__title{height:4em;display:flex;align-items:center;gap:1em;padding:0 1em;width:auto;white-space:nowrap}.baklava-node>.__title>.__title-icon{flex-grow:0;padding:0;height:2em;width:2em;pointer-events:none}.baklava-node>.__title>.__title-label{flex-grow:1}.baklava-node>.__title>.__title-label>.subtitle{margin:0;font-size:12px;color:#999;pointer-events:all}.baklava-node>.__title>.__title-label>.subtitle>span,.baklava-node>.__title>.__title-label>span{color:#00e58d}.baklava-node>.__title>.__menu{cursor:pointer;flex-grow:0;height:2em;width:2em;padding:.5em}.baklava-node>.__title>.__menu>svg{height:1em;width:1em}.baklava-node>.__title>.__menu:hover>svg{color:#00e58d}.baklava-node.--two-column>.__content{display:block}.baklava-node.--two-column>.__content>.__interfaces{display:grid;grid-template-columns:1fr 1fr}.baklava-node.--two-column>.__content>.__interfaces>.__inputs{grid-row:1;grid-column:1}.baklava-node.--two-column>.__content>.__interfaces>.__outputs{grid-row:1;grid-column:2}.baklava-node.--greyed-out{filter:brightness(60%) blur(.5px)}.baklava-node.--hidden{visibility:hidden}.baklava-node-palette{top:0;width:auto;min-width:min(300px,50vw);max-width:min(450px,50vw);background:#151515;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-right:1px solid #393939;height:calc(100% - 95px);padding:0;z-index:3;display:flex;flex-direction:column;overflow:visible}.baklava-node-palette.hidden-navbar{top:60px;transform:translate(-450px)}.baklava-node-palette .search-bar .palette-title{display:flex;margin:0;border:1px solid #393939;border-right:0;border-top:0;border-left:0;height:3em}.baklava-node-palette .search-bar .palette-title .tab{cursor:pointer;display:flex;align-items:center;justify-content:center;height:100%;width:100%}.baklava-node-palette .search-bar .palette-title .tab.--active{background-color:var(--baklava-node-color-background)}.baklava-node-palette .search-bar .palette-title .tab:not(.--active){color:var(--baklava-control-color-hover)}.baklava-node-palette .search-bar .palette-title .tab:hover{color:#00e58d}.baklava-node-palette .entries{overflow-y:auto;overflow-x:hidden}.baklava-node-palette h1{margin:0}.baklava-node-palette>.entries{overflow-y:auto}.__entry,.__entry_search{gap:1em;padding:0 1em;width:auto;font-size:12px;border:1px solid #393939;border-right:0;border-top:0;border-left:0;height:4em;background:var(--baklava-node-color-background);color:#fff;display:flex;align-items:center;cursor:grab;overflow:hidden}.__entry:hover,.__entry_search:hover{color:#00e58d}.__entry>.__title-icon,.__entry_search>.__title-icon{flex-grow:0;padding:0;height:2em;width:2em;pointer-events:none}.__entry>.__title-label,.__entry_search>.__title-label{flex-grow:1;width:-moz-max-content;width:max-content}.__entry>.__title-label>span,.__entry_search>.__title-label>span{color:#00e58d}.__category.__entry_search,.__entry.__category{cursor:pointer;background-color:#151515;padding-right:0}.__category.__entry_search>.__entry,.__category.__entry_search>.__entry_search,.__entry.__category>.__entry,.__entry.__category>.__entry_search{flex-grow:1;border-left:1px solid #393939}.__category.__entry_search>.__title>span,.__entry.__category>.__title>span{color:#00e58d}.__entry>.__url,.__entry_search>.__url{display:inline;text-decoration:none;color:inherit;width:auto}.__entry>.__url img,.__entry_search>.__url img{width:2em;height:2em;display:block}.__entry.__node-entry,.__node-entry.__entry_search{width:100%;flex-grow:1;justify-content:space-between}.__entry.__node-entry.__top-level-node-entry>.__title-icon,.__node-entry.__top-level-node-entry.__entry_search>.__title-icon{height:.75em;width:.75em}.__entry>.__node-entry,.__entry_search>.__node-entry{border-bottom:0}.__entry .__vertical_ellipsis,.__entry_search .__vertical_ellipsis{cursor:pointer!important}.__entry>.__icondiv,.__entry_search>.__icondiv{position:absolute;left:100%;max-width:18em;background-color:#181818;border-bottom:1px solid #737373;z-index:9999;transform:translateY(50%) translateY(-1.75em) translateY(-4px)}.__entry_search{background-color:#151515;cursor:auto;padding-right:0;overflow:visible}.__entry_search>.palette-search{height:100%;width:100%;color:#fff;border:none;background-color:#151515;padding-left:1em}.__entry_search>.palette-search:focus{outline:1px solid #00e58d}.__entry_search>.palette-search::-moz-placeholder{opacity:.5}.__entry_search>.palette-search::placeholder{opacity:.5}.baklava-sidebar{position:absolute;min-width:-moz-min-content;min-width:min-content;max-width:50vw;z-index:3;padding:0;top:61px;border:1px solid #393939;border-right:0;height:calc(100% - 95px);transform:translateX(100%);transition:transform .4s;overflow-y:scroll}.baklava-sidebar.--preview{top:0;height:100%}.baklava-sidebar.--hidehud:not(.--preview){height:calc(100% - 60px)}.baklava-sidebar.--open{transform:translateX(0);transition:transform .2s;box-shadow:0 15px 15px #000}.baklava-sidebar>.__resizer{width:10px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.baklava-sidebar>.__content{display:flex;flex-direction:column}.baklava-sidebar>.__content>div,.baklava-sidebar>.__content>div>.__title{border:1px solid #393939;border-right:0;border-left:0;border-top:0}.baklava-sidebar>.__content>div>.__title{text-align:left;font-weight:600;padding:1.25em .625em}.baklava-sidebar>.__content>.__header{height:4em;display:flex;gap:1em;padding:0 1em;width:auto}.baklava-sidebar>.__content>.__header .__close{min-width:.5em;cursor:pointer;outline:none}.baklava-sidebar>.__content>.__header>.__node-icon{flex-grow:0;padding:0;height:2em;width:2em;pointer-events:none}.baklava-sidebar>.__content>.__header>.__node-name{margin:0;flex-grow:1;white-space:nowrap}.baklava-sidebar>.__content>.__header>.__url{display:inline;text-decoration:none;color:inherit;width:auto;position:relative}.baklava-sidebar>.__content>.__header>.__url img{width:2em;height:2em;display:block}.baklava-sidebar>.__content>.__category>.__category-name{white-space:nowrap;padding:.625em 1.25em}.baklava-sidebar>.__content>.__id>.__value{white-space:nowrap;padding:.625em 1.25em;font-size:small}.baklava-sidebar>.__content>.__replace>.__replace_entry{display:flex;flex-wrap:wrap;align-items:center;gap:.5em;padding:.5em}.baklava-sidebar>.__content>.__replace>.__replace_entry>.__replace_title{padding:0 .75em}.baklava-sidebar>.__content>.__properties>.__property{padding:.625em 1.25em 0 1.25em}.baklava-sidebar>.__content>.__properties>.__property>.__property-name{font-size:.9em}.baklava-sidebar>.__content>.__properties>.__property *{box-sizing:border-box}.baklava-sidebar>.__content>.__properties>.__property:last-child{padding-bottom:1.25em}.baklava-sidebar>.__content>.__interface_groups>.__group{padding:.3em 1.25em}.baklava-sidebar>.__content>.__interface_groups>.__group:last-child{border:0}.baklava-sidebar>.__content>.__interface_groups>.__group-assign{padding:.625em 1.25em}.baklava-sidebar>.__content>.__interface_groups>.__group-assign .--disabled{pointer-events:none;cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);box-shadow:none}.baklava-sidebar>.__content>.__error_outputs p{padding:0 1.25em}.baklava-sidebar>.__content>.__spec-editor-section>.__spec-editor{padding:.625em 1.25em 0 1.25em}.baklava-sidebar>.__content>.__spec-editor-section>.__spec-editor>.__validate-button{width:100%;margin:.5em 0}.baklava-sidebar>.__content>.__spec-editor-section>.__spec-editor>.__validate-button:disabled{pointer-events:none;cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);box-shadow:none}.baklava-sidebar>.__content>.__spec-editor-section>.__spec-editor>.__editor{font-family:monospace;box-sizing:border-box;-moz-tab-size:2;-o-tab-size:2;tab-size:2;resize:none;overflow:hidden}.__markdown{background-color:#1d1d1d80;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:absolute;padding:20px;color:#fff;left:0;z-index:10;top:0;width:100%;height:100%;min-height:-moz-fit-content;min-height:fit-content;overflow-y:scroll}.__markdown-content>div{display:block;vertical-align:bottom;width:30%}.__markdown-content span{max-width:30vh}.__markdown-content>.node_description{display:block;vertical-align:bottom;margin-left:1em;margin-right:1em;margin-bottom:1em;width:auto;overflow-wrap:break-word}.__markdown-content code{background-color:#343434e0;color:#cca747;font-family:monospace;padding:0 2px 2px 2px}.__markdown-content a{color:#00e58d;text-decoration:none;word-wrap:normal}.__markdown-content img{display:block;margin-left:auto;margin-right:auto;margin-top:10px;max-width:100%}.__markdown-content li{list-style-type:circle;margin-left:20px}',""]);const s=a},24423:(e,t,n)=>{var r=n(10117),o=n(66454),i=n(71737);e.exports=function(e,t){var n,a=new o,s={},l=new i;function c(e){var r=e.v===n?e.w:e.v,o=l.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,l.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){l.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),l.decrease(e.nodes()[0],0);for(var u=!1;l.size()>0;){if(n=l.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(n).forEach(c)}return a}},24438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".welcome-container-panel{position:fixed!important;left:min(300px,50vw)!important;top:0!important;width:calc(100vw - min(300px,50vw))!important;height:100vh!important;z-index:2!important;padding:0!important;margin:0!important;right:0!important;bottom:0!important}.welcome-container-panel .blur-panel{left:0!important;top:0!important;background-color:transparent!important;-webkit-backdrop-filter:none!important;backdrop-filter:none!important}.welcome-container-panel .blur-panel,.welcome-container-panel .popup-menu{position:static!important;width:100%!important;height:100%!important;padding:0!important;margin:0!important}.welcome-container-panel .popup-menu{transform:none!important;left:auto!important;top:auto!important;border:none!important;border-radius:0!important;background:rgba(0,0,0,.271)!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important;display:flex!important;align-items:center!important;justify-content:center!important}",""]);const s=a},24495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=n(99029),o=n(94227);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:i,schemaPath:a,errSchemaPath:s,topSchemaRef:l}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===n?{schema:i,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,o.escapeFragment)(n)}`}}if(void 0!==i){if(void 0===a||void 0===s||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:a,topSchemaRef:l,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:i,data:a,dataTypes:s,propertyName:l}){if(void 0!==a&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:a,dataPathArr:s,opts:l}=t;u(c.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${a}${(0,o.getErrorPath)(n,i,l.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...s,e.parentDataProperty]}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}void 0!==a&&(u(a instanceof r.Name?a:c.let("data",a,!0)),void 0!==l&&(e.propertyName=l)),s&&(e.dataTypes=s)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:o,allErrors:i}){void 0!==r&&(e.compositeRule=r),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}},24713:(e,t,n)=>{var r=n(2523),o=n(15389),i=n(61489),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=a(s+l,0)),r(e,o(t,3),l)}},24739:(e,t,n)=>{var r=n(26025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},25413:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(31846),o=n(34845),i=n(32626),a=[r.default,o.default,i.default];t.default=a},25504:(e,t)=>{"use strict";var n={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},r="a".charCodeAt();t.parse=function(e,t,o){var i={},a=0,s=0,l=0,c=o&&o.bigint&&"undefined"!=typeof BigInt;return{data:function t(n,r){var o;u(),y(n,"value");var i=h();switch(i){case"t":p("rue"),o=!0;break;case"f":p("alse"),o=!1;break;case"n":p("ull"),o=null;break;case'"':o=d();break;case"[":o=function(e){u();var n=[],r=0;if("]"==h())return n;for(f();;){var o=e+"/"+r;n.push(t(o)),u();var i=h();if("]"==i)break;","!=i&&_(),u(),r++}return n}(n);break;case"{":o=function(e){u();var n={};if("}"==h())return n;for(f();;){var r=w();'"'!=h()&&_();var o=d(),i=e+"/"+m(o);b(i,"key",r),y(i,"keyEnd"),u(),":"!=h()&&_(),u(),n[o]=t(i),u();var a=h();if("}"==a)break;","!=a&&_(),u()}return n}(n);break;default:f(),"-0123456789".indexOf(i)>=0?o=function(){var t="",n=!0;"-"==e[l]&&(t+=h()),t+="0"==e[l]?h():v(),"."==e[l]&&(t+=h()+v(),n=!1),"e"!=e[l]&&"E"!=e[l]||(t+=h(),"+"!=e[l]&&"-"!=e[l]||(t+=h()),t+=v(),n=!1);var r=+t;return c&&n&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(t):r}():x()}return y(n,"valueEnd"),u(),r&&l<e.length&&x(),o}("",!0),pointers:i};function u(){e:for(;l<e.length;){switch(e[l]){case" ":s++;break;case"\t":s+=4;break;case"\r":s=0;break;case"\n":s=0,a++;break;default:break e}l++}}function d(){for(var e,t="";'"'!=(e=h());)"\\"==e?(e=h())in n?t+=n[e]:"u"==e?t+=g():_():t+=e;return t}function p(e){for(var t=0;t<e.length;t++)h()!==e[t]&&_()}function h(){k();var t=e[l];return l++,s++,t}function f(){l--,s--}function g(){for(var e=4,t=0;e--;){t<<=4;var n=h().toLowerCase();n>="a"&&n<="f"?t+=n.charCodeAt()-r+10:n>="0"&&n<="9"?t+=+n:_()}return String.fromCharCode(t)}function v(){for(var t="";e[l]>="0"&&e[l]<="9";)t+=h();if(t.length)return t;k(),x()}function y(e,t){b(e,t,w())}function b(e,t,n){i[e]=i[e]||{},i[e][t]=n}function w(){return{line:a,column:s,pos:l}}function x(){throw new SyntaxError("Unexpected token "+e[l]+" in JSON at position "+l)}function _(){f(),x()}function k(){if(l>=e.length)throw new SyntaxError("Unexpected end of JSON input")}},t.stringify=function(e,t,n){if(i(e)){var r,o,a=0,s="object"==typeof n?n.space:n;switch(typeof s){case"number":var l=s>10?10:s<0?0:Math.floor(s);s=l&&x(l," "),r=l,o=l;break;case"string":s=s.slice(0,10),r=0,o=0;for(var c=0;c<s.length;c++){switch(s[c]){case" ":o++;break;case"\t":o+=4;break;case"\r":o=0;break;case"\n":o=0,a++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:s=void 0}var u="",d={},h=0,f=0,g=0,v=n&&n.es6&&"function"==typeof Map;return function e(t,n,r){switch(w(r,"value"),typeof t){case"number":case"bigint":case"boolean":y(""+t);break;case"string":y(p(t));break;case"object":null===t?y("null"):"function"==typeof t.toJSON?y(p(t.toJSON())):Array.isArray(t)?o():v?t.constructor.BYTES_PER_ELEMENT?o():t instanceof Map?l():t instanceof Set?l(!0):a():a()}function o(){if(t.length){y("[");for(var o=n+1,a=0;a<t.length;a++){a&&y(","),b(o);var s=i(t[a])?t[a]:null;e(s,o,r+"/"+a)}b(n),y("]")}else y("[]")}function a(){var o=Object.keys(t);if(o.length){y("{");for(var a=n+1,l=0;l<o.length;l++){var c=o[l],u=t[c];if(i(u)){l&&y(",");var d=r+"/"+m(c);b(a),w(d,"key"),y(p(c)),w(d,"keyEnd"),y(":"),s&&y(" "),e(u,a,d)}}b(n),y("}")}else y("{}")}function l(o){if(t.size){y("{");for(var a=n+1,l=!0,c=t.entries(),u=c.next();!u.done;){var d=u.value,h=d[0],f=!!o||d[1];if(i(f)){l||y(","),l=!1;var g=r+"/"+m(h);b(a),w(g,"key"),y(p(h)),w(g,"keyEnd"),y(":"),s&&y(" "),e(f,a,g)}u=c.next()}b(n),y("}")}else y("{}")}w(r,"valueEnd")}(e,0,""),{json:u,pointers:d}}function y(e){f+=e.length,g+=e.length,u+=e}function b(e){if(s){for(u+="\n"+x(e,s),h++,f=0;e--;)a?(h+=a,f=o):f+=o,g+=r;g+=1}}function w(e,t){d[e]=d[e]||{},d[e][t]={line:h,column:f,pos:g}}function x(e,t){return Array(e+1).join(t)}};var o=["number","bigint","boolean","string","object"];function i(e){return o.indexOf(typeof e)>=0}var a=/"|\\/g,s=/[\b]/g,l=/\f/g,c=/\n/g,u=/\r/g,d=/\t/g;function p(e){return'"'+(e=e.replace(a,"\\$&").replace(l,"\\f").replace(s,"\\b").replace(c,"\\n").replace(u,"\\r").replace(d,"\\t"))+'"'}var h=/~/g,f=/\//g;function m(e){return e.replace(h,"~0").replace(f,"~1")}},25911:(e,t,n)=>{var r=n(38859),o=n(14248),i=n(19219);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],y=t[f];if(a)var b=c?a(y,v,f,t,e,l):a(v,y,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},26025:(e,t,n)=>{var r=n(75288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},26060:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-a4021e88]{stroke:#fff;fill:#1d1d1d}.hovered[data-v-a4021e88]{stroke:#00e58d;fill:#1d1d1d}",""]);const s=a},26061:(e,t)=>{var n,r=((n={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,r,o,i,a){var s=i.length-1;switch(o){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=i[s-1];case 13:this.$={};break;case 14:case 19:this.$=i[s-1];break;case 15:this.$=[i[s-2],i[s]];break;case 16:this.$={},this.$[i[s][0]]=i[s][1];break;case 17:this.$=i[s-2],i[s-2][i[s][0]]=i[s][1];break;case 18:this.$=[];break;case 20:this.$=[i[s]];break;case 21:this.$=i[s-2],i[s-2].push(i[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],o=[],i=this.table,a="",s=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;function d(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}o.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,h,f,m,g,v,y,b,w,x={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null==p&&(p=d()),m=i[f]&&i[f][p]),void 0===m||!m.length||!m[0]){if(!c){for(v in w=[],i[f])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");var _="";_=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+this.terminals_[p]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}if(3==c){if(1==p)throw new Error(_||"Parsing halted.");l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,p=d()}for(;!(2..toString()in i[f]);){if(0==f)throw new Error(_||"Parsing halted.");n.length=n.length-2,r.length=r.length-1,o.length=o.length-1,f=n[n.length-1]}h=p,p=2,m=i[f=n[n.length-1]]&&i[f][2],c=3}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+p);switch(m[0]){case 1:n.push(p),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(m[1]),p=null,h?(p=h,h=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[m[1]][1],x.$=r[r.length-y],x._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},void 0!==(g=this.performAction.call(x,a,l,s,this.yy,m[1],r,o)))return g;y&&(n=n.slice(0,-1*y*2),r=r.slice(0,-1*y),o=o.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),r.push(x.$),o.push(x._$),b=i[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length&&(!(n=this._input.match(this.rules[i[a]]))||t&&!(n[0].length>t[0].length)||(t=n,r=a,this.options.flex));a++);return t?((o=t[0].match(/\n.*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},n);t.parser=r,t.parse=r.parse.bind(r)},26164:(e,t,n)=>{var r=n(54808);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("6ac1b5c8",r,!0,{sourceMap:!1,shadowMode:!1})},26875:()=>{},27047:(e,t,n)=>{var r=n(21667);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("63e414a4",r,!0,{sourceMap:!1,shadowMode:!1})},27094:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCClient=void 0;var i=n(51287),a=n(82616),s=function(){function e(e,t){this._send=e,this.createID=t,this.idToResolveMap=new Map,this.id=0}return e.prototype._createID=function(){return this.createID?this.createID():++this.id},e.prototype.timeout=function(e,t){var n=this;void 0===t&&(t=function(e){return(0,i.createJSONRPCErrorResponse)(e,a.DefaultErrorCode,"Request timeout")});var r=function(r,o){var i=setTimeout((function(){r.forEach((function(e){var r=n.idToResolveMap.get(e);r&&(n.idToResolveMap.delete(e),r(t(e)))}))}),e);return o().then((function(e){return clearTimeout(i),e}),(function(e){return clearTimeout(i),Promise.reject(e)}))};return{request:function(e,t,o){var i=n._createID();return r([i],(function(){return n.requestWithID(e,t,o,i)}))},requestAdvanced:function(e,t){return function(e,t){var o=(Array.isArray(e)?e:[e]).map((function(e){return e.id})).filter(l);return r(o,(function(){return n.requestAdvanced(e,t)}))}(e,t)}}},e.prototype.request=function(e,t,n){return this.requestWithID(e,t,n,this._createID())},e.prototype.requestWithID=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r,s;return o(this,(function(o){switch(o.label){case 0:return r=(0,i.createJSONRPCRequest)(a,e,t),[4,this.requestAdvanced(r,n)];case 1:return void 0===(s=o.sent()).result||s.error?void 0===s.result&&s.error?[2,Promise.reject(new i.JSONRPCErrorException(s.error.message,s.error.code,s.error.data))]:[2,Promise.reject(new Error("An unexpected error occurred"))]:[2,s.result]}}))}))},e.prototype.requestAdvanced=function(e,t){var n=this,r=Array.isArray(e);Array.isArray(e)||(e=[e]);var o=e.filter((function(e){return l(e.id)})),s=o.map((function(e){return new Promise((function(t){return n.idToResolveMap.set(e.id,t)}))})),c=Promise.all(s).then((function(e){return r||!e.length?e:e[0]}));return this.send(r?e:e[0],t).then((function(){return c}),(function(e){return o.forEach((function(t){n.receive((0,i.createJSONRPCErrorResponse)(t.id,a.DefaultErrorCode,e&&e.message||"Failed to send a request"))})),c}))},e.prototype.notify=function(e,t,n){var r=(0,i.createJSONRPCNotification)(e,t);this.send(r,n).then(void 0,(function(){}))},e.prototype.send=function(e,t){return r(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this._send(e,t)]}))}))},e.prototype.rejectAllPendingRequests=function(e){this.idToResolveMap.forEach((function(t,n){return t((0,i.createJSONRPCErrorResponse)(n,a.DefaultErrorCode,e))})),this.idToResolveMap.clear()},e.prototype.receive=function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){var n=t.idToResolveMap.get(e.id);n&&(t.idToResolveMap.delete(e.id),n(e))}))},e}();t.JSONRPCClient=s;var l=function(e){return null!=e}},27252:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".zoom-container[data-v-14fd0c95]{display:flex;flex-direction:column;position:fixed;z-index:100;align-items:center;gap:22px}.zoom-container .zoom-center[data-v-14fd0c95]{width:44px;height:44px;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#1d1d1d;border:1px solid #343434;border-radius:100%}.zoom-container .zoom-control-wrapper[data-v-14fd0c95]{display:flex;flex-direction:column;background-color:#1d1d1d;border:1px solid #343434;border-radius:3px}.zoom-container .zoom-control-wrapper .zoom-control[data-v-14fd0c95]{width:44px;height:44px;display:flex;justify-content:center;align-items:center;cursor:pointer}.zoom-container .zoom-control-wrapper .zoom-control[data-v-14fd0c95]:first-of-type{border-bottom:1px solid #343434}.zoom-container.floating[data-v-14fd0c95]{bottom:70px;right:30px}.zoom-container.normal[data-v-14fd0c95]{bottom:30px;right:30px}",""]);const s=a},27280:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".loading-screen{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:99;background-color:#1d1d1d80}#loading-screen-spinner>.square{background:#00e58d!important}",""]);const s=a},27301:e=>{e.exports=function(e){return function(t){return e(t)}}},27534:(e,t,n)=>{var r=n(72552),o=n(40346);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},27935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i=n(76250),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:a,schemaCode:s,schema:l}=e;a||l&&"object"==typeof l?e.fail$data(r._`!${(0,o.useFunc)(t,i.default)}(${n}, ${s})`):e.fail(r._`${l} !== ${n}`)}};t.default=a},28077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},28303:(e,t,n)=>{var r=n(56110)(n(9325),"WeakMap");e.exports=r},28420:(e,t,n)=>{var r=n(86976);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("711c1837",r,!0,{sourceMap:!1,shadowMode:!1})},28586:(e,t,n)=>{var r=n(56449),o=n(44394),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},28643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i=n(76250),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:a,schema:s,schemaCode:l,it:c}=e;if(!a&&0===s.length)throw new Error("enum must have non-empty array");const u=s.length>=c.opts.loopEnum;let d;const p=()=>null!=d?d:d=(0,o.useFunc)(t,i.default);let h;if(u||a)h=t.let("valid"),e.block$data(h,(function(){t.assign(h,!1),t.forOf("v",l,(e=>t.if(r._`${p()}(${n}, ${e})`,(()=>t.assign(h,!0).break()))))}));else{if(!Array.isArray(s))throw new Error("ajv implementation error");const e=t.const("vSchema",l);h=(0,r.or)(...s.map(((t,o)=>function(e,t){const o=s[t];return"object"==typeof o&&null!==o?r._`${p()}(${n}, ${e}[${t}])`:r._`${n} === ${o}`}(e,o))))}e.pass(h)}};t.default=a},28727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(48708),o=n(99029),i=n(42023),a={message:"boolean schema is false"};function s(e,t){const{gen:n,data:o}=e,i={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(i,a,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?s(e,!1):"object"==typeof n&&!0===n.$async?t.return(i.default.data):(t.assign(o._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),s(e)):n.var(t,!0)}},28768:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(20641),o=n(90033);const i=["title"],a={class:"__label"},s=(0,r.pM)({props:{intf:{required:!0}}}),l=(0,n(66262).A)(s,[["render",function(e,t,n,s,l,c){return(0,r.uX)(),(0,r.CE)("div",{class:(0,o.C4)(["baklava-checkbox",{"--checked":e.intf.value}]),style:(0,o.Tr)({cursor:e.intf.readonly?"default":null}),title:e.intf.name,onClick:t[0]||(t[0]=t=>e.intf.value=e.intf.readonly?e.intf.value:!e.intf.value)},[t[1]||(t[1]=(0,r.Lk)("div",{class:"__checkmark-container"},[(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[(0,r.Lk)("path",{class:"__checkmark",d:"M 6 5 L 6 10 L 16 10",transform:"rotate(-45 10 10)"})])],-1)),(0,r.Lk)("div",a,(0,o.v_)(e.intf.name),1)],14,i)}]])},28879:(e,t,n)=>{var r=n(74335)(Object.getPrototypeOf,Object);e.exports=r},28905:(e,t,n)=>{var r=n(10117),o=n(71737);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,s={},l=new o,c=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,l.decrease(t,c))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},l.add(e,n)}));l.size()>0&&(i=l.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return s}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},29172:(e,t,n)=>{var r=n(5861),o=n(40346);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},29276:(e,t,n)=>{var r=n(10117);function o(e,t,n,i,a,s){r.has(i,t)||(i[t]=!0,n||s.push(t),r.each(a(t),(function(t){o(e,t,n,i,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);o(e,t,"post"===n,s,i,a)})),a}},29817:e=>{e.exports=function(e){return this.__data__.has(e)}},29888:(e,t,n)=>{var r=n(10117);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new i;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))})),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=new Error},29905:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},29957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.elem=e,this.subheaps=[]}return e.prototype.toString=function(e){for(var t="",n=!1,r=0;r<this.subheaps.length;++r){var o=this.subheaps[r];o.elem?(n&&(t+=","),t+=o.toString(e),n=!0):n=!1}return""!==t&&(t="("+t+")"),(this.elem?e(this.elem):"")+t},e.prototype.forEach=function(e){this.empty()||(e(this.elem,this),this.subheaps.forEach((function(t){return t.forEach(e)})))},e.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce((function(e,t){return e+t.count()}),0)},e.prototype.min=function(){return this.elem},e.prototype.empty=function(){return null==this.elem},e.prototype.contains=function(e){if(this===e)return!0;for(var t=0;t<this.subheaps.length;t++)if(this.subheaps[t].contains(e))return!0;return!1},e.prototype.isHeap=function(e){var t=this;return this.subheaps.every((function(n){return e(t.elem,n.elem)&&n.isHeap(e)}))},e.prototype.insert=function(t,n){return this.merge(new e(t),n)},e.prototype.merge=function(e,t){return this.empty()?e:e.empty()?this:t(this.elem,e.elem)?(this.subheaps.push(e),this):(e.subheaps.push(this),e)},e.prototype.removeMin=function(e){return this.empty()?null:this.mergePairs(e)},e.prototype.mergePairs=function(t){if(0==this.subheaps.length)return new e(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),t),r=this.mergePairs(t);return n.merge(r,t)},e.prototype.decreaseKey=function(t,n,r,o){var i=t.removeMin(o);t.elem=i.elem,t.subheaps=i.subheaps,null!==r&&null!==i.elem&&r(t.elem,t);var a=new e(n);return null!==r&&r(n,a),this.merge(a,o)},e}();t.PairingHeap=n;var r=function(){function e(e){this.lessThan=e}return e.prototype.top=function(){return this.empty()?null:this.root.elem},e.prototype.push=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var o,i=0;o=t[i];++i)e=new n(o),this.root=this.empty()?e:this.root.merge(e,this.lessThan);return e},e.prototype.empty=function(){return!this.root||!this.root.elem},e.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},e.prototype.forEach=function(e){this.root.forEach(e)},e.prototype.pop=function(){if(this.empty())return null;var e=this.root.min();return this.root=this.root.removeMin(this.lessThan),e},e.prototype.reduceKey=function(e,t,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(e,t,n,this.lessThan)},e.prototype.toString=function(e){return this.root.toString(e)},e.prototype.count=function(){return this.root.count()},e}();t.PriorityQueue=r},30239:(e,t,n)=>{var r=n(17307);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("a141b576",r,!0,{sourceMap:!1,shadowMode:!1})},30294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},30361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},30514:(e,t,n)=>{var r=n(34932);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},30641:(e,t,n)=>{var r=n(86649),o=n(95950);e.exports=function(e,t){return e&&r(e,t,o)}},30700:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,'.welcome-container[data-v-ad09295c]{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:500px;margin:30px auto;background:#1d1d1d;color:#fff;padding:30px;border-radius:15px}.subtitle[data-v-ad09295c]{font-size:14px;color:#999;line-height:1.5;margin:0 0 30px 0;font-weight:400;text-align:center}.drop-zone[data-v-ad09295c]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;min-height:200px;border:2px dashed #343434;border-radius:10px;background:rgba(52,52,52,.2);transition:all .3s ease;padding:30px 25px;text-align:center}.drop-zone.dragging[data-v-ad09295c]{border-color:#00e58d;background:rgba(0,229,141,.05)}.drop-zone h3[data-v-ad09295c]{font-size:16px;font-weight:500;margin:0 0 5px 0;color:#fff}.drop-icon[data-v-ad09295c]{margin-bottom:20px;color:#6f6f6f;padding:5px}.drop-text[data-v-ad09295c]{color:#999;margin:0 0 25px 0;font-size:12px;max-width:280px}.or-divider[data-v-ad09295c]{display:flex;align-items:center;width:100%;margin:20px 0}.or-divider[data-v-ad09295c]:after,.or-divider[data-v-ad09295c]:before{content:"";flex:1;height:1px;background:#343434}.or-divider span[data-v-ad09295c]{padding:0 20px;color:#6f6f6f;font-size:12px;font-weight:500}.browse-button[data-v-ad09295c]{display:flex;align-items:center;gap:5px;background:#00e58d;color:#0f0f0f;border-radius:10px;padding:15px 25px;font-size:14px;font-weight:500;transition:all .2s ease;margin-bottom:20px}.browse-button[data-v-ad09295c]:hover{background:rgba(0,229,141,.8)}.footer-links[data-v-ad09295c]{display:flex;gap:25px;margin-top:25px;justify-content:center}.footer-link[data-v-ad09295c]{display:flex;align-items:center;gap:5px;color:#999;text-decoration:none;font-size:12px;font-weight:500;transition:all .2s ease;padding:5px 15px;border-radius:5px}.footer-link[data-v-ad09295c]:hover{color:#00e58d;background:rgba(0,229,141,.05)}.footer-link:hover svg[data-v-ad09295c]{opacity:1}.footer-link svg[data-v-ad09295c]{opacity:.7}@media(max-width:768px){.welcome-container[data-v-ad09295c]{margin:20px;padding:25px;max-width:none}.subtitle[data-v-ad09295c]{font-size:12px}.drop-zone[data-v-ad09295c]{min-height:180px}}',""]);const s=a},30756:(e,t,n)=>{var r=n(23805);e.exports=function(e){return e==e&&!r(e)}},30821:(e,t,n)=>{var r=n(75585);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("13c37a59",r,!0,{sourceMap:!1,shadowMode:!1})},31045:(e,t,n)=>{var r=n(29276);e.exports=function(e,t){return r(e,t,"post")}},31166:(e,t,n)=>{e.exports={Graph:n(66454),version:n(44458)}},31175:(e,t,n)=>{var r=n(26025);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},31380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},31667:(e,t,n)=>{e.exports={components:n(33619),dijkstra:n(28905),dijkstraAll:n(34919),findCycles:n(16678),floydWarshall:n(73590),isAcyclic:n(60498),postorder:n(31045),preorder:n(46016),prim:n(24423),tarjan:n(16291),topsort:n(29888)}},31684:(e,t,n)=>{var r=n(93599),o=n(56176),i=n(83488);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},31769:(e,t,n)=>{var r=n(56449),o=n(28586),i=n(61802),a=n(13222);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},31800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},31846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(83025),o={keyword:"dependentRequired",type:"object",schemaType:"object",error:r.error,code:e=>(0,r.validatePropertyDeps)(e)};t.default=o},31989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},32017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},32133:(e,t,n)=>{var r=n(16945);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("c86f162a",r,!0,{sourceMap:!1,shadowMode:!1})},32626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(94227),o={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:n}){void 0===t.contains&&(0,r.checkStrictMode)(n,`"${e}" without "contains" is ignored`)}};t.default=o},32629:(e,t,n)=>{var r=n(9999);e.exports=function(e){return r(e,4)}},32681:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-41e945d3]{fill:#fff}.hovered[data-v-41e945d3]{fill:#00e58d}",""]);const s=a},32804:(e,t,n)=>{var r=n(56110)(n(9325),"Promise");e.exports=r},32865:(e,t,n)=>{var r=n(19570),o=n(51811)(r);e.exports=o},33031:(e,t,n)=>{var r=n(83120),o=n(46155),i=n(69302),a=n(36800),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=s},33111:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t,n){return p=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&u(o,n.prototype),o},p.apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return p(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},h(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function g(e){var t=d();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},v(e,t,n||e)}function y(e,t){return w(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||x(e,t)||k()}function b(e){return w(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||k()}function w(e){if(Array.isArray(e))return e}function x(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}n.d(t,{YAML:()=>pn});var S="#",E="!",P="ALIAS",T="BLANK_LINE",A="BLOCK_FOLDED",M="BLOCK_LITERAL",N="COMMENT",O="DOCUMENT",I="FLOW_MAP",R="FLOW_SEQ",L="MAP",j="MAP_KEY",D="MAP_VALUE",$="PLAIN",B="QUOTE_DOUBLE",V="QUOTE_SINGLE",F="SEQ",z="SEQ_ITEM",U="tag:yaml.org,2002:",W={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function K(e){for(var t=[0],n=e.indexOf("\n");-1!==n;)n+=1,t.push(n),n=e.indexOf("\n",n);return t}function H(e){var t,n;return"string"==typeof e?(t=K(e),n=e):(Array.isArray(e)&&(e=e[0]),e&&e.context&&(e.lineStarts||(e.lineStarts=K(e.context.src)),t=e.lineStarts,n=e.context.src)),{lineStarts:t,src:n}}function q(e,t){if("number"!=typeof e||e<0)return null;var n=H(t),r=n.lineStarts,o=n.src;if(!r||!o||e>o.length)return null;for(var i=0;i<r.length;++i){var a=r[i];if(e<a)return{line:i,col:e-r[i-1]+1};if(e===a)return{line:i+1,col:1}}var s=r.length;return{line:s,col:e-r[s-1]+1}}var G=function(){function e(t,n){o(this,e),this.start=t,this.end=n||t}return a(e,[{key:"isEmpty",value:function(){return"number"!=typeof this.start||!this.end||this.end<=this.start}},{key:"setOrigRange",value:function(e,t){var n=this.start,r=this.end;if(0===e.length||r<=e[0])return this.origStart=n,this.origEnd=r,t;for(var o=t;o<e.length&&!(e[o]>n);)++o;this.origStart=n+o;for(var i=o;o<e.length&&!(e[o]>=r);)++o;return this.origEnd=r+o,i}}],[{key:"copy",value:function(t){return new e(t.start,t.end)}}]),e}(),X=function(){function e(t,n,r){o(this,e),Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=t,this.value=null}return a(e,[{key:"getPropValue",value:function(e,t,n){if(!this.context)return null;var r=this.context.src,o=this.props[e];return o&&r[o.start]===t?r.slice(o.start+(n?1:0),o.end):null}},{key:"anchor",get:function(){for(var e=0;e<this.props.length;++e){var t=this.getPropValue(e,"&",!0);if(null!=t)return t}return null}},{key:"comment",get:function(){for(var e=[],t=0;t<this.props.length;++t){var n=this.getPropValue(t,S,!0);null!=n&&e.push(n)}return e.length>0?e.join("\n"):null}},{key:"commentHasRequiredWhitespace",value:function(t){var n=this.context.src;if(this.header&&t===this.header.end)return!1;if(!this.valueRange)return!1;var r=this.valueRange.end;return t!==r||e.atBlank(n,r-1)}},{key:"hasComment",get:function(){if(this.context)for(var e=this.context.src,t=0;t<this.props.length;++t)if(e[this.props[t].start]===S)return!0;return!1}},{key:"hasProps",get:function(){if(this.context)for(var e=this.context.src,t=0;t<this.props.length;++t)if(e[this.props[t].start]!==S)return!0;return!1}},{key:"includesTrailingLines",get:function(){return!1}},{key:"jsonLike",get:function(){return-1!==[I,R,B,V].indexOf(this.type)}},{key:"rangeAsLinePos",get:function(){if(this.range&&this.context){var e=q(this.range.start,this.context.root);if(e)return{start:e,end:q(this.range.end,this.context.root)}}}},{key:"rawValue",get:function(){if(!this.valueRange||!this.context)return null;var e=this.valueRange,t=e.start,n=e.end;return this.context.src.slice(t,n)}},{key:"tag",get:function(){for(var e=0;e<this.props.length;++e){var t=this.getPropValue(e,E,!1);if(null!=t){if("<"===t[1])return{verbatim:t.slice(2,-1)};var n=y(t.match(/^(.*!)([^!]*)$/),3);return n[0],{handle:n[1],suffix:n[2]}}}return null}},{key:"valueRangeContainsNewline",get:function(){if(!this.valueRange||!this.context)return!1;for(var e=this.valueRange,t=e.start,n=e.end,r=this.context.src,o=t;o<n;++o)if("\n"===r[o])return!0;return!1}},{key:"parseComment",value:function(t){var n=this.context.src;if(n[t]===S){var r=e.endOfLine(n,t+1),o=new G(t,r);return this.props.push(o),r}return t}},{key:"setOrigRanges",value:function(e,t){return this.range&&(t=this.range.setOrigRange(e,t)),this.valueRange&&this.valueRange.setOrigRange(e,t),this.props.forEach((function(n){return n.setOrigRange(e,t)})),t}},{key:"toString",value:function(){var t=this.context.src,n=this.range,r=this.value;if(null!=r)return r;var o=t.slice(n.start,n.end);return e.addStringTerminator(t,n.end,o)}}],[{key:"addStringTerminator",value:function(t,n,r){if("\n"===r[r.length-1])return r;var o=e.endOfWhiteSpace(t,n);return o>=t.length||"\n"===t[o]?r+"\n":r}},{key:"atDocumentBoundary",value:function(e,t,n){var r=e[t];if(!r)return!0;var o=e[t-1];if(o&&"\n"!==o)return!1;if(n){if(r!==n)return!1}else if("-"!==r&&"."!==r)return!1;var i=e[t+1],a=e[t+2];if(i!==r||a!==r)return!1;var s=e[t+3];return!s||"\n"===s||"\t"===s||" "===s}},{key:"endOfIdentifier",value:function(e,t){for(var n=e[t],r="<"===n,o=r?["\n","\t"," ",">"]:["\n","\t"," ","[","]","{","}",","];n&&-1===o.indexOf(n);)n=e[t+=1];return r&&">"===n&&(t+=1),t}},{key:"endOfIndent",value:function(e,t){for(var n=e[t];" "===n;)n=e[t+=1];return t}},{key:"endOfLine",value:function(e,t){for(var n=e[t];n&&"\n"!==n;)n=e[t+=1];return t}},{key:"endOfWhiteSpace",value:function(e,t){for(var n=e[t];"\t"===n||" "===n;)n=e[t+=1];return t}},{key:"startOfLine",value:function(e,t){var n=e[t-1];if("\n"===n)return t;for(;n&&"\n"!==n;)n=e[t-=1];return t+1}},{key:"endOfBlockIndent",value:function(t,n,r){var o=e.endOfIndent(t,r);if(o>r+n)return o;var i=e.endOfWhiteSpace(t,o),a=t[i];return a&&"\n"!==a?null:i}},{key:"atBlank",value:function(e,t,n){var r=e[t];return"\n"===r||"\t"===r||" "===r||n&&!r}},{key:"nextNodeIsIndented",value:function(e,t,n){return!(!e||t<0)&&(t>0||n&&"-"===e)}},{key:"normalizeOffset",value:function(t,n){var r=t[n];return r?"\n"!==r&&"\n"===t[n-1]?n-1:e.endOfWhiteSpace(t,n):n}},{key:"foldNewline",value:function(t,n,r){for(var o=0,i=!1,a="",s=t[n+1];" "===s||"\t"===s||"\n"===s;){switch(s){case"\n":o=0,n+=1,a+="\n";break;case"\t":o<=r&&(i=!0),n=e.endOfWhiteSpace(t,n+2)-1;break;case" ":o+=1,n+=1}s=t[n+1]}return a||(a=" "),s&&o<=r&&(i=!0),{fold:a,offset:n,error:i}}}]),e}(),Y=function(e){l(n,e);var t=g(n);function n(e,r,i){var a;if(o(this,n),!(i&&r instanceof X))throw new Error("Invalid arguments for new ".concat(e));return(a=t.call(this)).name=e,a.message=i,a.source=r,a}return a(n,[{key:"makePretty",value:function(){if(this.source){this.nodeType=this.source.type;var e=this.source.context&&this.source.context.root;if("number"==typeof this.offset){this.range=new G(this.offset,this.offset+1);var t=e&&q(this.offset,e);if(t){var n={line:t.line,col:t.col+1};this.linePos={start:t,end:n}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){var r=this.linePos.start,o=r.line,i=r.col;this.message+=" at line ".concat(o,", column ").concat(i);var a=e&&function(e,t){var n=e.start,r=e.end,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,i=function(e,t){var n=H(t),r=n.lineStarts,o=n.src;if(!r||!(e>=1)||e>r.length)return null;for(var i=r[e-1],a=r[e];a&&a>i&&"\n"===o[a-1];)--a;return o.slice(i,a)}(n.line,t);if(!i)return null;var a=n.col;if(i.length>o)if(a<=o-10)i=i.substr(0,o-1)+"";else{var s=Math.round(o/2);i.length>a+s&&(i=i.substr(0,a+s-1)+""),a-=i.length-o,i=""+i.substr(1-o)}var l=1,c="";r&&(r.line===n.line&&a+(r.col-n.col)<=o+1?l=r.col-n.col:(l=Math.min(i.length+1,o)-a,c=""));var u=a>1?" ".repeat(a-1):"",d="^".repeat(l);return"".concat(i,"\n").concat(u).concat(d).concat(c)}(this.linePos,e);a&&(this.message+=":\n\n".concat(a,"\n"))}delete this.source}}}]),n}(h(Error)),J=function(e){l(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,"YAMLReferenceError",e,r)}return n}(Y),Z=function(e){l(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,"YAMLSemanticError",e,r)}return n}(Y),Q=function(e){l(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,"YAMLSyntaxError",e,r)}return n}(Y),ee=function(e){l(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,"YAMLWarning",e,r)}return n}(Y),te=function(e){l(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;for(var e=this.valueRange,t=e.start,n=e.end,r=this.context.src,o=r[n-1];t<n&&("\n"===o||"\t"===o||" "===o);)o=r[--n-1];for(var i="",a=t;a<n;++a){var s=r[a];if("\n"===s){var l=X.foldNewline(r,a,-1);i+=l.fold,a=l.offset}else if(" "===s||"\t"===s){for(var c=a,u=r[a+1];a<n&&(" "===u||"\t"===u);)u=r[(a+=1)+1];"\n"!==u&&(i+=a>c?r.slice(c,a+1):s)}else i+=s}var d=r[t];switch(d){case"\t":return{errors:[new Z(this,"Plain value cannot start with a tab character")],str:i};case"@":case"`":var p="Plain value cannot start with reserved character ".concat(d);return{errors:[new Z(this,p)],str:i};default:return i}}},{key:"parseBlockValue",value:function(e){for(var t=this.context,r=t.indent,o=t.inFlow,i=t.src,a=e,s=e,l=i[a];"\n"===l&&!X.atDocumentBoundary(i,a+1);l=i[a]){var c=X.endOfBlockIndent(i,r,a+1);if(null===c||"#"===i[c])break;a="\n"===i[c]?c:s=n.endOfLine(i,c,o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=s,s}},{key:"parse",value:function(e,t){this.context=e;var r=e.inFlow,o=e.src,i=t,a=o[i];return a&&"#"!==a&&"\n"!==a&&(i=n.endOfLine(o,t,r)),this.valueRange=new G(t,i),i=X.endOfWhiteSpace(o,i),i=this.parseComment(i),this.hasComment&&!this.valueRange.isEmpty()||(i=this.parseBlockValue(i)),i}}],[{key:"endOfLine",value:function(e,t,n){for(var r=e[t],o=t;r&&"\n"!==r&&(!n||"["!==r&&"]"!==r&&"{"!==r&&"}"!==r&&","!==r);){var i=e[o+1];if(":"===r&&(!i||"\n"===i||"\t"===i||" "===i||n&&","===i))break;if((" "===r||"\t"===r)&&"#"===i)break;o+=1,r=i}return o}}]),n}(X),ne=function(e){l(n,e);var t=g(n);function n(){return o(this,n),t.call(this,T)}return a(n,[{key:"includesTrailingLines",get:function(){return!0}},{key:"parse",value:function(e,t){return this.context=e,this.range=new G(t,t+1),t+1}}]),n}(X),re=function(e){l(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r)).node=null,i}return a(n,[{key:"includesTrailingLines",get:function(){return!!this.node&&this.node.includesTrailingLines}},{key:"parse",value:function(e,t){this.context=e;var n=e.parseNode,r=e.src,o=e.atLineStart,i=e.lineStart;o||this.type!==z||(this.error=new Z(this,"Sequence items must not have preceding content on the same line"));for(var a=o?t-i:e.indent,s=X.endOfWhiteSpace(r,t+1),l=r[s],c="#"===l,u=[],d=null;"\n"===l||"#"===l;){if("#"===l){var p=X.endOfLine(r,s+1);u.push(new G(s,p)),s=p}else o=!0,i=s+1,"\n"===r[X.endOfWhiteSpace(r,i)]&&0===u.length&&(i=(d=new ne).parse({src:r},i)),s=X.endOfIndent(r,i);l=r[s]}if(X.nextNodeIsIndented(l,s-(i+a),this.type!==z)?this.node=n({atLineStart:o,inCollection:!1,indent:a,lineStart:i,parent:this},s):l&&i>t+1&&(s=i-1),this.node){if(d){var h=e.parent.items||e.parent.contents;h&&h.push(d)}u.length&&Array.prototype.push.apply(this.props,u),s=this.node.range.end}else if(c){var f=u[0];this.props.push(f),s=f.end}else s=X.endOfLine(r,t+1);var m=this.node?this.node.valueRange.end:s;return this.valueRange=new G(t,m),s}},{key:"setOrigRanges",value:function(e,t){return t=v(c(n.prototype),"setOrigRanges",this).call(this,e,t),this.node?this.node.setOrigRanges(e,t):t}},{key:"toString",value:function(){var e=this.context.src,t=this.node,n=this.range,r=this.value;if(null!=r)return r;var o=t?e.slice(n.start,t.range.start)+String(t):e.slice(n.start,n.end);return X.addStringTerminator(e,n.end,o)}}]),n}(X),oe=function(e){l(n,e);var t=g(n);function n(){return o(this,n),t.call(this,N)}return a(n,[{key:"parse",value:function(e,t){this.context=e;var n=this.parseComment(t);return this.range=new G(t,n),n}}]),n}(X);function ie(e){for(var t=e;t instanceof re;)t=t.node;if(!(t instanceof ae))return null;for(var n=t.items.length,r=-1,o=n-1;o>=0;--o){var i=t.items[o];if(i.type===N){var a=i.context,s=a.indent,l=a.lineStart;if(s>0&&i.range.start>=l+s)break;r=o}else{if(i.type!==T)break;r=o}}if(-1===r)return null;for(var c=t.items.splice(r,n-r),u=c[0].range.start;t.range.end=u,t.valueRange&&t.valueRange.end>u&&(t.valueRange.end=u),t!==e;)t=t.context.parent;return c}var ae=function(e){l(n,e);var t=g(n);function n(e){var r;o(this,n),r=t.call(this,e.type===z?F:L);for(var i=e.props.length-1;i>=0;--i)if(e.props[i].start<e.context.lineStart){r.props=e.props.slice(0,i+1),e.props=e.props.slice(i+1);var a=e.props[0]||e.valueRange;e.range.start=a.start;break}r.items=[e];var s=ie(e);return s&&Array.prototype.push.apply(r.items,s),r}return a(n,[{key:"includesTrailingLines",get:function(){return this.items.length>0}},{key:"parse",value:function(e,t){this.context=e;var r=e.parseNode,o=e.src,i=X.startOfLine(o,t),a=this.items[0];a.context.parent=this,this.valueRange=G.copy(a.valueRange);for(var s=a.range.start-a.context.lineStart,l=t,c=o[l=X.normalizeOffset(o,l)],u=X.endOfWhiteSpace(o,i)===l,d=!1;c;){for(;"\n"===c||"#"===c;){if(u&&"\n"===c&&!d){var p=new ne;if(l=p.parse({src:o},l),this.valueRange.end=l,l>=o.length){c=null;break}this.items.push(p),l-=1}else if("#"===c){if(l<i+s&&!n.nextContentHasIndent(o,l,s))return l;var h=new oe;if(l=h.parse({indent:s,lineStart:i,src:o},l),this.items.push(h),this.valueRange.end=l,l>=o.length){c=null;break}}if(i=l+1,l=X.endOfIndent(o,i),X.atBlank(o,l)){var f=X.endOfWhiteSpace(o,l),m=o[f];m&&"\n"!==m&&"#"!==m||(l=f)}c=o[l],u=!0}if(!c)break;if(l!==i+s&&(u||":"!==c)){if(l<i+s){i>t&&(l=i);break}this.error||(this.error=new Q(this,"All collection items must start at the same column"))}if(a.type===z){if("-"!==c){i>t&&(l=i);break}}else if("-"===c&&!this.error){var g=o[l+1];g&&"\n"!==g&&"\t"!==g&&" "!==g||(this.error=new Q(this,"A collection cannot be both a mapping and a sequence"))}var v=r({atLineStart:u,inCollection:!0,indent:s,lineStart:i,parent:this},l);if(!v)return l;if(this.items.push(v),this.valueRange.end=v.valueRange.end,c=o[l=X.normalizeOffset(o,v.range.end)],u=!1,d=v.includesTrailingLines,c){for(var y=l-1,b=o[y];" "===b||"\t"===b;)b=o[--y];"\n"===b&&(i=y+1,u=!0)}var w=ie(v);w&&Array.prototype.push.apply(this.items,w)}return l}},{key:"setOrigRanges",value:function(e,t){return t=v(c(n.prototype),"setOrigRanges",this).call(this,e,t),this.items.forEach((function(n){t=n.setOrigRanges(e,t)})),t}},{key:"toString",value:function(){var e=this.context.src,t=this.items,n=this.range,r=this.value;if(null!=r)return r;for(var o=e.slice(n.start,t[0].range.start)+String(t[0]),i=1;i<t.length;++i){var a=t[i],s=a.context,l=s.atLineStart,c=s.indent;if(l)for(var u=0;u<c;++u)o+=" ";o+=String(a)}return X.addStringTerminator(e,n.end,o)}}],[{key:"nextContentHasIndent",value:function(e,t,r){var o=X.endOfLine(e,t)+1,i=e[t=X.endOfWhiteSpace(e,o)];return!!i&&(t>=o+r||("#"===i||"\n"===i)&&n.nextContentHasIndent(e,t,r))}}]),n}(X),se=function(e){l(n,e);var t=g(n);function n(){var e;return o(this,n),(e=t.call(this,"DIRECTIVE")).name=null,e}return a(n,[{key:"parameters",get:function(){var e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}},{key:"parseName",value:function(e){for(var t=this.context.src,n=e,r=t[n];r&&"\n"!==r&&"\t"!==r&&" "!==r;)r=t[n+=1];return this.name=t.slice(e,n),n}},{key:"parseParameters",value:function(e){for(var t=this.context.src,n=e,r=t[n];r&&"\n"!==r&&"#"!==r;)r=t[n+=1];return this.valueRange=new G(e,n),n}},{key:"parse",value:function(e,t){this.context=e;var n=this.parseName(t+1);return n=this.parseParameters(n),n=this.parseComment(n),this.range=new G(t,n),n}}]),n}(X),le=function(e){l(n,e);var t=g(n);function n(){var e;return o(this,n),(e=t.call(this,O)).directives=null,e.contents=null,e.directivesEndMarker=null,e.documentEndMarker=null,e}return a(n,[{key:"parseDirectives",value:function(e){var t=this.context.src;this.directives=[];for(var r=!0,o=!1,i=e;!X.atDocumentBoundary(t,i,"-");)switch(t[i=n.startCommentOrEndBlankLine(t,i)]){case"\n":if(r){var a=new ne;(i=a.parse({src:t},i))<t.length&&this.directives.push(a)}else i+=1,r=!0;break;case"#":var s=new oe;i=s.parse({src:t},i),this.directives.push(s),r=!1;break;case"%":var l=new se;i=l.parse({parent:this,src:t},i),this.directives.push(l),o=!0,r=!1;break;default:return o?this.error=new Z(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),i}return t[i]?(this.directivesEndMarker=new G(i,i+3),i+3):(o?this.error=new Z(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),i)}},{key:"parseContents",value:function(e){var t=this.context,r=t.parseNode,o=t.src;this.contents||(this.contents=[]);for(var i=e;"-"===o[i-1];)i-=1;var a=X.endOfWhiteSpace(o,e),s=i===e;for(this.valueRange=new G(a);!X.atDocumentBoundary(o,a,".");){switch(o[a]){case"\n":if(s){var l=new ne;(a=l.parse({src:o},a))<o.length&&this.contents.push(l)}else a+=1,s=!0;i=a;break;case"#":var c=new oe;a=c.parse({src:o},a),this.contents.push(c),s=!1;break;default:var u=X.endOfIndent(o,a),d=r({atLineStart:s,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},u);if(!d)return this.valueRange.end=u;this.contents.push(d),a=d.range.end,s=!1;var p=ie(d);p&&Array.prototype.push.apply(this.contents,p)}a=n.startCommentOrEndBlankLine(o,a)}if(this.valueRange.end=a,o[a]&&(this.documentEndMarker=new G(a,a+3),o[a+=3])){if("#"===o[a=X.endOfWhiteSpace(o,a)]){var h=new oe;a=h.parse({src:o},a),this.contents.push(h)}switch(o[a]){case"\n":a+=1;break;case void 0:break;default:this.error=new Q(this,"Document end marker line cannot have a non-comment suffix")}}return a}},{key:"parse",value:function(e,t){e.root=this,this.context=e;var n=65279===e.src.charCodeAt(t)?t+1:t;return n=this.parseDirectives(n),this.parseContents(n)}},{key:"setOrigRanges",value:function(e,t){return t=v(c(n.prototype),"setOrigRanges",this).call(this,e,t),this.directives.forEach((function(n){t=n.setOrigRanges(e,t)})),this.directivesEndMarker&&(t=this.directivesEndMarker.setOrigRange(e,t)),this.contents.forEach((function(n){t=n.setOrigRanges(e,t)})),this.documentEndMarker&&(t=this.documentEndMarker.setOrigRange(e,t)),t}},{key:"toString",value:function(){var e=this.contents,t=this.directives,n=this.value;if(null!=n)return n;var r=t.join("");return e.length>0&&((t.length>0||e[0].type===N)&&(r+="---\n"),r+=e.join("")),"\n"!==r[r.length-1]&&(r+="\n"),r}}],[{key:"startCommentOrEndBlankLine",value:function(e,t){var n=X.endOfWhiteSpace(e,t),r=e[n];return"#"===r||"\n"===r?n:t}}]),n}(X),ce=function(e){l(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"parse",value:function(e,t){this.context=e;var n=e.src,r=X.endOfIdentifier(n,t+1);return this.valueRange=new G(t+1,r),r=X.endOfWhiteSpace(n,r),this.parseComment(r)}}]),n}(X),ue="KEEP",de="STRIP",pe=function(e){l(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r)).blockIndent=null,i.chomping="CLIP",i.header=null,i}return a(n,[{key:"includesTrailingLines",get:function(){return this.chomping===ue}},{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=this.valueRange,t=e.start,n=e.end,r=this.context,o=r.indent,i=r.src;if(this.valueRange.isEmpty())return"";for(var a=null,s=i[n-1];"\n"===s||"\t"===s||" "===s;){if((n-=1)<=t){if(this.chomping===ue)break;return""}"\n"===s&&(a=n),s=i[n-1]}var l=n+1;a&&(this.chomping===ue?(l=a,n=this.valueRange.end):n=a);for(var c=o+this.blockIndent,u=this.type===A,d=!0,p="",h="",f=!1,m=t;m<n;++m){for(var g=0;g<c&&" "===i[m];++g)m+=1;var v=i[m];if("\n"===v)"\n"===h?p+="\n":h="\n";else{var y=X.endOfLine(i,m),b=i.slice(m,y);m=y,u&&(" "===v||"\t"===v)&&m<l?(" "===h?h="\n":f||d||"\n"!==h||(h="\n\n"),p+=h+b,h=y<n&&i[y]||"",f=!0):(p+=h+b,h=u&&m<l?" ":"\n",f=!1),d&&""!==b&&(d=!1)}}return this.chomping===de?p:p+"\n"}},{key:"parseBlockHeader",value:function(e){for(var t=this.context.src,n=e+1,r="";;){var o=t[n];switch(o){case"-":this.chomping=de;break;case"+":this.chomping=ue;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r+=o;break;default:return this.blockIndent=Number(r)||null,this.header=new G(e,n),n}n+=1}}},{key:"parseBlockValue",value:function(e){for(var t=this.context,n=t.indent,r=t.src,o=!!this.blockIndent,i=e,a=e,s=1,l=r[i];"\n"===l&&(i+=1,!X.atDocumentBoundary(r,i));l=r[i]){var c=X.endOfBlockIndent(r,n,i);if(null===c)break;var u=r[c],d=c-(i+n);if(this.blockIndent){if(u&&"\n"!==u&&d<this.blockIndent){if("#"===r[c])break;if(!this.error){var p="Block scalars must not be less indented than their ".concat(o?"explicit indentation indicator":"first line");this.error=new Z(this,p)}}}else"\n"!==r[c]?(d<s&&(this.error=new Z(this,"Block scalars with more-indented leading empty lines must use an explicit indentation indicator")),this.blockIndent=d):d>s&&(s=d);i="\n"===r[c]?c:a=X.endOfLine(r,c)}return this.chomping!==ue&&(i=r[a]?a+1:a),this.valueRange=new G(e+1,i),i}},{key:"parse",value:function(e,t){this.context=e;var n=e.src,r=this.parseBlockHeader(t);return r=X.endOfWhiteSpace(n,r),r=this.parseComment(r),this.parseBlockValue(r)}},{key:"setOrigRanges",value:function(e,t){return t=v(c(n.prototype),"setOrigRanges",this).call(this,e,t),this.header?this.header.setOrigRange(e,t):t}}]),n}(X),he=function(e){l(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r)).items=null,i}return a(n,[{key:"prevNodeIsJsonLike",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.items[e-1];return!!t&&(t.jsonLike||t.type===N&&this.prevNodeIsJsonLike(e-1))}},{key:"parse",value:function(e,t){this.context=e;var n=e.parseNode,r=e.src,o=e.indent,i=e.lineStart,a=r[t];this.items=[{char:a,offset:t}];var s=X.endOfWhiteSpace(r,t+1);for(a=r[s];a&&"]"!==a&&"}"!==a;){switch(a){case"\n":if(i=s+1,"\n"===r[X.endOfWhiteSpace(r,i)]){var l=new ne;i=l.parse({src:r},i),this.items.push(l)}(s=X.endOfIndent(r,i))<=i+o&&(a=r[s],s<i+o||"]"!==a&&"}"!==a)&&(this.error=new Z(this,"Insufficient indentation in flow collection"));break;case",":this.items.push({char:a,offset:s}),s+=1;break;case"#":var c=new oe;s=c.parse({src:r},s),this.items.push(c);break;case"?":case":":var u=r[s+1];if("\n"===u||"\t"===u||" "===u||","===u||":"===a&&this.prevNodeIsJsonLike()){this.items.push({char:a,offset:s}),s+=1;break}default:var d=n({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:i,parent:this},s);if(!d)return this.valueRange=new G(t,s),s;this.items.push(d),s=X.normalizeOffset(r,d.range.end)}a=r[s=X.endOfWhiteSpace(r,s)]}return this.valueRange=new G(t,s+1),a&&(this.items.push({char:a,offset:s}),s=X.endOfWhiteSpace(r,s+1),s=this.parseComment(s)),s}},{key:"setOrigRanges",value:function(e,t){return t=v(c(n.prototype),"setOrigRanges",this).call(this,e,t),this.items.forEach((function(n){if(n instanceof X)t=n.setOrigRanges(e,t);else if(0===e.length)n.origOffset=n.offset;else{for(var r=t;r<e.length&&!(e[r]>n.offset);)++r;n.origOffset=n.offset+r,t=r}})),t}},{key:"toString",value:function(){var e=this.context.src,t=this.items,n=this.range,r=this.value;if(null!=r)return r;var o=t.filter((function(e){return e instanceof X})),i="",a=n.start;return o.forEach((function(t){var n=e.slice(a,t.range.start);a=t.range.end,"\n"===(i+=n+String(t))[i.length-1]&&"\n"!==e[a-1]&&"\n"===e[a]&&(a+=1)})),i+=e.slice(a,n.end),X.addStringTerminator(e,n.end,i)}}]),n}(X),fe=function(e){l(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=[],t=this.valueRange,n=t.start,r=t.end,o=this.context,i=o.indent,a=o.src;'"'!==a[r-1]&&e.push(new Q(this,'Missing closing "quote'));for(var s="",l=n+1;l<r-1;++l){var c=a[l];if("\n"===c){X.atDocumentBoundary(a,l+1)&&e.push(new Z(this,"Document boundary indicators are not allowed within string values"));var u=X.foldNewline(a,l,i);s+=u.fold,l=u.offset,u.error&&e.push(new Z(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if("\\"===c)switch(a[l+=1]){case"0":s+="\0";break;case"a":s+="";break;case"b":s+="\b";break;case"e":s+="";break;case"f":s+="\f";break;case"n":s+="\n";break;case"r":s+="\r";break;case"t":case"\t":s+="\t";break;case"v":s+="\v";break;case"N":s+="";break;case"_":s+="";break;case"L":s+="\u2028";break;case"P":s+="\u2029";break;case" ":s+=" ";break;case'"':s+='"';break;case"/":s+="/";break;case"\\":s+="\\";break;case"x":s+=this.parseCharCode(l+1,2,e),l+=2;break;case"u":s+=this.parseCharCode(l+1,4,e),l+=4;break;case"U":s+=this.parseCharCode(l+1,8,e),l+=8;break;case"\n":for(;" "===a[l+1]||"\t"===a[l+1];)l+=1;break;default:e.push(new Q(this,"Invalid escape sequence ".concat(a.substr(l-1,2)))),s+="\\"+a[l]}else if(" "===c||"\t"===c){for(var d=l,p=a[l+1];" "===p||"\t"===p;)p=a[(l+=1)+1];"\n"!==p&&(s+=l>d?a.slice(d,l+1):c)}else s+=c}return e.length>0?{errors:e,str:s}:s}},{key:"parseCharCode",value:function(e,t,n){var r=this.context.src,o=r.substr(e,t),i=o.length===t&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;return isNaN(i)?(n.push(new Q(this,"Invalid escape sequence ".concat(r.substr(e-2,t+2)))),r.substr(e-2,t+2)):String.fromCodePoint(i)}},{key:"parse",value:function(e,t){this.context=e;var r=e.src,o=n.endOfQuote(r,t+1);return this.valueRange=new G(t,o),o=X.endOfWhiteSpace(r,o),this.parseComment(o)}}],[{key:"endOfQuote",value:function(e,t){for(var n=e[t];n&&'"'!==n;)n=e[t+="\\"===n?2:1];return t+1}}]),n}(X),me=function(e){l(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=[],t=this.valueRange,n=t.start,r=t.end,o=this.context,i=o.indent,a=o.src;"'"!==a[r-1]&&e.push(new Q(this,"Missing closing 'quote"));for(var s="",l=n+1;l<r-1;++l){var c=a[l];if("\n"===c){X.atDocumentBoundary(a,l+1)&&e.push(new Z(this,"Document boundary indicators are not allowed within string values"));var u=X.foldNewline(a,l,i);s+=u.fold,l=u.offset,u.error&&e.push(new Z(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if("'"===c)s+=c,"'"!==a[l+=1]&&e.push(new Q(this,"Unescaped single quote? This should not happen."));else if(" "===c||"\t"===c){for(var d=l,p=a[l+1];" "===p||"\t"===p;)p=a[(l+=1)+1];"\n"!==p&&(s+=l>d?a.slice(d,l+1):c)}else s+=c}return e.length>0?{errors:e,str:s}:s}},{key:"parse",value:function(e,t){this.context=e;var r=e.src,o=n.endOfQuote(r,t+1);return this.valueRange=new G(t,o),o=X.endOfWhiteSpace(r,o),this.parseComment(o)}}],[{key:"endOfQuote",value:function(e,t){for(var n=e[t];n;)if("'"===n){if("'"!==e[t+1])break;n=e[t+=2]}else n=e[t+=1];return t+1}}]),n}(X),ge=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.atLineStart,a=r.inCollection,l=r.inFlow,c=r.indent,u=r.lineStart,d=r.parent;o(this,e),s(this,"parseNode",(function(n,r){if(X.atDocumentBoundary(t.src,r))return null;var o=new e(t,n),i=o.parseProps(r),a=i.props,s=i.type,l=i.valueStart,c=function(e,t){switch(e){case P:return new ce(e,t);case A:case M:return new pe(e,t);case I:case R:return new he(e,t);case j:case D:case z:return new re(e,t);case N:case $:return new te(e,t);case B:return new fe(e,t);case V:return new me(e,t);default:return null}}(s,a),u=c.parse(o,l);if(c.range=new G(r,u),u<=r&&(c.error=new Error("Node#parse consumed no characters"),c.error.parseEnd=u,c.error.source=c,c.range.end=r+1),o.nodeStartsCollection(c)){c.error||o.atLineStart||o.parent.type!==O||(c.error=new Q(c,"Block collection must not have preceding content here (e.g. directives-end indicator)"));var d=new ae(c);return u=d.parse(new e(o),u),d.range=new G(r,u),d}return c})),this.atLineStart=null!=i?i:n.atLineStart||!1,this.inCollection=null!=a?a:n.inCollection||!1,this.inFlow=null!=l?l:n.inFlow||!1,this.indent=null!=c?c:n.indent,this.lineStart=null!=u?u:n.lineStart,this.parent=null!=d?d:n.parent||{},this.root=n.root,this.src=n.src}return a(e,[{key:"nodeStartsCollection",value:function(e){var t=this.inCollection,n=this.inFlow,r=this.src;if(t||n)return!1;if(e instanceof re)return!0;var o=e.range.end;return"\n"!==r[o]&&"\n"!==r[o-1]&&":"===r[o=X.endOfWhiteSpace(r,o)]}},{key:"parseProps",value:function(t){for(var n=this.inFlow,r=this.parent,o=this.src,i=[],a=!1,s=o[t=this.atLineStart?X.endOfIndent(o,t):X.endOfWhiteSpace(o,t)];"&"===s||s===S||s===E||"\n"===s;){if("\n"===s){var l=t,c=void 0;do{c=l+1,l=X.endOfIndent(o,c)}while("\n"===o[l]);var u=l-(c+this.indent),d=r.type===z&&r.context.atLineStart;if("#"!==o[l]&&!X.nextNodeIsIndented(o[l],u,!d))break;this.atLineStart=!0,this.lineStart=c,a=!1,t=l}else if(s===S){var p=X.endOfLine(o,t+1);i.push(new G(t,p)),t=p}else{var h=X.endOfIdentifier(o,t+1);s===E&&","===o[h]&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(o.slice(t+1,h+13))&&(h=X.endOfIdentifier(o,h+5)),i.push(new G(t,h)),a=!0,t=X.endOfWhiteSpace(o,h)}s=o[t]}return a&&":"===s&&X.atBlank(o,t+1,!0)&&(t-=1),{props:i,type:e.parseType(o,t,n),valueStart:t}}}],[{key:"parseType",value:function(e,t,n){switch(e[t]){case"*":return P;case">":return A;case"|":return M;case"{":return I;case"[":return R;case"?":return!n&&X.atBlank(e,t+1,!0)?j:$;case":":return!n&&X.atBlank(e,t+1,!0)?D:$;case"-":return!n&&X.atBlank(e,t+1,!0)?z:$;case'"':return B;case"'":return V;default:return $}}}]),e}();function ve(e){var t=[];-1!==e.indexOf("\r")&&(e=e.replace(/\r\n?/g,(function(e,n){return e.length>1&&t.push(n),"\n"})));var n=[],r=0;do{var o=new le,i=new ge({src:e});r=o.parse(i,r),n.push(o)}while(r<e.length);return n.setOrigRanges=function(){if(0===t.length)return!1;for(var e=1;e<t.length;++e)t[e]-=e;for(var r=0,o=0;o<n.length;++o)r=n[o].setOrigRanges(t,r);return t.splice(0,t.length),!0},n.toString=function(){return n.join("...\n")},n}function ye(e,t,n){return n?-1===n.indexOf("\n")?"".concat(e," #").concat(n):"".concat(e,"\n")+n.replace(/^/gm,"".concat(t||"","#")):e}var be=function e(){o(this,e)};function we(e,t,n){if(Array.isArray(e))return e.map((function(e,t){return we(e,String(t),n)}));if(e&&"function"==typeof e.toJSON){var r=n&&n.anchors&&n.anchors.get(e);r&&(n.onCreate=function(e){r.res=e,delete n.onCreate});var o=e.toJSON(t,n);return r&&n.onCreate&&n.onCreate(o),o}return n&&n.keep||"bigint"!=typeof e?e:Number(e)}var xe=function(e){l(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).value=e,r}return a(n,[{key:"toJSON",value:function(e,t){return t&&t.keep?this.value:we(this.value,e,t)}},{key:"toString",value:function(){return String(this.value)}}]),n}(be);function _e(e,t,n){for(var r=n,o=t.length-1;o>=0;--o){var i=t[o];if(Number.isInteger(i)&&i>=0){var a=[];a[i]=r,r=a}else{var s={};Object.defineProperty(s,i,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=s}}return e.createNode(r,!1)}var ke=function(e){return null==e||"object"===r(e)&&e[Symbol.iterator]().next().done},Ce=function(e){l(n,e);var t=g(n);function n(e){var r;return o(this,n),s(f(r=t.call(this)),"items",[]),r.schema=e,r}return a(n,[{key:"addIn",value:function(e,t){if(ke(e))this.add(t);else{var r=b(e),o=r[0],i=r.slice(1),a=this.get(o,!0);if(a instanceof n)a.addIn(i,t);else{if(void 0!==a||!this.schema)throw new Error("Expected YAML collection at ".concat(o,". Remaining path: ").concat(i));this.set(o,_e(this.schema,i,t))}}}},{key:"deleteIn",value:function(e){var t=b(e),r=t[0],o=t.slice(1);if(0===o.length)return this.delete(r);var i=this.get(r,!0);if(i instanceof n)return i.deleteIn(o);throw new Error("Expected YAML collection at ".concat(r,". Remaining path: ").concat(o))}},{key:"getIn",value:function(e,t){var r=b(e),o=r[0],i=r.slice(1),a=this.get(o,!0);return 0===i.length?!t&&a instanceof xe?a.value:a:a instanceof n?a.getIn(i,t):void 0}},{key:"hasAllNullValues",value:function(){return this.items.every((function(e){if(!e||"PAIR"!==e.type)return!1;var t=e.value;return null==t||t instanceof xe&&null==t.value&&!t.commentBefore&&!t.comment&&!t.tag}))}},{key:"hasIn",value:function(e){var t=b(e),r=t[0],o=t.slice(1);if(0===o.length)return this.has(r);var i=this.get(r,!0);return i instanceof n&&i.hasIn(o)}},{key:"setIn",value:function(e,t){var r=b(e),o=r[0],i=r.slice(1);if(0===i.length)this.set(o,t);else{var a=this.get(o,!0);if(a instanceof n)a.setIn(i,t);else{if(void 0!==a||!this.schema)throw new Error("Expected YAML collection at ".concat(o,". Remaining path: ").concat(i));this.set(o,_e(this.schema,i,t))}}}},{key:"toJSON",value:function(){return null}},{key:"toString",value:function(e,t,r,o){var i=this,a=t.blockItem,s=t.flowChars,l=t.isMap,c=t.itemIndent,u=e,d=u.indent,p=u.indentStep,h=u.stringify,f=this.type===I||this.type===R||e.inFlow;f&&(c+=p);var m=l&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:m,indent:c,inFlow:f,type:null});var g,v=!1,y=!1,b=this.items.reduce((function(t,n,r){var o;n&&(!v&&n.spaceBefore&&t.push({type:"comment",str:""}),n.commentBefore&&n.commentBefore.match(/^.*$/gm).forEach((function(e){t.push({type:"comment",str:"#".concat(e)})})),n.comment&&(o=n.comment),f&&(!v&&n.spaceBefore||n.commentBefore||n.comment||n.key&&(n.key.commentBefore||n.key.comment)||n.value&&(n.value.commentBefore||n.value.comment))&&(y=!0)),v=!1;var a=h(n,e,(function(){return o=null}),(function(){return v=!0}));return f&&!y&&a.includes("\n")&&(y=!0),f&&r<i.items.length-1&&(a+=","),a=ye(a,c,o),v&&(o||f)&&(v=!1),t.push({type:"item",str:a}),t}),[]);if(0===b.length)g=s.start+s.end;else if(f){var w=s.start,x=s.end,_=b.map((function(e){return e.str}));if(y||_.reduce((function(e,t){return e+t.length+2}),2)>n.maxFlowStringSingleLineLength){g=w;var k,S=C(_);try{for(S.s();!(k=S.n()).done;){var E=k.value;g+=E?"\n".concat(p).concat(d).concat(E):"\n"}}catch(e){S.e(e)}finally{S.f()}g+="\n".concat(d).concat(x)}else g="".concat(w," ").concat(_.join(" ")," ").concat(x)}else{var P=b.map(a);g=P.shift();var T,A=C(P);try{for(A.s();!(T=A.n()).done;){var M=T.value;g+=M?"\n".concat(d).concat(M):"\n"}}catch(e){A.e(e)}finally{A.f()}}return this.comment?(g+="\n"+this.comment.replace(/^/gm,"".concat(d,"#")),r&&r()):v&&o&&o(),g}}]),n}(be);function Se(e){var t=e instanceof xe?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),Number.isInteger(t)&&t>=0?t:null}s(Ce,"maxFlowStringSingleLineLength",60);var Ee=function(e){l(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"add",value:function(e){this.items.push(e)}},{key:"delete",value:function(e){var t=Se(e);return"number"==typeof t&&this.items.splice(t,1).length>0}},{key:"get",value:function(e,t){var n=Se(e);if("number"==typeof n){var r=this.items[n];return!t&&r instanceof xe?r.value:r}}},{key:"has",value:function(e){var t=Se(e);return"number"==typeof t&&t<this.items.length}},{key:"set",value:function(e,t){var n=Se(e);if("number"!=typeof n)throw new Error("Expected a valid index, not ".concat(e,"."));this.items[n]=t}},{key:"toJSON",value:function(e,t){var n=[];t&&t.onCreate&&t.onCreate(n);var r,o=0,i=C(this.items);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(we(a,String(o++),t))}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"toString",value:function(e,t,r){return e?v(c(n.prototype),"toString",this).call(this,e,{blockItem:function(e){return"comment"===e.type?e.str:"- ".concat(e.str)},flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},t,r):JSON.stringify(this)}}]),n}(Ce),Pe=function(e){l(n,e);var t=g(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o(this,n),(r=t.call(this)).key=e,r.value=i,r.type=n.Type.PAIR,r}return a(n,[{key:"commentBefore",get:function(){return this.key instanceof be?this.key.commentBefore:void 0},set:function(e){if(null==this.key&&(this.key=new xe(null)),!(this.key instanceof be))throw new Error("Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.");this.key.commentBefore=e}},{key:"addToJSMap",value:function(e,t){var n=we(this.key,"",e);if(t instanceof Map){var o=we(this.value,n,e);t.set(n,o)}else if(t instanceof Set)t.add(n);else{var i=function(e,t,n){return null===t?"":"object"!==r(t)?String(t):e instanceof be&&n&&n.doc?e.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(t)}(this.key,n,e),a=we(this.value,i,e);i in t?Object.defineProperty(t,i,{value:a,writable:!0,enumerable:!0,configurable:!0}):t[i]=a}return t}},{key:"toJSON",value:function(e,t){var n=t&&t.mapAsMap?new Map:{};return this.addToJSMap(t,n)}},{key:"toString",value:function(e,t,n){if(!e||!e.doc)return JSON.stringify(this);var o=e.doc.options,i=o.indent,a=o.indentSeq,s=o.simpleKeys,l=this.key,c=this.value,u=l instanceof be&&l.comment;if(s){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(l instanceof Ce)throw new Error("With simple keys, collection cannot be used as a key value")}var d=!s&&(!l||u||(l instanceof be?l instanceof Ce||l.type===A||l.type===M:"object"===r(l))),p=e,h=p.doc,f=p.indent,m=p.indentStep,g=p.stringify;e=Object.assign({},e,{implicitKey:!d,indent:f+m});var v=!1,y=g(l,e,(function(){return u=null}),(function(){return v=!0}));if(y=ye(y,e.indent,u),!d&&y.length>1024){if(s)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(e.allNullValues&&!s)return this.comment?(y=ye(y,e.indent,this.comment),t&&t()):v&&!u&&n&&n(),e.inFlow&&!d?y:"? ".concat(y);y=d?"? ".concat(y,"\n").concat(f,":"):"".concat(y,":"),this.comment&&(y=ye(y,e.indent,this.comment),t&&t());var b="",w=null;if(c instanceof be){if(c.spaceBefore&&(b="\n"),c.commentBefore){var x=c.commentBefore.replace(/^/gm,"".concat(e.indent,"#"));b+="\n".concat(x)}w=c.comment}else c&&"object"===r(c)&&(c=h.schema.createNode(c,!0));e.implicitKey=!1,!d&&!this.comment&&c instanceof xe&&(e.indentAtStart=y.length+1),v=!1,!a&&i>=2&&!e.inFlow&&!d&&c instanceof Ee&&c.type!==R&&!c.tag&&!h.anchors.getName(c)&&(e.indent=e.indent.substr(2));var _=g(c,e,(function(){return w=null}),(function(){return v=!0})),k=" ";return b||this.comment?k="".concat(b,"\n").concat(e.indent):!d&&c instanceof Ce?("["===_[0]||"{"===_[0])&&!_.includes("\n")||(k="\n".concat(e.indent)):"\n"===_[0]&&(k=""),v&&!w&&n&&n(),ye(y+k+_,e.indent,w)}}]),n}(be);s(Pe,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Te=function e(t,n){if(t instanceof Ae){var r=n.get(t.source);return r.count*r.aliasCount}if(t instanceof Ce){var o,i=0,a=C(t.items);try{for(a.s();!(o=a.n()).done;){var s=e(o.value,n);s>i&&(i=s)}}catch(e){a.e(e)}finally{a.f()}return i}if(t instanceof Pe){var l=e(t.key,n),c=e(t.value,n);return Math.max(l,c)}return 1},Ae=function(e){l(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).source=e,r.type=P,r}return a(n,[{key:"tag",set:function(e){throw new Error("Alias nodes cannot have tags")}},{key:"toJSON",value:function(e,t){if(!t)return we(this.source,e,t);var n=t.anchors,r=t.maxAliasCount,o=n.get(this.source);if(!o||void 0===o.res){var i="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new J(this.cstNode,i):new ReferenceError(i)}if(r>=0&&(o.count+=1,0===o.aliasCount&&(o.aliasCount=Te(this.source,n)),o.count*o.aliasCount>r)){var a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new J(this.cstNode,a):new ReferenceError(a)}return o.res}},{key:"toString",value:function(e){return n.stringify(this,e)}}],[{key:"stringify",value:function(e,t){var n=e.range,r=e.source,o=t.anchors,i=t.doc,a=t.implicitKey,s=t.inStringifyKey,l=Object.keys(o).find((function(e){return o[e]===r}));if(!l&&s&&(l=i.anchors.getName(r)||i.anchors.newName()),l)return"*".concat(l).concat(a?" ":"");var c=i.anchors.getName(r)?"Alias node must be after source node":"Source node not found for alias node";throw new Error("".concat(c," [").concat(n,"]"))}}]),n}(be);function Me(e,t){var n,r=t instanceof xe?t.value:t,o=C(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i instanceof Pe){if(i.key===t||i.key===r)return i;if(i.key&&i.key.value===r)return i}}}catch(e){o.e(e)}finally{o.f()}}s(Ae,"default",!0);var Ne=function(e){l(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"add",value:function(e,t){e?e instanceof Pe||(e=new Pe(e.key||e,e.value)):e=new Pe(e);var n=Me(this.items,e.key),r=this.schema&&this.schema.sortMapEntries;if(n){if(!t)throw new Error("Key ".concat(e.key," already set"));n.value=e.value}else if(r){var o=this.items.findIndex((function(t){return r(e,t)<0}));-1===o?this.items.push(e):this.items.splice(o,0,e)}else this.items.push(e)}},{key:"delete",value:function(e){var t=Me(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}},{key:"get",value:function(e,t){var n=Me(this.items,e),r=n&&n.value;return!t&&r instanceof xe?r.value:r}},{key:"has",value:function(e){return!!Me(this.items,e)}},{key:"set",value:function(e,t){this.add(new Pe(e,t),!0)}},{key:"toJSON",value:function(e,t,n){var r=n?new n:t&&t.mapAsMap?new Map:{};t&&t.onCreate&&t.onCreate(r);var o,i=C(this.items);try{for(i.s();!(o=i.n()).done;)o.value.addToJSMap(t,r)}catch(e){i.e(e)}finally{i.f()}return r}},{key:"toString",value:function(e,t,r){if(!e)return JSON.stringify(this);var o,i=C(this.items);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!(a instanceof Pe))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(a)," instead"))}}catch(e){i.e(e)}finally{i.f()}return v(c(n.prototype),"toString",this).call(this,e,{blockItem:function(e){return e.str},flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},t,r)}}]),n}(Ce),Oe=function(e){l(n,e);var t=g(n);function n(e){var r;if(o(this,n),e instanceof Pe){var i=e.value;i instanceof Ee||((i=new Ee).items.push(e.value),i.range=e.value.range),(r=t.call(this,e.key,i)).range=e.range}else r=t.call(this,new xe("<<"),new Ee);return r.type=Pe.Type.MERGE_PAIR,m(r)}return a(n,[{key:"addToJSMap",value:function(e,t){var n,r=C(this.value.items);try{for(r.s();!(n=r.n()).done;){var o=n.value.source;if(!(o instanceof Ne))throw new Error("Merge sources must be maps");var i,a=C(o.toJSON(null,e,Map));try{for(a.s();!(i=a.n()).done;){var s=y(i.value,2),l=s[0],c=s[1];t instanceof Map?t.has(l)||t.set(l,c):t instanceof Set?t.add(l):Object.prototype.hasOwnProperty.call(t,l)||Object.defineProperty(t,l,{value:c,writable:!0,enumerable:!0,configurable:!0})}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"toString",value:function(e,t){var r=this.value;if(r.items.length>1)return v(c(n.prototype),"toString",this).call(this,e,t);this.value=r.items[0];var o=v(c(n.prototype),"toString",this).call(this,e,t);return this.value=r,o}}]),n}(Pe),Ie={defaultType:M,lineWidth:76},Re={trueStr:"true",falseStr:"false"},Le={asBigInt:!1},je={nullStr:"null"},De={defaultType:$,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function $e(e,t,n){var r,o=C(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.format,s=i.test,l=i.resolve;if(s){var c=e.match(s);if(c){var u=l.apply(null,c);return u instanceof xe||(u=new xe(u)),a&&(u.format=a),u}}}}catch(e){o.e(e)}finally{o.f()}return n&&(e=n(e)),new xe(e)}var Be="flow",Ve="block",Fe="quoted",ze=function(e,t){for(var n=e[t+1];" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t};function Ue(e,t,n,r){var o=r.indentAtStart,i=r.lineWidth,a=void 0===i?80:i,s=r.minContentWidth,l=void 0===s?20:s,c=r.onFold,u=r.onOverflow;if(!a||a<0)return e;var d=Math.max(1+l,1+a-t.length);if(e.length<=d)return e;var p=[],h={},f=a-t.length;"number"==typeof o&&(o>a-Math.max(2,l)?p.push(0):f=a-o);var m,g=void 0,v=void 0,y=!1,b=-1,w=-1,x=-1;for(n===Ve&&-1!==(b=ze(e,b))&&(f=b+d);m=e[b+=1];){if(n===Fe&&"\\"===m){switch(w=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}x=b}if("\n"===m)n===Ve&&(b=ze(e,b)),f=b+d,g=void 0;else{if(" "===m&&v&&" "!==v&&"\n"!==v&&"\t"!==v){var _=e[b+1];_&&" "!==_&&"\n"!==_&&"\t"!==_&&(g=b)}if(b>=f)if(g)p.push(g),f=g+d,g=void 0;else if(n===Fe){for(;" "===v||"\t"===v;)v=m,m=e[b+=1],y=!0;var k=b>x+1?b-2:w-1;if(h[k])return e;p.push(k),h[k]=!0,f=k+d,g=void 0}else y=!0}v=m}if(y&&u&&u(),0===p.length)return e;c&&c();for(var C=e.slice(0,p[0]),S=0;S<p.length;++S){var E=p[S],P=p[S+1]||e.length;0===E?C="\n".concat(t).concat(e.slice(0,P)):(n===Fe&&h[E]&&(C+="".concat(e[E],"\\")),C+="\n".concat(t).concat(e.slice(E+1,P)))}return C}var We=function(e){var t=e.indentAtStart;return t?Object.assign({indentAtStart:t},De.fold):De.fold},Ke=function(e){return/^(%|---|\.\.\.)/m.test(e)};function He(e,t){var n=t.implicitKey,r=De.doubleQuoted,o=r.jsonEncoding,i=r.minMultiLineLength,a=JSON.stringify(e);if(o)return a;for(var s=t.indent||(Ke(e)?"  ":""),l="",c=0,u=0,d=a[u];d;d=a[++u])if(" "===d&&"\\"===a[u+1]&&"n"===a[u+2]&&(l+=a.slice(c,u)+"\\ ",c=u+=1,d="\\"),"\\"===d)switch(a[u+1]){case"u":l+=a.slice(c,u);var p=a.substr(u+2,4);switch(p){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:"00"===p.substr(0,2)?l+="\\x"+p.substr(2):l+=a.substr(u,6)}c=(u+=5)+1;break;case"n":if(n||'"'===a[u+2]||a.length<i)u+=1;else{for(l+=a.slice(c,u)+"\n\n";"\\"===a[u+2]&&"n"===a[u+3]&&'"'!==a[u+4];)l+="\n",u+=2;l+=s," "===a[u+2]&&(l+="\\"),c=(u+=1)+1}break;default:u+=1}return l=c?l+a.slice(c):a,n?l:Ue(l,s,Fe,We(t))}function qe(e,t){if(t.implicitKey){if(/\n/.test(e))return He(e,t)}else if(/[ \t]\n|\n[ \t]/.test(e))return He(e,t);var n=t.indent||(Ke(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(n))+"'";return t.implicitKey?r:Ue(r,n,Be,We(t))}function Ge(e,t,n,r){var o=e.comment,i=e.type,a=e.value;if(/\n[\t ]+$/.test(a)||/^\s*$/.test(a))return He(a,t);var s=t.indent||(t.forceBlockIndent||Ke(a)?"  ":""),l=s?"2":"1",c=i!==A&&(i===M||!function(e,t,n){if(!t||t<0)return!1;var r=t-n,o=e.length;if(o<=r)return!1;for(var i=0,a=0;i<o;++i)if("\n"===e[i]){if(i-a>r)return!0;if(o-(a=i+1)<=r)return!1}return!0}(a,De.fold.lineWidth,s.length)),u=c?"|":">";if(!a)return u+"\n";var d="",p="";if(a=a.replace(/[\n\t ]*$/,(function(e){var t=e.indexOf("\n");return-1===t?u+="-":a!==e&&t===e.length-1||(u+="+",r&&r()),p=e.replace(/\n$/,""),""})).replace(/^[\n ]*/,(function(e){-1!==e.indexOf(" ")&&(u+=l);var t=e.match(/ +$/);return t?(d=e.slice(0,-t[0].length),t[0]):(d=e,"")})),p&&(p=p.replace(/\n+(?!\n|$)/g,"$&".concat(s))),d&&(d=d.replace(/\n+/g,"$&".concat(s))),o&&(u+=" #"+o.replace(/ ?[\r\n]+/g," "),n&&n()),!a)return"".concat(u).concat(l,"\n").concat(s).concat(p);if(c)return a=a.replace(/\n+/g,"$&".concat(s)),"".concat(u,"\n").concat(s).concat(d).concat(a).concat(p);a=a.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(s));var h=Ue("".concat(d).concat(a).concat(p),s,Ve,De.fold);return"".concat(u,"\n").concat(s).concat(h)}function Xe(e,t,n,r){var o=De.defaultType,i=t.implicitKey,a=t.inFlow,s=e,l=s.type,c=s.value;"string"!=typeof c&&(c=String(c),e=Object.assign({},e,{value:c}));var u=function(o){switch(o){case A:case M:return Ge(e,t,n,r);case B:return He(c,t);case V:return qe(c,t);case $:return function(e,t,n,r){var o=e.comment,i=e.type,a=e.value,s=t.actualString,l=t.implicitKey,c=t.indent,u=t.inFlow;if(l&&/[\n[\]{},]/.test(a)||u&&/[[\]{},]/.test(a))return He(a,t);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||u||-1===a.indexOf("\n")?-1!==a.indexOf('"')&&-1===a.indexOf("'")?qe(a,t):He(a,t):Ge(e,t,n,r);if(!l&&!u&&i!==$&&-1!==a.indexOf("\n"))return Ge(e,t,n,r);if(""===c&&Ke(a))return t.forceBlockIndent=!0,Ge(e,t,n,r);var d=a.replace(/\n+/g,"$&\n".concat(c));if(s){var p=t.doc.schema.tags;if("string"!=typeof $e(d,p,p.scalarFallback).value)return He(a,t)}var h=l?d:Ue(d,c,Be,We(t));return!o||u||-1===h.indexOf("\n")&&-1===o.indexOf("\n")?h:(n&&n(),function(e,t,n){if(!n)return e;var r=n.replace(/[\s\S]^/gm,"$&".concat(t,"#"));return"#".concat(r,"\n").concat(t).concat(e)}(h,c,o))}(e,t,n,r);default:return null}};l!==B&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(c)?l=B:!i&&!a||l!==A&&l!==M||(l=B);var d=u(l);if(null===d&&null===(d=u(o)))throw new Error("Unsupported default string type ".concat(o));return d}function Ye(e){var t=e.format,n=e.minFractionDigits,r=e.tag,o=e.value;if("bigint"==typeof o)return String(o);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";var i=JSON.stringify(o);if(!t&&n&&(!r||"tag:yaml.org,2002:float"===r)&&/^\d/.test(i)){var a=i.indexOf(".");a<0&&(a=i.length,i+=".");for(var s=n-(i.length-a-1);s-- >0;)i+="0"}return i}function Je(e,t){var n,r,o;switch(t.type){case I:n="}",r="flow map";break;case R:n="]",r="flow sequence";break;default:return void e.push(new Z(t,"Not a flow collection!?"))}for(var i=t.items.length-1;i>=0;--i){var a=t.items[i];if(!a||a.type!==N){o=a;break}}if(o&&o.char!==n){var s,l="Expected ".concat(r," to end with ").concat(n);"number"==typeof o.offset?(s=new Z(t,l)).offset=o.offset+1:(s=new Z(o,l),o.range&&o.range.end&&(s.offset=o.range.end-o.range.start)),e.push(s)}}function Ze(e,t){var n=t.context.src[t.range.start-1];"\n"!==n&&"\t"!==n&&" "!==n&&e.push(new Z(t,"Comments must be separated from other tokens by white space characters"))}function Qe(e,t){var n=String(t),r=n.substr(0,8)+"..."+n.substr(-8);return new Z(e,'The "'.concat(r,'" key is too long'))}function et(e,t){var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.afterKey,a=o.before,s=o.comment,l=e.items[a];l?(i&&l.value&&(l=l.value),void 0===s?!i&&l.commentBefore||(l.spaceBefore=!0):l.commentBefore?l.commentBefore+="\n"+s:l.commentBefore=s):void 0!==s&&(e.comment?e.comment+="\n"+s:e.comment=s)}}catch(e){r.e(e)}finally{r.f()}}function tt(e,t){var n=t.strValue;return n?"string"==typeof n?n:(n.errors.forEach((function(n){n.source||(n.source=t),e.errors.push(n)})),n.str):""}function nt(e,t,n){var r,o=e.schema.tags,i=[],a=C(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.tag===n){if(!s.test){var l=s.resolve(e,t);return l instanceof Ce?l:new xe(l)}i.push(s)}}}catch(e){a.e(e)}finally{a.f()}var c=tt(e,t);return"string"==typeof c&&i.length>0?$e(c,i,o.scalarFallback):null}function rt(e,t){if(!t)return null;t.error&&e.errors.push(t.error);var n=function(e,t){var n,r={before:[],after:[]},o=!1,i=!1,a=C(function(e){if(!e)return!1;var t=e.type;return t===j||t===D||t===z}(t.context.parent)?t.context.parent.props.concat(t.props):t.props);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=s.start,c=s.end;switch(t.context.src[l]){case S:t.commentHasRequiredWhitespace(l)||e.push(new Z(t,"Comments must be separated from other tokens by white space characters"));var u=t.header,d=t.valueRange;(d&&(l>d.start||u&&l>u.start)?r.after:r.before).push(t.context.src.slice(l+1,c));break;case"&":o&&e.push(new Z(t,"A node can have at most one anchor")),o=!0;break;case E:i&&e.push(new Z(t,"A node can have at most one tag")),i=!0}}}catch(e){a.e(e)}finally{a.f()}return{comments:r,hasAnchor:o,hasTag:i}}(e.errors,t),r=n.comments,o=n.hasAnchor,i=n.hasTag;if(o){var a=e.anchors,s=t.anchor,l=a.getNode(s);l&&(a.map[a.newName(s)]=l),a.map[s]=t}t.type===P&&(o||i)&&e.errors.push(new Z(t,"An alias node must not specify any properties"));var c=function(e,t){var n=e.anchors,r=e.errors,o=e.schema;if(t.type===P){var i=t.rawValue,a=n.getNode(i);if(!a){var s="Aliased anchor not found: ".concat(i);return r.push(new J(t,s)),null}var l=new Ae(a);return n._cstAliases.push(l),l}var c=function(e,t){var n=t.tag,r=t.type,o=!1;if(n){var i=n.handle,a=n.suffix,s=n.verbatim;if(s){if("!"!==s&&"!!"!==s)return s;var l="Verbatim tags aren't resolved, so ".concat(s," is invalid.");e.errors.push(new Z(t,l))}else if("!"!==i||a)try{return function(e,t){var n=t.tag,r=n.handle,o=n.suffix,i=e.tagPrefixes.find((function(e){return e.handle===r}));if(!i){var a=e.getDefaults().tagPrefixes;if(a&&(i=a.find((function(e){return e.handle===r}))),!i)throw new Z(t,"The ".concat(r," tag handle is non-default and was not declared."))}if(!o)throw new Z(t,"The ".concat(r," tag has no suffix."));if("!"===r&&"1.0"===(e.version||e.options.version)){if("^"===o[0])return e.warnings.push(new ee(t,"YAML 1.0 ^ tag expansion is not supported")),o;if(/[:/]/.test(o)){var s=o.match(/^([a-z0-9-]+)\/(.*)/i);return s?"tag:".concat(s[1],".yaml.org,2002:").concat(s[2]):"tag:".concat(o)}}return i.prefix+decodeURIComponent(o)}(e,t)}catch(t){e.errors.push(t)}else o=!0}switch(r){case A:case M:case B:case V:return W.STR;case I:case L:return W.MAP;case R:case F:return W.SEQ;case $:return o?W.STR:null;default:return null}}(e,t);if(c)return function(e,t,n){try{var r=nt(e,t,n);if(r)return n&&t.tag&&(r.tag=n),r}catch(n){return n.source||(n.source=t),e.errors.push(n),null}try{var o=function(e){switch(e.type){case I:case L:return W.MAP;case R:case F:return W.SEQ;default:return W.STR}}(t);if(!o)throw new Error("The tag ".concat(n," is unavailable"));var i="The tag ".concat(n," is unavailable, falling back to ").concat(o);e.warnings.push(new ee(t,i));var a=nt(e,t,o);return a.tag=n,a}catch(n){var s=new J(t,n.message);return s.stack=n.stack,e.errors.push(s),null}}(e,t,c);if(t.type!==$){var u="Failed to resolve ".concat(t.type," node here");return r.push(new Q(t,u)),null}try{return $e(tt(e,t),o.tags,o.tags.scalarFallback)}catch(e){return e.source||(e.source=t),r.push(e),null}}(e,t);if(c){c.range=[t.range.start,t.range.end],e.options.keepCstNodes&&(c.cstNode=t),e.options.keepNodeTypes&&(c.type=t.type);var u=r.before.join("\n");u&&(c.commentBefore=c.commentBefore?"".concat(c.commentBefore,"\n").concat(u):u);var d=r.after.join("\n");d&&(c.comment=c.comment?"".concat(c.comment,"\n").concat(d):d)}return t.resolved=c}function ot(e,t){if(t.type!==L&&t.type!==I){var n="A ".concat(t.type," node cannot be resolved as a mapping");return e.errors.push(new Q(t,n)),null}var r=t.type===I?function(e,t){for(var n=[],r=[],o=void 0,i=!1,a="{",s=0;s<t.items.length;++s){var l=t.items[s];if("string"==typeof l.char){var c=l.char,u=l.offset;if("?"===c&&void 0===o&&!i){i=!0,a=":";continue}if(":"===c){if(void 0===o&&(o=null),":"===a){a=",";continue}}else if(i&&(void 0===o&&","!==c&&(o=null),i=!1),void 0!==o&&(r.push(new Pe(o)),o=void 0,","===c)){a=":";continue}if("}"===c){if(s===t.items.length-1)continue}else if(c===a){a=":";continue}var d="Flow map contains an unexpected ".concat(c),p=new Q(t,d);p.offset=u,e.errors.push(p)}else l.type===T?n.push({afterKey:!!o,before:r.length}):l.type===N?(Ze(e.errors,l),n.push({afterKey:!!o,before:r.length,comment:l.comment})):void 0===o?(","===a&&e.errors.push(new Z(l,"Separator , missing in flow map")),o=rt(e,l)):(","!==a&&e.errors.push(new Z(l,"Indicator : missing in flow map entry")),r.push(new Pe(o,rt(e,l))),o=void 0,i=!1)}return Je(e.errors,t),void 0!==o&&r.push(new Pe(o)),{comments:n,items:r}}(e,t):function(e,t){for(var n=[],r=[],o=void 0,i=null,a=0;a<t.items.length;++a){var s=t.items[a];switch(s.type){case T:n.push({afterKey:!!o,before:r.length});break;case N:n.push({afterKey:!!o,before:r.length,comment:s.comment});break;case j:void 0!==o&&r.push(new Pe(o)),s.error&&e.errors.push(s.error),o=rt(e,s.node),i=null;break;case D:if(void 0===o&&(o=null),s.error&&e.errors.push(s.error),!s.context.atLineStart&&s.node&&s.node.type===L&&!s.node.context.atLineStart){e.errors.push(new Z(s.node,"Nested mappings are not allowed in compact mappings"))}var l=s.node;if(!l&&s.props.length>0){(l=new te($,[])).context={parent:s,src:s.context.src};var c=s.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},"number"==typeof s.range.origStart){var u=s.range.origStart+1;l.range.origStart=l.range.origEnd=u,l.valueRange.origStart=l.valueRange.origEnd=u}}var d=new Pe(o,rt(e,l));at(s,d),r.push(d),o&&"number"==typeof i&&s.range.start>i+1024&&e.errors.push(Qe(t,o)),o=void 0,i=null;break;default:void 0!==o&&r.push(new Pe(o)),o=rt(e,s),i=s.range.start,s.error&&e.errors.push(s.error);e:for(var p=a+1;;++p){var h=t.items[p];switch(h&&h.type){case T:case N:continue e;case D:break e;default:e.errors.push(new Z(s,"Implicit map keys need to be followed by map values"));break e}}if(s.valueRangeContainsNewline){e.errors.push(new Z(s,"Implicit map keys need to be on a single line"))}}}return void 0!==o&&r.push(new Pe(o)),{comments:n,items:r}}(e,t),o=r.comments,i=r.items,a=new Ne;a.items=i,et(a,o);for(var s=!1,l=0;l<i.length;++l){var c=i[l].key;if(c instanceof Ce&&(s=!0),e.schema.merge&&c&&"<<"===c.value){i[l]=new Oe(i[l]);var u=i[l].value.items,d=null;u.some((function(e){if(e instanceof Ae){var t=e.source.type;return t!==L&&t!==I&&(d="Merge nodes aliases can only point to maps")}return d="Merge nodes can only have Alias nodes as values"})),d&&e.errors.push(new Z(t,d))}else for(var p=l+1;p<i.length;++p){var h=i[p].key;if(c===h||c&&h&&Object.prototype.hasOwnProperty.call(c,"value")&&c.value===h.value){var f='Map keys must be unique; "'.concat(c,'" is repeated');e.errors.push(new Z(t,f));break}}}return s&&!e.options.mapAsMap&&e.warnings.push(new ee(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.")),t.resolved=a,a}var it=function(e){var t=e.context,n=t.lineStart,r=t.node,o=t.src,i=e.props;if(0===i.length)return!1;var a=i[0].start;if(r&&a>r.valueRange.start)return!1;if(o[a]!==S)return!1;for(var s=n;s<a;++s)if("\n"===o[s])return!1;return!0};function at(e,t){if(it(e)){var n=e.getPropValue(0,S,!0),r=!1,o=t.value.commentBefore;if(o&&o.startsWith(n))t.value.commentBefore=o.substr(n.length+1),r=!0;else{var i=t.value.comment;!e.node&&i&&i.startsWith(n)&&(t.value.comment=i.substr(n.length+1),r=!0)}r&&(t.comment=n)}}function st(e,t){if(t.type!==F&&t.type!==R){var n="A ".concat(t.type," node cannot be resolved as a sequence");return e.errors.push(new Q(t,n)),null}var r=t.type===R?function(e,t){for(var n=[],r=[],o=!1,i=void 0,a=null,s="[",l=null,c=0;c<t.items.length;++c){var u=t.items[c];if("string"==typeof u.char){var d=u.char,p=u.offset;if(":"===d||!o&&void 0===i||(o&&void 0===i&&(i=s?r.pop():null),r.push(new Pe(i)),o=!1,i=void 0,a=null),d===s)s=null;else if(s||"?"!==d){if("["!==s&&":"===d&&void 0===i){if(","===s){if((i=r.pop())instanceof Pe){var h=new Z(t,"Chaining flow sequence pairs is invalid");h.offset=p,e.errors.push(h)}if(!o&&"number"==typeof a){var f=u.range?u.range.start:u.offset;f>a+1024&&e.errors.push(Qe(t,i));for(var m=l.context.src,g=a;g<f;++g)if("\n"===m[g]){e.errors.push(new Z(l,"Implicit keys of flow sequence pairs need to be on a single line"));break}}}else i=null;a=null,o=!1,s=null}else if("["===s||"]"!==d||c<t.items.length-1){var v="Flow sequence contains an unexpected ".concat(d),y=new Q(t,v);y.offset=p,e.errors.push(y)}}else o=!0}else if(u.type===T)n.push({before:r.length});else if(u.type===N)Ze(e.errors,u),n.push({comment:u.comment,before:r.length});else{if(s){var b="Expected a ".concat(s," in flow sequence");e.errors.push(new Z(u,b))}var w=rt(e,u);void 0===i?(r.push(w),l=u):(r.push(new Pe(i,w)),i=void 0),a=u.range.start,s=","}}return Je(e.errors,t),void 0!==i&&r.push(new Pe(i)),{comments:n,items:r}}(e,t):function(e,t){for(var n=[],r=[],o=0;o<t.items.length;++o){var i=t.items[o];switch(i.type){case T:n.push({before:r.length});break;case N:n.push({comment:i.comment,before:r.length});break;case z:if(i.error&&e.errors.push(i.error),r.push(rt(e,i.node)),i.hasProps){e.errors.push(new Z(i,"Sequence items cannot have tags or anchors before the - indicator"))}break;default:i.error&&e.errors.push(i.error),e.errors.push(new Q(i,"Unexpected ".concat(i.type," node in sequence")))}}return{comments:n,items:r}}(e,t),o=r.comments,i=r.items,a=new Ee;return a.items=i,et(a,o),!e.options.mapAsMap&&i.some((function(e){return e instanceof Pe&&e.key instanceof Ce}))&&e.warnings.push(new ee(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.")),t.resolved=a,a}var lt={identify:function(e){return e instanceof Uint8Array},default:!1,tag:"tag:yaml.org,2002:binary",resolve:function(e,t){var n=tt(e,t);if("function"==typeof Buffer)return Buffer.from(n,"base64");if("function"==typeof atob){for(var r=atob(n.replace(/[\n\r]/g,"")),o=new Uint8Array(r.length),i=0;i<r.length;++i)o[i]=r.charCodeAt(i);return o}return e.errors.push(new J(t,"This environment does not support reading binary tags; either Buffer or atob is required")),null},options:Ie,stringify:function(e,t,n,r){var o,i=e.comment,a=e.type,s=e.value;if("function"==typeof Buffer)o=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");for(var l="",c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);o=btoa(l)}if(a||(a=Ie.defaultType),a===B)s=o;else{for(var u=Ie.lineWidth,d=Math.ceil(o.length/u),p=new Array(d),h=0,f=0;h<d;++h,f+=u)p[h]=o.substr(f,u);s=p.join(a===M?"\n":" ")}return Xe({comment:i,type:a,value:s},t,n,r)}};function ct(e,t){for(var n=st(e,t),r=0;r<n.items.length;++r){var o=n.items[r];if(!(o instanceof Pe)){if(o instanceof Ne){if(o.items.length>1)throw new Z(t,"Each pair must have its own sequence indicator");var i=o.items[0]||new Pe;o.commentBefore&&(i.commentBefore=i.commentBefore?"".concat(o.commentBefore,"\n").concat(i.commentBefore):o.commentBefore),o.comment&&(i.comment=i.comment?"".concat(o.comment,"\n").concat(i.comment):o.comment),o=i}n.items[r]=o instanceof Pe?o:new Pe(o)}}return n}function ut(e,t,n){var r=new Ee(e);r.tag="tag:yaml.org,2002:pairs";var o,i=C(t);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=void 0,l=void 0;if(Array.isArray(a)){if(2!==a.length)throw new TypeError("Expected [key, value] tuple: ".concat(a));s=a[0],l=a[1]}else if(a&&a instanceof Object){var c=Object.keys(a);if(1!==c.length)throw new TypeError("Expected { key: value } tuple: ".concat(a));l=a[s=c[0]]}else s=a;var u=e.createPair(s,l,n);r.items.push(u)}}catch(e){i.e(e)}finally{i.f()}return r}var dt={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ct,createNode:ut},pt=function(e){l(n,e);var t=g(n);function n(){var e;return o(this,n),s(f(e=t.call(this)),"add",Ne.prototype.add.bind(f(e))),s(f(e),"delete",Ne.prototype.delete.bind(f(e))),s(f(e),"get",Ne.prototype.get.bind(f(e))),s(f(e),"has",Ne.prototype.has.bind(f(e))),s(f(e),"set",Ne.prototype.set.bind(f(e))),e.tag=n.tag,e}return a(n,[{key:"toJSON",value:function(e,t){var n=new Map;t&&t.onCreate&&t.onCreate(n);var r,o=C(this.items);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=void 0,s=void 0;if(i instanceof Pe?(a=we(i.key,"",t),s=we(i.value,a,t)):a=we(i,"",t),n.has(a))throw new Error("Ordered maps must not include duplicate keys");n.set(a,s)}}catch(e){o.e(e)}finally{o.f()}return n}}]),n}(Ee);s(pt,"tag","tag:yaml.org,2002:omap");var ht={identify:function(e){return e instanceof Map},nodeClass:pt,default:!1,tag:"tag:yaml.org,2002:omap",resolve:function(e,t){var n,r=ct(e,t),o=[],i=C(r.items);try{for(i.s();!(n=i.n()).done;){var a=n.value.key;if(a instanceof xe){if(o.includes(a.value))throw new Z(t,"Ordered maps must not include duplicate keys");o.push(a.value)}}}catch(e){i.e(e)}finally{i.f()}return Object.assign(new pt,r)},createNode:function(e,t,n){var r=ut(e,t,n),o=new pt;return o.items=r.items,o}},ft=function(e){l(n,e);var t=g(n);function n(){var e;return o(this,n),(e=t.call(this)).tag=n.tag,e}return a(n,[{key:"add",value:function(e){var t=e instanceof Pe?e:new Pe(e);Me(this.items,t.key)||this.items.push(t)}},{key:"get",value:function(e,t){var n=Me(this.items,e);return!t&&n instanceof Pe?n.key instanceof xe?n.key.value:n.key:n}},{key:"set",value:function(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(r(t)));var n=Me(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Pe(e))}},{key:"toJSON",value:function(e,t){return v(c(n.prototype),"toJSON",this).call(this,e,t,Set)}},{key:"toString",value:function(e,t,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return v(c(n.prototype),"toString",this).call(this,e,t,r);throw new Error("Set items must all have null values")}}]),n}(Ne);s(ft,"tag","tag:yaml.org,2002:set");var mt={identify:function(e){return e instanceof Set},nodeClass:ft,default:!1,tag:"tag:yaml.org,2002:set",resolve:function(e,t){var n=ot(e,t);if(!n.hasAllNullValues())throw new Z(t,"Set items must all have null values");return Object.assign(new ft,n)},createNode:function(e,t,n){var r,o=new ft,i=C(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.items.push(e.createPair(a,null,n))}}catch(e){i.e(e)}finally{i.f()}return o}},gt=function(e,t){var n=t.split(":").reduce((function(e,t){return 60*e+Number(t)}),0);return"-"===e?-n:n},vt=function(e){var t=e.value;if(isNaN(t)||!isFinite(t))return Ye(t);var n="";t<0&&(n="-",t=Math.abs(t));var r=[t%60];return t<60?r.unshift(0):(t=Math.round((t-r[0])/60),r.unshift(t%60),t>=60&&(t=Math.round((t-r[0])/60),r.unshift(t))),n+r.map((function(e){return e<10?"0"+String(e):String(e)})).join(":").replace(/000000\d*$/,"")},yt={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:function(e,t,n){return gt(t,n.replace(/_/g,""))},stringify:vt},bt={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:function(e,t,n){return gt(t,n.replace(/_/g,""))},stringify:vt},wt={identify:function(e){return e instanceof Date},default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:function(e,t,n,r,o,i,a,s,l){s&&(s=(s+"00").substr(1,3));var c=Date.UTC(t,n-1,r,o||0,i||0,a||0,s||0);if(l&&"Z"!==l){var u=gt(l[0],l.slice(1));Math.abs(u)<30&&(u*=60),c-=6e4*u}return new Date(c)},stringify:function(e){return e.value.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")}};function xt(e){var t="undefined"!=typeof process&&{VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}||{};return e?"undefined"!=typeof YAML_SILENCE_DEPRECATION_WARNINGS?!YAML_SILENCE_DEPRECATION_WARNINGS:!t.YAML_SILENCE_DEPRECATION_WARNINGS:"undefined"!=typeof YAML_SILENCE_WARNINGS?!YAML_SILENCE_WARNINGS:!t.YAML_SILENCE_WARNINGS}function _t(e,t){if(xt(!1)){var n="undefined"!=typeof process&&process.emitWarning;n?n(e,t):console.warn(t?"".concat(t,": ").concat(e):e)}}var kt={},Ct={createNode:function(e,t,n){var o=new Ne(e);if(t instanceof Map){var i,a=C(t);try{for(a.s();!(i=a.n()).done;){var s=y(i.value,2),l=s[0],c=s[1];o.items.push(e.createPair(l,c,n))}}catch(e){a.e(e)}finally{a.f()}}else if(t&&"object"===r(t))for(var u=0,d=Object.keys(t);u<d.length;u++){var p=d[u];o.items.push(e.createPair(p,t[p],n))}return"function"==typeof e.sortMapEntries&&o.items.sort(e.sortMapEntries),o},default:!0,nodeClass:Ne,tag:"tag:yaml.org,2002:map",resolve:ot},St={createNode:function(e,t,n){var r=new Ee(e);if(t&&t[Symbol.iterator]){var o,i=C(t);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=e.createNode(a,n.wrapScalars,null,n);r.items.push(s)}}catch(e){i.e(e)}finally{i.f()}}return r},default:!0,nodeClass:Ee,tag:"tag:yaml.org,2002:seq",resolve:st},Et=[Ct,St,{identify:function(e){return"string"==typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:tt,stringify:function(e,t,n,r){return Xe(e,t=Object.assign({actualString:!0},t),n,r)},options:De}],Pt=function(e){return"bigint"==typeof e||Number.isInteger(e)},Tt=function(e,t,n){return Le.asBigInt?BigInt(e):parseInt(t,n)};function At(e,t,n){var r=e.value;return Pt(r)&&r>=0?n+r.toString(t):Ye(e)}var Mt={identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new xe(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:je,stringify:function(){return je.nullStr}},Nt={identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:function(e){return"t"===e[0]||"T"===e[0]},options:Re,stringify:function(e){return e.value?Re.trueStr:Re.falseStr}},Ot={identify:function(e){return Pt(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:function(e,t){return Tt(e,t,8)},options:Le,stringify:function(e){return At(e,8,"0o")}},It={identify:Pt,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:function(e){return Tt(e,e,10)},options:Le,stringify:Ye},Rt={identify:function(e){return Pt(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:function(e,t){return Tt(e,t,16)},options:Le,stringify:function(e){return At(e,16,"0x")}},Lt={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(e,t){return t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:Ye},jt={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e)},stringify:function(e){var t=e.value;return Number(t).toExponential()}},Dt={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve:function(e,t,n){var r=t||n,o=new xe(parseFloat(e));return r&&"0"===r[r.length-1]&&(o.minFractionDigits=r.length),o},stringify:Ye},$t=Et.concat([Mt,Nt,Ot,It,Rt,Lt,jt,Dt]),Bt=function(e){return"bigint"==typeof e||Number.isInteger(e)},Vt=function(e){var t=e.value;return JSON.stringify(t)},Ft=[Ct,St,{identify:function(e){return"string"==typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:tt,stringify:Vt},{identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new xe(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:function(){return null},stringify:Vt},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:function(e){return"true"===e},stringify:Vt},{identify:Bt,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:function(e){return Le.asBigInt?BigInt(e):parseInt(e,10)},stringify:function(e){var t=e.value;return Bt(t)?t.toString():JSON.stringify(t)}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:function(e){return parseFloat(e)},stringify:Vt}];Ft.scalarFallback=function(e){throw new SyntaxError("Unresolved plain scalar ".concat(JSON.stringify(e)))};var zt=function(e){return e.value?Re.trueStr:Re.falseStr},Ut=function(e){return"bigint"==typeof e||Number.isInteger(e)};function Wt(e,t,n){var r=t.replace(/_/g,"");if(Le.asBigInt){switch(n){case 2:r="0b".concat(r);break;case 8:r="0o".concat(r);break;case 16:r="0x".concat(r)}var o=BigInt(r);return"-"===e?BigInt(-1)*o:o}var i=parseInt(r,n);return"-"===e?-1*i:i}function Kt(e,t,n){var r=e.value;if(Ut(r)){var o=r.toString(t);return r<0?"-"+n+o.substr(1):n+o}return Ye(e)}var Ht=Et.concat([{identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new xe(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:je,stringify:function(){return je.nullStr}},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:function(){return!0},options:Re,stringify:zt},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:function(){return!1},options:Re,stringify:zt},{identify:Ut,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:function(e,t,n){return Wt(t,n,2)},stringify:function(e){return Kt(e,2,"0b")}},{identify:Ut,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:function(e,t,n){return Wt(t,n,8)},stringify:function(e){return Kt(e,8,"0")}},{identify:Ut,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:function(e,t,n){return Wt(t,n,10)},stringify:Ye},{identify:Ut,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:function(e,t,n){return Wt(t,n,16)},stringify:function(e){return Kt(e,16,"0x")}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(e,t){return t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:Ye},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e.replace(/_/g,""))},stringify:function(e){var t=e.value;return Number(t).toExponential()}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve:function(e,t){var n=new xe(parseFloat(e.replace(/_/g,"")));if(t){var r=t.replace(/_/g,"");"0"===r[r.length-1]&&(n.minFractionDigits=r.length)}return n},stringify:Ye}],lt,ht,dt,mt,yt,bt,wt),qt={core:$t,failsafe:Et,json:Ft,yaml11:Ht},Gt={binary:lt,bool:Nt,float:Dt,floatExp:jt,floatNaN:Lt,floatTime:bt,int:It,intHex:Rt,intOct:Ot,intTime:yt,map:Ct,null:Mt,omap:ht,pairs:dt,seq:St,set:mt,timestamp:wt};var Xt=function(e,t){return e.key<t.key?-1:e.key>t.key?1:0},Yt=function(){function e(t){var n=t.customTags,r=t.merge,i=t.schema,a=t.sortMapEntries,s=t.tags;o(this,e),this.merge=!!r,this.name=i,this.sortMapEntries=!0===a?Xt:a||null,!n&&s&&function(e,t){if(!kt[e]&&xt(!0)){kt[e]=!0;var n="The option '".concat(e,"' will be removed in a future release");_t(n+=t?", use '".concat(t,"' instead."):".","DeprecationWarning")}}("tags","customTags"),this.tags=function(e,t,n,r){var o=e[r.replace(/\W/g,"")];if(!o){var i=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown schema "'.concat(r,'"; use one of ').concat(i))}if(Array.isArray(n)){var a,s=C(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;o=o.concat(l)}}catch(e){s.e(e)}finally{s.f()}}else"function"==typeof n&&(o=n(o.slice()));for(var c=0;c<o.length;++c){var u=o[c];if("string"==typeof u){var d=t[u];if(!d){var p=Object.keys(t).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown custom tag "'.concat(u,'"; use one of ').concat(p))}o[c]=d}}return o}(qt,Gt,n||s,i)}return a(e,[{key:"createNode",value:function(t,n,o,i){var a={defaultPrefix:e.defaultPrefix,schema:this,wrapScalars:n};return function(e,t,n){if(e instanceof be)return e;var o=n.defaultPrefix,i=n.onTagObj,a=n.prevObjects,s=n.schema,l=n.wrapScalars;t&&t.startsWith("!!")&&(t=o+t.slice(2));var c=function(e,t,n){if(t){var r=n.filter((function(e){return e.tag===t})),o=r.find((function(e){return!e.format}))||r[0];if(!o)throw new Error("Tag ".concat(t," not found"));return o}return n.find((function(t){return(t.identify&&t.identify(e)||t.class&&e instanceof t.class)&&!t.format}))}(e,t,s.tags);if(!c){if("function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!==r(e))return l?new xe(e):e;c=e instanceof Map?Ct:e[Symbol.iterator]?St:Ct}i&&(i(c),delete n.onTagObj);var u={value:void 0,node:void 0};if(e&&"object"===r(e)&&a){var d=a.get(e);if(d){var p=new Ae(d);return n.aliasNodes.push(p),p}u.value=e,a.set(e,u)}return u.node=c.createNode?c.createNode(n.schema,e,n):l?new xe(e):e,t&&u.node instanceof be&&(u.node.tag=t),u.node}(t,o,i?Object.assign(i,a):a)}},{key:"createPair",value:function(e,t,n){n||(n={wrapScalars:!0});var r=this.createNode(e,n.wrapScalars,null,n),o=this.createNode(t,n.wrapScalars,null,n);return new Pe(r,o)}}]),e}();s(Yt,"defaultPrefix",U),s(Yt,"defaultTags",W);var Jt={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},Zt={get binary(){return Ie},set binary(e){Object.assign(Ie,e)},get bool(){return Re},set bool(e){Object.assign(Re,e)},get int(){return Le},set int(e){Object.assign(Le,e)},get null(){return je},set null(e){Object.assign(je,e)},get str(){return De},set str(e){Object.assign(De,e)}},Qt={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:U},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:U}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:U}]}};function en(e,t){if("1.0"===(e.version||e.options.version)){var n=t.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(n)return"!"+n[1];var r=t.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return r?"!".concat(r[1],"/").concat(r[2]):"!".concat(t.replace(/^tag:/,""))}var o=e.tagPrefixes.find((function(e){return 0===t.indexOf(e.prefix)}));if(!o){var i=e.getDefaults().tagPrefixes;o=i&&i.find((function(e){return 0===t.indexOf(e.prefix)}))}if(!o)return"!"===t[0]?t:"!<".concat(t,">");var a=t.substr(o.prefix.length).replace(/[!,[\]{}]/g,(function(e){return{"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"}[e]}));return o.handle+a}function tn(e,t,n,o){var i,a=t.doc,s=a.anchors,l=a.schema;if(!(e instanceof be)){var c={aliasNodes:[],onTagObj:function(e){return i=e},prevObjects:new Map};e=l.createNode(e,!0,null,c);var u,d=C(c.aliasNodes);try{for(d.s();!(u=d.n()).done;){var p=u.value;p.source=p.source.node;var h=s.getName(p.source);h||(h=s.newName(),s.map[h]=p.source)}}catch(e){d.e(e)}finally{d.f()}}if(e instanceof Pe)return e.toString(t,n,o);i||(i=function(e,t){if(t instanceof Ae)return Ae;if(t.tag){var n=e.filter((function(e){return e.tag===t.tag}));if(n.length>0)return n.find((function(e){return e.format===t.format}))||n[0]}var o,i;if(t instanceof xe){i=t.value;var a=e.filter((function(e){return e.identify&&e.identify(i)||e.class&&i instanceof e.class}));o=a.find((function(e){return e.format===t.format}))||a.find((function(e){return!e.format}))}else i=t,o=e.find((function(e){return e.nodeClass&&i instanceof e.nodeClass}));if(!o){var s=i&&i.constructor?i.constructor.name:r(i);throw new Error("Tag not resolved for ".concat(s," value"))}return o}(l.tags,e));var f=function(e,t,n){var r=n.anchors,o=n.doc,i=[],a=o.anchors.getName(e);return a&&(r[a]=e,i.push("&".concat(a))),e.tag?i.push(en(o,e.tag)):t.default||i.push(en(o,t.tag)),i.join(" ")}(e,i,t);f.length>0&&(t.indentAtStart=(t.indentAtStart||0)+f.length+1);var m="function"==typeof i.stringify?i.stringify(e,t,n,o):e instanceof xe?Xe(e,t,n,o):e.toString(t,n,o);return f?e instanceof xe||"{"===m[0]||"["===m[0]?"".concat(f," ").concat(m):"".concat(f,"\n").concat(t.indent).concat(m):m}var nn=function(){function e(t){o(this,e),s(this,"map",Object.create(null)),this.prefix=t}return a(e,[{key:"createAlias",value:function(e,t){return this.setAnchor(e,t),new Ae(e)}},{key:"createMergePair",value:function(){for(var e=this,t=new Oe,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.value.items=r.map((function(t){if(t instanceof Ae){if(t.source instanceof Ne)return t}else if(t instanceof Ne)return e.createAlias(t);throw new Error("Merge sources must be Map nodes or their Aliases")})),t}},{key:"getName",value:function(e){var t=this.map;return Object.keys(t).find((function(n){return t[n]===e}))}},{key:"getNames",value:function(){return Object.keys(this.map)}},{key:"getNode",value:function(e){return this.map[e]}},{key:"newName",value:function(e){e||(e=this.prefix);for(var t=Object.keys(this.map),n=1;;++n){var r="".concat(e).concat(n);if(!t.includes(r))return r}}},{key:"resolveNodes",value:function(){var e=this.map,t=this._cstAliases;Object.keys(e).forEach((function(t){e[t]=e[t].resolved})),t.forEach((function(e){e.source=e.source.resolved})),delete this._cstAliases}},{key:"setAnchor",value:function(t,n){if(null!=t&&!e.validAnchorNode(t))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");var r=this.map,o=t&&Object.keys(r).find((function(e){return r[e]===t}));if(o){if(!n)return o;o!==n&&(delete r[o],r[n]=t)}else{if(!n){if(!t)return null;n=this.newName()}r[n]=t}return n}}],[{key:"validAnchorNode",value:function(e){return e instanceof xe||e instanceof Ee||e instanceof Ne}}]),e}(),rn=function e(t,n){if(t&&"object"===r(t)){var o=t.tag;t instanceof Ce?(o&&(n[o]=!0),t.items.forEach((function(t){return e(t,n)}))):t instanceof Pe?(e(t.key,n),e(t.value,n)):t instanceof xe&&o&&(n[o]=!0)}return n},on=function(e){return Object.keys(rn(e,{}))};function an(e,t){var n=e.tagPrefixes,r=y(t.parameters,2),o=r[0],i=r[1];if(!o||!i)throw new Z(t,"Insufficient parameters given for %TAG directive");if(n.some((function(e){return e.handle===o})))throw new Z(t,"The %TAG directive must only be given at most once per handle in the same document.");return{handle:o,prefix:i}}function sn(e,t){var n=y(t.parameters,1)[0];if("YAML:1.0"===t.name&&(n="1.0"),!n)throw new Z(t,"Insufficient parameters given for %YAML directive");if(!Qt[n]){var r=e.version||e.options.version,o="Document will be parsed as YAML ".concat(r," rather than YAML ").concat(n);e.warnings.push(new ee(t,o))}return n}function ln(e){if(e instanceof Ce)return!0;throw new Error("Expected a YAML collection as document contents")}var cn=function(){function e(t){o(this,e),this.anchors=new nn(t.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=t,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}return a(e,[{key:"add",value:function(e){return ln(this.contents),this.contents.add(e)}},{key:"addIn",value:function(e,t){ln(this.contents),this.contents.addIn(e,t)}},{key:"delete",value:function(e){return ln(this.contents),this.contents.delete(e)}},{key:"deleteIn",value:function(e){return ke(e)?null!=this.contents&&(this.contents=null,!0):(ln(this.contents),this.contents.deleteIn(e))}},{key:"getDefaults",value:function(){return e.defaults[this.version]||e.defaults[this.options.version]||{}}},{key:"get",value:function(e,t){return this.contents instanceof Ce?this.contents.get(e,t):void 0}},{key:"getIn",value:function(e,t){return ke(e)?!t&&this.contents instanceof xe?this.contents.value:this.contents:this.contents instanceof Ce?this.contents.getIn(e,t):void 0}},{key:"has",value:function(e){return this.contents instanceof Ce&&this.contents.has(e)}},{key:"hasIn",value:function(e){return ke(e)?void 0!==this.contents:this.contents instanceof Ce&&this.contents.hasIn(e)}},{key:"set",value:function(e,t){ln(this.contents),this.contents.set(e,t)}},{key:"setIn",value:function(e,t){ke(e)?this.contents=t:(ln(this.contents),this.contents.setIn(e,t))}},{key:"setSchema",value:function(e,t){if(e||t||!this.schema){"number"==typeof e&&(e=e.toFixed(1)),"1.0"===e||"1.1"===e||"1.2"===e?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&"string"==typeof e&&(this.options.schema=e),Array.isArray(t)&&(this.options.customTags=t);var n=Object.assign({},this.getDefaults(),this.options);this.schema=new Yt(n)}}},{key:"parse",value:function(e,t){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");var n=e.directives,r=void 0===n?[]:n,o=e.contents,i=void 0===o?[]:o,a=e.directivesEndMarker,s=e.error,l=e.valueRange;if(s&&(s.source||(s.source=this),this.errors.push(s)),function(e,t,n){var r,o=[],i=!1,a=C(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.comment,c=s.name;switch(c){case"TAG":try{e.tagPrefixes.push(an(e,s))}catch(t){e.errors.push(t)}i=!0;break;case"YAML":case"YAML:1.0":e.version&&e.errors.push(new Z(s,"The %YAML directive must only be given at most once per document."));try{e.version=sn(e,s)}catch(t){e.errors.push(t)}i=!0;break;default:if(c){var u="YAML only supports %TAG and %YAML directives, and not %".concat(c);e.warnings.push(new ee(s,u))}}l&&o.push(l)}}catch(e){a.e(e)}finally{a.f()}n&&!i&&"1.1"===(e.version||n.version||e.options.version)&&(e.tagPrefixes=n.tagPrefixes.map((function(e){return{handle:e.handle,prefix:e.prefix}})),e.version=n.version),e.commentBefore=o.join("\n")||null}(this,r,t),a&&(this.directivesEndMarker=!0),this.range=l?[l.start,l.end]:null,this.setSchema(),this.anchors._cstAliases=[],function(e,t){var n,r={before:[],after:[]},o=void 0,i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.valueRange){if(void 0!==o){e.errors.push(new Q(s,"Document contains trailing content not separated by a ... or --- line"));break}var l=rt(e,s);i&&(l.spaceBefore=!0,i=!1),o=l}else null!==s.comment?(void 0===o?r.before:r.after).push(s.comment):s.type===T&&(i=!0,void 0===o&&r.before.length>0&&!e.commentBefore&&(e.commentBefore=r.before.join("\n"),r.before=[]))}}catch(e){a.e(e)}finally{a.f()}if(e.contents=o||null,o){var c=r.before.join("\n");if(c){var u=o instanceof Ce&&o.items[0]?o.items[0]:o;u.commentBefore=u.commentBefore?"".concat(c,"\n").concat(u.commentBefore):c}e.comment=r.after.join("\n")||null}else e.comment=r.before.concat(r.after).join("\n")||null}(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){var c,u=C(this.errors);try{for(u.s();!(c=u.n()).done;){var d=c.value;d instanceof Y&&d.makePretty()}}catch(e){u.e(e)}finally{u.f()}var p,h=C(this.warnings);try{for(h.s();!(p=h.n()).done;){var f=p.value;f instanceof Y&&f.makePretty()}}catch(e){h.e(e)}finally{h.f()}}return this}},{key:"listNonDefaultTags",value:function(){return on(this.contents).filter((function(e){return 0!==e.indexOf(Yt.defaultPrefix)}))}},{key:"setTagPrefix",value:function(e,t){if("!"!==e[0]||"!"!==e[e.length-1])throw new Error("Handle must start and end with !");if(t){var n=this.tagPrefixes.find((function(t){return t.handle===e}));n?n.prefix=t:this.tagPrefixes.push({handle:e,prefix:t})}else this.tagPrefixes=this.tagPrefixes.filter((function(t){return t.handle!==e}))}},{key:"toJSON",value:function(e,t){var n=this,r=this.options,o=r.keepBlobsInJSON,i=r.mapAsMap,a=r.maxAliasCount,s=o&&("string"!=typeof e||!(this.contents instanceof xe)),l={doc:this,indentStep:"  ",keep:s,mapAsMap:s&&!!i,maxAliasCount:a,stringify:tn},c=Object.keys(this.anchors.map);c.length>0&&(l.anchors=new Map(c.map((function(e){return[n.anchors.map[e],{alias:[],aliasCount:0,count:1}]}))));var u=we(this.contents,e,l);if("function"==typeof t&&l.anchors){var d,p=C(l.anchors.values());try{for(p.s();!(d=p.n()).done;){var h=d.value,f=h.count;t(h.res,f)}}catch(e){p.e(e)}finally{p.f()}}return u}},{key:"toString",value:function(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");var e=this.options.indent;if(!Number.isInteger(e)||e<=0){var t=JSON.stringify(e);throw new Error('"indent" option must be a positive integer, not '.concat(t))}this.setSchema();var n=[],r=!1;if(this.version){var o="%YAML 1.2";"yaml-1.1"===this.schema.name&&("1.0"===this.version?o="%YAML:1.0":"1.1"===this.version&&(o="%YAML 1.1")),n.push(o),r=!0}var i=this.listNonDefaultTags();this.tagPrefixes.forEach((function(e){var t=e.handle,o=e.prefix;i.some((function(e){return 0===e.indexOf(o)}))&&(n.push("%TAG ".concat(t," ").concat(o)),r=!0)})),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&(!r&&this.directivesEndMarker||n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));var a={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:tn},s=!1,l=null;if(this.contents){this.contents instanceof be&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),a.forceBlockIndent=!!this.comment,l=this.contents.comment);var c=l?null:function(){return s=!0},u=tn(this.contents,a,(function(){return l=null}),c);n.push(ye(u,"",l))}else void 0!==this.contents&&n.push(tn(this.contents,a));return this.comment&&(s&&!l||""===n[n.length-1]||n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join("\n")+"\n"}}]),e}();s(cn,"defaults",Qt);var un=function(e){l(n,e);var t=g(n);function n(e){return o(this,n),t.call(this,Object.assign({},Jt,e))}return n}(cn);function dn(e,t){var n=ve(e),r=new un(t).parse(n[0]);return n.length>1&&r.errors.unshift(new Z(n[1],"Source contains multiple documents; please use YAML.parseAllDocuments()")),r}var pn={createNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;void 0===n&&"string"==typeof t&&(n=t,t=!0);var r=Object.assign({},cn.defaults[Jt.version],Jt);return new Yt(r).createNode(e,t,n)},defaultOptions:Jt,Document:un,parse:function(e,t){var n=dn(e,t);if(n.warnings.forEach((function(e){return _t(e)})),n.errors.length>0)throw n.errors[0];return n.toJSON()},parseAllDocuments:function(e,t){var n,r,o=[],i=C(ve(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,s=new un(t);s.parse(a,n),o.push(s),n=s}}catch(e){i.e(e)}finally{i.f()}return o},parseCST:ve,parseDocument:dn,scalarOptions:Zt,stringify:function(e,t){var n=new un(t);return n.contents=e,String(n)}}},33252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicRef=void 0;const r=n(99029),o=n(42023),i=n(13693),a={keyword:"$dynamicRef",schemaType:"string",code:e=>s(e,e.schema)};function s(e,t){const{gen:n,keyword:a,it:s}=e;if("#"!==t[0])throw new Error(`"${a}" only supports hash fragment reference`);const l=t.slice(1);if(s.allErrors)c();else{const t=n.let("valid",!1);c(t),e.ok(t)}function c(e){if(s.schemaEnv.root.dynamicAnchors[l]){const t=n.let("_v",r._`${o.default.dynamicAnchors}${(0,r.getProperty)(l)}`);n.if(t,u(t,e),u(s.validateName,e))}else u(s.validateName,e)()}function u(t,r){return r?()=>n.block((()=>{(0,i.callRef)(e,t),n.let(r,!0)})):()=>(0,i.callRef)(e,t)}}t.dynamicRef=s,t.default=a},33619:(e,t,n)=>{var r=n(10117);e.exports=function(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),(function(e){t=[],i(e),t.length&&o.push(t)})),o}},33643:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".notification-container[data-v-0512bfcb]{display:flex;align-items:center;gap:20px;height:90px;border-radius:15px;padding:15px}.notification-container.border[data-v-0512bfcb]{border:1px solid #6f6f6f}.notification-container>.notification-badge[data-v-0512bfcb]{flex-basis:35px}.notification-container>.notification-message[data-v-0512bfcb]{display:flex;flex-direction:column;flex-grow:1;font-size:12px;min-width:0}.notification-container>.notification-message>.message[data-v-0512bfcb]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.notification-container>.notification-message>.info[data-v-0512bfcb]{color:#00e58d}.notification-container>.notification-message>.warning[data-v-0512bfcb]{color:#cca747}.notification-container>.notification-message>.error[data-v-0512bfcb]{color:#cc4747}.notification-container>.notification-message>span[data-v-0512bfcb]:last-child{color:#fff}",""]);const s=a},33673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=n(99029),o=n(42023),i=n(15765),a=n(48708);function s(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,(()=>t.assign(n,r._`${o.parentData}[${o.parentDataProperty}]`)))}function l(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:o,schema:i,parentSchema:a,it:s}=e,c=t.macro.call(s.self,i,a,s),u=l(n,o,c);!1!==s.opts.validateSchema&&s.self.validateSchema(c,!0);const d=n.name("valid");e.subschema({schema:c,schemaPath:r.nil,errSchemaPath:`${s.errSchemaPath}/${o}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:u,schema:d,parentSchema:p,$data:h,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(f,t);const m=!h&&t.compile?t.compile.call(f.self,d,p,f):t.validate,g=l(c,u,m),v=c.let("valid");function y(n=(t.async?r._`await `:r.nil)){const a=f.opts.passContext?o.default.this:o.default.self,s=!("compile"in t&&!h||!1===t.schema);c.assign(v,r._`${n}${(0,i.callValidateCode)(e,g,a,s)}`,t.modifying)}function b(e){var n;c.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,(function(){if(!1===t.errors)y(),t.modifying&&s(e),b((()=>e.error()));else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>y(r._`await `)),(t=>c.assign(v,!1).if(r._`${t} instanceof ${f.ValidationError}`,(()=>c.assign(e,r._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=r._`${g}.errors`;return c.assign(e,null),y(r.nil),e}();t.modifying&&s(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(o.default.vErrors,r._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`).assign(o.default.errors,r._`${o.default.vErrors}.length`),(0,a.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const a=o.dependencies;if(null==a?void 0:a.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(o.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}},33860:(e,t,n)=>{var r=n(56857);e.exports=function(e,t){return r.map(t,(function(t){var n=e.inEdges(t);if(n.length){var o=r.reduce(n,(function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}}return{v:t}}))}},34003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15765),o=n(99029),i=n(94227),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>o.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:a,data:s,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const d=n.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(o.nil,p);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(d||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,i){e.setParams({missingProperty:n}),t.forOf(n,a,(()=>{t.assign(i,(0,r.propertyInData)(t,s,n,u.ownProperties)),t.if((0,o.not)(i),(()=>{e.error(),t.break()}))}),o.nil)}(i,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,i)),(0,r.reportMissingProp)(e,i),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,i.checkStrictMode)(c,t,c.opts.strictRequired)}}function p(){t.forOf("prop",a,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,s,n,u.ownProperties),(()=>e.error()))}))}}};t.default=a},34250:(e,t,n)=>{"use strict";n.d(t,{Hx:()=>o,dM:()=>l,Bi:()=>i,vz:()=>s,tz:()=>c});class r{constructor(){this.listenerMap=new Map,this._listeners=[],this.proxyMap=new Map,this.proxies=[]}get listeners(){return this._listeners.concat(this.proxies.flatMap((e=>e())))}subscribe(e,t){this.listenerMap.has(e)&&(console.warn("Already subscribed. Unsubscribing for you.\nPlease check that you don't accidentally use the same token twice to register two different handlers for the same event/hook."),this.unsubscribe(e)),this.listenerMap.set(e,t),this._listeners.push(t)}unsubscribe(e){if(this.listenerMap.has(e)){const t=this.listenerMap.get(e);this.listenerMap.delete(e);const n=this._listeners.indexOf(t);n>=0&&this._listeners.splice(n,1)}}registerProxy(e,t){this.proxyMap.has(e)&&(console.warn("Already subscribed. Unsubscribing for you.\nPlease check that you don't accidentally use the same token twice to register two different proxies for the same event/hook."),this.unregisterProxy(e)),this.proxyMap.set(e,t),this.proxies.push(t)}unregisterProxy(e){if(!this.proxyMap.has(e))return;const t=this.proxyMap.get(e);this.proxyMap.delete(e);const n=this.proxies.indexOf(t);n>=0&&this.proxies.splice(n,1)}}class o extends r{constructor(e){super(),this.entity=e}emit(e){this.listeners.forEach((t=>t(e,this.entity)))}}class i extends r{constructor(e){super(),this.entity=e}emit(e){let t=!1;const n=()=>[t=!0];for(const r of Array.from(this.listeners.values()))if(r(e,n,this.entity),t)return{prevented:!0};return{prevented:!1}}}class a extends r{execute(e,t){let n=e;for(const e of this.listeners)n=e(n,t);return n}}class s extends a{constructor(e){super(),this.entity=e}execute(e){return super.execute(e,this.entity)}}class l extends r{constructor(e){super(),this.entity=e}execute(e){const t=[];for(const n of this.listeners)t.push(n(e,this.entity));return t}}function c(){const e=Symbol(),t=new Map,n=new Set,o=(n,o)=>{o instanceof r&&o.registerProxy(e,(()=>{var e,r;return null!==(r=null===(e=t.get(n))||void 0===e?void 0:e.listeners)&&void 0!==r?r:[]}))},i=e=>{n.add(e);for(const n of t.keys())o(n,e[n])},a=o=>{for(const n of t.keys())o[n]instanceof r&&o[n].unregisterProxy(e);n.delete(o)},s=()=>{n.forEach((e=>a(e))),t.clear()};return new Proxy({},{get:(e,l)=>"addTarget"===l?i:"removeTarget"===l?a:"destroy"===l?s:"string"!=typeof l||l.startsWith("_")?e[l]:(t.has(l)||(e=>{const i=new r;t.set(e,i),n.forEach((t=>o(e,t[e])))})(l),t.get(l))})}},34297:function(e,t){var n,r,o;(function(){var i,a,s,l,c,u,d,p,h,f,m,g,v,y,b;s=Math.floor,f=Math.min,a=function(e,t){return e<t?-1:e>t?1:0},h=function(e,t,n,r,o){var i;if(null==n&&(n=0),null==o&&(o=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)o(t,e[i=s((n+r)/2)])<0?r=i:n=i+1;return[].splice.apply(e,[n,n-n].concat(t)),t},u=function(e,t,n){return null==n&&(n=a),e.push(t),y(e,0,e.length-1,n)},c=function(e,t){var n,r;return null==t&&(t=a),n=e.pop(),e.length?(r=e[0],e[0]=n,b(e,0,t)):r=n,r},p=function(e,t,n){var r;return null==n&&(n=a),r=e[0],e[0]=t,b(e,0,n),r},d=function(e,t,n){var r;return null==n&&(n=a),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],b(e,0,n)),t},l=function(e,t){var n,r,o,i,l,c;for(null==t&&(t=a),l=[],r=0,o=(i=function(){c=[];for(var t=0,n=s(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)c.push(t);return c}.apply(this).reverse()).length;r<o;r++)n=i[r],l.push(b(e,n,t));return l},v=function(e,t,n){var r;if(null==n&&(n=a),-1!==(r=e.indexOf(t)))return y(e,0,r,n),b(e,r,n)},m=function(e,t,n){var r,o,i,s,c;if(null==n&&(n=a),!(o=e.slice(0,t)).length)return o;for(l(o,n),i=0,s=(c=e.slice(t)).length;i<s;i++)r=c[i],d(o,r,n);return o.sort(n).reverse()},g=function(e,t,n){var r,o,i,s,u,d,p,m,g;if(null==n&&(n=a),10*t<=e.length){if(!(i=e.slice(0,t).sort(n)).length)return i;for(o=i[i.length-1],s=0,d=(p=e.slice(t)).length;s<d;s++)n(r=p[s],o)<0&&(h(i,r,0,null,n),i.pop(),o=i[i.length-1]);return i}for(l(e,n),g=[],u=0,m=f(t,e.length);0<=m?u<m:u>m;0<=m?++u:--u)g.push(c(e,n));return g},y=function(e,t,n,r){var o,i,s;for(null==r&&(r=a),o=e[n];n>t&&r(o,i=e[s=n-1>>1])<0;)e[n]=i,n=s;return e[n]=o},b=function(e,t,n){var r,o,i,s,l;for(null==n&&(n=a),o=e.length,l=t,i=e[t],r=2*t+1;r<o;)(s=r+1)<o&&!(n(e[r],e[s])<0)&&(r=s),e[t]=e[r],r=2*(t=r)+1;return e[t]=i,y(e,l,t,n)},i=function(){function e(e){this.cmp=null!=e?e:a,this.nodes=[]}return e.push=u,e.pop=c,e.replace=p,e.pushpop=d,e.heapify=l,e.updateItem=v,e.nlargest=m,e.nsmallest=g,e.prototype.push=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pop=function(){return c(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return p(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return d(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return v(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),r=[],void 0===(o="function"==typeof(n=function(){return i})?n.apply(t,r):n)||(e.exports=o)}).call(this)},34486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${i} ${o}`)}};t.default=o},34551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66939);class o extends Error{constructor(e,t,n,o){super(o||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=o},34834:(e,t,n)=>{"use strict";const{HEX:r}=n(64914),o=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(e){if(c(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(o)||[],[n]=t;return n?{host:l(n,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function a(e,t=!1){let n="",o=!0;for(const t of e){if(void 0===r[t])return;"0"!==t&&!0===o&&(o=!1),o||(n+=t)}return t&&0===n.length&&(n="0"),n}function s(e){if(c(e,":")<2)return{host:e,isIPV6:!1};const t=function(e){let t=0;const n={error:!1,address:"",zone:""},r=[],o=[];let i=!1,s=!1,l=!1;function c(){if(o.length){if(!1===i){const e=a(o);if(void 0===e)return n.error=!0,!1;r.push(e)}o.length=0}return!0}for(let a=0;a<e.length;a++){const u=e[a];if("["!==u&&"]"!==u)if(":"!==u)if("%"===u){if(!c())break;i=!0}else o.push(u);else{if(!0===s&&(l=!0),!c())break;if(t++,r.push(":"),t>7){n.error=!0;break}a-1>=0&&":"===e[a-1]&&(s=!0)}}return o.length&&(i?n.zone=o.join(""):l?r.push(o.join("")):r.push(a(o))),n.address=r.join(""),n}(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,n=t.address;return t.zone&&(e+="%"+t.zone,n+="%25"+t.zone),{host:e,escapedHost:n,isIPV6:!0}}}function l(e,t){let n="",r=!0;const o=e.length;for(let i=0;i<o;i++){const a=e[i];"0"===a&&r?(i+1<=o&&e[i+1]===t||i+1===o)&&(n+=a,r=!1):(r=a===t,n+=a)}return n}function c(e,t){let n=0;for(let r=0;r<e.length;r++)e[r]===t&&n++;return n}const u=/^\.\.?\//u,d=/^\/\.(?:\/|$)/u,p=/^\/\.\.(?:\/|$)/u,h=/^\/?(?:.|\n)*?(?=\/|$)/u;e.exports={recomposeAuthority:function(e){const t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let n=unescape(e.host);const r=i(n);if(r.isIPV4)n=r.host;else{const t=s(r.host);n=!0===t.isIPV6?`[${t.escapedHost}]`:e.host}t.push(n)}return"number"!=typeof e.port&&"string"!=typeof e.port||(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0},normalizeComponentEncoding:function(e,t){const n=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=n(e.scheme)),void 0!==e.userinfo&&(e.userinfo=n(e.userinfo)),void 0!==e.host&&(e.host=n(e.host)),void 0!==e.path&&(e.path=n(e.path)),void 0!==e.query&&(e.query=n(e.query)),void 0!==e.fragment&&(e.fragment=n(e.fragment)),e},removeDotSegments:function(e){const t=[];for(;e.length;)if(e.match(u))e=e.replace(u,"");else if(e.match(d))e=e.replace(d,"/");else if(e.match(p))e=e.replace(p,"/"),t.pop();else if("."===e||".."===e)e="";else{const n=e.match(h);if(!n)throw new Error("Unexpected dot segment condition");{const r=n[0];e=e.slice(r.length),t.push(r)}}return t.join("")},normalizeIPv4:i,normalizeIPv6:s,stringArrayToHexStripped:a}},34840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},34845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(83025),o={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,r.validateSchemaDeps)(e)};t.default=o},34919:(e,t,n)=>{var r=n(28905),o=n(10117);e.exports=function(e,t,n){return o.transform(e.nodes(),(function(o,i){o[i]=r(e,i,t,n)}),{})}},34932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},35169:(e,t,n)=>{var r=n(56857),o=n(3988);function i(e,t,n){for(var o;t.length&&(o=r.last(t)).i<=n;)t.pop(),e.push(o.vs),n++;return n}e.exports=function(e,t){var n,a=o.partition(e,(function(e){return r.has(e,"barycenter")})),s=a.lhs,l=r.sortBy(a.rhs,(function(e){return-e.i})),c=[],u=0,d=0,p=0;s.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),p=i(c,l,p),r.forEach(s,(function(e){p+=e.vs.length,c.push(e.vs),u+=e.barycenter*e.weight,d+=e.weight,p=i(c,l,p)}));var h={vs:r.flatten(c,!0)};return d&&(h.barycenter=u/d,h.weight=d),h}},35189:(e,t,n)=>{var r=n(95505);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("fff802a6",r,!0,{sourceMap:!1,shadowMode:!1})},35529:(e,t,n)=>{var r=n(39344),o=n(28879),i=n(55527);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},35749:(e,t,n)=>{var r=n(81042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},35880:(e,t,n)=>{var r=n(30514),o=n(95950);e.exports=function(e){return null==e?[]:r(e,o(e))}},35970:(e,t,n)=>{var r=n(83120);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},36533:(e,t,n)=>{var r=n(93599),o=n(15389),i=n(56176);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},36534:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/format","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/format":true},"$recursiveAnchor":true,"title":"Format vocabulary meta-schema","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},36639:(e,t,n)=>{"use strict";var r=n(56857);function o(e,t,n){for(var o=r.zipObject(n,r.map(n,(function(e,t){return t}))),i=r.flatten(r.map(t,(function(t){return r.sortBy(r.map(e.outEdges(t),(function(t){return{pos:o[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var l=r.map(new Array(s),(function(){return 0})),c=0;return r.forEach(i.forEach((function(e){var t=e.pos+a;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),l[t=t-1>>1]+=e.weight;c+=e.weight*n}))),c}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=o(e,t[r-1],t[r]);return n}},36653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(97652),i=n(73835),a=n(34551),s=n(94227),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===o.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:l,parentSchema:c,it:u}=e,{oneOf:d}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=l.propertyName;if("string"!=typeof p)throw new Error("discriminator: requires propertyName");if(l.mapping)throw new Error("discriminator: mapping is not supported");if(!d)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),f=t.const("tag",r._`${n}${(0,r.getProperty)(p)}`);function m(n){const o=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},o);return e.mergeEvaluated(i,r.Name),o}t.if(r._`typeof ${f} == "string"`,(()=>function(){const n=function(){var e;const t={},n=o(c);let r=!0;for(let t=0;t<d.length;t++){let c=d[t];if((null==c?void 0:c.$ref)&&!(0,s.schemaHasRulesButRef)(c,u.self.RULES)){const e=c.$ref;if(c=i.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,e),c instanceof i.SchemaEnv&&(c=c.schema),void 0===c)throw new a.default(u.opts.uriResolver,u.baseId,e)}const h=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[p];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);r=r&&(n||o(c)),l(h,t)}if(!r)throw new Error(`discriminator: "${p}" must be required`);return t;function o({required:e}){return Array.isArray(e)&&e.includes(p)}function l(e,t){if(e.const)h(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`);for(const n of e.enum)h(n,t)}}function h(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${p}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${f} === ${e}`),t.assign(h,m(n[e]));t.else(),e.error(!1,{discrError:o.DiscrError.Mapping,tag:f,tagName:p}),t.endIf()}()),(()=>e.error(!1,{discrError:o.DiscrError.Tag,tag:f,tagName:p}))),e.ok(h)}};t.default=l},36800:(e,t,n)=>{var r=n(75288),o=n(64894),i=n(30361),a=n(23805);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},36860:(e,t,n)=>{"use strict";var r=n(56857),o=n(38481),i=n(68073).slack,a=n(68073).longestPath,s=n(68191).alg.preorder,l=n(68191).alg.postorder,c=n(3988).simplify;function u(e){e=c(e),a(e);var t,n=o(e);for(h(n),d(n,e);t=m(n);)v(n,e,t,g(n,e,t))}function d(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=p(e,t,n)}(e,t,n)}))}function p(e,t,n){var o=e.node(n).parent,i=!0,a=t.edge(n,o),s=0;return a||(i=!1,a=t.edge(o,n)),s=a.weight,r.forEach(t.nodeEdges(n),(function(r){var a,l,c=r.v===n,u=c?r.w:r.v;if(u!==o){var d=c===i,p=t.edge(r).weight;if(s+=d?p:-p,a=n,l=u,e.hasEdge(a,l)){var h=e.edge(n,u).cutvalue;s+=d?-h:h}}})),s}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),f(e,{},1,t)}function f(e,t,n,o,i){var a=n,s=e.node(o);return t[o]=!0,r.forEach(e.neighbors(o),(function(i){r.has(t,i)||(n=f(e,t,n,i,o))})),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function m(e){return r.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function g(e,t,n){var o=n.v,a=n.w;t.hasEdge(o,a)||(o=n.w,a=n.v);var s=e.node(o),l=e.node(a),c=s,u=!1;s.lim>l.lim&&(c=l,u=!0);var d=r.filter(t.edges(),(function(t){return u===y(0,e.node(t.v),c)&&u!==y(0,e.node(t.w),c)}));return r.minBy(d,(function(e){return i(t,e)}))}function v(e,t,n,o){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(o.v,o.w,{}),h(e),d(e,t),function(e,t){var n=r.find(e.nodes(),(function(e){return!t.node(e).parent})),o=s(e,n);o=o.slice(1),r.forEach(o,(function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=u,u.initLowLimValues=h,u.initCutValues=d,u.calcCutValue=p,u.leaveEdge=m,u.enterEdge=g,u.exchangeEdges=v},37167:(e,t,n)=>{var r=n(4901),o=n(27301),i=n(86009),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},37217:(e,t,n)=>{var r=n(80079),o=n(51420),i=n(90938),a=n(63605),s=n(29817),l=n(80945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},37241:(e,t,n)=>{var r=n(70695),o=n(72903),i=n(64894);e.exports=function(e){return i(e)?r(e,!0):o(e)}},37334:e=>{e.exports=function(e){return function(){return e}}},37828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},37832:(e,t,n)=>{var r=n(96908);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("38b84390",r,!0,{sourceMap:!1,shadowMode:!1})},38221:(e,t,n)=>{var r=n(23805),o=n(10124),i=n(99374),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,h,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-f>=u}function w(){var e=o();if(b(e))return x(e);p=setTimeout(w,function(e){var n=t-(e-h);return g?s(n,u-(e-f)):n}(e))}function x(e){return p=void 0,v&&l?y(e):(l=c=void 0,d)}function _(){var e=o(),n=b(e);if(l=arguments,c=this,h=e,n){if(void 0===p)return function(e){return f=e,p=setTimeout(w,t),m?y(e):d}(h);if(g)return clearTimeout(p),p=setTimeout(w,t),y(h)}return void 0===p&&(p=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=h=c=p=void 0},_.flush=function(){return void 0===p?d:x(o())},_}},38329:(e,t,n)=>{var r=n(64894);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},38362:(e,t,n)=>{var r=n(31166);e.exports={Graph:r.Graph,json:n(57494),alg:n(31667),version:r.version}},38440:(e,t,n)=>{var r=n(16038),o=n(27301),i=n(86009),a=i&&i.isSet,s=a?o(a):r;e.exports=s},38481:(e,t,n)=>{"use strict";var r=n(56857),o=n(68191).Graph,i=n(68073).slack;function a(e,t){return r.forEach(e.nodes(),(function n(o){r.forEach(t.nodeEdges(o),(function(r){var a=r.v,s=o===a?r.w:a;e.hasNode(s)||i(t,r)||(e.setNode(s,{}),e.setEdge(o,s,{}),n(s))}))})),e.nodeCount()}function s(e,t){return r.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)}))}function l(e,t,n){r.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,r=new o({directed:!1}),c=e.nodes()[0],u=e.nodeCount();for(r.setNode(c,{});a(r,e)<u;)t=s(r,e),n=r.hasNode(t.v)?i(e,t):-i(e,t),l(r,e,n);return r}},38660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15765),o=n(99029),i=n(42023),a=n(94227),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:s,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:d,opts:p}=u;if(u.props=!0,"all"!==p.removeAdditional&&(0,a.alwaysValidSchema)(u,n))return;const h=(0,r.allSchemaProperties)(s.properties),f=(0,r.allSchemaProperties)(s.patternProperties);function m(e){t.code(o._`delete ${l}[${e}]`)}function g(r){if("all"===p.removeAdditional||p.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(d||t.break());if("object"==typeof n&&!(0,a.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===p.removeAdditional?(v(r,n,!1),t.if((0,o.not)(n),(()=>{e.reset(),m(r)}))):(v(r,n),d||t.if((0,o.not)(n),(()=>t.break())))}}}function v(t,n,r){const o={keyword:"additionalProperties",dataProp:t,dataPropType:a.Type.Str};!1===r&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,n)}t.forIn("key",l,(n=>{h.length||f.length?t.if(function(n){let i;if(h.length>8){const e=(0,a.schemaRefOrVal)(u,s.properties,"properties");i=(0,r.isOwnProperty)(t,e,n)}else i=h.length?(0,o.or)(...h.map((e=>o._`${n} === ${e}`))):o.nil;return f.length&&(i=(0,o.or)(i,...f.map((t=>o._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,o.not)(i)}(n),(()=>g(n))):g(n)})),e.ok(o._`${c} === ${i.default.errors}`)}};t.default=s},38689:(e,t,n)=>{var r=n(92013);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("9b72c7ac",r,!0,{sourceMap:!1,shadowMode:!1})},38816:(e,t,n)=>{var r=n(35970),o=n(56757),i=n(32865);e.exports=function(e){return i(o(e,void 0,r),e+"")}},38859:(e,t,n)=>{var r=n(53661),o=n(31380),i=n(51459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},39344:(e,t,n)=>{var r=n(23805),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},39454:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".__dragged[data-v-6fa34012]{border-radius:var(--baklava-node-border-radius);border-width:0}",""]);const s=a},39498:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".notifications[data-v-69eabdd8]{height:calc(100% - 155px);width:435px;max-width:calc(100vw - 60px);background-color:#1d1d1d;opacity:.9;position:absolute;top:60px;right:-495px;z-index:4;padding:30px;overflow-y:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none}.notifications>.info[data-v-69eabdd8]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.notifications>.info>span[data-v-69eabdd8]{color:#fff;font-size:16px}.notifications>.info>button[data-v-69eabdd8]{color:#6f6f6f;font-size:14px}.notifications>.panel[data-v-69eabdd8]{display:grid;grid-row-gap:20px}.notifications>.panel ul[data-v-69eabdd8]{max-width:calc(100vw - 60px)}.notifications>.panel li[data-v-69eabdd8]{-webkit-user-select:text;-moz-user-select:text;user-select:text}",""]);const s=a},39741:(e,t,n)=>{"use strict";var r=n(56857),o=n(68191).Graph,i=n(3988);function a(e,t){var n={};return r.reduce(t,(function(t,o){var i=0,a=0,s=t.length,c=r.last(o);return r.forEach(o,(function(t,u){var d=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),p=d?e.node(d).order:s;(d||t===c)&&(r.forEach(o.slice(a,u+1),(function(t){r.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||p<a)||o.dummy&&e.node(t).dummy||l(n,r,t)}))})),a=u+1,i=p)})),o})),n}function s(e,t){var n={};function o(t,o,i,a,s){var c;r.forEach(r.range(o,i),(function(o){c=t[o],e.node(c).dummy&&r.forEach(e.predecessors(c),(function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&l(n,t,c)}))}))}return r.reduce(t,(function(t,n){var i,a=-1,s=0;return r.forEach(n,(function(r,l){if("border"===e.node(r).dummy){var c=e.predecessors(r);c.length&&(i=e.node(c[0]).order,o(n,s,l,a,i),s=l,a=i)}o(n,s,n.length,i,t.length)})),n})),n}function l(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function c(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function u(e,t,n,o){var i={},a={},s={};return r.forEach(t,(function(e){r.forEach(e,(function(e,t){i[e]=e,a[e]=e,s[e]=t}))})),r.forEach(t,(function(e){var t=-1;r.forEach(e,(function(e){var l=o(e);if(l.length){l=r.sortBy(l,(function(e){return s[e]}));for(var u=(l.length-1)/2,d=Math.floor(u),p=Math.ceil(u);d<=p;++d){var h=l[d];a[e]===e&&t<s[h]&&!c(n,e,h)&&(a[h]=e,a[e]=i[e]=i[h],t=s[h])}}}))})),{root:i,align:a}}function d(e,t,n,i,a){var s={},l=function(e,t,n,i){var a=new o,s=e.graph(),l=function(e,t,n){return function(o,i,a){var s,l=o.node(i),c=o.node(a),u=0;if(u+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=-l.width/2;break;case"r":s=l.width/2}if(s&&(u+=n?s:-s),s=0,u+=(l.dummy?t:e)/2,u+=(c.dummy?t:e)/2,u+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(u+=n?s:-s),s=0,u}}(s.nodesep,s.edgesep,i);return r.forEach(t,(function(t){var o;r.forEach(t,(function(t){var r=n[t];if(a.setNode(r),o){var i=n[o],s=a.edge(i,r);a.setEdge(i,r,Math.max(l(e,t,o),s||0))}o=t}))})),a}(e,t,n,a),c=a?"borderLeft":"borderRight";function u(e,t){for(var n=l.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u((function(e){s[e]=l.inEdges(e).reduce((function(e,t){return Math.max(e,s[t.v]+l.edge(t))}),0)}),l.predecessors.bind(l)),u((function(t){var n=l.outEdges(t).reduce((function(e,t){return Math.min(e,s[t.w]-l.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[t]=Math.max(s[t],n))}),l.successors.bind(l)),r.forEach(i,(function(e){s[e]=s[n[e]]})),s}function p(e,t){return r.minBy(r.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,(function(t,r){var i=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+i,n),o=Math.min(t-i,o)})),n-o}))}function h(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,l=n+a,c=e[l];if(c!==t){var u=r.values(c);(s="l"===a?o-r.min(u):i-r.max(u))&&(e[l]=r.mapValues(c,(function(e){return e+s})))}}))}))}function f(e,t){return r.mapValues(e.ul,(function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2}))}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),s(e,n)),l={};r.forEach(["u","d"],(function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(t=r.map(t,(function(e){return r.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),s=u(0,t,o,a),c=d(e,t,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(e){return-e}))),l[i+n]=c}))}));var c=p(e,l);return h(l,c),f(l,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:l,hasConflict:c,verticalAlignment:u,horizontalCompaction:d,alignCoordinates:h,findSmallestWidthAlignment:p,balance:f}},39754:(e,t,n)=>{var r=n(83729),o=n(80909),i=n(24066),a=n(56449);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},39859:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}},40117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(62586),o=n(15765),i=n(94227),a=n(38660),s={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:s,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===s.additionalProperties&&a.default.code(new r.KeywordCxt(c,a.default,"additionalProperties"));const u=(0,o.allSchemaProperties)(n);for(const e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=i.mergeEvaluated.props(t,(0,i.toHash)(u),c.props));const d=u.filter((e=>!(0,i.alwaysValidSchema)(c,n[e])));if(0===d.length)return;const p=t.name("valid");for(const n of d)h(n)?f(n):(t.if((0,o.propertyInData)(t,l,n,c.opts.ownProperties)),f(n),c.allErrors||t.else().var(p,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(p);function h(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},p)}}};t.default=s},40135:(e,t,n)=>{var r=n(56857),o=n(3988);function i(e,t,n,r,i,a){var s={width:0,height:0,rank:a,borderType:t},l=i[t][a-1],c=o.addDummyNode(e,"border",s,n);i[t][a]=c,e.setParent(c,r),l&&e.setEdge(l,c,{weight:1})}e.exports=function(e){r.forEach(e.children(),(function t(n){var o=e.children(n),a=e.node(n);if(o.length&&r.forEach(o,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,l=a.maxRank+1;s<l;++s)i(e,"borderLeft","_bl",n,a,s),i(e,"borderRight","_br",n,a,s)}}))}},40346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},40860:(e,t,n)=>{var r=n(40882),o=n(80909),i=n(15389),a=n(85558),s=n(56449);e.exports=function(e,t,n){var l=s(e)?r:a,c=arguments.length<3;return l(e,i(t,4),n,c,o)}},40882:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},41520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class o extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)l(n,t[r]),n.push(e[++r]);return new o(n)}t._Code=o,t.nil=new o(""),t._=i;const a=new o("+");function s(e,...t){const n=[u(e[0])];let r=0;for(;r<t.length;)n.push(a),l(n,t[r]),n.push(a,u(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===a){const n=c(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new o(n)}function l(e,t){var n;t instanceof o?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=s,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:s`${e}${t}`},t.stringify=function(e){return new o(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new o(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new o(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new o(e.toString())}},41552:function(e,t,n){var r;(function(){function o(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r].defaultValue);return n}var i={},a={},s={},l=o(!0),c="vanilla",u={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:o(!0),allOn:function(){"use strict";var e=o(!0),t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}()};function d(e,t){"use strict";var n=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};i.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var a=n+" sub-extension "+o+": ",s=e[o];if("object"!=typeof s)return r.valid=!1,r.error=a+"must be an object, but "+typeof s+" given",r;if(!i.helper.isString(s.type))return r.valid=!1,r.error=a+'property "type" must be a string, but '+typeof s.type+" given",r;var l=s.type=s.type.toLowerCase();if("language"===l&&(l=s.type="lang"),"html"===l&&(l=s.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return r.valid=!1,r.error=a+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===l){if(i.helper.isUndefined(s.listeners))return r.valid=!1,r.error=a+'. Extensions of type "listener" must have a property called "listeners"',r}else if(i.helper.isUndefined(s.filter)&&i.helper.isUndefined(s.regex))return r.valid=!1,r.error=a+l+' extensions must define either a "regex" property or a "filter" method',r;if(s.listeners){if("object"!=typeof s.listeners)return r.valid=!1,r.error=a+'"listeners" property must be an object but '+typeof s.listeners+" given",r;for(var c in s.listeners)if(s.listeners.hasOwnProperty(c)&&"function"!=typeof s.listeners[c])return r.valid=!1,r.error=a+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof s.listeners[c]+" given",r}if(s.filter){if("function"!=typeof s.filter)return r.valid=!1,r.error=a+'"filter" must be a function, but '+typeof s.filter+" given",r}else if(s.regex){if(i.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!(s.regex instanceof RegExp))return r.valid=!1,r.error=a+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",r;if(i.helper.isUndefined(s.replace))return r.valid=!1,r.error=a+'"regex" extensions must implement a replace string or function',r}}return r}function p(e,t){"use strict";return"E"+t.charCodeAt(0)+"E"}i.helper={},i.extensions={},i.setOption=function(e,t){"use strict";return l[e]=t,this},i.getOption=function(e){"use strict";return l[e]},i.getOptions=function(){"use strict";return l},i.resetOptions=function(){"use strict";l=o(!0)},i.setFlavor=function(e){"use strict";if(!u.hasOwnProperty(e))throw Error(e+" flavor was not found");i.resetOptions();var t=u[e];for(var n in c=e,t)t.hasOwnProperty(n)&&(l[n]=t[n])},i.getFlavor=function(){"use strict";return c},i.getFlavorOptions=function(e){"use strict";if(u.hasOwnProperty(e))return u[e]},i.getDefaultOptions=function(e){"use strict";return o(e)},i.subParser=function(e,t){"use strict";if(i.helper.isString(e)){if(void 0===t){if(a.hasOwnProperty(e))return a[e];throw Error("SubParser named "+e+" not registered!")}a[e]=t}},i.extension=function(e,t){"use strict";if(!i.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=i.helper.stdExtName(e),i.helper.isUndefined(t)){if(!s.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return s[e]}"function"==typeof t&&(t=t()),i.helper.isArray(t)||(t=[t]);var n=d(t,e);if(!n.valid)throw Error(n.error);s[e]=t},i.getAllExtensions=function(){"use strict";return s},i.removeExtension=function(e){"use strict";delete s[e]},i.resetExtensions=function(){"use strict";s={}},i.validateExtension=function(e){"use strict";var t=d(e,null);return!!t.valid||(console.warn(t.error),!1)},i.hasOwnProperty("helper")||(i.helper={}),i.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},i.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},i.helper.isArray=function(e){"use strict";return Array.isArray(e)},i.helper.isUndefined=function(e){"use strict";return void 0===e},i.helper.forEach=function(e,t){"use strict";if(i.helper.isUndefined(e))throw new Error("obj param is required");if(i.helper.isUndefined(t))throw new Error("callback param is required");if(!i.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(i.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}},i.helper.stdExtName=function(e){"use strict";return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},i.helper.escapeCharactersCallback=p,i.helper.escapeCharacters=function(e,t,n){"use strict";var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var o=new RegExp(r,"g");return e.replace(o,p)},i.helper.unescapeHTMLEntities=function(e){"use strict";return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var h=function(e,t,n,r){"use strict";var o,i,a,s,l,c=r||"",u=c.indexOf("g")>-1,d=new RegExp(t+"|"+n,"g"+c.replace(/g/g,"")),p=new RegExp(t,c.replace(/g/g,"")),h=[];do{for(o=0;a=d.exec(e);)if(p.test(a[0]))o++||(s=(i=d.lastIndex)-a[0].length);else if(o&&! --o){l=a.index+a[0].length;var f={left:{start:s,end:i},match:{start:i,end:a.index},right:{start:a.index,end:l},wholeMatch:{start:s,end:l}};if(h.push(f),!u)return h}}while(o&&(d.lastIndex=i));return h};i.helper.matchRecursiveRegExp=function(e,t,n,r){"use strict";for(var o=h(e,t,n,r),i=[],a=0;a<o.length;++a)i.push([e.slice(o[a].wholeMatch.start,o[a].wholeMatch.end),e.slice(o[a].match.start,o[a].match.end),e.slice(o[a].left.start,o[a].left.end),e.slice(o[a].right.start,o[a].right.end)]);return i},i.helper.replaceRecursiveRegExp=function(e,t,n,r,o){"use strict";if(!i.helper.isFunction(t)){var a=t;t=function(){return a}}var s=h(e,n,r,o),l=e,c=s.length;if(c>0){var u=[];0!==s[0].wholeMatch.start&&u.push(e.slice(0,s[0].wholeMatch.start));for(var d=0;d<c;++d)u.push(t(e.slice(s[d].wholeMatch.start,s[d].wholeMatch.end),e.slice(s[d].match.start,s[d].match.end),e.slice(s[d].left.start,s[d].left.end),e.slice(s[d].right.start,s[d].right.end))),d<c-1&&u.push(e.slice(s[d].wholeMatch.end,s[d+1].wholeMatch.start));s[c-1].wholeMatch.end<e.length&&u.push(e.slice(s[c-1].wholeMatch.end)),l=u.join("")}return l},i.helper.regexIndexOf=function(e,t,n){"use strict";if(!i.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var r=e.substring(n||0).search(t);return r>=0?r+(n||0):r},i.helper.splitAtIndex=function(e,t){"use strict";if(!i.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},i.helper.encodeEmailAddress=function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}))},i.helper.padEnd=function(e,t,n){"use strict";return t|=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),i.helper.regexes={asteriskDashAndColon:/([*_:~])/g},i.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},i.Converter=function(e){"use strict";var t={},n=[],r=[],o={},a=c,p={parsed:{},raw:"",format:""};function h(e,t){if(t=t||null,i.helper.isString(e)){if(t=e=i.helper.stdExtName(e),i.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new i.Converter)),i.helper.isArray(e)||(e=[e]);var o=d(e,t);if(!o.valid)throw Error(o.error);for(var a=0;a<e.length;++a)switch(e[a].type){case"lang":n.push(e[a]);break;case"output":r.push(e[a]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(i.extensions[e],e);if(i.helper.isUndefined(s[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=s[e]}"function"==typeof e&&(e=e()),i.helper.isArray(e)||(e=[e]);var o=d(e,t);if(!o.valid)throw Error(o.error);for(var a=0;a<e.length;++a){switch(e[a].type){case"lang":n.push(e[a]);break;case"output":r.push(e[a])}if(e[a].hasOwnProperty("listeners"))for(var l in e[a].listeners)e[a].listeners.hasOwnProperty(l)&&f(l,e[a].listeners[l])}}function f(e,t){if(!i.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");o.hasOwnProperty(e)||(o[e]=[]),o[e].push(t)}!function(){for(var n in e=e||{},l)l.hasOwnProperty(n)&&(t[n]=l[n]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.extensions&&i.helper.forEach(t.extensions,h)}(),this._dispatch=function(e,t,n,r){if(o.hasOwnProperty(e))for(var i=0;i<o[e].length;++i){var a=o[e][i](e,t,this,n,r);a&&void 0!==a&&(t=a)}return t},this.listen=function(e,t){return f(e,t),this},this.makeHtml=function(e){if(!e)return e;var o={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:n,outputModifiers:r,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(//g,"T")).replace(/\$/g,"D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=i.subParser("detab")(e,t,o)).replace(/^[ \t]+$/gm,""),i.helper.forEach(n,(function(n){e=i.subParser("runExtension")(n,e,t,o)})),e=i.subParser("metadata")(e,t,o),e=i.subParser("hashPreCodeTags")(e,t,o),e=i.subParser("githubCodeBlocks")(e,t,o),e=i.subParser("hashHTMLBlocks")(e,t,o),e=i.subParser("hashCodeTags")(e,t,o),e=i.subParser("stripLinkDefinitions")(e,t,o),e=i.subParser("blockGamut")(e,t,o),e=i.subParser("unhashHTMLSpans")(e,t,o),e=(e=(e=i.subParser("unescapeSpecialChars")(e,t,o)).replace(/D/g,"$$")).replace(/T/g,""),e=i.subParser("completeHTMLDocument")(e,t,o),i.helper.forEach(r,(function(n){e=i.subParser("runExtension")(n,e,t,o)})),p=o.metadata,e},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var n=t.createElement("div");n.innerHTML=e;var r={preList:function(e){for(var t=e.querySelectorAll("pre"),n=[],r=0;r<t.length;++r)if(1===t[r].childElementCount&&"code"===t[r].firstChild.tagName.toLowerCase()){var o=t[r].firstChild.innerHTML.trim(),a=t[r].firstChild.getAttribute("data-language")||"";if(""===a)for(var s=t[r].firstChild.className.split(" "),l=0;l<s.length;++l){var c=s[l].match(/^language-(.+)$/);if(null!==c){a=c[1];break}}o=i.helper.unescapeHTMLEntities(o),n.push(o),t[r].outerHTML='<precode language="'+a+'" precodenum="'+r.toString()+'"></precode>'}else n.push(t[r].innerHTML),t[r].innerHTML="",t[r].setAttribute("prenum",r.toString());return n}(n)};!function e(t){for(var n=0;n<t.childNodes.length;++n){var r=t.childNodes[n];3===r.nodeType?/\S/.test(r.nodeValue)||/^[ ]+$/.test(r.nodeValue)?(r.nodeValue=r.nodeValue.split("\n").join(" "),r.nodeValue=r.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(r),--n):1===r.nodeType&&e(r)}}(n);for(var o=n.childNodes,a="",s=0;s<o.length;s++)a+=i.subParser("makeMarkdown.node")(o[s],r);return a},this.setOption=function(e,n){t[e]=n},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){h(e,t=t||null)},this.useExtension=function(e){h(e)},this.setFlavor=function(e){if(!u.hasOwnProperty(e))throw Error(e+" flavor was not found");var n=u[e];for(var r in a=e,n)n.hasOwnProperty(r)&&(t[r]=n[r])},this.getFlavor=function(){return a},this.removeExtension=function(e){i.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var o=e[t],a=0;a<n.length;++a)n[a]===o&&n.splice(a,1);for(var s=0;s<r.length;++s)r[s]===o&&r.splice(s,1)}},this.getAllExtensions=function(){return{language:n,output:r}},this.getMetadata=function(e){return e?p.raw:p.parsed},this.getMetadataFormat=function(){return p.format},this._setMetadataPair=function(e,t){p.parsed[e]=t},this._setMetadataFormat=function(e){p.format=e},this._setMetadataRaw=function(e){p.raw=e}},i.subParser("anchors",(function(e,t,n){"use strict";var r=function(e,r,o,a,s,l,c){if(i.helper.isUndefined(c)&&(c=""),o=o.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)a="";else if(!a){if(o||(o=r.toLowerCase().replace(/ ?\n/g," ")),a="#"+o,i.helper.isUndefined(n.gUrls[o]))return e;a=n.gUrls[o],i.helper.isUndefined(n.gTitles[o])||(c=n.gTitles[o])}var u='<a href="'+(a=a.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(u+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&!/^#/.test(a)&&(u+=' rel="noopener noreferrer" target="E95Eblank"'),u+">"+r+"</a>"};return e=(e=(e=(e=(e=n.converter._dispatch("anchors.before",e,t,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[([^\[\]]+)]()()()()()/g,r),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,n,r,o,a){if("\\"===r)return n+o;if(!i.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var s=t.ghMentionsLink.replace(/\{u}/g,a),l="";return t.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="E95Eblank"'),n+'<a href="'+s+'"'+l+">"+o+"</a>"}))),n.converter._dispatch("anchors.after",e,t,n)}));var f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,m=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,g=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,v=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,y=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,b=function(e){"use strict";return function(t,n,r,o,a,s,l){var c=r=r.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback),u="",d="",p=n||"",h=l||"";return/^www\./i.test(r)&&(r=r.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&s&&(u=s),e.openLinksInNewWindow&&(d=' rel="noopener noreferrer" target="E95Eblank"'),p+'<a href="'+r+'"'+d+">"+c+"</a>"+u+h}},w=function(e,t){"use strict";return function(n,r,o){var a="mailto:";return r=r||"",o=i.subParser("unescapeSpecialChars")(o,e,t),e.encodeEmails?(a=i.helper.encodeEmailAddress(a+o),o=i.helper.encodeEmailAddress(o)):a+=o,r+'<a href="'+a+'">'+o+"</a>"}};i.subParser("autoLinks",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(g,b(t))).replace(y,w(t,n)),n.converter._dispatch("autoLinks.after",e,t,n)})),i.subParser("simplifiedAutoLinks",(function(e,t,n){"use strict";return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(m,b(t)):e.replace(f,b(t))).replace(v,w(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e})),i.subParser("blockGamut",(function(e,t,n){"use strict";return e=n.converter._dispatch("blockGamut.before",e,t,n),e=i.subParser("blockQuotes")(e,t,n),e=i.subParser("headers")(e,t,n),e=i.subParser("horizontalRule")(e,t,n),e=i.subParser("lists")(e,t,n),e=i.subParser("codeBlocks")(e,t,n),e=i.subParser("tables")(e,t,n),e=i.subParser("hashHTMLBlocks")(e,t,n),e=i.subParser("paragraphs")(e,t,n),n.converter._dispatch("blockGamut.after",e,t,n)})),i.subParser("blockQuotes",(function(e,t,n){"use strict";e=n.converter._dispatch("blockQuotes.before",e,t,n),e+="\n\n";var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(r,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/0/g,"")).replace(/^[ \t]+$/gm,""),e=i.subParser("githubCodeBlocks")(e,t,n),e=(e=(e=i.subParser("blockGamut")(e,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var n=t;return(n=n.replace(/^  /gm,"0")).replace(/0/g,"")})),i.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,n)})),n.converter._dispatch("blockQuotes.after",e,t,n)})),i.subParser("codeBlocks",(function(e,t,n){"use strict";return e=n.converter._dispatch("codeBlocks.before",e,t,n),e=(e=(e+="0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g,(function(e,r,o){var a=r,s=o,l="\n";return a=i.subParser("outdent")(a,t,n),a=i.subParser("encodeCode")(a,t,n),a=(a=(a=i.subParser("detab")(a,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(l=""),a="<pre><code>"+a+l+"</code></pre>",i.subParser("hashBlock")(a,t,n)+s}))).replace(/0/,""),n.converter._dispatch("codeBlocks.after",e,t,n)})),i.subParser("codeSpans",(function(e,t,n){"use strict";return void 0===(e=n.converter._dispatch("codeSpans.before",e,t,n))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,r,o,a){var s=a;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=r+"<code>"+(s=i.subParser("encodeCode")(s,t,n))+"</code>",i.subParser("hashHTMLSpans")(s,t,n)})),n.converter._dispatch("codeSpans.after",e,t,n)})),i.subParser("completeHTMLDocument",(function(e,t,n){"use strict";if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r="html",o="<!DOCTYPE HTML>\n",i="",a='<meta charset="utf-8">\n',s="",l="";for(var c in void 0!==n.metadata.parsed.doctype&&(o="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(r=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==r||(a='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":i="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":a="html"===r||"html5"===r?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":s=' lang="'+n.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n'}return e=o+"<html"+s+">\n<head>\n"+i+a+l+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",n.converter._dispatch("completeHTMLDocument.after",e,t,n)})),i.subParser("detab",(function(e,t,n){"use strict";return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"AB")).replace(/B(.+?)A/g,(function(e,t){for(var n=t,r=4-n.length%4,o=0;o<r;o++)n+=" ";return n}))).replace(/A/g,"    ")).replace(/B/g,""),n.converter._dispatch("detab.after",e,t,n)})),i.subParser("ellipsis",(function(e,t,n){"use strict";return t.ellipsis?(e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,""),e=n.converter._dispatch("ellipsis.after",e,t,n)):e})),i.subParser("emoji",(function(e,t,n){"use strict";return t.emoji?(e=(e=n.converter._dispatch("emoji.before",e,t,n)).replace(/:([\S]+?):/g,(function(e,t){return i.helper.emojis.hasOwnProperty(t)?i.helper.emojis[t]:e})),n.converter._dispatch("emoji.after",e,t,n)):e})),i.subParser("encodeAmpsAndAngles",(function(e,t,n){"use strict";return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)})),i.subParser("encodeBackslashEscapes",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,i.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,i.helper.escapeCharactersCallback),n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)})),i.subParser("encodeCode",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,i.helper.escapeCharactersCallback),n.converter._dispatch("encodeCode.after",e,t,n)})),i.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,i.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,i.helper.escapeCharactersCallback)})),n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)})),i.subParser("githubCodeBlocks",(function(e,t,n){"use strict";return t.ghCodeBlocks?(e=n.converter._dispatch("githubCodeBlocks.before",e,t,n),e=(e=(e+="0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,r,o,a){var s=t.omitExtraWLInCodeBlocks?"":"\n";return a=i.subParser("encodeCode")(a,t,n),a="<pre><code"+(o?' class="'+o+" language-"+o+'"':"")+">"+(a=(a=(a=i.subParser("detab")(a,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",a=i.subParser("hashBlock")(a,t,n),"\n\nG"+(n.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"}))).replace(/0/,""),n.converter._dispatch("githubCodeBlocks.after",e,t,n)):e})),i.subParser("hashBlock",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\nK"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",n.converter._dispatch("hashBlock.after",e,t,n)})),i.subParser("hashCodeTags",(function(e,t,n){"use strict";return e=n.converter._dispatch("hashCodeTags.before",e,t,n),e=i.helper.replaceRecursiveRegExp(e,(function(e,r,o,a){var s=o+i.subParser("encodeCode")(r,t,n)+a;return"C"+(n.gHtmlSpans.push(s)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),n.converter._dispatch("hashCodeTags.after",e,t,n)})),i.subParser("hashElement",(function(e,t,n){"use strict";return function(e,t){var r=t;return r=(r=(r=r.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\nK"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"}})),i.subParser("hashHTMLBlocks",(function(e,t,n){"use strict";e=n.converter._dispatch("hashHTMLBlocks.before",e,t,n);var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e,t,r,o){var i=e;return-1!==r.search(/\bmarkdown\b/)&&(i=r+n.converter.makeHtml(t)+o),"\n\nK"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var a=0;a<r.length;++a)for(var s,l=new RegExp("^ {0,3}(<"+r[a]+"\\b[^>]*>)","im"),c="<"+r[a]+"\\b[^>]*>",u="</"+r[a]+">";-1!==(s=i.helper.regexIndexOf(e,l));){var d=i.helper.splitAtIndex(e,s),p=i.helper.replaceRecursiveRegExp(d[1],o,c,u,"im");if(p===d[1])break;e=d[0].concat(p)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(e,t,n)),e=(e=i.helper.replaceRecursiveRegExp(e,(function(e){return"\n\nK"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(e,t,n)),n.converter._dispatch("hashHTMLBlocks.after",e,t,n)})),i.subParser("hashHTMLSpans",(function(e,t,n){"use strict";function r(e){return"C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,(function(e){return r(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<[^>]+?>/gi,(function(e){return r(e)})),n.converter._dispatch("hashHTMLSpans.after",e,t,n)})),i.subParser("unhashHTMLSpans",(function(e,t,n){"use strict";e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var o=n.gHtmlSpans[r],i=0;/C(\d+)C/.test(o);){var a=RegExp.$1;if(o=o.replace("C"+a+"C",n.gHtmlSpans[a]),10===i){console.error("maximum nesting of 10 spans reached!!!");break}++i}e=e.replace("C"+r+"C",o)}return n.converter._dispatch("unhashHTMLSpans.after",e,t,n)})),i.subParser("hashPreCodeTags",(function(e,t,n){"use strict";return e=n.converter._dispatch("hashPreCodeTags.before",e,t,n),e=i.helper.replaceRecursiveRegExp(e,(function(e,r,o,a){var s=o+i.subParser("encodeCode")(r,t,n)+a;return"\n\nG"+(n.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),n.converter._dispatch("hashPreCodeTags.after",e,t,n)})),i.subParser("headers",(function(e,t,n){"use strict";e=n.converter._dispatch("headers.before",e,t,n);var r=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),o=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,a=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(o,(function(e,o){var a=i.subParser("spanGamut")(o,t,n),s=t.noHeaderId?"":' id="'+l(o)+'"',c="<h"+r+s+">"+a+"</h"+r+">";return i.subParser("hashBlock")(c,t,n)}))).replace(a,(function(e,o){var a=i.subParser("spanGamut")(o,t,n),s=t.noHeaderId?"":' id="'+l(o)+'"',c=r+1,u="<h"+c+s+">"+a+"</h"+c+">";return i.subParser("hashBlock")(u,t,n)}));var s=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(e){var r,o;if(t.customizedHeaderId){var a=e.match(/\{([^{]+?)}\s*$/);a&&a[1]&&(e=a[1])}return r=e,o=i.helper.isString(t.prefixHeaderId)?t.prefixHeaderId:!0===t.prefixHeaderId?"section-":"",t.rawPrefixHeaderId||(r=o+r),r=t.ghCompatibleHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():t.rawHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():r.replace(/[^\w]/g,"").toLowerCase(),t.rawPrefixHeaderId&&(r=o+r),n.hashLinkCounts[r]?r=r+"-"+n.hashLinkCounts[r]++:n.hashLinkCounts[r]=1,r}return e=e.replace(s,(function(e,o,a){var s=a;t.customizedHeaderId&&(s=a.replace(/\s?\{([^{]+?)}\s*$/,""));var c=i.subParser("spanGamut")(s,t,n),u=t.noHeaderId?"":' id="'+l(a)+'"',d=r-1+o.length,p="<h"+d+u+">"+c+"</h"+d+">";return i.subParser("hashBlock")(p,t,n)})),n.converter._dispatch("headers.after",e,t,n)})),i.subParser("horizontalRule",(function(e,t,n){"use strict";e=n.converter._dispatch("horizontalRule.before",e,t,n);var r=i.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),n.converter._dispatch("horizontalRule.after",e,t,n)})),i.subParser("images",(function(e,t,n){"use strict";function r(e,t,r,o,a,s,l,c){var u=n.gUrls,d=n.gTitles,p=n.gDimensions;if(r=r.toLowerCase(),c||(c=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(""===o||null===o){if(""!==r&&null!==r||(r=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+r,i.helper.isUndefined(u[r]))return e;o=u[r],i.helper.isUndefined(d[r])||(c=d[r]),i.helper.isUndefined(p[r])||(a=p[r].width,s=p[r].height)}t=t.replace(/"/g,"&quot;").replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback);var h='<img src="'+(o=o.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'" alt="'+t+'"';return c&&i.helper.isString(c)&&(h+=' title="'+(c=c.replace(/"/g,"&quot;").replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"'),a&&s&&(h+=' width="'+(a="*"===a?"auto":a)+'"',h+=' height="'+(s="*"===s?"auto":s)+'"'),h+" />"}return e=(e=(e=(e=(e=(e=n.converter._dispatch("images.before",e,t,n)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,n,o,i,a,s,l){return r(e,t,n,o=o.replace(/\s/g,""),i,a,0,l)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,r)).replace(/!\[([^\[\]]+)]()()()()()/g,r),n.converter._dispatch("images.after",e,t,n)})),i.subParser("italicsAndBold",(function(e,t,n){"use strict";function r(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return r(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return r(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return r(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),n.converter._dispatch("italicsAndBold.after",e,t,n)})),i.subParser("lists",(function(e,t,n){"use strict";function r(e,r){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,a=/\n[ \t]*\n(?!0)/.test(e+="0");return t.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(o,(function(e,r,o,s,l,c,u){u=u&&""!==u.trim();var d=i.subParser("outdent")(l,t,n),p="";return c&&t.tasklists&&(p=' class="task-list-item" style="list-style-type: none;"',d=d.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(e+=" checked"),e+">"}))),d=d.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"A"+e})),r||d.search(/\n{2,}/)>-1?(d=i.subParser("githubCodeBlocks")(d,t,n),d=i.subParser("blockGamut")(d,t,n)):(d=(d=i.subParser("lists")(d,t,n)).replace(/\n$/,""),d=(d=i.subParser("hashHTMLBlocks")(d,t,n)).replace(/\n\n+/g,"\n\n"),d=a?i.subParser("paragraphs")(d,t,n):i.subParser("spanGamut")(d,t,n)),"<li"+p+">"+(d=d.replace("A",""))+"</li>\n"}))).replace(/0/g,""),n.gListLevel--,r&&(e=e.replace(/\s+$/,"")),e}function o(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function a(e,n,i){var a=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===n?a:s,c="";if(-1!==e.search(l))!function t(u){var d=u.search(l),p=o(e,n);-1!==d?(c+="\n\n<"+n+p+">\n"+r(u.slice(0,d),!!i)+"</"+n+">\n",l="ul"==(n="ul"===n?"ol":"ul")?a:s,t(u.slice(d))):c+="\n\n<"+n+p+">\n"+r(u,!!i)+"</"+n+">\n"}(e);else{var u=o(e,n);c="\n\n<"+n+u+">\n"+r(e,!!i)+"</"+n+">\n"}return c}return e=n.converter._dispatch("lists.before",e,t,n),e+="0",e=(e=n.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n){return a(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n,r){return a(n,r.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/0/,""),n.converter._dispatch("lists.after",e,t,n)})),i.subParser("metadata",(function(e,t,n){"use strict";if(!t.metadata)return e;function r(e){n.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,r){return n.metadata.parsed[t]=r,""}))}return e=(e=(e=(e=n.converter._dispatch("metadata.before",e,t,n)).replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,(function(e,t,n){return r(n),"M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,o){return t&&(n.metadata.format=t),r(o),"M"}))).replace(/M/g,""),n.converter._dispatch("metadata.after",e,t,n)})),i.subParser("outdent",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"0")).replace(/0/g,""),n.converter._dispatch("outdent.after",e,t,n)})),i.subParser("paragraphs",(function(e,t,n){"use strict";for(var r=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],a=r.length,s=0;s<a;s++){var l=r[s];l.search(/(K|G)(\d+)\1/g)>=0?o.push(l):l.search(/\S/)>=0&&(l=(l=i.subParser("spanGamut")(l,t,n)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",o.push(l))}for(a=o.length,s=0;s<a;s++){for(var c="",u=o[s],d=!1;/(K|G)(\d+)\1/.test(u);){var p=RegExp.$1,h=RegExp.$2;c=(c="K"===p?n.gHtmlBlocks[h]:d?i.subParser("encodeCode")(n.ghCodeBlocks[h].text,t,n):n.ghCodeBlocks[h].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(d=!0)}o[s]=u}return e=(e=(e=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)})),i.subParser("runExtension",(function(e,t,n,r){"use strict";if(e.filter)t=e.filter(t,r.converter,n);else if(e.regex){var o=e.regex;o instanceof RegExp||(o=new RegExp(o,"g")),t=t.replace(o,e.replace)}return t})),i.subParser("spanGamut",(function(e,t,n){"use strict";return e=n.converter._dispatch("spanGamut.before",e,t,n),e=i.subParser("codeSpans")(e,t,n),e=i.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=i.subParser("encodeBackslashEscapes")(e,t,n),e=i.subParser("images")(e,t,n),e=i.subParser("anchors")(e,t,n),e=i.subParser("autoLinks")(e,t,n),e=i.subParser("simplifiedAutoLinks")(e,t,n),e=i.subParser("emoji")(e,t,n),e=i.subParser("underline")(e,t,n),e=i.subParser("italicsAndBold")(e,t,n),e=i.subParser("strikethrough")(e,t,n),e=i.subParser("ellipsis")(e,t,n),e=i.subParser("hashHTMLSpans")(e,t,n),e=i.subParser("encodeAmpsAndAngles")(e,t,n),t.simpleLineBreaks?/\n\nK/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),n.converter._dispatch("spanGamut.after",e,t,n)})),i.subParser("strikethrough",(function(e,t,n){"use strict";return t.strikethrough&&(e=(e=n.converter._dispatch("strikethrough.before",e,t,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,r){return function(e){return t.simplifiedAutoLink&&(e=i.subParser("simplifiedAutoLinks")(e,t,n)),"<del>"+e+"</del>"}(r)})),e=n.converter._dispatch("strikethrough.after",e,t,n)),e})),i.subParser("stripLinkDefinitions",(function(e,t,n){"use strict";var r=function(r,o,a,s,l,c,u){return o=o.toLowerCase(),e.toLowerCase().split(o).length-1<2?r:(a.match(/^data:.+?\/.+?;base64,/)?n.gUrls[o]=a.replace(/\s/g,""):n.gUrls[o]=i.subParser("encodeAmpsAndAngles")(a,t,n),c?c+u:(u&&(n.gTitles[o]=u.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&s&&l&&(n.gDimensions[o]={width:s,height:l}),""))};return e=(e=(e=(e+="0").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm,r)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,r)).replace(/0/,"")})),i.subParser("tables",(function(e,t,n){"use strict";if(!t.tables)return e;function r(e,r){return"<td"+r+">"+i.subParser("spanGamut")(e,t,n)+"</td>\n"}function o(e){var o,a=e.split("\n");for(o=0;o<a.length;++o)/^ {0,3}\|/.test(a[o])&&(a[o]=a[o].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(a[o])&&(a[o]=a[o].replace(/\|[ \t]*$/,"")),a[o]=i.subParser("codeSpans")(a[o],t,n);var s,l,c,u,d=a[0].split("|").map((function(e){return e.trim()})),p=a[1].split("|").map((function(e){return e.trim()})),h=[],f=[],m=[],g=[];for(a.shift(),a.shift(),o=0;o<a.length;++o)""!==a[o].trim()&&h.push(a[o].split("|").map((function(e){return e.trim()})));if(d.length<p.length)return e;for(o=0;o<p.length;++o)m.push((s=p[o],/^:[ \t]*--*$/.test(s)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(s)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(s)?' style="text-align:center;"':""));for(o=0;o<d.length;++o)i.helper.isUndefined(m[o])&&(m[o]=""),f.push((l=d[o],c=m[o],u=void 0,u="",l=l.trim(),(t.tablesHeaderId||t.tableHeaderId)&&(u=' id="'+l.replace(/ /g,"_").toLowerCase()+'"'),"<th"+u+c+">"+(l=i.subParser("spanGamut")(l,t,n))+"</th>\n"));for(o=0;o<h.length;++o){for(var v=[],y=0;y<f.length;++y)i.helper.isUndefined(h[o][y]),v.push(r(h[o][y],m[y]));g.push(v)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",r=e.length,o=0;o<r;++o)n+=e[o];for(n+="</tr>\n</thead>\n<tbody>\n",o=0;o<t.length;++o){n+="<tr>\n";for(var i=0;i<r;++i)n+=t[o][i];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(f,g)}return e=(e=(e=(e=n.converter._dispatch("tables.before",e,t,n)).replace(/\\(\|)/g,i.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,o)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm,o),n.converter._dispatch("tables.after",e,t,n)})),i.subParser("underline",(function(e,t,n){"use strict";return t.underline?(e=n.converter._dispatch("underline.before",e,t,n),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,i.helper.escapeCharactersCallback),e=n.converter._dispatch("underline.after",e,t,n)):e})),i.subParser("unescapeSpecialChars",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/E(\d+)E/g,(function(e,t){var n=parseInt(t);return String.fromCharCode(n)})),n.converter._dispatch("unescapeSpecialChars.after",e,t,n)})),i.subParser("makeMarkdown.blockquote",(function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,o=r.length,a=0;a<o;++a){var s=i.subParser("makeMarkdown.node")(r[a],t);""!==s&&(n+=s)}return"> "+(n=n.trim()).split("\n").join("\n> ")})),i.subParser("makeMarkdown.codeBlock",(function(e,t){"use strict";var n=e.getAttribute("language"),r=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[r]+"\n```"})),i.subParser("makeMarkdown.codeSpan",(function(e){"use strict";return"`"+e.innerHTML+"`"})),i.subParser("makeMarkdown.emphasis",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="*";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);n+="*"}return n})),i.subParser("makeMarkdown.header",(function(e,t,n){"use strict";var r=new Array(n+1).join("#"),o="";if(e.hasChildNodes()){o=r+" ";for(var a=e.childNodes,s=a.length,l=0;l<s;++l)o+=i.subParser("makeMarkdown.node")(a[l],t)}return o})),i.subParser("makeMarkdown.hr",(function(){"use strict";return"---"})),i.subParser("makeMarkdown.image",(function(e){"use strict";var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),i.subParser("makeMarkdown.links",(function(e,t){"use strict";var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){var r=e.childNodes,o=r.length;n="[";for(var a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);n+="](",n+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n})),i.subParser("makeMarkdown.list",(function(e,t,n){"use strict";var r="";if(!e.hasChildNodes())return"";for(var o=e.childNodes,a=o.length,s=e.getAttribute("start")||1,l=0;l<a;++l)void 0!==o[l].tagName&&"li"===o[l].tagName.toLowerCase()&&(r+=("ol"===n?s.toString()+". ":"- ")+i.subParser("makeMarkdown.listItem")(o[l],t),++s);return(r+="\n\x3c!-- --\x3e\n").trim()})),i.subParser("makeMarkdown.listItem",(function(e,t){"use strict";for(var n="",r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n})),i.subParser("makeMarkdown.node",(function(e,t,n){"use strict";n=n||!1;var r="";if(3===e.nodeType)return i.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(r=i.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(r=i.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(r=i.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(r=i.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(r=i.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(r=i.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(r=i.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(r=i.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(r=i.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(r=i.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(r=i.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(r=i.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(r=i.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(r=i.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":r=i.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":r=i.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":r=i.subParser("makeMarkdown.strong")(e,t);break;case"del":r=i.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":r=i.subParser("makeMarkdown.links")(e,t);break;case"img":r=i.subParser("makeMarkdown.image")(e,t);break;default:r=e.outerHTML+"\n\n"}return r})),i.subParser("makeMarkdown.paragraph",(function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);return n.trim()})),i.subParser("makeMarkdown.pre",(function(e,t){"use strict";var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"})),i.subParser("makeMarkdown.strikethrough",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="~~";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);n+="~~"}return n})),i.subParser("makeMarkdown.strong",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="**";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t);n+="**"}return n})),i.subParser("makeMarkdown.table",(function(e,t){"use strict";var n,r,o="",a=[[],[]],s=e.querySelectorAll("thead>tr>th"),l=e.querySelectorAll("tbody>tr");for(n=0;n<s.length;++n){var c=i.subParser("makeMarkdown.tableCell")(s[n],t),u="---";if(s[n].hasAttribute("style"))switch(s[n].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":u=":---";break;case"text-align:right;":u="---:";break;case"text-align:center;":u=":---:"}a[0][n]=c.trim(),a[1][n]=u}for(n=0;n<l.length;++n){var d=a.push([])-1,p=l[n].getElementsByTagName("td");for(r=0;r<s.length;++r){var h=" ";void 0!==p[r]&&(h=i.subParser("makeMarkdown.tableCell")(p[r],t)),a[d].push(h)}}var f=3;for(n=0;n<a.length;++n)for(r=0;r<a[n].length;++r){var m=a[n][r].length;m>f&&(f=m)}for(n=0;n<a.length;++n){for(r=0;r<a[n].length;++r)1===n?":"===a[n][r].slice(-1)?a[n][r]=i.helper.padEnd(a[n][r].slice(-1),f-1,"-")+":":a[n][r]=i.helper.padEnd(a[n][r],f,"-"):a[n][r]=i.helper.padEnd(a[n][r],f);o+="| "+a[n].join(" | ")+" |\n"}return o.trim()})),i.subParser("makeMarkdown.tableCell",(function(e,t){"use strict";var n="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,o=r.length,a=0;a<o;++a)n+=i.subParser("makeMarkdown.node")(r[a],t,!0);return n.trim()})),i.subParser("makeMarkdown.txt",(function(e){"use strict";var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/NBSP;/g," "),(t=(t=(t=(t=(t=(t=(t=(t=i.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")})),void 0===(r=function(){"use strict";return i}.call(t,n,t,e))||(e.exports=r)}).call(this)},41799:(e,t,n)=>{var r=n(37217),o=n(60270);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var h=new r;if(i)var f=i(d,p,u,e,t,h);if(!(void 0===f?o(p,d,3,i,h):f))return!1}}return!0}},42023:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=o},42072:(e,t,n)=>{var r=n(34932),o=n(23007),i=n(56449),a=n(44394),s=n(61802),l=n(77797),c=n(13222);e.exports=function(e){return i(e)?r(e,l):a(e)?[e]:o(s(c(e)))}},42302:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));const l=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}(o)}},42308:(e,t,n)=>{var r=n(89288);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("980f4888",r,!0,{sourceMap:!1,shadowMode:!1})},42824:(e,t,n)=>{var r=n(87805),o=n(93290),i=n(71961),a=n(23007),s=n(35529),l=n(72428),c=n(56449),u=n(83693),d=n(3656),p=n(1882),h=n(23805),f=n(11331),m=n(37167),g=n(14974),v=n(69884);e.exports=function(e,t,n,y,b,w,x){var _=g(e,n),k=g(t,n),C=x.get(k);if(C)r(e,n,C);else{var S=w?w(_,k,n+"",e,t,x):void 0,E=void 0===S;if(E){var P=c(k),T=!P&&d(k),A=!P&&!T&&m(k);S=k,P||T||A?c(_)?S=_:u(_)?S=a(_):T?(E=!1,S=o(k,!0)):A?(E=!1,S=i(k,!0)):S=[]:f(k)||l(k)?(S=_,l(_)?S=v(_):h(_)&&!p(_)||(S=s(k))):E=!1}E&&(x.set(k,S),b(S,k,y,w,x),x.delete(k)),r(e,n,S)}}},42838:function(e){e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:o}=Object;let{freeze:i,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),l||(l=function(e,t,n){return e.apply(t,n)}),c||(c=function(e,t){return new e(...t)});const u=k(Array.prototype.forEach),d=k(Array.prototype.pop),p=k(Array.prototype.push),h=k(String.prototype.toLowerCase),f=k(String.prototype.toString),m=k(String.prototype.match),g=k(String.prototype.replace),v=k(String.prototype.indexOf),y=k(String.prototype.trim),b=k(Object.prototype.hasOwnProperty),w=k(RegExp.prototype.test),x=(_=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(_,t)});var _;function k(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return l(e,t,r)}}function C(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;t&&t(e,null);let i=r.length;for(;i--;){let t=r[i];if("string"==typeof t){const e=o(t);e!==t&&(n(r)||(r[i]=e),t=e)}e[t]=!0}return e}function S(e){for(let t=0;t<e.length;t++)b(e,t)||(e[t]=null);return e}function E(t){const n=s(null);for(const[r,o]of e(t))b(t,r)&&(Array.isArray(o)?n[r]=S(o):o&&"object"==typeof o&&o.constructor===Object?n[r]=E(o):n[r]=o);return n}function P(e,t){for(;null!==e;){const n=o(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=r(e)}return function(){return null}}const T=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),I=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R=i(["#text"]),L=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),j=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V=a(/<%[\w\W]*|[\w\W]*%>/gm),F=a(/\${[\w\W]*}/gm),z=a(/^data-[\-\w.\u00B7-\uFFFF]/),U=a(/^aria-[\-\w]+$/),W=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=a(/^(?:\w+script|data):/i),H=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q=a(/^html$/i),G=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var X=Object.freeze({__proto__:null,MUSTACHE_EXPR:B,ERB_EXPR:V,TMPLIT_EXPR:F,DATA_ATTR:z,ARIA_ATTR:U,IS_ALLOWED_URI:W,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:H,DOCTYPE_NAME:q,CUSTOM_ELEMENT:G});const Y=1,J=3,Z=7,Q=8,ee=9,te=function(){return"undefined"==typeof window?null:window};return function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const r=e=>t(e);if(r.version="3.1.6",r.removed=[],!n||!n.document||n.document.nodeType!==ee)return r.isSupported=!1,r;let{document:o}=n;const a=o,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:_,Node:k,Element:S,NodeFilter:B,NamedNodeMap:V=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:z,trustedTypes:U}=n,K=S.prototype,H=P(K,"cloneNode"),G=P(K,"remove"),ne=P(K,"nextSibling"),re=P(K,"childNodes"),oe=P(K,"parentNode");if("function"==typeof _){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let ie,ae="";const{implementation:se,createNodeIterator:le,createDocumentFragment:ce,getElementsByTagName:ue}=o,{importNode:de}=a;let pe={};r.isSupported="function"==typeof e&&"function"==typeof oe&&se&&void 0!==se.createHTMLDocument;const{MUSTACHE_EXPR:he,ERB_EXPR:fe,TMPLIT_EXPR:me,DATA_ATTR:ge,ARIA_ATTR:ve,IS_SCRIPT_OR_DATA:ye,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:we}=X;let{IS_ALLOWED_URI:xe}=X,_e=null;const ke=C({},[...T,...A,...M,...O,...R]);let Ce=null;const Se=C({},[...L,...j,...D,...$]);let Ee=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pe=null,Te=null,Ae=!0,Me=!0,Ne=!1,Oe=!0,Ie=!1,Re=!0,Le=!1,je=!1,De=!1,$e=!1,Be=!1,Ve=!1,Fe=!0,ze=!1,Ue=!0,We=!1,Ke={},He=null;const qe=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ge=null;const Xe=C({},["audio","video","img","source","image","track"]);let Ye=null;const Je=C({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml";let tt=et,nt=!1,rt=null;const ot=C({},[Ze,Qe,et],f);let it=null;const at=["application/xhtml+xml","text/html"];let st=null,lt=null;const ct=o.createElement("form"),ut=function(e){return e instanceof RegExp||e instanceof Function},dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!lt||lt!==e){if(e&&"object"==typeof e||(e={}),e=E(e),it=-1===at.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,st="application/xhtml+xml"===it?f:h,_e=b(e,"ALLOWED_TAGS")?C({},e.ALLOWED_TAGS,st):ke,Ce=b(e,"ALLOWED_ATTR")?C({},e.ALLOWED_ATTR,st):Se,rt=b(e,"ALLOWED_NAMESPACES")?C({},e.ALLOWED_NAMESPACES,f):ot,Ye=b(e,"ADD_URI_SAFE_ATTR")?C(E(Je),e.ADD_URI_SAFE_ATTR,st):Je,Ge=b(e,"ADD_DATA_URI_TAGS")?C(E(Xe),e.ADD_DATA_URI_TAGS,st):Xe,He=b(e,"FORBID_CONTENTS")?C({},e.FORBID_CONTENTS,st):qe,Pe=b(e,"FORBID_TAGS")?C({},e.FORBID_TAGS,st):{},Te=b(e,"FORBID_ATTR")?C({},e.FORBID_ATTR,st):{},Ke=!!b(e,"USE_PROFILES")&&e.USE_PROFILES,Ae=!1!==e.ALLOW_ARIA_ATTR,Me=!1!==e.ALLOW_DATA_ATTR,Ne=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,Re=!1!==e.SAFE_FOR_XML,Le=e.WHOLE_DOCUMENT||!1,$e=e.RETURN_DOM||!1,Be=e.RETURN_DOM_FRAGMENT||!1,Ve=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,ze=e.SANITIZE_NAMED_PROPS||!1,Ue=!1!==e.KEEP_CONTENT,We=e.IN_PLACE||!1,xe=e.ALLOWED_URI_REGEXP||W,tt=e.NAMESPACE||et,Ee=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ee.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(Me=!1),Be&&($e=!0),Ke&&(_e=C({},R),Ce=[],!0===Ke.html&&(C(_e,T),C(Ce,L)),!0===Ke.svg&&(C(_e,A),C(Ce,j),C(Ce,$)),!0===Ke.svgFilters&&(C(_e,M),C(Ce,j),C(Ce,$)),!0===Ke.mathMl&&(C(_e,O),C(Ce,D),C(Ce,$))),e.ADD_TAGS&&(_e===ke&&(_e=E(_e)),C(_e,e.ADD_TAGS,st)),e.ADD_ATTR&&(Ce===Se&&(Ce=E(Ce)),C(Ce,e.ADD_ATTR,st)),e.ADD_URI_SAFE_ATTR&&C(Ye,e.ADD_URI_SAFE_ATTR,st),e.FORBID_CONTENTS&&(He===qe&&(He=E(He)),C(He,e.FORBID_CONTENTS,st)),Ue&&(_e["#text"]=!0),Le&&C(_e,["html","head","body"]),_e.table&&(C(_e,["tbody"]),delete Pe.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ie=e.TRUSTED_TYPES_POLICY,ae=ie.createHTML("")}else void 0===ie&&(ie=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(U,l)),null!==ie&&"string"==typeof ae&&(ae=ie.createHTML(""));i&&i(e),lt=e}},pt=C({},["mi","mo","mn","ms","mtext"]),ht=C({},["foreignobject","annotation-xml"]),ft=C({},["title","style","font","a","script"]),mt=C({},[...A,...M,...N]),gt=C({},[...O,...I]),vt=function(e){p(r.removed,{element:e});try{oe(e).removeChild(e)}catch(t){G(e)}},yt=function(e,t){try{p(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ce[e])if($e||Be)try{vt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},bt=function(e){let t=null,n=null;if(De)e="<remove></remove>"+e;else{const t=m(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===it&&tt===et&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=ie?ie.createHTML(e):e;if(tt===et)try{t=(new z).parseFromString(r,it)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?ae:r}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),tt===et?ue.call(t,Le?"html":"body")[0]:Le?t.documentElement:i},wt=function(e){return le.call(e.ownerDocument||e,e,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT|B.SHOW_PROCESSING_INSTRUCTION|B.SHOW_CDATA_SECTION,null)},xt=function(e){return e instanceof F&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof V)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},_t=function(e){return"function"==typeof k&&e instanceof k},kt=function(e,t,n){pe[e]&&u(pe[e],(e=>{e.call(r,t,n,lt)}))},Ct=function(e){let t=null;if(kt("beforeSanitizeElements",e,null),xt(e))return vt(e),!0;const n=st(e.nodeName);if(kt("uponSanitizeElement",e,{tagName:n,allowedTags:_e}),e.hasChildNodes()&&!_t(e.firstElementChild)&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return vt(e),!0;if(e.nodeType===Z)return vt(e),!0;if(Re&&e.nodeType===Q&&w(/<[/\w]/g,e.data))return vt(e),!0;if(!_e[n]||Pe[n]){if(!Pe[n]&&Et(n)){if(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,n))return!1;if(Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(n))return!1}if(Ue&&!He[n]){const t=oe(e)||e.parentNode,n=re(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const o=H(n[r],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,ne(e))}}return vt(e),!0}return e instanceof S&&!function(e){let t=oe(e);t&&t.tagName||(t={namespaceURI:tt,tagName:"template"});const n=h(e.tagName),r=h(t.tagName);return!!rt[e.namespaceURI]&&(e.namespaceURI===Qe?t.namespaceURI===et?"svg"===n:t.namespaceURI===Ze?"svg"===n&&("annotation-xml"===r||pt[r]):Boolean(mt[n]):e.namespaceURI===Ze?t.namespaceURI===et?"math"===n:t.namespaceURI===Qe?"math"===n&&ht[r]:Boolean(gt[n]):e.namespaceURI===et?!(t.namespaceURI===Qe&&!ht[r])&&!(t.namespaceURI===Ze&&!pt[r])&&!gt[n]&&(ft[n]||!mt[n]):!("application/xhtml+xml"!==it||!rt[e.namespaceURI]))}(e)?(vt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!w(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie&&e.nodeType===J&&(t=e.textContent,u([he,fe,me],(e=>{t=g(t,e," ")})),e.textContent!==t&&(p(r.removed,{element:e.cloneNode()}),e.textContent=t)),kt("afterSanitizeElements",e,null),!1):(vt(e),!0)},St=function(e,t,n){if(Fe&&("id"===t||"name"===t)&&(n in o||n in ct))return!1;if(Me&&!Te[t]&&w(ge,t));else if(Ae&&w(ve,t));else if(!Ce[t]||Te[t]){if(!(Et(e)&&(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,e)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(e))&&(Ee.attributeNameCheck instanceof RegExp&&w(Ee.attributeNameCheck,t)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(t))||"is"===t&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,n)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(n))))return!1}else if(Ye[t]);else if(w(xe,g(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(n,"data:")||!Ge[e])if(Ne&&!w(ye,g(n,be,"")));else if(n)return!1;return!0},Et=function(e){return"annotation-xml"!==e&&m(e,we)},Pt=function(e){kt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce};let o=t.length;for(;o--;){const i=t[o],{name:a,namespaceURI:s,value:l}=i,c=st(a);let p="value"===a?l:y(l);if(n.attrName=c,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,kt("uponSanitizeAttribute",e,n),p=n.attrValue,Re&&w(/((--!?|])>)|<\/(style|title)/i,p)){yt(a,e);continue}if(n.forceKeepAttr)continue;if(yt(a,e),!n.keepAttr)continue;if(!Oe&&w(/\/>/i,p)){yt(a,e);continue}Ie&&u([he,fe,me],(e=>{p=g(p,e," ")}));const h=st(e.nodeName);if(St(h,c,p)){if(!ze||"id"!==c&&"name"!==c||(yt(a,e),p="user-content-"+p),ie&&"object"==typeof U&&"function"==typeof U.getAttributeType)if(s);else switch(U.getAttributeType(h,c)){case"TrustedHTML":p=ie.createHTML(p);break;case"TrustedScriptURL":p=ie.createScriptURL(p)}try{s?e.setAttributeNS(s,a,p):e.setAttribute(a,p),xt(e)?vt(e):d(r.removed)}catch(e){}}}kt("afterSanitizeAttributes",e,null)},Tt=function e(t){let n=null;const r=wt(t);for(kt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)kt("uponSanitizeShadowNode",n,null),Ct(n)||(n.content instanceof c&&e(n.content),Pt(n));kt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,o=null,i=null,s=null;if(nt=!e,nt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!_t(e)){if("function"!=typeof e.toString)throw x("toString is not a function");if("string"!=typeof(e=e.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return e;if(je||dt(t),r.removed=[],"string"==typeof e&&(We=!1),We){if(e.nodeName){const t=st(e.nodeName);if(!_e[t]||Pe[t])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof k)n=bt("\x3c!----\x3e"),o=n.ownerDocument.importNode(e,!0),o.nodeType===Y&&"BODY"===o.nodeName||"HTML"===o.nodeName?n=o:n.appendChild(o);else{if(!$e&&!Ie&&!Le&&-1===e.indexOf("<"))return ie&&Ve?ie.createHTML(e):e;if(n=bt(e),!n)return $e?null:Ve?ae:""}n&&De&&vt(n.firstChild);const l=wt(We?e:n);for(;i=l.nextNode();)Ct(i)||(i.content instanceof c&&Tt(i.content),Pt(i));if(We)return e;if($e){if(Be)for(s=ce.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(Ce.shadowroot||Ce.shadowrootmode)&&(s=de.call(a,s,!0)),s}let d=Le?n.outerHTML:n.innerHTML;return Le&&_e["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&w(q,n.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+d),Ie&&u([he,fe,me],(e=>{d=g(d,e," ")})),ie&&Ve?ie.createHTML(d):d},r.setConfig=function(){dt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),je=!0},r.clearConfig=function(){lt=null,je=!1},r.isValidAttribute=function(e,t,n){lt||dt({});const r=st(e),o=st(t);return St(r,o,n)},r.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],p(pe[e],t))},r.removeHook=function(e){if(pe[e])return d(pe[e])},r.removeHooks=function(e){pe[e]&&(pe[e]=[])},r.removeAllHooks=function(){pe={}},r}()}()},43360:(e,t,n)=>{var r=n(93243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},43492:(e,t,n)=>{var r=n(10637);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("35b5473f",r,!0,{sourceMap:!1,shadowMode:!1})},43714:(e,t,n)=>{var r=n(53730);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,s=i.length,l=n.length;++o<s;){var c=r(i[o],a[o]);if(c)return o>=l?c:c*("desc"==n[o]?-1:1)}return e.index-t.index}},43838:(e,t,n)=>{var r=n(21791),o=n(37241);e.exports=function(e,t){return e&&r(t,o(t),e)}},44383:(e,t,n)=>{var r=n(76001),o=n(38816)((function(e,t){return null==e?{}:r(e,t)}));e.exports=o},44394:(e,t,n)=>{var r=n(72552),o=n(40346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},44458:e=>{e.exports="2.1.8"},44517:(e,t,n)=>{var r=n(76545),o=n(63950),i=n(84247),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},44726:(e,t,n)=>{"use strict";var r=n(38221),o=n(65731),i=n(58156),a=n(63560),s=n(42072);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r),u=l(o),d=l(i),p=l(a),h=l(s);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x="undefined"==typeof window?null:window,_=x?x.navigator:null;x&&x.document;var k=f(""),C=f({}),S=f((function(){})),E="undefined"==typeof HTMLElement?"undefined":f(HTMLElement),P=function(e){return e&&e.instanceString&&A(e.instanceString)?e.instanceString():null},T=function(e){return null!=e&&f(e)==k},A=function(e){return null!=e&&f(e)===S},M=function(e){return!R(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},N=function(e){return null!=e&&f(e)===C&&!M(e)&&e.constructor===Object},O=function(e){return null!=e&&f(e)===f(1)&&!isNaN(e)},I=function(e){return"undefined"===E?void 0:null!=e&&e instanceof HTMLElement},R=function(e){return L(e)||j(e)},L=function(e){return"collection"===P(e)&&e._private.single},j=function(e){return"collection"===P(e)&&!e._private.single},D=function(e){return"core"===P(e)},$=function(e){return"stylesheet"===P(e)},B=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},V=function(e){return function(e){return null!=e&&f(e)===C}(e)&&A(e.then)},F=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var r,o=arguments,i=t.apply(this,o),a=n.cache;return(r=a[i])||(r=a[i]=e.apply(this,o)),r};return n.cache={},n},z=F((function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))})),U=F((function(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))})),W=F((function(e,t){return e+t[0].toUpperCase()+t.substring(1)}),(function(e,t){return e+"$"+t})),K=function(e){return B(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},H="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",q="rgb[a]?\\(("+H+"[%]?)\\s*,\\s*("+H+"[%]?)\\s*,\\s*("+H+"[%]?)(?:\\s*,\\s*("+H+"))?\\)",G="rgb[a]?\\((?:"+H+"[%]?)\\s*,\\s*(?:"+H+"[%]?)\\s*,\\s*(?:"+H+"[%]?)(?:\\s*,\\s*(?:"+H+"))?\\)",X="hsl[a]?\\(("+H+")\\s*,\\s*("+H+"[%])\\s*,\\s*("+H+"[%])(?:\\s*,\\s*("+H+"))?\\)",Y="hsl[a]?\\((?:"+H+")\\s*,\\s*(?:"+H+"[%])\\s*,\\s*(?:"+H+"[%])(?:\\s*,\\s*(?:"+H+"))?\\)",J=function(e,t){return e<t?-1:e>t?1:0},Z=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var o=Object.keys(r),i=0;i<o.length;i++){var a=o[i];e[a]=r[a]}}return e},Q={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ee=function(e){for(var t=e.map,n=e.keys,r=n.length,o=0;o<r;o++){var i=n[o];if(N(i))throw Error("Tried to set map with object key");o<n.length-1?(null==t[i]&&(t[i]={}),t=t[i]):t[i]=e.value}},te=function(e){for(var t=e.map,n=e.keys,r=n.length,o=0;o<r;o++){var i=n[o];if(N(i))throw Error("Tried to get map with object key");if(null==(t=t[i]))return t}return t},ne=x?x.performance:null,re=ne&&ne.now?function(){return ne.now()}:function(){return Date.now()},oe=function(){if(x){if(x.requestAnimationFrame)return function(e){x.requestAnimationFrame(e)};if(x.mozRequestAnimationFrame)return function(e){x.mozRequestAnimationFrame(e)};if(x.webkitRequestAnimationFrame)return function(e){x.webkitRequestAnimationFrame(e)};if(x.msRequestAnimationFrame)return function(e){x.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout((function(){e(re())}),1e3/60)}}(),ie=function(e){return oe(e)},ae=re,se=9261,le=5381,ce=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;!(t=e.next()).done;)n=65599*n+t.value|0;return n},ue=function(e){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:se)+e|0},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;return(t<<5)+t+e|0},pe=function(e){return 2097152*e[0]+e[1]},he=function(e,t){return[ue(e[0],t[0]),de(e[1],t[1])]},fe=function(e,t){var n={value:0,done:!1},r=0,o=e.length;return ce({next:function(){return r<o?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},me=function(){return ge(arguments)},ge=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?fe(r):fe(r,t)}return t},ve=!0,ye=null!=console.warn,be=null!=console.trace,we=Number.MAX_SAFE_INTEGER||9007199254740991,xe=function(){return!0},_e=function(){return!1},ke=function(){return 0},Ce=function(){},Se=function(e){throw new Error(e)},Ee=function(e){if(void 0===e)return ve;ve=!!e},Pe=function(e){Ee()&&(ye?console.warn(e):(console.log(e),be&&console.trace()))},Te=function(e){return null==e?e:M(e)?e.slice():N(e)?function(e){return Z({},e)}(e):e},Ae=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},Me={},Ne=function(){return Me},Oe=function(e){var t=Object.keys(e);return function(n){for(var r={},o=0;o<t.length;o++){var i=t[o],a=null==n?void 0:n[i];r[i]=void 0===a?e[i]:a}return r}},Ie=function(e,t,n){for(var r=e.length-1;r>=0&&(e[r]!==t||(e.splice(r,1),!n));r--);},Re=function(e){e.splice(0,e.length)},Le=function(e,t,n){return n&&(t=W(n,t)),e[t]},je=function(e,t,n,r){n&&(t=W(n,t)),e[t]=r},De="undefined"!=typeof Map?Map:function(){function e(){m(this,e),this._obj={}}return v(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),$e=function(){function e(t){if(m(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}}return v(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter((function(t){return e.has(t)}))}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Be="undefined"!==("undefined"==typeof Set?"undefined":f(Set))?Set:$e,Ve=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&D(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new Be,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==o.position.x&&(o.position.x=0),null==o.position.y&&(o.position.y=0),t.renderedPosition){var i=t.renderedPosition,a=e.pan(),s=e.zoom();o.position={x:(i.x-a.x)/s,y:(i.y-a.y)/s}}var l=[];M(t.classes)?l=t.classes:T(t.classes)&&(l=t.classes.split(/\s+/));for(var c=0,u=l.length;c<u;c++){var d=l[c];d&&""!==d&&o.classes.add(d)}this.createEmitter();var p=t.style||t.css;p&&(Pe("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p)),(void 0===n||n)&&this.restore()}else Se("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else Se("An element must have a core reference and parameters set")},Fe=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var o;N(t)&&!R(t)&&(t=(o=t).roots||o.root,n=o.visit,r=o.directed),r=2!==arguments.length||A(n)?r:n,n=A(n)?n:function(){};for(var i,a=this._private.cy,s=t=T(t)?this.filter(t):t,l=[],c=[],u={},d={},p={},h=0,f=this.byGroup(),m=f.nodes,g=f.edges,v=0;v<s.length;v++){var y=s[v],b=y.id();y.isNode()&&(l.unshift(y),e.bfs&&(p[b]=!0,c.push(y)),d[b]=0)}for(var w=function(){var t=e.bfs?l.shift():l.pop(),o=t.id();if(e.dfs){if(p[o])return"continue";p[o]=!0,c.push(t)}var a,s=d[o],f=u[o],v=null!=f?f.source():null,y=null!=f?f.target():null,b=null==f?void 0:t.same(v)?y[0]:v[0];if(!0===(a=n(t,f,b,h++,s)))return i=t,"break";if(!1===a)return"break";for(var w=t.connectedEdges().filter((function(e){return(!r||e.source().same(t))&&g.has(e)})),x=0;x<w.length;x++){var _=w[x],k=_.connectedNodes().filter((function(e){return!e.same(t)&&m.has(e)})),C=k.id();0===k.length||p[C]||(k=k[0],l.push(k),e.bfs&&(p[C]=!0,c.push(k)),u[C]=_,d[C]=d[o]+1)}};0!==l.length;){var x=w();if("continue"!==x&&"break"===x)break}for(var _=a.collection(),k=0;k<c.length;k++){var C=c[k],S=u[C.id()];null!=S&&_.push(S),_.push(C)}return{path:a.collection(_),found:a.collection(i)}}},ze={breadthFirstSearch:Fe({bfs:!0}),depthFirstSearch:Fe({dfs:!0})};ze.bfs=ze.breadthFirstSearch,ze.dfs=ze.depthFirstSearch;var Ue=Oe({root:null,weight:function(e){return 1},directed:!1}),We={dijkstra:function(e){if(!N(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=Ue(e),r=n.root,o=n.weight,i=n.directed,a=this,s=o,l=T(r)?this.filter(r)[0]:r[0],c={},d={},p={},h=this.byGroup(),f=h.nodes,m=h.edges;m.unmergeBy((function(e){return e.isLoop()}));for(var g=function(e){return c[e.id()]},v=function(e,t){c[e.id()]=t,y.updateItem(e)},y=new u.default((function(e,t){return g(e)-g(t)})),b=0;b<f.length;b++){var w=f[b];c[w.id()]=w.same(l)?0:1/0,y.push(w)}for(var x=function(e,t){for(var n,r=(i?e.edgesTo(t):e.edgesWith(t)).intersect(m),o=1/0,a=0;a<r.length;a++){var l=r[a],c=s(l);(c<o||!n)&&(o=c,n=l)}return{edge:n,dist:o}};y.size()>0;){var _=y.pop(),k=g(_),C=_.id();if(p[C]=k,k!==1/0)for(var S=_.neighborhood().intersect(f),E=0;E<S.length;E++){var P=S[E],A=P.id(),M=x(_,P),O=k+M.dist;O<g(P)&&(v(P,O),d[A]={node:_,edge:M.edge})}}return{distanceTo:function(e){var t=T(e)?f.filter(e)[0]:e[0];return p[t.id()]},pathTo:function(e){var t=T(e)?f.filter(e)[0]:e[0],n=[],r=t,o=r.id();if(t.length>0)for(n.unshift(t);d[o];){var i=d[o];n.unshift(i.edge),n.unshift(i.node),o=(r=i.node).id()}return a.spawn(n)}}}},Ke={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,o=n.length,i=new Array(o),a=n,s=function(e){for(var t=0;t<i.length;t++)if(i[t].has(e))return t},l=0;l<o;l++)i[l]=this.spawn(n[l]);for(var c=r.sort((function(t,n){return e(t)-e(n)})),u=0;u<c.length;u++){var d=c[u],p=d.source()[0],h=d.target()[0],f=s(p),m=s(h),g=i[f],v=i[m];f!==m&&(a.merge(d),g.merge(v),i.splice(m,1))}return a}},He=Oe({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),qe={aStar:function(e){var t=this.cy(),n=He(e),r=n.root,o=n.goal,i=n.heuristic,a=n.directed,s=n.weight;r=t.collection(r)[0],o=t.collection(o)[0];var l,c,d=r.id(),p=o.id(),h={},f={},m={},g=new u.default((function(e,t){return f[e.id()]-f[t.id()]})),v=new Be,y={},b={},w=function(e,t){g.push(e),v.add(t)};w(r,d),h[d]=0,f[d]=i(r);for(var x,_=0;g.size()>0;){if(c=(l=g.pop()).id(),v.delete(c),_++,c===p){for(var k=[],C=o,S=p,E=b[S];k.unshift(C),null!=E&&k.unshift(E),null!=(C=y[S]);)E=b[S=C.id()];return{found:!0,distance:h[c],path:this.spawn(k),steps:_}}m[c]=!0;for(var P=l._private.edges,T=0;T<P.length;T++){var A=P[T];if(this.hasElementWithId(A.id())&&(!a||A.data("source")===c)){var M=A.source(),N=A.target(),O=M.id()!==c?M:N,I=O.id();if(this.hasElementWithId(I)&&!m[I]){var R=h[c]+s(A);x=I,v.has(x)?R<h[I]&&(h[I]=R,f[I]=R+i(O),y[I]=l,b[I]=A):(h[I]=R,f[I]=R+i(O),w(O,I),y[I]=l,b[I]=A)}}}}return{found:!1,distance:void 0,path:void 0,steps:_}}},Ge=Oe({weight:function(e){return 1},directed:!1}),Xe={floydWarshall:function(e){for(var t=this.cy(),n=Ge(e),r=n.weight,o=n.directed,i=r,a=this.byGroup(),s=a.nodes,l=a.edges,c=s.length,u=c*c,d=function(e){return s.indexOf(e)},p=function(e){return s[e]},h=new Array(u),f=0;f<u;f++){var m=f%c,g=(f-m)/c;h[f]=g===m?0:1/0}for(var v=new Array(u),y=new Array(u),b=0;b<l.length;b++){var w=l[b],x=w.source()[0],_=w.target()[0];if(x!==_){var k=d(x),C=d(_),S=k*c+C,E=i(w);if(h[S]>E&&(h[S]=E,v[S]=C,y[S]=w),!o){var P=C*c+k;!o&&h[P]>E&&(h[P]=E,v[P]=k,y[P]=w)}}}for(var A=0;A<c;A++)for(var M=0;M<c;M++)for(var N=M*c+A,O=0;O<c;O++){var I=M*c+O,R=A*c+O;h[N]+h[R]<h[I]&&(h[I]=h[N]+h[R],v[I]=v[N])}var L=function(e){return d(function(e){return(T(e)?t.filter(e):e)[0]}(e))},j={distance:function(e,t){var n=L(e),r=L(t);return h[n*c+r]},path:function(e,n){var r=L(e),o=L(n),i=p(r);if(r===o)return i.collection();if(null==v[r*c+o])return t.collection();var a,s=t.collection(),l=r;for(s.merge(i);r!==o;)l=r,r=v[r*c+o],a=y[l*c+r],s.merge(a),s.merge(p(r));return s}};return j}},Ye=Oe({weight:function(e){return 1},directed:!1,root:null}),Je={bellmanFord:function(e){var t=this,n=Ye(e),r=n.weight,o=n.directed,i=n.root,a=r,s=this,l=this.cy(),c=this.byGroup(),u=c.edges,d=c.nodes,p=d.length,h=new De,f=!1,m=[];i=l.collection(i)[0],u.unmergeBy((function(e){return e.isLoop()}));for(var g=u.length,v=function(e){var t=h.get(e.id());return t||(t={},h.set(e.id(),t)),t},y=function(e){return(T(e)?l.$(e):e)[0]},b=0;b<p;b++){var w=d[b],x=v(w);w.same(i)?x.dist=0:x.dist=1/0,x.pred=null,x.edge=null}for(var _=!1,k=function(e,t,n,r,o,i){var a=r.dist+i;a<o.dist&&!n.same(r.edge)&&(o.dist=a,o.pred=e,o.edge=n,_=!0)},C=1;C<p;C++){_=!1;for(var S=0;S<g;S++){var E=u[S],P=E.source(),A=E.target(),M=a(E),N=v(P),O=v(A);k(P,0,E,N,O,M),o||k(A,0,E,O,N,M)}if(!_)break}if(_)for(var I=[],R=0;R<g;R++){var L=u[R],j=L.source(),D=L.target(),$=a(L),B=v(j).dist,V=v(D).dist;if(B+$<V||!o&&V+$<B){if(f||(Pe("Graph contains a negative weight cycle for Bellman-Ford"),f=!0),!1===e.findNegativeWeightCycles)break;var F=[];B+$<V&&F.push(j),!o&&V+$<B&&F.push(D);for(var z=F.length,U=0;U<z;U++){var W=F[U],K=[W];K.push(v(W).edge);for(var H=v(W).pred;-1===K.indexOf(H);)K.push(H),K.push(v(H).edge),H=v(H).pred;for(var q=(K=K.slice(K.indexOf(H)))[0].id(),G=0,X=2;X<K.length;X+=2)K[X].id()<q&&(q=K[X].id(),G=X);(K=K.slice(G).concat(K.slice(0,G))).push(K[0]);var Y=K.map((function(e){return e.id()})).join(",");-1===I.indexOf(Y)&&(m.push(s.spawn(K)),I.push(Y))}}}return{distanceTo:function(e){return v(y(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=[],o=y(e);;){if(null==o)return t.spawn();var a=v(o),l=a.edge,c=a.pred;if(r.unshift(o[0]),o.same(n)&&r.length>0)break;null!=l&&r.unshift(l),o=c}return s.spawn(r)},hasNegativeWeightCycle:f,negativeWeightCycles:m}}},Ze=Math.sqrt(2),Qe=function(e,t,n){0===n.length&&Se("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],o=r[1],i=r[2],a=t[o],s=t[i],l=n,c=l.length-1;c>=0;c--){var u=l[c],d=u[1],p=u[2];(t[d]===a&&t[p]===s||t[d]===s&&t[p]===a)&&l.splice(c,1)}for(var h=0;h<l.length;h++){var f=l[h];f[1]===s?(l[h]=f.slice(),l[h][1]=a):f[2]===s&&(l[h]=f.slice(),l[h][2]=a)}for(var m=0;m<t.length;m++)t[m]===s&&(t[m]=a);return l},et=function(e,t,n,r){for(;n>r;){var o=Math.floor(Math.random()*t.length);t=Qe(o,e,t),n--}return t},tt={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy((function(e){return e.isLoop()}));var o=n.length,i=r.length,a=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),s=Math.floor(o/Ze);if(!(o<2)){for(var l=[],c=0;c<i;c++){var u=r[c];l.push([c,n.indexOf(u.source()),n.indexOf(u.target())])}for(var d=1/0,p=[],h=new Array(o),f=new Array(o),m=new Array(o),g=function(e,t){for(var n=0;n<o;n++)t[n]=e[n]},v=0;v<=a;v++){for(var y=0;y<o;y++)f[y]=y;var b=et(f,l.slice(),o,s),w=b.slice();g(f,m);var x=et(f,b,s,2),_=et(m,w,s,2);x.length<=_.length&&x.length<d?(d=x.length,p=x,g(f,h)):_.length<=x.length&&_.length<d&&(d=_.length,p=_,g(m,h))}for(var k=this.spawn(p.map((function(e){return r[e[0]]}))),C=this.spawn(),S=this.spawn(),E=h[0],P=0;P<h.length;P++){var T=h[P],A=n[P];T===E?C.merge(A):S.merge(A)}var M=function(t){var n=e.spawn();return t.forEach((function(t){n.merge(t),t.connectedEdges().forEach((function(t){e.contains(t)&&!k.contains(t)&&n.merge(t)}))})),n},N=[M(C),M(S)];return{cut:k,components:N,partition1:C,partition2:S}}Se("At least 2 nodes are required for Karger-Stein algorithm")}},nt=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},rt=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},ot=function(e){return{x:e[0],y:e[1]}},it=function(e,t){return Math.atan2(t,e)-Math.PI/2},at=Math.log2||function(e){return Math.log(e)/Math.log(2)},st=function(e){return e>0?1:e<0?-1:0},lt=function(e,t){return Math.sqrt(ct(e,t))},ct=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},ut=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var o=0;o<t;o++)e[o]=e[o]/n;return e},dt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},pt=function(e,t,n,r){return{x:dt(e.x,t.x,n.x,r),y:dt(e.y,t.y,n.y,r)}},ht=function(e,t,n){return Math.max(e,Math.min(n,t))},ft=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},mt=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},vt=function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===i.length)t=n=r=o=i[0];else if(2===i.length)t=r=i[0],o=n=i[1];else if(4===i.length){var a=b(i,4);t=a[0],n=a[1],r=a[2],o=a[3]}return e.x1-=o,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},yt=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},bt=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},wt=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},xt=function(e,t){return wt(e,t.x1,t.y1)&&wt(e,t.x2,t.y2)},_t=function(e,t,n,r,o,i,a){var s,l=Vt(o,i),c=o/2,u=i/2,d=r-u-a;if((s=Rt(e,t,n,r,n-c+l-a,d,n+c-l+a,d,!1)).length>0)return s;var p=n+c+a;if((s=Rt(e,t,n,r,p,r-u+l-a,p,r+u-l+a,!1)).length>0)return s;var h=r+u+a;if((s=Rt(e,t,n,r,n-c+l-a,h,n+c-l+a,h,!1)).length>0)return s;var f,m=n-c-a;if((s=Rt(e,t,n,r,m,r-u+l-a,m,r+u-l+a,!1)).length>0)return s;var g=n-c+l,v=r-u+l;if((f=Ot(e,t,n,r,g,v,l+a)).length>0&&f[0]<=g&&f[1]<=v)return[f[0],f[1]];var y=n+c-l,b=r-u+l;if((f=Ot(e,t,n,r,y,b,l+a)).length>0&&f[0]>=y&&f[1]<=b)return[f[0],f[1]];var w=n+c-l,x=r+u-l;if((f=Ot(e,t,n,r,w,x,l+a)).length>0&&f[0]>=w&&f[1]>=x)return[f[0],f[1]];var _=n-c+l,k=r+u-l;return(f=Ot(e,t,n,r,_,k,l+a)).length>0&&f[0]<=_&&f[1]>=k?[f[0],f[1]]:[]},kt=function(e,t,n,r,o,i,a){var s=a,l=Math.min(n,o),c=Math.max(n,o),u=Math.min(r,i),d=Math.max(r,i);return l-s<=e&&e<=c+s&&u-s<=t&&t<=d+s},Ct=function(e,t,n,r,o,i,a,s,l){var c=Math.min(n,a,o)-l,u=Math.max(n,a,o)+l,d=Math.min(r,s,i)-l,p=Math.max(r,s,i)+l;return!(e<c||e>u||t<d||t>p)},St=function(e,t,n,r,o,i,a,s){var l,c,u,d,p,h,f,m,g,v,y,b,w,x=[];c=9*n*o-3*n*n-3*n*a-6*o*o+3*o*a+9*r*i-3*r*r-3*r*s-6*i*i+3*i*s,u=3*n*n-6*n*o+n*a-n*e+2*o*o+2*o*e-a*e+3*r*r-6*r*i+r*s-r*t+2*i*i+2*i*t-s*t,d=1*n*o-n*n+n*e-o*e+r*i-r*r+r*t-i*t,0===(l=1*n*n-4*n*o+2*n*a+4*o*o-4*o*a+a*a+r*r-4*r*i+2*r*s+4*i*i-4*i*s+s*s)&&(l=1e-5),m=-27*(d/=l)+(c/=l)*(9*(u/=l)-c*c*2),h=(f=(3*u-c*c)/9)*f*f+(m/=54)*m,(p=x)[1]=0,b=c/3,h>0?(v=(v=m+Math.sqrt(h))<0?-Math.pow(-v,1/3):Math.pow(v,1/3),y=(y=m-Math.sqrt(h))<0?-Math.pow(-y,1/3):Math.pow(y,1/3),p[0]=-b+v+y,b+=(v+y)/2,p[4]=p[2]=-b,b=Math.sqrt(3)*(-y+v)/2,p[3]=b,p[5]=-b):(p[5]=p[3]=0,0===h?(w=m<0?-Math.pow(-m,1/3):Math.pow(m,1/3),p[0]=2*w-b,p[4]=p[2]=-(w+b)):(g=(f=-f)*f*f,g=Math.acos(m/Math.sqrt(g)),w=2*Math.sqrt(f),p[0]=-b+w*Math.cos(g/3),p[2]=-b+w*Math.cos((g+2*Math.PI)/3),p[4]=-b+w*Math.cos((g+4*Math.PI)/3)));for(var _=[],k=0;k<6;k+=2)Math.abs(x[k+1])<1e-7&&x[k]>=0&&x[k]<=1&&_.push(x[k]);_.push(1),_.push(0);for(var C,S,E,P=-1,T=0;T<_.length;T++)C=Math.pow(1-_[T],2)*n+2*(1-_[T])*_[T]*o+_[T]*_[T]*a,S=Math.pow(1-_[T],2)*r+2*(1-_[T])*_[T]*i+_[T]*_[T]*s,E=Math.pow(C-e,2)+Math.pow(S-t,2),P>=0?E<P&&(P=E):P=E;return P},Et=function(e,t,n,r,o,i){var a=[e-n,t-r],s=[o-n,i-r],l=s[0]*s[0]+s[1]*s[1],c=a[0]*a[0]+a[1]*a[1],u=a[0]*s[0]+a[1]*s[1],d=u*u/l;return u<0?c:d>l?(e-o)*(e-o)+(t-i)*(t-i):c-d},Pt=function(e,t,n){for(var r,o,i,a,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],o=n[2*l+1],l+1<n.length/2?(i=n[2*(l+1)],a=n[2*(l+1)+1]):(i=n[2*(l+1-n.length/2)],a=n[2*(l+1-n.length/2)+1]),r==e&&i==e);else{if(!(r>=e&&e>=i||r<=e&&e<=i))continue;(e-r)/(i-r)*(a-o)+o>t&&s++}return s%2!=0},Tt=function(e,t,n,r,o,i,a,s,l){var c,u=new Array(n.length);null!=s[0]?(c=Math.atan(s[1]/s[0]),s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=s;for(var d,p=Math.cos(-c),h=Math.sin(-c),f=0;f<u.length/2;f++)u[2*f]=i/2*(n[2*f]*p-n[2*f+1]*h),u[2*f+1]=a/2*(n[2*f+1]*p+n[2*f]*h),u[2*f]+=r,u[2*f+1]+=o;if(l>0){var m=Mt(u,-l);d=At(m)}else d=u;return Pt(e,t,d)},At=function(e){for(var t,n,r,o,i,a,s,l,c=new Array(e.length/2),u=0;u<e.length/4;u++){t=e[4*u],n=e[4*u+1],r=e[4*u+2],o=e[4*u+3],u<e.length/4-1?(i=e[4*(u+1)],a=e[4*(u+1)+1],s=e[4*(u+1)+2],l=e[4*(u+1)+3]):(i=e[0],a=e[1],s=e[2],l=e[3]);var d=Rt(t,n,r,o,i,a,s,l,!0);c[2*u]=d[0],c[2*u+1]=d[1]}return c},Mt=function(e,t){for(var n,r,o,i,a=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(o=e[2*(s+1)],i=e[2*(s+1)+1]):(o=e[0],i=e[1]);var l=i-r,c=-(o-n),u=Math.sqrt(l*l+c*c),d=l/u,p=c/u;a[4*s]=n+d*t,a[4*s+1]=r+p*t,a[4*s+2]=o+d*t,a[4*s+3]=i+p*t}return a},Nt=function(e,t,n,r,o,i,a){return e-=o,t-=i,(e/=n/2+a)*e+(t/=r/2+a)*t<=1},Ot=function(e,t,n,r,o,i,a){var s=[n-e,r-t],l=[e-o,t-i],c=s[0]*s[0]+s[1]*s[1],u=2*(l[0]*s[0]+l[1]*s[1]),d=u*u-4*c*(l[0]*l[0]+l[1]*l[1]-a*a);if(d<0)return[];var p=(-u+Math.sqrt(d))/(2*c),h=(-u-Math.sqrt(d))/(2*c),f=Math.min(p,h),m=Math.max(p,h),g=[];if(f>=0&&f<=1&&g.push(f),m>=0&&m<=1&&g.push(m),0===g.length)return[];var v=g[0]*s[0]+e,y=g[0]*s[1]+t;return g.length>1?g[0]==g[1]?[v,y]:[v,y,g[1]*s[0]+e,g[1]*s[1]+t]:[v,y]},It=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Rt=function(e,t,n,r,o,i,a,s,l){var c=e-o,u=n-e,d=a-o,p=t-i,h=r-t,f=s-i,m=d*p-f*c,g=u*p-h*c,v=f*u-d*h;if(0!==v){var y=m/v,b=g/v,w=-.001;return w<=y&&y<=1.001&&w<=b&&b<=1.001||l?[e+y*u,t+y*h]:[]}return 0===m||0===g?It(e,n,a)===a?[a,s]:It(e,n,o)===o?[o,i]:It(o,a,n)===n?[n,r]:[]:[]},Lt=function(e,t,n,r,o,i,a,s){var l,c,u,d,p,h,f=[],m=new Array(n.length),g=!0;if(null==i&&(g=!1),g){for(var v=0;v<m.length/2;v++)m[2*v]=n[2*v]*i+r,m[2*v+1]=n[2*v+1]*a+o;if(s>0){var y=Mt(m,-s);c=At(y)}else c=m}else c=n;for(var b=0;b<c.length/2;b++)u=c[2*b],d=c[2*b+1],b<c.length/2-1?(p=c[2*(b+1)],h=c[2*(b+1)+1]):(p=c[0],h=c[1]),0!==(l=Rt(e,t,r,o,u,d,p,h)).length&&f.push(l[0],l[1]);return f},jt=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],o=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i=(o-n)/o;return i<0&&(i=1e-5),[t[0]+i*r[0],t[1]+i*r[1]]},Dt=function(e,t){var n=Bt(e,t);return $t(n)},$t=function(e){for(var t,n,r=e.length/2,o=1/0,i=1/0,a=-1/0,s=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],o=Math.min(o,t),a=Math.max(a,t),i=Math.min(i,n),s=Math.max(s,n);for(var c=2/(a-o),u=2/(s-i),d=0;d<r;d++)t=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*u,o=Math.min(o,t),a=Math.max(a,t),i=Math.min(i,n),s=Math.max(s,n);if(i<-1)for(var p=0;p<r;p++)n=e[2*p+1]=e[2*p+1]+(-1-i);return e},Bt=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var o,i=new Array(2*e),a=0;a<e;a++)o=a*n+r,i[2*a]=Math.cos(o),i[2*a+1]=Math.sin(-o);return i},Vt=function(e,t){return Math.min(e/4,t/4,8)},Ft=function(e,t){return Math.min(e/10,t/10,8)},zt=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Ut=Oe({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Wt={pageRank:function(e){for(var t=Ut(e),n=t.dampingFactor,r=t.precision,o=t.iterations,i=t.weight,a=this._private.cy,s=this.byGroup(),l=s.nodes,c=s.edges,u=l.length,d=u*u,p=c.length,h=new Array(d),f=new Array(u),m=(1-n)/u,g=0;g<u;g++){for(var v=0;v<u;v++)h[g*u+v]=0;f[g]=0}for(var y=0;y<p;y++){var b=c[y],w=b.data("source"),x=b.data("target");if(w!==x){var _=l.indexOfId(w),k=l.indexOfId(x),C=i(b);h[k*u+_]+=C,f[_]+=C}}for(var S=1/u+m,E=0;E<u;E++)if(0===f[E])for(var P=0;P<u;P++)h[P*u+E]=S;else for(var T=0;T<u;T++){var A=T*u+E;h[A]=h[A]/f[E]+m}for(var M,N=new Array(u),O=new Array(u),I=0;I<u;I++)N[I]=1;for(var R=0;R<o;R++){for(var L=0;L<u;L++)O[L]=0;for(var j=0;j<u;j++)for(var D=0;D<u;D++){var $=j*u+D;O[j]+=h[$]*N[D]}ut(O),M=N,N=O,O=M;for(var B=0,V=0;V<u;V++){var F=M[V]-N[V];B+=F*F}if(B<r)break}return{rank:function(e){return e=a.collection(e)[0],N[l.indexOf(e)]}}}},Kt=Oe({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ht={degreeCentralityNormalized:function(e){e=Kt(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var o={},i={},a=0,s=0,l=0;l<r;l++){var c=n[l],u=c.id();e.root=c;var d=this.degreeCentrality(e);a<d.indegree&&(a=d.indegree),s<d.outdegree&&(s=d.outdegree),o[u]=d.indegree,i[u]=d.outdegree}return{indegree:function(e){return 0==a?0:(T(e)&&(e=t.filter(e)),o[e.id()]/a)},outdegree:function(e){return 0===s?0:(T(e)&&(e=t.filter(e)),i[e.id()]/s)}}}for(var p={},h=0,f=0;f<r;f++){var m=n[f];e.root=m;var g=this.degreeCentrality(e);h<g.degree&&(h=g.degree),p[m.id()]=g.degree}return{degree:function(e){return 0===h?0:(T(e)&&(e=t.filter(e)),p[e.id()]/h)}}},degreeCentrality:function(e){e=Kt(e);var t=this.cy(),n=this,r=e,o=r.root,i=r.weight,a=r.directed,s=r.alpha;if(o=t.collection(o)[0],a){for(var l=o.connectedEdges(),c=l.filter((function(e){return e.target().same(o)&&n.has(e)})),u=l.filter((function(e){return e.source().same(o)&&n.has(e)})),d=c.length,p=u.length,h=0,f=0,m=0;m<c.length;m++)h+=i(c[m]);for(var g=0;g<u.length;g++)f+=i(u[g]);return{indegree:Math.pow(d,1-s)*Math.pow(h,s),outdegree:Math.pow(p,1-s)*Math.pow(f,s)}}for(var v=o.connectedEdges().intersection(n),y=v.length,b=0,w=0;w<v.length;w++)b+=i(v[w]);return{degree:Math.pow(y,1-s)*Math.pow(b,s)}}};Ht.dc=Ht.degreeCentrality,Ht.dcn=Ht.degreeCentralityNormalised=Ht.degreeCentralityNormalized;var qt=Oe({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Gt={closenessCentralityNormalized:function(e){for(var t=qt(e),n=t.harmonic,r=t.weight,o=t.directed,i=this.cy(),a={},s=0,l=this.nodes(),c=this.floydWarshall({weight:r,directed:o}),u=0;u<l.length;u++){for(var d=0,p=l[u],h=0;h<l.length;h++)if(u!==h){var f=c.distance(p,l[h]);d+=n?1/f:f}n||(d=1/d),s<d&&(s=d),a[p.id()]=d}return{closeness:function(e){return 0==s?0:(e=T(e)?i.filter(e)[0].id():e.id(),a[e]/s)}}},closenessCentrality:function(e){var t=qt(e),n=t.root,r=t.weight,o=t.directed,i=t.harmonic;n=this.filter(n)[0];for(var a=this.dijkstra({root:n,weight:r,directed:o}),s=0,l=this.nodes(),c=0;c<l.length;c++){var u=l[c];if(!u.same(n)){var d=a.distanceTo(u);s+=i?1/d:d}}return i?s:1/s}};Gt.cc=Gt.closenessCentrality,Gt.ccn=Gt.closenessCentralityNormalised=Gt.closenessCentralityNormalized;var Xt=Oe({weight:null,directed:!1}),Yt={betweennessCentrality:function(e){for(var t=Xt(e),n=t.directed,r=t.weight,o=null!=r,i=this.cy(),a=this.nodes(),s={},l={},c=0,d=function(e,t){l[e]=t,t>c&&(c=t)},p=function(e){return l[e]},h=0;h<a.length;h++){var f=a[h],m=f.id();s[m]=n?f.outgoers().nodes():f.openNeighborhood().nodes(),d(m,0)}for(var g=function(e){for(var t=a[e].id(),n=[],l={},c={},h={},f=new u.default((function(e,t){return h[e]-h[t]})),m=0;m<a.length;m++){var g=a[m].id();l[g]=[],c[g]=0,h[g]=1/0}for(c[t]=1,h[t]=0,f.push(t);!f.empty();){var v=f.pop();if(n.push(v),o)for(var y=0;y<s[v].length;y++){var b,w=s[v][y],x=i.getElementById(v);b=x.edgesTo(w).length>0?x.edgesTo(w)[0]:w.edgesTo(x)[0];var _=r(b);w=w.id(),h[w]>h[v]+_&&(h[w]=h[v]+_,f.nodes.indexOf(w)<0?f.push(w):f.updateItem(w),c[w]=0,l[w]=[]),h[w]==h[v]+_&&(c[w]=c[w]+c[v],l[w].push(v))}else for(var k=0;k<s[v].length;k++){var C=s[v][k].id();h[C]==1/0&&(f.push(C),h[C]=h[v]+1),h[C]==h[v]+1&&(c[C]=c[C]+c[v],l[C].push(v))}}for(var S={},E=0;E<a.length;E++)S[a[E].id()]=0;for(;n.length>0;){for(var P=n.pop(),T=0;T<l[P].length;T++){var A=l[P][T];S[A]=S[A]+c[A]/c[P]*(1+S[P])}P!=a[e].id()&&d(P,p(P)+S[P])}},v=0;v<a.length;v++)g(v);var y={betweenness:function(e){var t=i.collection(e).id();return p(t)},betweennessNormalized:function(e){if(0==c)return 0;var t=i.collection(e).id();return p(t)/c}};return y.betweennessNormalised=y.betweennessNormalized,y}};Yt.bc=Yt.betweennessCentrality;var Jt=Oe({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Zt=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},Qt=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var o=0;o<t;o++)n+=e[o*t+r];for(var i=0;i<t;i++)e[i*t+r]=e[i*t+r]/n}},en=function(e,t,n){for(var r=new Array(n*n),o=0;o<n;o++){for(var i=0;i<n;i++)r[o*n+i]=0;for(var a=0;a<n;a++)for(var s=0;s<n;s++)r[o*n+s]+=e[o*n+a]*t[a*n+s]}return r},tn=function(e,t,n){for(var r=e.slice(0),o=1;o<n;o++)e=en(e,r,t);return e},nn=function(e,t,n){for(var r=new Array(t*t),o=0;o<t*t;o++)r[o]=Math.pow(e[o],n);return Qt(r,t),r},rn=function(e,t,n,r){for(var o=0;o<n;o++)if(Math.round(e[o]*Math.pow(10,r))/Math.pow(10,r)!=Math.round(t[o]*Math.pow(10,r))/Math.pow(10,r))return!1;return!0},on=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},an=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),o=function(e){return Jt(e)}(e),i={},a=0;a<t.length;a++)i[t[a].id()]=a;for(var s,l=t.length,c=l*l,u=new Array(c),d=0;d<c;d++)u[d]=0;for(var p=0;p<n.length;p++){var h=n[p],f=i[h.source().id()],m=i[h.target().id()],g=Zt(h,o.attributes);u[f*l+m]+=g,u[m*l+f]+=g}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(u,l,o.multFactor),Qt(u,l);for(var v=!0,y=0;v&&y<o.maxIterations;)v=!1,s=tn(u,l,o.expandFactor),u=nn(s,l,o.inflateFactor),rn(u,s,c,4)||(v=!0),y++;var b=function(e,t,n,r){for(var o=[],i=0;i<t;i++){for(var a=[],s=0;s<t;s++)Math.round(1e3*e[i*t+s])/1e3>0&&a.push(n[s]);0!==a.length&&o.push(r.collection(a))}return o}(u,l,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&on(e[t],e[n])&&e.splice(n,1);return e}(b),b},sn={markovClustering:an,mcl:an},ln=function(e){return e},cn=function(e,t){return Math.abs(t-e)},un=function(e,t,n){return e+cn(t,n)},dn=function(e,t,n){return e+Math.pow(n-t,2)},pn=function(e){return Math.sqrt(e)},hn=function(e,t,n){return Math.max(e,cn(t,n))},fn=function(e,t,n,r,o){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ln,a=r,s=0;s<e;s++)a=o(a,t(s),n(s));return i(a)},mn={euclidean:function(e,t,n){return e>=2?fn(e,t,n,0,dn,pn):fn(e,t,n,0,un)},squaredEuclidean:function(e,t,n){return fn(e,t,n,0,dn)},manhattan:function(e,t,n){return fn(e,t,n,0,un)},max:function(e,t,n){return fn(e,t,n,-1/0,hn)}};function gn(e,t,n,r,o,i){var a;return a=A(e)?e:mn[e]||mn.euclidean,0===t&&A(e)?a(o,i):a(t,n,r,o,i)}mn["squared-euclidean"]=mn.squaredEuclidean,mn.squaredeuclidean=mn.squaredEuclidean;var vn=Oe({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),yn=function(e){return vn(e)},bn=function(e,t,n,r,o){var i="kMedoids"!==o?function(e){return n[e]}:function(e){return r[e](n)},a=n,s=t;return gn(e,r.length,i,(function(e){return r[e](t)}),a,s)},wn=function(e,t,n){for(var r=n.length,o=new Array(r),i=new Array(r),a=new Array(t),s=null,l=0;l<r;l++)o[l]=e.min(n[l]).value,i[l]=e.max(n[l]).value;for(var c=0;c<t;c++){s=[];for(var u=0;u<r;u++)s[u]=Math.random()*(i[u]-o[u])+o[u];a[c]=s}return a},xn=function(e,t,n,r,o){for(var i=1/0,a=0,s=0;s<t.length;s++){var l=bn(n,e,t[s],r,o);l<i&&(i=l,a=s)}return a},_n=function(e,t,n){for(var r=[],o=null,i=0;i<t.length;i++)n[(o=t[i]).id()]===e&&r.push(o);return r},kn=function(e,t,n){for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++)if(Math.abs(e[r][o]-t[r][o])>n)return!1;return!0},Cn=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},Sn=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var o=e[Math.floor(Math.random()*e.length)];Cn(o,n,r);)o=e[Math.floor(Math.random()*e.length)];n[r]=o}else for(var i=0;i<t;i++)n[i]=e[Math.floor(Math.random()*e.length)];return n},En=function(e,t,n){for(var r=0,o=0;o<t.length;o++)r+=bn("manhattan",t[o],e,n,"kMedoids");return r},Pn=function(e,t,n,r,o){for(var i,a,s=0;s<t.length;s++)for(var l=0;l<e.length;l++)r[s][l]=Math.pow(n[s][l],o.m);for(var c=0;c<e.length;c++)for(var u=0;u<o.attributes.length;u++){i=0,a=0;for(var d=0;d<t.length;d++)i+=r[d][c]*o.attributes[u](t[d]),a+=r[d][c];e[c][u]=i/a}},Tn=function(e,t,n,r,o){for(var i=0;i<e.length;i++)t[i]=e[i].slice();for(var a,s,l,c=2/(o.m-1),u=0;u<n.length;u++)for(var d=0;d<r.length;d++){a=0;for(var p=0;p<n.length;p++)s=bn(o.distance,r[d],n[u],o.attributes,"cmeans"),l=bn(o.distance,r[d],n[p],o.attributes,"cmeans"),a+=Math.pow(s/l,c);e[d][u]=1/a}},An=function(e){var t,n,r,o,i,a=this.cy(),s=this.nodes(),l=yn(e);o=new Array(s.length);for(var c=0;c<s.length;c++)o[c]=new Array(l.k);r=new Array(s.length);for(var u=0;u<s.length;u++)r[u]=new Array(l.k);for(var d=0;d<s.length;d++){for(var p=0,h=0;h<l.k;h++)r[d][h]=Math.random(),p+=r[d][h];for(var f=0;f<l.k;f++)r[d][f]=r[d][f]/p}n=new Array(l.k);for(var m=0;m<l.k;m++)n[m]=new Array(l.attributes.length);i=new Array(s.length);for(var g=0;g<s.length;g++)i[g]=new Array(l.k);for(var v=!0,y=0;v&&y<l.maxIterations;)v=!1,Pn(n,s,r,i,l),Tn(r,o,n,s,l),kn(r,o,l.sensitivityThreshold)||(v=!0),y++;return t=function(e,t,n,r){for(var o,i,a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var l=0;l<t.length;l++){o=-1/0,i=-1;for(var c=0;c<t[0].length;c++)t[l][c]>o&&(o=t[l][c],i=c);a[i].push(e[l])}for(var u=0;u<a.length;u++)a[u]=r.collection(a[u]);return a}(s,r,l,a),{clusters:t,degreeOfMembership:r}},Mn={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),o=null,i=yn(e),a=new Array(i.k),s={};i.testMode?"number"==typeof i.testCentroids?(i.testCentroids,t=wn(r,i.k,i.attributes)):t="object"===f(i.testCentroids)?i.testCentroids:wn(r,i.k,i.attributes):t=wn(r,i.k,i.attributes);for(var l,c,u,d=!0,p=0;d&&p<i.maxIterations;){for(var h=0;h<r.length;h++)s[(o=r[h]).id()]=xn(o,t,i.distance,i.attributes,"kMeans");d=!1;for(var m=0;m<i.k;m++){var g=_n(m,r,s);if(0!==g.length){for(var v=i.attributes.length,y=t[m],b=new Array(v),w=new Array(v),x=0;x<v;x++){w[x]=0;for(var _=0;_<g.length;_++)o=g[_],w[x]+=i.attributes[x](o);b[x]=w[x]/g.length,l=b[x],c=y[x],u=i.sensitivityThreshold,Math.abs(c-l)<=u||(d=!0)}t[m]=b,a[m]=n.collection(g)}}p++}return a},kMedoids:function(e){var t,n,r=this.cy(),o=this.nodes(),i=null,a=yn(e),s=new Array(a.k),l={},c=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(t="object"===f(a.testCentroids)?a.testCentroids:Sn(o,a.k)):t=Sn(o,a.k);for(var u=!0,d=0;u&&d<a.maxIterations;){for(var p=0;p<o.length;p++)l[(i=o[p]).id()]=xn(i,t,a.distance,a.attributes,"kMedoids");u=!1;for(var h=0;h<t.length;h++){var m=_n(h,o,l);if(0!==m.length){c[h]=En(t[h],m,a.attributes);for(var g=0;g<m.length;g++)(n=En(m[g],m,a.attributes))<c[h]&&(c[h]=n,t[h]=m[g],u=!0);s[h]=r.collection(m)}}d++}return s},fuzzyCMeans:An,fcm:An},Nn=Oe({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),On={single:"min",complete:"max"},In=function(e,t,n,r,o){for(var i,a=0,s=1/0,l=o.attributes,c=function(e,t){return gn(o.distance,l.length,(function(t){return l[t](e)}),(function(e){return l[e](t)}),e,t)},u=0;u<e.length;u++){var d=e[u].key,p=n[d][r[d]];p<s&&(a=d,s=p)}if("threshold"===o.mode&&s>=o.threshold||"dendrogram"===o.mode&&1===e.length)return!1;var h,f=t[a],m=t[r[a]];h="dendrogram"===o.mode?{left:f,right:m,key:f.key}:{value:f.value.concat(m.value),key:f.key},e[f.index]=h,e.splice(m.index,1),t[f.key]=h;for(var g=0;g<e.length;g++){var v=e[g];f.key===v.key?i=1/0:"min"===o.linkage?(i=n[f.key][v.key],n[f.key][v.key]>n[m.key][v.key]&&(i=n[m.key][v.key])):"max"===o.linkage?(i=n[f.key][v.key],n[f.key][v.key]<n[m.key][v.key]&&(i=n[m.key][v.key])):i="mean"===o.linkage?(n[f.key][v.key]*f.size+n[m.key][v.key]*m.size)/(f.size+m.size):"dendrogram"===o.mode?c(v.value,f.value):c(v.value[0],f.value[0]),n[f.key][v.key]=n[v.key][f.key]=i}for(var y=0;y<e.length;y++){var b=e[y].key;if(r[b]===f.key||r[b]===m.key){for(var w=b,x=0;x<e.length;x++){var _=e[x].key;n[b][_]<n[b][w]&&(w=_)}r[b]=w}e[y].index=y}return f.key=m.key=f.index=m.index=null,!0},Rn=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},Ln=function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),o=e(t.right,n),i=n.add({group:"nodes",data:{id:r+","+o}});return n.add({group:"edges",data:{source:r,target:i.id()}}),n.add({group:"edges",data:{source:o,target:i.id()}}),i.id()}return t.value?t.value.id():void 0},jn=function e(t,n,r){if(!t)return[];var o=[],i=[],a=[];return 0===n?(t.left&&Rn(t.left,o),t.right&&Rn(t.right,i),a=o.concat(i),[r.collection(a)]):1===n?t.value?[r.collection(t.value)]:(t.left&&Rn(t.left,o),t.right&&Rn(t.right,i),[r.collection(o),r.collection(i)]):t.value?[r.collection(t.value)]:(t.left&&(o=e(t.left,n-1,r)),t.right&&(i=e(t.right,n-1,r)),o.concat(i))},Dn=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=Nn(e),n=On[t.linkage];return null!=n&&(t.linkage=n),t}(e),o=r.attributes,i=function(e,t){return gn(r.distance,o.length,(function(t){return o[t](e)}),(function(e){return o[e](t)}),e,t)},a=[],s=[],l=[],c=[],u=0;u<n.length;u++){var d={value:"dendrogram"===r.mode?n[u]:[n[u]],key:u,index:u};a[u]=d,c[u]=d,s[u]=[],l[u]=0}for(var p=0;p<a.length;p++)for(var h=0;h<=p;h++){var f;f="dendrogram"===r.mode?p===h?1/0:i(a[p].value,a[h].value):p===h?1/0:i(a[p].value[0],a[h].value[0]),s[p][h]=f,s[h][p]=f,f<s[p][l[p]]&&(l[p]=h)}for(var m,g=In(a,c,s,l,r);g;)g=In(a,c,s,l,r);return"dendrogram"===r.mode?(m=jn(a[0],r.dendrogramDepth,t),r.addDendrogram&&Ln(a[0],t)):(m=new Array(a.length),a.forEach((function(e,n){e.key=e.index=null,m[n]=t.collection(e.value)}))),m},$n={hierarchicalClustering:Dn,hca:Dn},Bn=Oe({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Vn=function(e,t,n,r){var o=function(e,t){return r[t](e)};return-gn(e,r.length,(function(e){return o(t,e)}),(function(e){return o(n,e)}),t,n)},Fn=function(e,t,n){for(var r=[],o=0;o<e;o++){for(var i=-1,a=-1/0,s=0;s<n.length;s++){var l=n[s];t[o*e+l]>a&&(i=l,a=t[o*e+l])}i>0&&r.push(i)}for(var c=0;c<n.length;c++)r[n[c]]=n[c];return r},zn=function(e){for(var t,n,r,o,i,a,s=this.cy(),l=this.nodes(),c=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Se("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some((function(e){return e===n}))||O(n)||Se("Preference must be one of [".concat(r.map((function(e){return"'".concat(e,"'")})).join(", "),"] or a number.  Got: ").concat(n)),Bn(e)}(e),u={},d=0;d<l.length;d++)u[l[d].id()]=d;n=(t=l.length)*t,r=new Array(n);for(var p=0;p<n;p++)r[p]=-1/0;for(var h=0;h<t;h++)for(var f=0;f<t;f++)h!==f&&(r[h*t+f]=Vn(c.distance,l[h],l[f],c.attributes));o=function(e,t){var n;return n="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var i=0,a=e.length-1;a>=0;a--){var s=e[a];o?isFinite(s)||(e[a]=-1/0,i++):e.splice(a,1)}r&&e.sort((function(e,t){return e-t}));var l=e.length,c=Math.floor(l/2);return l%2!=0?e[c+1+i]:(e[c-1+i]+e[c+i])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,o=0,i=t;i<n;i++){var a=e[i];isFinite(a)&&(r+=a,o++)}return r/o}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,o=t;o<n;o++){var i=e[o];isFinite(i)&&(r=Math.min(i,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,o=t;o<n;o++){var i=e[o];isFinite(i)&&(r=Math.max(i,r))}return r}(e):t,n}(r,c.preference);for(var m=0;m<t;m++)r[m*t+m]=o;i=new Array(n);for(var g=0;g<n;g++)i[g]=0;a=new Array(n);for(var v=0;v<n;v++)a[v]=0;for(var y=new Array(t),b=new Array(t),w=new Array(t),x=0;x<t;x++)y[x]=0,b[x]=0,w[x]=0;for(var _,k=new Array(t*c.minIterations),C=0;C<k.length;C++)k[C]=0;for(_=0;_<c.maxIterations;_++){for(var S=0;S<t;S++){for(var E=-1/0,P=-1/0,T=-1,A=0,M=0;M<t;M++)y[M]=i[S*t+M],(A=a[S*t+M]+r[S*t+M])>=E?(P=E,E=A,T=M):A>P&&(P=A);for(var N=0;N<t;N++)i[S*t+N]=(1-c.damping)*(r[S*t+N]-E)+c.damping*y[N];i[S*t+T]=(1-c.damping)*(r[S*t+T]-P)+c.damping*y[T]}for(var I=0;I<t;I++){for(var R=0,L=0;L<t;L++)y[L]=a[L*t+I],b[L]=Math.max(0,i[L*t+I]),R+=b[L];R-=b[I],b[I]=i[I*t+I],R+=b[I];for(var j=0;j<t;j++)a[j*t+I]=(1-c.damping)*Math.min(0,R-b[j])+c.damping*y[j];a[I*t+I]=(1-c.damping)*(R-b[I])+c.damping*y[I]}for(var D=0,$=0;$<t;$++){var B=a[$*t+$]+i[$*t+$]>0?1:0;k[_%c.minIterations*t+$]=B,D+=B}if(D>0&&(_>=c.minIterations-1||_==c.maxIterations-1)){for(var V=0,F=0;F<t;F++){w[F]=0;for(var z=0;z<c.minIterations;z++)w[F]+=k[z*t+F];0!==w[F]&&w[F]!==c.minIterations||V++}if(V===t)break}}for(var U=function(e,t,n){for(var r=[],o=0;o<e;o++)t[o*e+o]+n[o*e+o]>0&&r.push(o);return r}(t,i,a),W=function(e,t,n){for(var r=Fn(e,t,n),o=0;o<n.length;o++){for(var i=[],a=0;a<r.length;a++)r[a]===n[o]&&i.push(a);for(var s=-1,l=-1/0,c=0;c<i.length;c++){for(var u=0,d=0;d<i.length;d++)u+=t[i[d]*e+i[c]];u>l&&(s=c,l=u)}n[o]=i[s]}return Fn(e,t,n)}(t,r,U),K={},H=0;H<U.length;H++)K[U[H]]=[];for(var q=0;q<l.length;q++){var G=W[u[l[q].id()]];null!=G&&K[G].push(l[q])}for(var X=new Array(U.length),Y=0;Y<U.length;Y++)X[Y]=s.collection(K[U[Y]]);return X},Un={affinityPropagation:zn,ap:zn},Wn=Oe({root:void 0,directed:!1}),Kn=function(){var e=this,t={},n=0,r=0,o=[],i=[],a={},s=function s(l,c,u){l===u&&(r+=1),t[c]={id:n,low:n++,cutVertex:!1};var d,p,h,f,m=e.getElementById(c).connectedEdges().intersection(e);0===m.size()?o.push(e.spawn(e.getElementById(c))):m.forEach((function(n){d=n.source().id(),p=n.target().id(),(h=d===c?p:d)!==u&&(f=n.id(),a[f]||(a[f]=!0,i.push({x:c,y:h,edge:n})),h in t?t[c].low=Math.min(t[c].low,t[h].id):(s(l,h,c),t[c].low=Math.min(t[c].low,t[h].low),t[c].id<=t[h].low&&(t[c].cutVertex=!0,function(n,r){for(var a=i.length-1,s=[],l=e.spawn();i[a].x!=n||i[a].y!=r;)s.push(i.pop().edge),a--;s.push(i.pop().edge),s.forEach((function(n){var r=n.connectedNodes().intersection(e);l.merge(n),r.forEach((function(n){var r=n.id(),o=n.connectedEdges().intersection(e);l.merge(n),t[r].cutVertex?l.merge(o.filter((function(e){return e.isLoop()}))):l.merge(o)}))})),o.push(l)}(c,h))))}))};e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||(r=0,s(n,n),t[n].cutVertex=r>1)}}));var l=Object.keys(t).filter((function(e){return t[e].cutVertex})).map((function(t){return e.getElementById(t)}));return{cut:e.spawn(l),components:o}},Hn=function(){var e=this,t={},n=0,r=[],o=[],i=e.spawn(e),a=function a(s){if(o.push(s),t[s]={index:n,low:n++,explored:!1},e.getElementById(s).connectedEdges().intersection(e).forEach((function(e){var n=e.target().id();n!==s&&(n in t||a(n),t[n].explored||(t[s].low=Math.min(t[s].low,t[n].low)))})),t[s].index===t[s].low){for(var l=e.spawn();;){var c=o.pop();if(l.merge(e.getElementById(c)),t[c].low=t[s].index,t[c].explored=!0,c===s)break}var u=l.edgesWith(l),d=l.merge(u);r.push(d),i=i.difference(d)}};return e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||a(n)}})),{cut:i,components:r}},qn={};[ze,We,Ke,qe,Xe,Je,tt,Wt,Ht,Gt,Yt,sn,Mn,$n,Un,{hierholzer:function(e){if(!N(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,o,i=Wn(e),a=i.root,s=i.directed,l=this,c=!1;a&&(o=T(a)?this.filter(a)[0].id():a[0].id());var u={},d={};s?l.forEach((function(e){var t=e.id();if(e.isNode()){var o=e.indegree(!0),i=e.outdegree(!0),a=o-i,s=i-o;1==a?n?c=!0:n=t:1==s?r?c=!0:r=t:(s>1||a>1)&&(c=!0),u[t]=[],e.outgoers().forEach((function(e){e.isEdge()&&u[t].push(e.id())}))}else d[t]=[void 0,e.target().id()]})):l.forEach((function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?c=!0:r=t:n=t),u[t]=[],e.connectedEdges().forEach((function(e){return u[t].push(e.id())}))):d[t]=[e.source().id(),e.target().id()]}));var p={found:!1,trail:void 0};if(c)return p;if(r&&n)if(s){if(o&&r!=o)return p;o=r}else{if(o&&r!=o&&n!=o)return p;o||(o=r)}else o||(o=l[0].id());var h=function(e){for(var t,n,r,o=e,i=[e];u[o].length;)t=u[o].shift(),n=d[t][0],o!=(r=d[t][1])?(u[r]=u[r].filter((function(e){return e!=t})),o=r):s||o==n||(u[n]=u[n].filter((function(e){return e!=t})),o=n),i.unshift(t),i.unshift(o);return i},f=[],m=[];for(m=h(o);1!=m.length;)0==u[m[0]].length?(f.unshift(l.getElementById(m.shift())),f.unshift(l.getElementById(m.shift()))):m=h(m.shift()).concat(m);for(var g in f.unshift(l.getElementById(m.shift())),u)if(u[g].length)return p;return p.found=!0,p.trail=this.spawn(f,!0),p}},{hopcroftTarjanBiconnected:Kn,htbc:Kn,htb:Kn,hopcroftTarjanBiconnectedComponents:Kn},{tarjanStronglyConnected:Hn,tsc:Hn,tscc:Hn,tarjanStronglyConnectedComponents:Hn}].forEach((function(e){Z(qn,e)}));var Gn=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Gn.prototype={fulfill:function(e){return Xn(this,1,"fulfillValue",e)},reject:function(e){return Xn(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new Gn;return n.onFulfilled.push(Zn(e,r,"fulfill")),n.onRejected.push(Zn(t,r,"reject")),Yn(n),r.proxy}};var Xn=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,Yn(e)),e},Yn=function(e){1===e.state?Jn(e,"onFulfilled",e.fulfillValue):2===e.state&&Jn(e,"onRejected",e.rejectReason)},Jn=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var o=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(o):setTimeout(o,0)}},Zn=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var o;try{o=e(r)}catch(e){return void t.reject(e)}Qn(t,o)}}},Qn=function e(t,n){if(t!==n&&t.proxy!==n){var r;if("object"===f(n)&&null!==n||"function"==typeof n)try{r=n.then}catch(e){return void t.reject(e)}if("function"!=typeof r)t.fulfill(n);else{var o=!1;try{r.call(n,(function(r){o||(o=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))}),(function(e){o||(o=!0,t.reject(e))}))}catch(e){o||t.reject(e)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};Gn.all=function(e){return new Gn((function(t,n){for(var r=new Array(e.length),o=0,i=function(n,i){r[n]=i,++o===e.length&&t(r)},a=0;a<e.length;a++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then((function(e){i(t,e)}),(function(e){n(e)})):i(t,r)}(a)}))},Gn.resolve=function(e){return new Gn((function(t,n){t(e)}))},Gn.reject=function(e){return new Gn((function(t,n){n(e)}))};var er="undefined"!=typeof Promise?Promise:Gn,tr=function(e,t,n){var r=D(e),o=!r,i=this._private=Z({duration:1e3},t,n);if(i.target=e,i.style=i.style||i.css,i.started=!1,i.playing=!1,i.hooked=!1,i.applying=!1,i.progress=0,i.completes=[],i.frames=[],i.complete&&A(i.complete)&&i.completes.push(i.complete),o){var a=e.position();i.startPosition=i.startPosition||{x:a.x,y:a.y},i.startStyle=i.startStyle||e.cy().style().getAnimationStartStyle(e,i.style)}if(r){var s=e.pan();i.startPan={x:s.x,y:s.y},i.startZoom=e.zoom()}this.length=1,this[0]=this},nr=tr.prototype;Z(nr,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),R(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var o=e.style[r],i=o.name,a=e.startStyle[i];e.startStyle[i]=o,e.style[r]=a}return t&&this.play(),this},promise:function(e){var t,n=this._private;return t="frame"===e?n.frames:n.completes,new er((function(e,n){t.push((function(){e()}))}))}}),nr.complete=nr.completed,nr.run=nr.play,nr.running=nr.playing;var rr={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++)t[n]._private.animation.queue=[];return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,o=r?n:[n],i=this._private.cy||this,a=!r,s=!a;if(!i.styleEnabled())return this;var l=i.style();if(e=Z({},e,t),0===Object.keys(e).length)return new tr(o[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(s&&(e.style=l.getPropsList(e.style||e.css),e.css=void 0),s&&null!=e.renderedPosition){var c=e.renderedPosition,u=i.pan(),d=i.zoom();e.position=rt(c,d,u)}if(a&&null!=e.panBy){var p=e.panBy,h=i.pan();e.pan={x:h.x+p.x,y:h.y+p.y}}var f=e.center||e.centre;if(a&&null!=f){var m=i.getCenterPan(f.eles,e.zoom);null!=m&&(e.pan=m)}if(a&&null!=e.fit){var g=e.fit,v=i.getFitViewport(g.eles||g.boundingBox,g.padding);null!=v&&(e.pan=v.pan,e.zoom=v.zoom)}if(a&&N(e.zoom)){var y=i.getZoomedViewport(e.zoom);null!=y?(y.zoomed&&(e.zoom=y.zoom),y.panned&&(e.pan=y.pan)):e.zoom=null}return new tr(o[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=Z({},e,t));for(var o=0;o<r.length;o++){var i=r[o],a=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var i=0;i<r.length;i++){for(var a=r[i]._private,s=a.animation.current,l=0;l<s.length;l++){var c=s[l]._private;t&&(c.duration=0)}e&&(a.animation.queue=[]),t||(a.animation.current=[])}return o.notify("draw"),this}}},or={data:function(e){return e=Z({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,o=this,i=void 0!==o.length,a=i?o:[o],s=i?o[0]:o;if(T(t)){var l,c=-1!==t.indexOf(".")&&h.default(t);if(r.allowGetting&&void 0===n)return s&&(r.beforeGet(s),l=c&&void 0===s._private[r.field][t]?d.default(s._private[r.field],c):s._private[r.field][t]),l;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var u=y({},t,n);r.beforeSet(o,u);for(var f=0,m=a.length;f<m;f++){var g=a[f];r.canSet(g)&&(c&&void 0===s._private[r.field][t]?p.default(g._private[r.field],c,n):g._private[r.field][t]=n)}r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&N(t)){var v,b,w=t,x=Object.keys(w);r.beforeSet(o,w);for(var _=0;_<x.length;_++)if(b=w[v=x[_]],!r.immutableKeys[v])for(var k=0;k<a.length;k++){var C=a[k];r.canSet(C)&&(C._private[r.field][v]=b)}r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&A(t)){var S=t;o.on(r.bindingEvent,S)}else if(r.allowGetting&&void 0===t){var E;return s&&(r.beforeGet(s),E=s._private[r.field]),E}return o}},removeData:function(e){return e=Z({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,o=void 0!==r.length?r:[r];if(T(t)){for(var i=t.split(/\s+/),a=i.length,s=0;s<a;s++){var l=i[s];if(!B(l)&&!n.immutableKeys[l])for(var c=0,u=o.length;c<u;c++)o[c]._private[n.field][l]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var d=0,p=o.length;d<p;d++)for(var h=o[d]._private[n.field],f=Object.keys(h),m=0;m<f.length;m++){var g=f[m];!n.immutableKeys[g]&&(h[g]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},ir={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new er((function(e,t){var o=r.concat([function(t){n.off.apply(n,i),e(t)}]),i=o.concat([]);n.on.apply(n,o)}))}}},ar={};[rr,or,ir].forEach((function(e){Z(ar,e)}));var sr={animate:ar.animate(),animation:ar.animation(),animated:ar.animated(),clearQueue:ar.clearQueue(),delay:ar.delay(),delayAnimation:ar.delayAnimation(),stop:ar.stop()},lr={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach((function(e){return n.push(e)})),n}M(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],o=new Be(e),i=0;i<t.length;i++){for(var a=t[i],s=a._private,l=s.classes,c=!1,u=0;u<e.length;u++){var d=e[u];if(!l.has(d)){c=!0;break}}c||(c=l.size!==e.length),c&&(s.classes=o,r.push(a))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){M(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,o=[],i=0,a=n.length;i<a;i++)for(var s=n[i],l=s._private.classes,c=!1,u=0;u<e.length;u++){var d=e[u],p=l.has(d),h=!1;t||r&&!p?(l.add(d),h=!0):(!t||r&&p)&&(l.delete(d),h=!0),!c&&h&&(o.push(s),c=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout((function(){n.removeClass(e)}),t),n}};lr.className=lr.classNames=lr.classes;var cr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:H,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};cr.variable="(?:[\\w-.]|(?:\\\\"+cr.metaChar+"))+",cr.className="(?:[\\w-]|(?:\\\\"+cr.metaChar+"))+",cr.value=cr.string+"|"+cr.number,cr.id=cr.variable,function(){var e,t,n;for(e=cr.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],cr.comparatorOp+="|@"+t;for(e=cr.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(cr.comparatorOp+="|\\!"+t)}();var ur=20,dr=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort((function(e,t){return function(e,t){return-1*J(e,t)}(e.selector,t.selector)})),pr=function(){for(var e,t={},n=0;n<dr.length;n++)t[(e=dr[n]).selector]=e.matches;return t}(),hr="("+dr.map((function(e){return e.selector})).join("|")+")",fr=function(e){return e.replace(new RegExp("\\\\("+cr.metaChar+")","g"),(function(e,t){return t}))},mr=function(e,t,n){e[e.length-1]=n},gr=[{name:"group",query:!0,regex:"("+cr.group+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:0,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:hr,populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:7,value:r})}},{name:"id",query:!0,regex:"\\#("+cr.id+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:8,value:fr(r)})}},{name:"className",query:!0,regex:"\\.("+cr.className+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:9,value:fr(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+cr.variable+")\\s*\\]",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:4,field:fr(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+cr.variable+")\\s*("+cr.comparatorOp+")\\s*("+cr.value+")\\s*\\]",populate:function(e,t,n){var r=b(n,3),o=r[0],i=r[1],a=r[2];a=null!=new RegExp("^"+cr.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),t.checks.push({type:3,field:fr(o),operator:i,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+cr.boolOp+")\\s*("+cr.variable+")\\s*\\]",populate:function(e,t,n){var r=b(n,2),o=r[0],i=r[1];t.checks.push({type:5,field:fr(i),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+cr.meta+")\\s*("+cr.comparatorOp+")\\s*("+cr.number+")\\s*\\]\\]",populate:function(e,t,n){var r=b(n,3),o=r[0],i=r[1],a=r[2];t.checks.push({type:6,field:fr(o),operator:i,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:cr.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,o=e.compoundCount,i=e[e.length-1];return null!=n&&(i.subject=n,e.currentSubject=null),i.edgeCount=r,i.compoundCount=o,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:cr.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,o={checks:[]};return n.checks.push({type:11,source:r,target:o}),mr(e,0,n),e.edgeCount++,o}var i={checks:[]},a=t,s={checks:[]};return i.checks.push({type:12,source:a,target:s}),mr(e,0,i),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:cr.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,o={checks:[]};return n.checks.push({type:10,nodes:[r,o]}),mr(e,0,n),e.edgeCount++,o}var i={checks:[]},a=t,s={checks:[]};return i.checks.push({type:14,node:a,neighbor:s}),mr(e,0,i),s}},{name:"child",separator:!0,regex:cr.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},o=e[e.length-1];return n.checks.push({type:15,parent:o,child:r}),mr(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},a=e[e.length-1],s={checks:[]},l={checks:[]},c={checks:[]},u={checks:[]};return i.checks.push({type:19,left:a,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:ur}],u.checks.push({type:ur}),s.checks.push({type:17,parent:u,child:c}),mr(e,0,i),e.currentSubject=l,e.compoundCount++,c}var d={checks:[]},p={checks:[]},h=[{type:17,parent:d,child:p}];return d.checks=t.checks,t.checks=h,e.compoundCount++,p}},{name:"descendant",separator:!0,regex:cr.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},o=e[e.length-1];return n.checks.push({type:16,ancestor:o,descendant:r}),mr(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},a=e[e.length-1],s={checks:[]},l={checks:[]},c={checks:[]},u={checks:[]};return i.checks.push({type:19,left:a,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:ur}],u.checks.push({type:ur}),s.checks.push({type:18,ancestor:u,descendant:c}),mr(e,0,i),e.currentSubject=l,e.compoundCount++,c}var d={checks:[]},p={checks:[]},h=[{type:18,ancestor:d,descendant:p}];return d.checks=t.checks,t.checks=h,e.compoundCount++,p}},{name:"subject",modifier:!0,regex:cr.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return Pe("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;11===r?n.type=13:10===r&&(n.type=14,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];gr.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var vr=function(e){for(var t,n,r,o=0;o<gr.length;o++){var i=gr[o],a=i.name,s=e.match(i.regexObj);if(null!=s){n=s,t=i,r=a;var l=s[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:r,remaining:e}},yr={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var o=vr(n);if(null==o.expr)return Pe("The selector `"+e+"`is invalid"),!1;var i=o.match.slice(1),a=o.expr.populate(t,r,i);if(!1===a)return!1;if(null!=a&&(r=a),(n=o.remaining).match(/^\s*$/))break}var s=t[t.length-1];null!=t.currentSubject&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var c=t[l];if(c.compoundCount>0&&c.edgeCount>0)return Pe("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Pe("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===c.edgeCount&&Pe("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return T(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(o,i){return o.checks.reduce((function(a,s,l){return a+(i===o&&0===l?"$":"")+function(o,i){var a=o.type,s=o.value;switch(a){case 0:var l=e(s);return l.substring(0,l.length-1);case 3:var c=o.field,u=o.operator;return"["+c+n(e(u))+t(s)+"]";case 5:var d=o.operator,p=o.field;return"["+e(d)+p+"]";case 4:return"["+o.field+"]";case 6:var h=o.operator;return"[["+o.field+n(e(h))+t(s)+"]]";case 7:return s;case 8:return"#"+s;case 9:return"."+s;case 17:case 15:return r(o.parent,i)+n(">")+r(o.child,i);case 18:case 16:return r(o.ancestor,i)+" "+r(o.descendant,i);case 19:var f=r(o.left,i),m=r(o.subject,i),g=r(o.right,i);return f+(f.length>0?" ":"")+m+g;case ur:return""}}(s,i)}),"")},o="",i=0;i<this.length;i++){var a=this[i];o+=r(a,a.subject),this.length>1&&i<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},br=function(e,t,n){var r,o,i,a=T(e),s=O(e),l=T(n),c=!1,u=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),u=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(a||l||c)&&(o=a||s?""+e:"",i=""+n),c&&(e=o=o.toLowerCase(),n=i=i.toLowerCase()),t){case"*=":r=o.indexOf(i)>=0;break;case"$=":r=o.indexOf(i,o.length-i.length)>=0;break;case"^=":r=0===o.indexOf(i);break;case"=":r=e===n;break;case">":d=!0,r=e>n;break;case">=":d=!0,r=e>=n;break;case"<":d=!0,r=e<n;break;case"<=":d=!0,r=e<=n;break;default:r=!1}return!u||null==e&&d||(r=!r),r},wr=function(e,t){return e.data(t)},xr=[],_r=function(e,t){return e.checks.every((function(e){return xr[e.type](e,t)}))};xr[0]=function(e,t){var n=e.value;return"*"===n||n===t.group()},xr[7]=function(e,t){return function(e,t){return pr[e](t)}(e.value,t)},xr[8]=function(e,t){var n=e.value;return t.id()===n},xr[9]=function(e,t){var n=e.value;return t.hasClass(n)},xr[6]=function(e,t){var n=e.field,r=e.operator,o=e.value;return br(function(e,t){return e[t]()}(t,n),r,o)},xr[3]=function(e,t){var n=e.field,r=e.operator,o=e.value;return br(wr(t,n),r,o)},xr[5]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(wr(t,n),r)},xr[4]=function(e,t){var n=e.field;return e.operator,void 0!==wr(t,n)},xr[10]=function(e,t){var n=e.nodes[0],r=e.nodes[1],o=t.source(),i=t.target();return _r(n,o)&&_r(r,i)||_r(r,o)&&_r(n,i)},xr[14]=function(e,t){return _r(e.node,t)&&t.neighborhood().some((function(t){return t.isNode()&&_r(e.neighbor,t)}))},xr[11]=function(e,t){return _r(e.source,t.source())&&_r(e.target,t.target())},xr[12]=function(e,t){return _r(e.source,t)&&t.outgoers().some((function(t){return t.isNode()&&_r(e.target,t)}))},xr[13]=function(e,t){return _r(e.target,t)&&t.incomers().some((function(t){return t.isNode()&&_r(e.source,t)}))},xr[15]=function(e,t){return _r(e.child,t)&&_r(e.parent,t.parent())},xr[17]=function(e,t){return _r(e.parent,t)&&t.children().some((function(t){return _r(e.child,t)}))},xr[16]=function(e,t){return _r(e.descendant,t)&&t.ancestors().some((function(t){return _r(e.ancestor,t)}))},xr[18]=function(e,t){return _r(e.ancestor,t)&&t.descendants().some((function(t){return _r(e.descendant,t)}))},xr[19]=function(e,t){return _r(e.subject,t)&&_r(e.left,t)&&_r(e.right,t)},xr[20]=function(){return!0},xr[1]=function(e,t){return e.value.has(t)},xr[2]=function(e,t){return(0,e.value)(t)};var kr={matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(_r(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&8===t[0].checks[0].type)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(_r(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}},Cr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||T(e)&&e.match(/^\s*$/)||(R(e)?this.addQuery({checks:[{type:1,value:e.collection()}]}):A(e)?this.addQuery({checks:[{type:2,value:e}]}):T(e)?this.parse(e)||(this.invalid=!0):Se("A selector must be created from a string; found "))},Sr=Cr.prototype;[yr,kr].forEach((function(e){return Z(Sr,e)})),Sr.text=function(){return this.inputText},Sr.size=function(){return this.length},Sr.eq=function(e){return this[e]},Sr.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Sr.addQuery=function(e){this[this.length++]=e},Sr.selector=Sr.toString;var Er={allAre:function(e){var t=new Cr(e);return this.every((function(e){return t.matches(e)}))},is:function(e){var t=new Cr(e);return this.some((function(e){return t.matches(e)}))},some:function(e,t){for(var n=0;n<this.length;n++)if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0;return!1},every:function(e,t){for(var n=0;n<this.length;n++)if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1;return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every((function(t){return e.hasElementWithId(t.id())})))},anySame:function(e){return e=this.cy().collection(e),this.some((function(t){return e.hasElementWithId(t.id())}))},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every((function(e){return t.hasElementWithId(e.id())}))},contains:function(e){e=this.cy().collection(e);var t=this;return e.every((function(e){return t.hasElementWithId(e.id())}))}};Er.allAreNeighbours=Er.allAreNeighbors,Er.has=Er.contains,Er.equal=Er.equals=Er.same;var Pr,Tr,Ar=function(e,t){return function(n,r,o,i){var a,s=n,l=this;if(null==s?a="":R(s)&&1===s.length&&(a=s.id()),1===l.length&&a){var c=l[0]._private,u=c.traversalCache=c.traversalCache||{},d=u[t]=u[t]||[],p=fe(a);return d[p]||(d[p]=e.call(l,n,r,o,i))}return e.call(l,n,r,o,i)}},Mr={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var o=this[r]._private.parent;o&&t.push(o)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var o=n[r];t.push(o)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isOrphan()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isChild()})).filter(e)},children:Ar((function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,o=0;o<r.length;o++)t.push(r[o]);return this.spawn(t,!0).filter(e)}),"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var o=n[r];t.push(o),o.children().nonempty()&&e(o.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function Nr(e,t,n,r){for(var o=[],i=new Be,a=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];n?o.push(l):a&&r(o,i,l)}for(;o.length>0;){var c=o.shift();t(c),i.add(c.id()),a&&r(o,i,c)}return e}function Or(e,t,n){if(n.isParent())for(var r=n._private.children,o=0;o<r.length;o++){var i=r[o];t.has(i.id())||e.push(i)}}function Ir(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function Rr(e,t,n){Ir(e,t,n),Or(e,t,n)}Mr.forEachDown=function(e){return Nr(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Or)},Mr.forEachUp=function(e){return Nr(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ir)},Mr.forEachUpAndDown=function(e){return Nr(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Rr)},Mr.ancestors=Mr.parents,(Pr=Tr={data:ar.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ar.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ar.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ar.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ar.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ar.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=Pr.data,Pr.removeAttr=Pr.removeData;var Lr,jr,Dr=Tr,$r={};function Br(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,o=n[0],i=o._private.edges,a=0;a<i.length;a++){var s=i[a];!t&&s.isLoop()||(r+=e(o,s))}return r}}}function Vr(e,t){return function(n){for(var r,o=this.nodes(),i=0;i<o.length;i++){var a=o[i][e](n);void 0===a||void 0!==r&&!t(a,r)||(r=a)}return r}}Z($r,{degree:Br((function(e,t){return t.source().same(t.target())?2:1})),indegree:Br((function(e,t){return t.target().same(e)?1:0})),outdegree:Br((function(e,t){return t.source().same(e)?1:0}))}),Z($r,{minDegree:Vr("degree",(function(e,t){return e<t})),maxDegree:Vr("degree",(function(e,t){return e>t})),minIndegree:Vr("indegree",(function(e,t){return e<t})),maxIndegree:Vr("indegree",(function(e,t){return e>t})),minOutdegree:Vr("outdegree",(function(e,t){return e<t})),maxOutdegree:Vr("outdegree",(function(e,t){return e>t}))}),Z($r,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var Fr=function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(!o.locked()){var i=o._private.position,a={x:null!=t.x?t.x-i.x:0,y:null!=t.y?t.y-i.y:0};!o.isParent()||0===a.x&&0===a.y||o.children().shift(a,n),o.dirtyBoundingBoxCache()}}},zr={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Fr(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Lr=jr={position:ar.data(zr),silentPosition:ar.data(Z({},zr,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Fr(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(N(e))t?this.silentPosition(e):this.position(e);else if(A(e)){var n=e,r=this.cy();r.startBatch();for(var o=0;o<this.length;o++){var i,a=this[o];(i=n(a,o))&&(t?a.silentPosition(i):a.position(i))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(N(e)?(r={x:O(e.x)?e.x:0,y:O(e.y)?e.y:0},n=t):T(e)&&O(t)&&((r={x:0,y:0})[e]=t),null!=r){var o=this.cy();o.startBatch();for(var i=0;i<this.length;i++){var a=this[i];if(!(o.hasCompoundNodes()&&a.isChild()&&a.ancestors().anySame(this))){var s=a.position(),l={x:s.x+r.x,y:s.y+r.y};n?a.silentPosition(l):a.position(l)}}o.endBatch()}return this},silentShift:function(e,t){return N(e)?this.shift(e,!0):T(e)&&O(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),o=r.zoom(),i=r.pan(),a=N(e)?e:void 0,s=void 0!==a||void 0!==t&&T(e);if(n&&n.isNode()){if(!s){var l=n.position();return a=nt(l,o,i),void 0===e?a:a[e]}for(var c=0;c<this.length;c++){var u=this[c];void 0!==t?u.position(e,(t-i[e])/o):void 0!==a&&u.position(rt(a,o,i))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),o=N(e)?e:void 0,i=void 0!==o||void 0!==t&&T(e),a=r.hasCompoundNodes();if(n&&n.isNode()){if(!i){var s=n.position(),l=a?n.parent():null,c=l&&l.length>0,u=c;c&&(l=l[0]);var d=u?l.position():{x:0,y:0};return o={x:s.x-d.x,y:s.y-d.y},void 0===e?o:o[e]}for(var p=0;p<this.length;p++){var h=this[p],f=a?h.parent():null,m=f&&f.length>0,g=m;m&&(f=f[0]);var v=g?f.position():{x:0,y:0};void 0!==t?h.position(e,t+v[e]):void 0!==o&&h.position({x:o.x+v.x,y:o.y+v.y})}}else if(!i)return;return this}},Lr.modelPosition=Lr.point=Lr.position,Lr.modelPositions=Lr.points=Lr.positions,Lr.renderedPoint=Lr.renderedPosition,Lr.relativePoint=Lr.relativePosition;var Ur,Wr,Kr=jr;Ur=Wr={},Wr.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),o=n.pan(),i=t.x1*r+o.x,a=t.x2*r+o.x,s=t.y1*r+o.y,l=t.y2*r+o.y;return{x1:i,x2:a,y1:s,y2:l,w:a-i,h:l-s}},Wr.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}})),this):this},Wr.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,o={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},i=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=t.position;0!==i.w&&0!==i.h||((i={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=a.x-i.w/2,i.x2=a.x+i.w/2,i.y1=a.y-i.h/2,i.y2=a.y+i.h/2);var s=o.width.left.value;"px"===o.width.left.units&&o.width.val>0&&(s=100*s/o.width.val);var l=o.width.right.value;"px"===o.width.right.units&&o.width.val>0&&(l=100*l/o.width.val);var c=o.height.top.value;"px"===o.height.top.units&&o.height.val>0&&(c=100*c/o.height.val);var u=o.height.bottom.value;"px"===o.height.bottom.units&&o.height.val>0&&(u=100*u/o.height.val);var d=v(o.width.val-i.w,s,l),p=d.biasDiff,h=d.biasComplementDiff,f=v(o.height.val-i.h,c,u),m=f.biasDiff,g=f.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(i.w,i.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(i.w,o.width.val),a.x=(-p+i.x1+i.x2+h)/2,t.autoHeight=Math.max(i.h,o.height.val),a.y=(-m+i.y1+i.y2+g)/2}function v(e,t,n){var r=0,o=0,i=t+n;return e>0&&i>0&&(r=t/i*e,o=n/i*e),{biasDiff:r,biasComplementDiff:o}}}for(var r=0;r<this.length;r++){var o=this[r],i=o._private;i.compoundBoundsClean&&!e||(n(o),t.batching()||(i.compoundBoundsClean=!0))}return this};var Hr=function(e){return e===1/0||e===-1/0?0:e},qr=function(e,t,n,r,o){r-t!=0&&o-n!=0&&null!=t&&null!=n&&null!=r&&null!=o&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Gr=function(e,t){return null==t?e:qr(e,t.x1,t.y1,t.x2,t.y2)},Xr=function(e,t,n){return Le(e,t,n)},Yr=function(e,t,n){if(!t.cy().headless()){var r,o,i=t._private,a=i.rstyle,s=a.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=a.srcX,o=a.srcY):"target"===n?(r=a.tgtX,o=a.tgtY):(r=a.midX,o=a.midY);var l=i.arrowBounds=i.arrowBounds||{},c=l[n]=l[n]||{};c.x1=r-s,c.y1=o-s,c.x2=r+s,c.y2=o+s,c.w=c.x2-c.x1,c.h=c.y2-c.y1,gt(c,1),qr(e,c.x1,c.y1,c.x2,c.y2)}}},Jr=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var o=t._private,i=o.rstyle;if(t.pstyle(r+"label").strValue){var a,s,l,c,u=t.pstyle("text-halign"),d=t.pstyle("text-valign"),p=Xr(i,"labelWidth",n),h=Xr(i,"labelHeight",n),f=Xr(i,"labelX",n),m=Xr(i,"labelY",n),g=t.pstyle(r+"text-margin-x").pfValue,v=t.pstyle(r+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(r+"text-rotation"),w=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue/2,_=t.pstyle("text-background-padding").pfValue,k=h,C=p,S=C/2,E=k/2;if(y)a=f-S,s=f+S,l=m-E,c=m+E;else{switch(u.value){case"left":a=f-C,s=f;break;case"center":a=f-S,s=f+S;break;case"right":a=f,s=f+C}switch(d.value){case"top":l=m-k,c=m;break;case"center":l=m-E,c=m+E;break;case"bottom":l=m,c=m+k}}a+=g-Math.max(w,x)-_-2,s+=g+Math.max(w,x)+_+2,l+=v-Math.max(w,x)-_-2,c+=v+Math.max(w,x)+_+2;var P=n||"main",T=o.labelBounds,A=T[P]=T[P]||{};A.x1=a,A.y1=l,A.x2=s,A.y2=c,A.w=s-a,A.h=c-l;var M=y&&"autorotate"===b.strValue,N=null!=b.pfValue&&0!==b.pfValue;if(M||N){var O=M?Xr(o.rstyle,"labelAngle",n):b.pfValue,I=Math.cos(O),R=Math.sin(O),L=(a+s)/2,j=(l+c)/2;if(!y){switch(u.value){case"left":L=s;break;case"right":L=a}switch(d.value){case"top":j=c;break;case"bottom":j=l}}var D=function(e,t){return{x:(e-=L)*I-(t-=j)*R+L,y:e*R+t*I+j}},$=D(a,l),B=D(a,c),V=D(s,l),F=D(s,c);a=Math.min($.x,B.x,V.x,F.x),s=Math.max($.x,B.x,V.x,F.x),l=Math.min($.y,B.y,V.y,F.y),c=Math.max($.y,B.y,V.y,F.y)}var z=P+"Rot",U=T[z]=T[z]||{};U.x1=a,U.y1=l,U.x2=s,U.y2=c,U.w=s-a,U.h=c-l,qr(e,a,l,s,c),qr(o.labelBounds.all,a,l,s,c)}return e}},Zr=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),(r+=n(e.includeTargetLabels))+n(e.includeOverlays)},Qr=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),r=function(e){return Math.round(e)};return function(e){var t={value:0,done:!1},n=0,r=e.length;return ce({next:function(){return n<r?t.value=e[n++]:t.done=!0,t}},void 0)}([r(t.x),r(t.y),r(n.x),r(n.y)])}return 0},eo=function(e,t){var n,r=e._private,o=e.isEdge(),i=(null==t?no:Zr(t))===no,a=Qr(e),s=r.bbCachePosKey===a,l=t.useCache&&s,c=function(e){return null==e._private.bbCache||e._private.styleDirty};if(!l||c(e)||o&&c(e.source())||c(e.target())?(s||e.recalculateRenderedStyle(l),n=function(e,t){var n,r,o,i,a,s,l,c=e._private.cy,u=c.styleEnabled(),d=c.headless(),p=ft(),h=e._private,f=e.isNode(),m=e.isEdge(),g=h.rstyle,v=f&&u?e.pstyle("bounds-expansion").pfValue:[0],y=function(e){return"none"!==e.pstyle("display").value},b=!u||y(e)&&(!m||y(e.source())&&y(e.target()));if(b){var w=0;u&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(w=e.pstyle("overlay-padding").value);var x=0;u&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(x=e.pstyle("underlay-padding").value);var _=Math.max(w,x),k=0;if(u&&(k=e.pstyle("width").pfValue/2),f&&t.includeNodes){var C=e.position();a=C.x,s=C.y;var S=e.outerWidth()/2,E=e.outerHeight()/2;qr(p,n=a-S,o=s-E,r=a+S,i=s+E)}else if(m&&t.includeEdges)if(u&&!d){var P=e.pstyle("curve-style").strValue;if(n=Math.min(g.srcX,g.midX,g.tgtX),r=Math.max(g.srcX,g.midX,g.tgtX),o=Math.min(g.srcY,g.midY,g.tgtY),i=Math.max(g.srcY,g.midY,g.tgtY),qr(p,n-=k,o-=k,r+=k,i+=k),"haystack"===P){var T=g.haystackPts;if(T&&2===T.length){if(n=T[0].x,o=T[0].y,n>(r=T[1].x)){var A=n;n=r,r=A}if(o>(i=T[1].y)){var M=o;o=i,i=M}qr(p,n-k,o-k,r+k,i+k)}}else if("bezier"===P||"unbundled-bezier"===P||"segments"===P||"taxi"===P){var N;switch(P){case"bezier":case"unbundled-bezier":N=g.bezierPts;break;case"segments":case"taxi":N=g.linePts}if(null!=N)for(var O=0;O<N.length;O++){var I=N[O];n=I.x-k,r=I.x+k,o=I.y-k,i=I.y+k,qr(p,n,o,r,i)}}}else{var R=e.source().position(),L=e.target().position();if((n=R.x)>(r=L.x)){var j=n;n=r,r=j}if((o=R.y)>(i=L.y)){var D=o;o=i,i=D}qr(p,n-=k,o-=k,r+=k,i+=k)}if(u&&t.includeEdges&&m&&(Yr(p,e,"mid-source"),Yr(p,e,"mid-target"),Yr(p,e,"source"),Yr(p,e,"target")),u&&"yes"===e.pstyle("ghost").value){var $=e.pstyle("ghost-offset-x").pfValue,B=e.pstyle("ghost-offset-y").pfValue;qr(p,p.x1+$,p.y1+B,p.x2+$,p.y2+B)}var V=h.bodyBounds=h.bodyBounds||{};yt(V,p),vt(V,v),gt(V,1),u&&(n=p.x1,r=p.x2,o=p.y1,i=p.y2,qr(p,n-_,o-_,r+_,i+_));var F=h.overlayBounds=h.overlayBounds||{};yt(F,p),vt(F,v),gt(F,1);var z=h.labelBounds=h.labelBounds||{};null!=z.all?((l=z.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):z.all=ft(),u&&t.includeLabels&&(t.includeMainLabels&&Jr(p,e,null),m&&(t.includeSourceLabels&&Jr(p,e,"source"),t.includeTargetLabels&&Jr(p,e,"target")))}return p.x1=Hr(p.x1),p.y1=Hr(p.y1),p.x2=Hr(p.x2),p.y2=Hr(p.y2),p.w=Hr(p.x2-p.x1),p.h=Hr(p.y2-p.y1),p.w>0&&p.h>0&&b&&(vt(p,v),gt(p,1)),p}(e,to),r.bbCache=n,r.bbCachePosKey=a):n=r.bbCache,!i){var u=e.isNode();n=ft(),(t.includeNodes&&u||t.includeEdges&&!u)&&(t.includeOverlays?Gr(n,r.overlayBounds):Gr(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!o||t.includeSourceLabels&&t.includeTargetLabels)?Gr(n,r.labelBounds.all):(t.includeMainLabels&&Gr(n,r.labelBounds.mainRot),t.includeSourceLabels&&Gr(n,r.labelBounds.sourceRot),t.includeTargetLabels&&Gr(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},to={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},no=Zr(to),ro=Oe(to);Wr.boundingBox=function(e){var t;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==e&&void 0!==e.useCache&&!0!==e.useCache){t=ft();var n=ro(e=e||to),r=this;if(r.cy().styleEnabled())for(var o=0;o<r.length;o++){var i=r[o],a=i._private,s=Qr(i),l=a.bbCachePosKey===s,c=n.useCache&&l&&!a.styleDirty;i.recalculateRenderedStyle(c)}this.updateCompoundBounds(!e.useCache);for(var u=0;u<r.length;u++){var d=r[u];Gr(t,eo(d,n))}}else e=void 0===e?to:ro(e),t=eo(this[0],e);return t.x1=Hr(t.x1),t.y1=Hr(t.y1),t.x2=Hr(t.x2),t.y2=Hr(t.y2),t.w=Hr(t.x2-t.x1),t.h=Hr(t.y2-t.y1),t},Wr.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Wr.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),o=n.collection();if(r&&(o=t.filter((function(e){return e.isParent()})),t=t.not(o)),N(e)){var i=e;e=function(){return i}}n.startBatch(),t.forEach((function(t,n){return t._private.bbAtOldPos=e(t,n)})).silentPositions(e),r&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0));var a=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions((function(e){return e._private.bbAtOldPos})),r&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0)),n.endBatch(),a},Ur.boundingbox=Ur.bb=Ur.boundingBox,Ur.renderedBoundingbox=Ur.renderedBoundingBox;var oo,io,ao=Wr;oo=io={};var so=function(e){e.uppercaseName=K(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=K(e.outerName),oo[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(r){if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var o=t.pstyle(e.name);return"label"===o.strValue?(t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0):o.pfValue}return 1}},oo["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t)return n?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},oo["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},oo["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};so({name:"width"}),so({name:"height"}),io.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},io.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},io.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var lo=io,co={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},uo=Object.keys(co).reduce((function(e,t){var n=co[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy(),r=n.pan(),o=n.zoom();return t(e).map((function(e){return nt(e,o,r)}))}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy();return nt(t(e),n.zoom(),n.pan())}}(this,n.get)},e}),{}),po=Z({},Kr,ao,lo,uo),ho=function(e,t){this.recycle(e,t)};function fo(){return!1}function mo(){return!0}ho.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=fo,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?mo:fo):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*r+o.x,y:n.y*r+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=mo;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=mo;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=mo,this.stopPropagation()},isDefaultPrevented:fo,isPropagationStopped:fo,isImmediatePropagationStopped:fo};var go=/^([^.]+)(\.(?:[^.]+))?$/,vo={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},yo=Object.keys(vo),bo={};function wo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo,t=arguments.length>1?arguments[1]:void 0,n=0;n<yo.length;n++){var r=yo[n];this[r]=e[r]||vo[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var xo=wo.prototype,_o=function(e,t,n,r,o,i,a){A(r)&&(o=r,r=null),a&&(i=null==i?a:Z({},i,a));for(var s=M(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var c=s[l];if(!B(c)){var u=c.match(go);if(u&&!1===t(e,c,u[1],u[2]?u[2]:null,r,o,i))break}}},ko=function(e,t){return e.addEventFields(e.context,t),new ho(t.type,t)};xo.on=xo.addListener=function(e,t,n,r,o){return _o(this,(function(e,t,n,r,o,i,a){A(i)&&e.listeners.push({event:t,callback:i,type:n,namespace:r,qualifier:o,conf:a})}),e,t,n,r,o),this},xo.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},xo.removeListener=xo.off=function(e,t,n,r){var o=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var i=this.listeners,a=function(a){var s=i[a];_o(o,(function(t,n,r,o,l,c){if((s.type===r||"*"===e)&&(!o&&".*"!==s.namespace||s.namespace===o)&&(!l||t.qualifierCompare(s.qualifier,l))&&(!c||s.callback===c))return i.splice(a,1),!1}),e,t,n,r)},s=i.length-1;s>=0;s--)a(s);return this},xo.removeAllListeners=function(){return this.removeListener("*")},xo.emit=xo.trigger=function(e,t,n){var r=this.listeners,o=r.length;return this.emitting++,M(t)||(t=[t]),function(e,t,n){if("event"!==P(n))if(N(n))t(e,ko(e,n));else for(var r=M(n)?n:n.split(/\s+/),o=0;o<r.length;o++){var i=r[o];if(!B(i)){var a=i.match(go);if(a){var s=a[1],l=a[2]?a[2]:null;t(e,ko(e,{type:s,namespace:l,target:e.context}))}}}else t(e,n)}(this,(function(e,i){null!=n&&(r=[{event:i.event,type:i.type,namespace:i.namespace,callback:n}],o=r.length);for(var a=function(n){var o=r[n];if(o.type===i.type&&(!o.namespace||o.namespace===i.namespace||".*"===o.namespace)&&e.eventMatches(e.context,o,i)){var a=[i];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(a,t),e.beforeEmit(e.context,o,i),o.conf&&o.conf.one&&(e.listeners=e.listeners.filter((function(e){return e!==o})));var s=e.callbackContext(e.context,o,i),l=o.callback.apply(s,a);e.afterEmit(e.context,o,i),!1===l&&(i.stopPropagation(),i.preventDefault())}},s=0;s<o;s++)a(s);e.bubble(e.context)&&!i.isPropagationStopped()&&e.parent(e.context).emit(i,t)}),e),this.emitting--,this};var Co={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&L(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},So=function(e){return T(e)?new Cr(e):e},Eo={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new wo(Co,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=So(t),o=0;o<this.length;o++)this[o].emitter().on(e,r,n);return this},removeListener:function(e,t,n){for(var r=So(t),o=0;o<this.length;o++)this[o].emitter().removeListener(e,r,n);return this},removeAllListeners:function(){for(var e=0;e<this.length;e++)this[e].emitter().removeAllListeners();return this},one:function(e,t,n){for(var r=So(t),o=0;o<this.length;o++)this[o].emitter().one(e,r,n);return this},once:function(e,t,n){for(var r=So(t),o=0;o<this.length;o++)this[o].emitter().on(e,r,n,{once:!0,onceCollection:this})},emit:function(e,t){for(var n=0;n<this.length;n++)this[n].emitter().emit(e,t);return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};ar.eventAliasesOn(Eo);var Po={nodes:function(e){return this.filter((function(e){return e.isNode()})).filter(e)},edges:function(e){return this.filter((function(e){return e.isEdge()})).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(T(e)||R(e))return new Cr(e).filter(this);if(A(e)){for(var n=this.spawn(),r=this,o=0;o<r.length;o++){var i=r[o];(t?e.apply(t,[i,o,r]):e(i,o,r))&&n.push(i)}return n}return this.spawn()},not:function(e){if(e){T(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(T(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,o=this.length<e.length,i=o?this:r,a=o?r:this,s=0;s<i.length;s++){var l=i[s];a.has(l)&&n.push(l)}return n},xor:function(e){var t=this._private.cy;T(e)&&(e=t.$(e));var n=this.spawn(),r=e,o=function(e,t){for(var r=0;r<e.length;r++){var o=e[r],i=o._private.data.id;t.hasElementWithId(i)||n.push(o)}};return o(this,r),o(r,this),n},diff:function(e){var t=this._private.cy;T(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),o=this.spawn(),i=e,a=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id;t.hasElementWithId(a)?o.merge(i):n.push(i)}};return a(this,i,n),a(i,this,r),{left:n,right:r,both:o}},add:function(e){var t=this._private.cy;if(!e)return this;if(T(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),o=0;o<e.length;o++){var i=e[o];!this.has(i)&&r.push(i)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&T(e)){var r=e;e=n.mutableElements().filter(r)}for(var o=t.map,i=0;i<e.length;i++){var a=e[i],s=a._private.data.id;if(!o.has(s)){var l=this.length++;this[l]=a,o.set(s,{ele:a,index:l})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var o=this.length-1,i=this[o],a=i._private.data.id;this[o]=void 0,this[e]=i,n.set(a,{ele:i,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var o=r.index;return this.unmergeAt(o),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&T(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--)e(this[t])&&this.unmergeAt(t);return this},map:function(e,t){for(var n=[],r=this,o=0;o<r.length;o++){var i=r[o],a=t?e.apply(t,[i,o,r]):e(i,o,r);n.push(a)}return n},reduce:function(e,t){for(var n=t,r=this,o=0;o<r.length;o++)n=e(n,r[o],o,r);return n},max:function(e,t){for(var n,r=-1/0,o=this,i=0;i<o.length;i++){var a=o[i],s=t?e.apply(t,[a,i,o]):e(a,i,o);s>r&&(r=s,n=a)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,o=this,i=0;i<o.length;i++){var a=o[i],s=t?e.apply(t,[a,i,o]):e(a,i,o);s<r&&(r=s,n=a)}return{value:r,ele:n}}},To=Po;To.u=To["|"]=To["+"]=To.union=To.or=To.add,To["\\"]=To["!"]=To["-"]=To.difference=To.relativeComplement=To.subtract=To.not,To.n=To["&"]=To["."]=To.and=To.intersection=To.intersect,To["^"]=To["(+)"]=To["(-)"]=To.symmetricDifference=To.symdiff=To.xor,To.fnFilter=To.filterFn=To.stdFilter=To.filter,To.complement=To.abscomp=To.absoluteComplement;var Ao,Mo=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?we:0}var o=r(e)-r(t);if(0!==o)return o;function i(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var a=i(e)-i(t);if(0!==a)return a;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},No={forEach:function(e,t){if(A(e))for(var n=this.length,r=0;r<n;r++){var o=this[r];if(!1===(t?e.apply(t,[o,r,this]):e(o,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var o=e;o>=0&&o<t&&o<r;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!A(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Mo)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:we-1}var r=t.source,o=t.target,i=r.zDepth(),a=o.zDepth();return Math.max(i,a,0)}}};No.each=No.forEach,Ao="undefined",("undefined"==typeof Symbol?"undefined":f(Symbol))!=Ao&&f(Symbol.iterator)!=Ao&&(No[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return y({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,(function(){return this}))});var Oo=Oe({nodeDimensionsIncludeLabels:!1}),Io={layoutDimensions:function(e){var t;if(e=Oo(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter((function(e){return!e.isParent()})),o=this.cy(),i=t.eles,a=function(e){return e.id()},s=F(n,a);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,c=function(){if(!l)return null;for(var e=ft(),t=0;t<r.length;t++){var n=r[t],o=s(n,t);mt(e,o.x,o.y)}return e}(),u=F((function(e,n){var r,o,i,a,u,d=s(e,n);return l&&(r=Math.abs(t.spacingFactor),i=d,a=(o=c).x1+o.w/2,u=o.y1+o.h/2,d={x:a+(i.x-a)*r,y:u+(i.y-u)*r}),null!=t.transform&&(d=t.transform(e,d)),d}),a);if(t.animate){for(var d=0;d<r.length;d++){var p=r[d],h=u(p,d);if(null==t.animateFilter||t.animateFilter(p,d)){var f=p.animation({position:h,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f)}else p.position(h)}if(t.fit){var m=o.animation({fit:{boundingBox:i.boundingBoxAt(u),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}else if(void 0!==t.zoom&&void 0!==t.pan){var g=o.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}e.animations.forEach((function(e){return e.play()})),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),er.all(e.animations.map((function(e){return e.promise()}))).then((function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}))}else r.positions(u),t.fit&&o.fit(t.eles,t.padding),null!=t.zoom&&o.zoom(t.zoom),t.pan&&o.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(Z({},e,{eles:this}))}};function Ro(e,t,n){var r,o=n._private,i=o.styleCache=o.styleCache||[];return null!=(r=i[e])?r:r=i[e]=t(n)}function Lo(e,t){return e=fe(e),function(n){return Ro(e,t,n)}}function jo(e,t){e=fe(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return Ro(e,n,t)}}Io.createLayout=Io.makeLayout=Io.layout;var Do={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};return t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach((function(e){n(e),e.connectedEdges().forEach(n)})),this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach((function(e){return e._private.styleDirty=!0})),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){this.cleanStyle();var o=n._private.style[e];return null!=o?o:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,o=n.style();if(N(e)){var i=e;o.applyBypass(this,i,r),this.emitAndNotify("style")}else if(T(e)){if(void 0===t){var a=this[0];return a?o.getStylePropertyValue(a,e):void 0}o.applyBypass(this,e,t,r),this.emitAndNotify("style")}else if(void 0===e){var s=this[0];return s?o.getRawStyle(s):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,r=t.style(),o=this;if(void 0===e)for(var i=0;i<o.length;i++){var a=o[i];r.removeAllBypasses(a,n)}else{e=e.split(/\s+/);for(var s=0;s<o.length;s++){var l=o[s];r.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,o=n.pstyle("opacity").value;if(!t)return o;var i=r.data.parent?n.parents():null;if(i)for(var a=0;a<i.length;a++)o*=i[a].pstyle("opacity").value;return o}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function $o(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++)if(!t(n[r]))return!1;return!0}function Bo(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var o=this[0],i=e.hasCompoundNodes();if(o){var a=o._private;if(!t(o))return!1;if(o.isNode())return!i||$o(o,r);var s=a.source,l=a.target;return n(s)&&(!i||$o(s,n))&&(s===l||n(l)&&(!i||$o(l,n)))}}}var Vo=Lo("eleTakesUpSpace",(function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())}));Do.takesUpSpace=jo("takesUpSpace",Bo({ok:Vo}));var Fo=Lo("eleInteractive",(function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&Vo(e)})),zo=Lo("parentInteractive",(function(e){return"visible"===e.pstyle("visibility").value&&Vo(e)}));Do.interactive=jo("interactive",Bo({ok:Fo,parentOk:zo,edgeOkViaNode:Vo})),Do.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Uo=Lo("eleVisible",(function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&Vo(e)})),Wo=Vo;Do.visible=jo("visible",Bo({ok:Uo,edgeOkViaNode:Wo})),Do.hidden=function(){var e=this[0];if(e)return!e.visible()},Do.isBundledBezier=jo("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),Do.bypass=Do.css=Do.style,Do.renderedCss=Do.renderedStyle,Do.removeBypass=Do.removeCss=Do.removeStyle,Do.pstyle=Do.parsedStyle;var Ko={};function Ho(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],o=t[1];this.on(e.event,r,o)}else if(1===t.length&&A(t[0])){var i=t[0];this.on(e.event,i)}else if(0===t.length||1===t.length&&M(t[0])){for(var a=1===t.length?t[0]:null,s=0;s<this.length;s++){var l=this[s],c=!e.ableField||l._private[e.ableField],u=l._private[e.field]!=e.value;if(e.overrideAble){var d=e.overrideAble(l);if(void 0!==d&&(c=d,!d))return this}c&&(l._private[e.field]=e.value,u&&n.push(l))}var p=this.spawn(n);p.updateStyle(),p.emit(e.event),a&&p.emit(a)}return this}}function qo(e){Ko[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},Ko[e.on]=Ho({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Ko[e.off]=Ho({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}qo({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),qo({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),qo({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),qo({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ko.deselect=Ko.unselect,Ko.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},qo({field:"active",on:"activate",off:"unactivate"}),qo({field:"pannable",on:"panify",off:"unpanify"}),Ko.inactive=function(){var e=this[0];if(e)return!e._private.active};var Go={},Xo=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r];if(o.isNode()){for(var i=!1,a=o.connectedEdges(),s=0;s<a.length;s++){var l=a[s],c=l.source(),u=l.target();if(e.noIncomingEdges&&u===o&&c!==o||e.noOutgoingEdges&&c===o&&u!==o){i=!0;break}}i||n.push(o)}}return this.spawn(n,!0).filter(t)}},Yo=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r];if(o.isNode())for(var i=o.connectedEdges(),a=0;a<i.length;a++){var s=i[a],l=s.source(),c=s.target();e.outgoing&&l===o?(n.push(s),n.push(c)):e.incoming&&c===o&&(n.push(s),n.push(l))}}return this.spawn(n,!0).filter(t)}},Jo=function(e){return function(t){for(var n=this,r=[],o={};;){var i=e.outgoing?n.outgoers():n.incomers();if(0===i.length)break;for(var a=!1,s=0;s<i.length;s++){var l=i[s],c=l.id();o[c]||(o[c]=!0,r.push(l),a=!0)}if(!a)break;n=i}return this.spawn(r,!0).filter(t)}};function Zo(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r]._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(t)}}function Qo(e){return function(t){var n=[],r=this._private.cy,o=e||{};T(t)&&(t=r.$(t));for(var i=0;i<t.length;i++)for(var a=t[i]._private.edges,s=0;s<a.length;s++){var l=a[s],c=l._private.data,u=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),d=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(u||d){if(o.thisIsSrc||o.thisIsTgt){if(o.thisIsSrc&&!u)continue;if(o.thisIsTgt&&!d)continue}n.push(l)}}return this.spawn(n,!0)}}function ei(e){return e=Z({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),o=e,i=0;i<r.length;i++)for(var a=r[i]._private,s=a.source,l=s._private.data.id,c=a.data.target,u=s._private.edges,d=0;d<u.length;d++){var p=u[d],h=p._private.data,f=h.target,m=h.source,g=f===c&&m===l,v=l===f&&c===m;(o.codirected&&g||!o.codirected&&(g||v))&&n.push(p)}return this.spawn(n,!0).filter(t)}}Go.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},Z(Go,{roots:Xo({noIncomingEdges:!0}),leaves:Xo({noOutgoingEdges:!0}),outgoers:Ar(Yo({outgoing:!0}),"outgoers"),successors:Jo({outgoing:!0}),incomers:Ar(Yo({incoming:!0}),"incomers"),predecessors:Jo({incoming:!0})}),Z(Go,{neighborhood:Ar((function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var o=n[r],i=o.connectedEdges(),a=0;a<i.length;a++){var s=i[a],l=s.source(),c=s.target(),u=o===l?c:l;u.length>0&&t.push(u[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)}),"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Go.neighbourhood=Go.neighborhood,Go.closedNeighbourhood=Go.closedNeighborhood,Go.openNeighbourhood=Go.openNeighborhood,Z(Go,{source:Ar((function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t}),"source"),target:Ar((function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t}),"target"),sources:Zo({attr:"source"}),targets:Zo({attr:"target"})}),Z(Go,{edgesWith:Ar(Qo(),"edgesWith"),edgesTo:Ar(Qo({thisIsSrc:!0}),"edgesTo")}),Z(Go,{connectedEdges:Ar((function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var o=r._private.edges,i=0;i<o.length;i++){var a=o[i];t.push(a)}}return this.spawn(t,!0).filter(e)}),"connectedEdges"),connectedNodes:Ar((function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)}),"connectedNodes"),parallelEdges:Ar(ei(),"parallelEdges"),codirectedEdges:Ar(ei({codirected:!0}),"codirectedEdges")}),Z(Go,{components:function(e){var t=this,n=t.cy(),r=n.collection(),o=null==e?t.nodes():e.nodes(),i=[];null!=e&&o.empty()&&(o=e.sources());var a=function(e,t){r.merge(e),o.unmerge(e),t.merge(e)};if(o.empty())return t.spawn();var s=function(){var e=n.collection();i.push(e);var r=o[0];a(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return a(t,e)}}),e.forEach((function(n){n.connectedEdges().forEach((function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)}))}))};do{s()}while(o.length>0);return i},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),Go.componentsOf=Go.components;var ti=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var o=new De,i=!1;if(t){if(t.length>0&&N(t[0])&&!L(t[0])){i=!0;for(var a=[],s=new Be,l=0,c=t.length;l<c;l++){var u=t[l];null==u.data&&(u.data={});var d=u.data;if(null==d.id)d.id=Ae();else if(e.hasElementWithId(d.id)||s.has(d.id))continue;var p=new Ve(e,u,!1);a.push(p),s.add(d.id)}t=a}}else t=[];this.length=0;for(var h=0,f=t.length;h<f;h++){var m=t[h][0];if(null!=m){var g=m._private.data.id;n&&o.has(g)||(n&&o.set(g,{index:this.length,ele:m}),this[this.length]=m,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new De,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=o),i&&!r&&this.restore()}else Se("A collection must have a reference to the core")},ni=Ve.prototype=ti.prototype=Object.create(Array.prototype);ni.instanceString=function(){return"collection"},ni.spawn=function(e,t){return new ti(this.cy(),e,t)},ni.spawnSelf=function(){return this.spawn(this)},ni.cy=function(){return this._private.cy},ni.renderer=function(){return this._private.cy.renderer()},ni.element=function(){return this[0]},ni.collection=function(){return j(this)?this:new ti(this._private.cy,[this])},ni.unique=function(){return new ti(this._private.cy,this,!0)},ni.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},ni.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new ti(t)},ni.$id=ni.getElementById,ni.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},ni.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},ni.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},ni.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(N(e)){if(n.startBatch(),e.data){t.data(e.data);var o=r.data;if(t.isEdge()){var i=!1,a={},s=e.data.source,l=e.data.target;null!=s&&s!=o.source&&(a.source=""+s,i=!0),null!=l&&l!=o.target&&(a.target=""+l,i=!0),i&&(t=t.move(a))}else{var c="parent"in e.data,u=e.data.parent;!c||null==u&&null==o.parent||u==o.parent||(void 0===u&&(u=null),null!=u&&(u=""+u),t=t.move({parent:u}))}}e.position&&t.position(e.position);var d=function(n,o,i){var a=e[n];null!=a&&a!==r[n]&&(a?t[o]():t[i]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var p={data:Te(r.data),position:Te(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:""},h=0;return r.classes.forEach((function(e){return p.classes+=0==h++?e:" "+e})),p}}},ni.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},ni.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),o=new Ve(e,r,!1);t.push(o)}return new ti(e,t)},ni.copy=ni.clone,ni.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,i=o.cy(),a=i._private,s=[],l=[],c=0,u=o.length;c<u;c++){var d=o[c];r&&!d.removed()||(d.isNode()?s.push(d):l.push(d))}e=s.concat(l);var p=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var h=e[t],f=h._private,m=f.data;if(h.clearTraversalCache(),r||f.removed)if(void 0===m.id)m.id=Ae();else if(O(m.id))m.id=""+m.id;else{if(B(m.id)||!T(m.id)){Se("Can not create element with invalid string ID `"+m.id+"`"),p();continue}if(i.hasElementWithId(m.id)){Se("Can not create second element with ID `"+m.id+"`"),p();continue}}var g=m.id;if(h.isNode()){var v=f.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(h.isEdge()){for(var y=h,b=["source","target"],w=b.length,x=!1,_=0;_<w;_++){var k=b[_],C=m[k];O(C)&&(C=m[k]=""+m[k]),null==C||""===C?(Se("Can not create edge `"+g+"` with unspecified "+k),x=!0):i.hasElementWithId(C)||(Se("Can not create edge `"+g+"` with nonexistant "+k+" `"+C+"`"),x=!0)}if(x){p();continue}var S=i.getElementById(m.source),E=i.getElementById(m.target);S.same(E)?S._private.edges.push(y):(S._private.edges.push(y),E._private.edges.push(y)),y._private.source=S,y._private.target=E}f.map=new De,f.map.set(g,{ele:h,index:0}),f.removed=!1,r&&i.addToPool(h)}for(var P=0;P<s.length;P++){var A=s[P],M=A._private.data;O(M.parent)&&(M.parent=""+M.parent);var N=M.parent;if(null!=N||A._private.parent){var I=A._private.parent?i.collection().merge(A._private.parent):i.getElementById(N);if(I.empty())M.parent=void 0;else if(I[0].removed())Pe("Node added with missing parent, reference to parent removed"),M.parent=void 0,A._private.parent=null;else{for(var R=!1,L=I;!L.empty();){if(A.same(L)){R=!0,M.parent=void 0;break}L=L.parent()}R||(I[0]._private.children.push(A),A._private.parent=I[0],a.hasCompoundNodes=!0)}}}if(e.length>0){for(var j=e.length===o.length?o:new ti(i,e),D=0;D<j.length;D++){var $=j[D];$.isNode()||($.parallelEdges().clearTraversalCache(),$.source().clearTraversalCache(),$.target().clearTraversalCache())}(a.hasCompoundNodes?i.collection().merge(j).merge(j.connectedNodes()).merge(j.parent()):j).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?j.emitAndNotify("add"):r&&j.emit("add")}return o},ni.removed=function(){var e=this[0];return e&&e._private.removed},ni.inside=function(){var e=this[0];return e&&!e._private.removed},ni.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],o={},i=n._private.cy;function a(e){var n=o[e.id()];t&&e.removed()||n||(o[e.id()]=!0,e.isNode()?(r.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)a(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)a(t[n])}(e)):r.unshift(e))}for(var s=0,l=n.length;s<l;s++)a(n[s]);function c(e,t){var n=e._private.edges;Ie(n,t),e.clearTraversalCache()}function u(e){e.clearTraversalCache()}var d=[];function p(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();Ie(n,t),t._private.parent=null,d.ids[r]||(d.ids[r]=!0,d.push(e))}d.ids={},n.dirtyCompoundBoundsCache(),t&&i.removeFromPool(r);for(var h=0;h<r.length;h++){var f=r[h];if(f.isEdge()){var m=f.source()[0],g=f.target()[0];c(m,f),c(g,f);for(var v=f.parallelEdges(),y=0;y<v.length;y++){var b=v[y];u(b),b.isBundledBezier()&&b.dirtyBoundingBoxCache()}}else{var w=f.parent();0!==w.length&&p(w,f)}t&&(f._private.removed=!0)}var x=i._private.elements;i._private.hasCompoundNodes=!1;for(var _=0;_<x.length;_++)if(x[_].isParent()){i._private.hasCompoundNodes=!0;break}var k=new ti(this.cy(),r);k.size()>0&&(e?k.emitAndNotify("remove"):t&&k.emit("remove"));for(var C=0;C<d.length;C++){var S=d[C];t&&S.removed()||S.updateStyle()}return k},ni.move=function(e){var t=this._private.cy,n=this,r=!1,o=!1,i=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var a=i(e.source),s=i(e.target),l=null!=a&&t.hasElementWithId(a),c=null!=s&&t.hasElementWithId(s);(l||c)&&(t.batch((function(){n.remove(r,o),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],i=t._private.data;t.isEdge()&&(l&&(i.source=a),c&&(i.target=s))}n.restore(r,o)})),n.emitAndNotify("move"))}else if(void 0!==e.parent){var u=i(e.parent);if(null===u||t.hasElementWithId(u)){var d=null===u?void 0:u;t.batch((function(){var e=n.remove(r,o);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var i=n[t],a=i._private.data;i.isNode()&&(a.parent=d)}e.restore(r,o)})),n.emitAndNotify("move")}}return this},[qn,sr,lr,Er,Mr,Dr,$r,po,Eo,Po,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},No,Io,Do,Ko,Go].forEach((function(e){Z(ni,e)}));var ri={add:function(e){var t,n=this;if(R(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var o=[],i=0;i<r.length;i++){var a=r[i];o.push(a.json())}t=new ti(n,o)}}else if(M(e))t=new ti(n,e);else if(N(e)&&(M(e.nodes)||M(e.edges))){for(var s=e,l=[],c=["nodes","edges"],u=0,d=c.length;u<d;u++){var p=c[u],h=s[p];if(M(h))for(var f=0,m=h.length;f<m;f++){var g=Z({group:p},h[f]);l.push(g)}}t=new ti(n,l)}else t=new Ve(n,e).collection();return t},remove:function(e){if(R(e));else if(T(e)){var t=e;e=this.$(t)}return e.remove()}};function oi(e,t,n,r){var o=.1,i="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var a=0;a<4;++a)if("number"!=typeof arguments[a]||isNaN(arguments[a])||!isFinite(arguments[a]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var s=i?new Float32Array(11):new Array(11);function l(e,t){return 1-3*t+3*e}function c(e,t){return 3*t-6*e}function u(e){return 3*e}function d(e,t,n){return((l(t,n)*e+c(t,n))*e+u(t))*e}function p(e,t,n){return 3*l(t,n)*e*e+2*c(t,n)*e+u(t)}var h=!1;var f=function(i){return h||(h=!0,e===t&&n===r||function(){for(var t=0;t<11;++t)s[t]=d(t*o,e,n)}()),e===t&&n===r?i:0===i?0:1===i?1:d(function(t){for(var r=0,i=1;10!==i&&s[i]<=t;++i)r+=o;--i;var a=r+(t-s[i])/(s[i+1]-s[i])*o,l=p(a,e,n);return l>=.001?function(t,r){for(var o=0;o<4;++o){var i=p(r,e,n);if(0===i)return r;r-=(d(r,e,n)-t)/i}return r}(t,a):0===l?a:function(t,r,o){var i,a,s=0;do{(i=d(a=r+(o-r)/2,e,n)-t)>0?o=a:r=a}while(Math.abs(i)>1e-7&&++s<10);return a}(t,r,r+o)}(i),t,r)};f.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var m="generateBezier("+[e,t,n,r]+")";return f.toString=function(){return m},f}var ii=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var o={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function n(n,r){var o={dx:n.v,dv:e(n)},i=t(n,.5*r,o),a=t(n,.5*r,i),s=t(n,r,a),l=1/6*(o.dx+2*(i.dx+a.dx)+s.dx),c=1/6*(o.dv+2*(i.dv+a.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+c*r,n}return function e(t,r,o){var i,a,s,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,d=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,o=o||null,l.tension=t,l.friction=r,a=(i=null!==o)?(u=e(t,r))/o*.016:.016;s=n(s||l,a),c.push(1+s.x),u+=16,Math.abs(s.x)>d&&Math.abs(s.v)>d;);return i?function(e){return c[e*(c.length-1)|0]}:u}}(),ai=function(e,t,n,r){var o=oi(e,t,n,r);return function(e,t,n){return e+(t-e)*o(n)}},si={linear:function(e,t,n){return e+(t-e)*n},ease:ai(.25,.1,.25,1),"ease-in":ai(.42,0,1,1),"ease-out":ai(0,0,.58,1),"ease-in-out":ai(.42,0,.58,1),"ease-in-sine":ai(.47,0,.745,.715),"ease-out-sine":ai(.39,.575,.565,1),"ease-in-out-sine":ai(.445,.05,.55,.95),"ease-in-quad":ai(.55,.085,.68,.53),"ease-out-quad":ai(.25,.46,.45,.94),"ease-in-out-quad":ai(.455,.03,.515,.955),"ease-in-cubic":ai(.55,.055,.675,.19),"ease-out-cubic":ai(.215,.61,.355,1),"ease-in-out-cubic":ai(.645,.045,.355,1),"ease-in-quart":ai(.895,.03,.685,.22),"ease-out-quart":ai(.165,.84,.44,1),"ease-in-out-quart":ai(.77,0,.175,1),"ease-in-quint":ai(.755,.05,.855,.06),"ease-out-quint":ai(.23,1,.32,1),"ease-in-out-quint":ai(.86,0,.07,1),"ease-in-expo":ai(.95,.05,.795,.035),"ease-out-expo":ai(.19,1,.22,1),"ease-in-out-expo":ai(1,0,0,1),"ease-in-circ":ai(.6,.04,.98,.335),"ease-out-circ":ai(.075,.82,.165,1),"ease-in-out-circ":ai(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return si.linear;var r=ii(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":ai};function li(e,t,n,r,o){if(1===r)return n;if(t===n)return n;var i=o(t,n,r);return null==e||((e.roundValue||e.color)&&(i=Math.round(i)),void 0!==e.min&&(i=Math.max(i,e.min)),void 0!==e.max&&(i=Math.min(i,e.max))),i}function ci(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function ui(e,t,n,r,o){var i=null!=o?o.type:null;n<0?n=0:n>1&&(n=1);var a=ci(e,o),s=ci(t,o);if(O(a)&&O(s))return li(i,a,s,n,r);if(M(a)&&M(s)){for(var l=[],c=0;c<s.length;c++){var u=a[c],d=s[c];if(null!=u&&null!=d){var p=li(i,u,d,n,r);l.push(p)}else l.push(d)}return l}}function di(e,t,n,r){var o=!r,i=e._private,a=t._private,s=a.easing,l=a.startTime,c=(r?e:e.cy()).style();if(!a.easingImpl)if(null==s)a.easingImpl=si.linear;else{var u,d,p;u=T(s)?c.parse("transition-timing-function",s).value:s,T(u)?(d=u,p=[]):(d=u[1],p=u.slice(2).map((function(e){return+e}))),p.length>0?("spring"===d&&p.push(a.duration),a.easingImpl=si[d].apply(null,p)):a.easingImpl=si[d]}var h,f=a.easingImpl;if(h=0===a.duration?1:(n-l)/a.duration,a.applying&&(h=a.progress),h<0?h=0:h>1&&(h=1),null==a.delay){var m=a.startPosition,g=a.position;if(g&&o&&!e.locked()){var v={};pi(m.x,g.x)&&(v.x=ui(m.x,g.x,h,f)),pi(m.y,g.y)&&(v.y=ui(m.y,g.y,h,f)),e.position(v)}var y=a.startPan,b=a.pan,w=i.pan,x=null!=b&&r;x&&(pi(y.x,b.x)&&(w.x=ui(y.x,b.x,h,f)),pi(y.y,b.y)&&(w.y=ui(y.y,b.y,h,f)),e.emit("pan"));var _=a.startZoom,k=a.zoom,C=null!=k&&r;C&&(pi(_,k)&&(i.zoom=ht(i.minZoom,ui(_,k,h,f),i.maxZoom)),e.emit("zoom")),(x||C)&&e.emit("viewport");var S=a.style;if(S&&S.length>0&&o){for(var E=0;E<S.length;E++){var P=S[E],A=P.name,M=P,N=a.startStyle[A],O=ui(N,M,h,f,c.properties[N.name]);c.overrideBypass(e,A,O)}e.emit("style")}}return a.progress=h,h}function pi(e,t){return!!(null!=e&&null!=t&&(O(e)&&O(t)||e&&t))}function hi(e,t,n,r){var o=t._private;o.started=!0,o.startTime=n-o.progress*o.duration}function fi(e,t){var n=t._private.aniEles,r=[];function o(t,n){var o=t._private,i=o.animation.current,a=o.animation.queue,s=!1;if(0===i.length){var l=a.shift();l&&i.push(l)}for(var c=function(e){for(var t=e.length-1;t>=0;t--)(0,e[t])();e.splice(0,e.length)},u=i.length-1;u>=0;u--){var d=i[u],p=d._private;p.stopped?(i.splice(u,1),p.hooked=!1,p.playing=!1,p.started=!1,c(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||hi(0,d,e),di(t,d,e,n),p.applying&&(p.applying=!1),c(p.frames),null!=p.step&&p.step(e),d.completed()&&(i.splice(u,1),p.hooked=!1,p.playing=!1,p.started=!1,c(p.completes)),s=!0)}return n||0!==i.length||0!==a.length||r.push(t),s}for(var i=!1,a=0;a<n.length;a++){var s=o(n[a]);i=i||s}var l=o(t,!0);(i||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var mi={animate:ar.animate(),animation:ar.animation(),animated:ar.animated(),clearQueue:ar.clearQueue(),delay:ar.delay(),delayAnimation:ar.delayAnimation(),stop:ar.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender((function(t,n){fi(n,e)}),t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&ie((function(n){fi(n,e),t()}))}()}}},gi={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&L(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},vi=function(e){return T(e)?new Cr(e):e},yi={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new wo(gi,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,vi(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,vi(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,vi(t),n),this},once:function(e,t,n){return this.emitter().one(e,vi(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};ar.eventAliasesOn(yi);var bi={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};bi.jpeg=bi.jpg;var wi={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n,r=e.name,o=t.extension("layout",r);if(null!=o)return n=T(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$(),new o(Z({},e,{cy:t,eles:n}));Se("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Se("A `name` must be specified to make a layout");else Se("Layout options must be specified to make a layout")}};wi.createLayout=wi.makeLayout=wi.layout;var xi={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var o=this.renderer();!this.destroyed()&&o&&o.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach((function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)}))}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch((function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r],i=e[o];t.getElementById(o).data(i)}}))}},_i=Oe({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),ki={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&Pe("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=_i(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else Se("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach((function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]}))},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};ki.invalidateDimensions=ki.resize;var Ci={collection:function(e,t){return T(e)?this.$(e):R(e)?e.collection():M(e)?(t||(t={}),new ti(this,e,t.unique,t.removed)):new ti(this)},nodes:function(e){var t=this.$((function(e){return e.isNode()}));return e?t.filter(e):t},edges:function(e){var t=this.$((function(e){return e.isEdge()}));return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Ci.elements=Ci.filter=Ci.$;var Si={},Ei="t";Si.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var o=e[r],i=t.getContextMeta(o);if(!i.empty){var a=t.getContextStyle(i),s=t.applyContextStyle(i,a,o);o._private.appliedInitStyle?t.updateTransitions(o,s.diffProps):o._private.appliedInitStyle=!0,t.updateStyleHints(o)&&n.push(o)}}return n},Si.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},o=e+"-"+t,i=r[o];if(i)return i;for(var a=[],s={},l=0;l<n.length;l++){var c=n[l],u=e[l]===Ei,d=t[l]===Ei,p=u!==d,h=c.mappedProperties.length>0;if(p||d&&h){var f=void 0;p&&h||p?f=c.properties:h&&(f=c.mappedProperties);for(var m=0;m<f.length;m++){for(var g=f[m],v=g.name,y=!1,b=l+1;b<n.length;b++){var w=n[b];if(t[b]===Ei&&(y=null!=w.properties[g.name]))break}s[v]||y||(s[v]=!0,a.push(v))}}}return r[o]=a,a},Si.getContextMeta=function(e){for(var t,n=this,r="",o=e._private.styleCxtKey||"",i=0;i<n.length;i++){var a=n[i];r+=a.selector&&a.selector.matches(e)?Ei:"f"}return t=n.getPropertiesDiff(o,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},Si.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},o=0;o<this.length;o++){var i=this[o];if(t[o]===Ei)for(var a=0;a<i.properties.length;a++){var s=i.properties[a];r[s.name]=s}}return n[t]=r,r},Si.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,o={},i=this.types,a=0;a<r.length;a++){var s=r[a],l=t[s],c=n.pstyle(s);if(!l){if(!c)continue;l=c.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(c!==l){if(l.mapped===i.fn&&null!=c&&null!=c.mapping&&c.mapping.value===l.value){var u=c.mapping;if((u.fnValue=l.value(n))===u.prevFnValue)continue}var d=o[s]={prev:c};this.applyParsedProperty(n,l),d.next=n.pstyle(s),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:o}},Si.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,o=n.propertyGroupKeys,i=function(e,t,r){return n.getPropertiesHash(e,t,r)},a=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,l=e._private.style;r=Object.keys(l);for(var c=0;c<o.length;c++){var u=o[c];t.styleKeys[u]=[se,le]}for(var d,p=function(e,n){return t.styleKeys[n][0]=ue(e,t.styleKeys[n][0])},h=function(e,n){return t.styleKeys[n][1]=de(e,t.styleKeys[n][1])},f=function(e,t){p(e,t),h(e,t)},m=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);p(r,t),h(r,t)}},g=0;g<r.length;g++){var v=r[g],y=l[v];if(null!=y){var b=this.properties[v],w=b.type,x=b.groupKey,_=void 0;null!=b.hashOverride?_=b.hashOverride(e,y):null!=y.pfValue&&(_=y.pfValue);var k=null==b.enums?y.value:null,C=null!=_,S=C||null!=k,E=y.units;w.number&&S&&!w.multiple?(f(-128<(d=C?_:k)&&d<128&&Math.floor(d)!==d?2e9-(1024*d|0):d,x),C||null==E||m(E,x)):m(y.strValue,x)}}for(var P=[se,le],T=0;T<o.length;T++){var A=o[T],M=t.styleKeys[A];P[0]=ue(M[0],P[0]),P[1]=de(M[1],P[1])}t.styleKey=2097152*P[0]+P[1];var N=t.styleKeys;t.labelDimsKey=pe(N.labelDimensions);var O=i(e,["label"],N.labelDimensions);if(t.labelKey=pe(O),t.labelStyleKey=pe(he(N.commonLabel,O)),!s){var I=i(e,["source-label"],N.labelDimensions);t.sourceLabelKey=pe(I),t.sourceLabelStyleKey=pe(he(N.commonLabel,I));var R=i(e,["target-label"],N.labelDimensions);t.targetLabelKey=pe(R),t.targetLabelStyleKey=pe(he(N.commonLabel,R))}if(s){var L=t.styleKeys,j=L.nodeBody,D=L.nodeBorder,$=L.backgroundImage,B=L.compound,V=L.pie,F=[j,D,$,B,V].filter((function(e){return null!=e})).reduce(he,[se,le]);t.nodeKey=pe(F),t.hasPie=null!=V&&V[0]!==se&&V[1]!==le}return a!==t.styleKey},Si.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},Si.applyParsedProperty=function(e,t){var n,r=this,o=t,i=e._private.style,a=r.types,s=r.properties[o.name].type,l=o.bypass,c=i[o.name],u=c&&c.bypass,d=e._private,p="mapping",h=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},f=function(){var t=h(c),n=h(o);r.checkTriggers(e,o.name,t,n)};if(o&&"pie"===o.name.substr(0,3)&&Pe("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(o=t=this.parse(t.name,"bezier",l)),o.delete)return i[o.name]=void 0,f(),!0;if(o.deleteBypassed)return c?!!c.bypass&&(c.bypassed=void 0,f(),!0):(f(),!0);if(o.deleteBypass)return c?!!c.bypass&&(i[o.name]=c.bypassed,f(),!0):(f(),!0);var m=function(){Pe("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case a.mapData:for(var g,v=o.field.split("."),y=d.data,b=0;b<v.length&&y;b++)y=y[v[b]];if(null==y)return m(),!1;if(!O(y))return Pe("Do not use continuous mappers without specifying numeric data (i.e. `"+o.field+": "+y+"` for `"+e.id()+"` is non-numeric)"),!1;var w=o.fieldMax-o.fieldMin;if((g=0===w?0:(y-o.fieldMin)/w)<0?g=0:g>1&&(g=1),s.color){var x=o.valueMin[0],_=o.valueMax[0],k=o.valueMin[1],C=o.valueMax[1],S=o.valueMin[2],E=o.valueMax[2],P=null==o.valueMin[3]?1:o.valueMin[3],T=null==o.valueMax[3]?1:o.valueMax[3],A=[Math.round(x+(_-x)*g),Math.round(k+(C-k)*g),Math.round(S+(E-S)*g),Math.round(P+(T-P)*g)];n={bypass:o.bypass,name:o.name,value:A,strValue:"rgb("+A[0]+", "+A[1]+", "+A[2]+")"}}else{if(!s.number)return!1;var M=o.valueMin+(o.valueMax-o.valueMin)*g;n=this.parse(o.name,M,o.bypass,p)}if(!n)return m(),!1;n.mapping=o,o=n;break;case a.data:for(var N=o.field.split("."),I=d.data,R=0;R<N.length&&I;R++)I=I[N[R]];if(null!=I&&(n=this.parse(o.name,I,o.bypass,p)),!n)return m(),!1;n.mapping=o,o=n;break;case a.fn:var L=o.value,j=null!=o.fnValue?o.fnValue:L(e);if(o.prevFnValue=j,null==j)return Pe("Custom function mappers may not return null (i.e. `"+o.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(o.name,j,o.bypass,p)))return Pe("Custom function mappers may not return invalid values for the property type (i.e. `"+o.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=Te(o),o=n;break;case void 0:break;default:return!1}return l?(o.bypassed=u?c.bypassed:c,i[o.name]=o):u?c.bypassed=o:i[o.name]=o,f(),!0},Si.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var o=r._private.style,i=Object.keys(o),a=0;a<i.length;a++){var s=i[a],l=o[s];null!=l&&(l.bypass?l.bypassed=null:o[s]=null)}else r._private.style={}}},Si.update=function(){this._private.cy.mutableElements().updateStyle()},Si.updateTransitions=function(e,t){var n=this,r=e._private,o=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,a=e.pstyle("transition-delay").pfValue;if(o.length>0&&i>0){for(var s={},l=!1,c=0;c<o.length;c++){var u=o[c],d=e.pstyle(u),p=t[u];if(p){var h=p.prev,f=null!=p.next?p.next:d,m=!1,g=void 0,v=1e-6;h&&(O(h.pfValue)&&O(f.pfValue)?(m=f.pfValue-h.pfValue,g=h.pfValue+v*m):O(h.value)&&O(f.value)?(m=f.value-h.value,g=h.value+v*m):M(h.value)&&M(f.value)&&(m=h.value[0]!==f.value[0]||h.value[1]!==f.value[1]||h.value[2]!==f.value[2],g=h.strValue),m&&(s[u]=f.strValue,this.applyBypass(e,u,g),l=!0))}}if(!l)return;r.transitioning=!0,new er((function(t){a>0?e.delayAnimation(a).play().promise().then(t):t()})).then((function(){return e.animation({style:s,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(e,o),e.emitAndNotify("style"),r.transitioning=!1}))}else r.transitioning&&(this.removeBypasses(e,o),e.emitAndNotify("style"),r.transitioning=!1)},Si.checkTrigger=function(e,t,n,r,o,i){var a=this.properties[t],s=o(a);null!=s&&s(n,r)&&i(a)},Si.checkZOrderTrigger=function(e,t,n,r){var o=this;this.checkTrigger(e,t,n,r,(function(e){return e.triggersZOrder}),(function(){o._private.cy.notify("zorder",e)}))},Si.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,(function(e){return e.triggersBounds}),(function(o){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),!o.triggersBoundsOfParallelBeziers||("curve-style"!==t||"bezier"!==n&&"bezier"!==r)&&("display"!==t||"none"!==n&&"none"!==r)||e.parallelEdges().forEach((function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()}))}))},Si.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var Pi={applyBypass:function(e,t,n,r){var o=[];if("*"===t||"**"===t){if(void 0!==n)for(var i=0;i<this.properties.length;i++){var a=this.properties[i].name,s=this.parse(a,n,!0);s&&o.push(s)}}else if(T(t)){var l=this.parse(t,n,!0);l&&o.push(l)}else{if(!N(t))return!1;var c=t;r=n;for(var u=Object.keys(c),d=0;d<u.length;d++){var p=u[d],h=c[p];if(void 0===h&&(h=c[U(p)]),void 0!==h){var f=this.parse(p,h,!0);f&&o.push(f)}}}if(0===o.length)return!1;for(var m=!1,g=0;g<e.length;g++){for(var v=e[g],y={},b=void 0,w=0;w<o.length;w++){var x=o[w];if(r){var _=v.pstyle(x.name);b=y[x.name]={prev:_}}m=this.applyParsedProperty(v,Te(x))||m,r&&(b.next=v.pstyle(x.name))}m&&this.updateStyleHints(v),r&&this.updateTransitions(v,y,!0)}return m},overrideBypass:function(e,t,n){t=z(t);for(var r=0;r<e.length;r++){var o=e[r],i=o._private.style[t],a=this.properties[t].type,s=a.color,l=a.mutiple,c=i?null!=i.pfValue?i.pfValue:i.value:null;i&&i.bypass?(i.value=n,null!=i.pfValue&&(i.pfValue=n),i.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(o)):this.applyBypass(o,t,n),this.checkTriggers(o,t,c,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var o=e[r],i={},a=0;a<t.length;a++){var s=t[a],l=this.properties[s],c=o.pstyle(l.name);if(c&&c.bypass){var u=this.parse(s,"",!0),d=i[l.name]={prev:c};this.applyParsedProperty(o,u),d.next=o.pstyle(l.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,i,!0)}}},Ti={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(x&&t&&x.getComputedStyle)return x.getComputedStyle(t).getPropertyValue(e)}},Ai={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},o=0;o<n.properties.length;o++){var i=n.properties[o],a=n.getStylePropertyValue(e,i.name,t);null!=a&&(r[i.name]=a,r[U(i.name)]=a)}return r}},getIndexedStyle:function(e,t,n,r){var o=e.pstyle(t)[n][r];return null!=o?o:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var o=r.type,i=e.pstyle(r.name);if(i){var a=i.value,s=i.units,l=i.strValue;if(n&&o.number&&null!=a&&O(a)){var c=e.cy().zoom(),u=function(e){return e*c},d=function(e,t){return u(e)+t},p=M(a);return(p?s.every((function(e){return null!=e})):null!=s)?p?a.map((function(e,t){return d(e,s[t])})).join(" "):d(a,s):p?a.map((function(e){return T(e)?e:""+u(e)})).join(" "):""+u(a)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r].name,i=e.pstyle(o);void 0!==i&&(i=N(i)?this.parse(o,i.strValue):this.parse(o,i)),i&&(n[o]=i)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var o=Object.keys(n),i=0;i<o.length;i++){var a=o[i],s=n[a],l=r[a]||r[z(a)],c=this.parse(l.name,s);c&&t.push(c)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,o,i,a,s,l,c=n.slice();for(s=0;s<t.length;s++)if(r=t[s],null!=(o=e.pstyle(r,!1)))if(null!=o.pfValue)c[0]=ue(a,c[0]),c[1]=de(a,c[1]);else for(i=o.strValue,l=0;l<i.length;l++)a=i.charCodeAt(l),c[0]=ue(a,c[0]),c[1]=de(a,c[1]);return c}};Ai.getPropertiesHash=Ai.getNonDefaultPropertiesHash;var Mi={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],o=r.selector,i=r.style||r.css,a=Object.keys(i);t.selector(o);for(var s=0;s<a.length;s++){var l=a[s],c=i[l];t.css(l,c)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,o=n.properties,i={},a=0;a<o.length;a++){var s=o[a];i[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:i})}return e}},Ni={appendFromString:function(e){var t,n,r,o=this,i=""+e;function a(){i=i.length>t.length?i.substr(t.length):""}function s(){n=n.length>r.length?n.substr(r.length):""}for(i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");!i.match(/^\s*$/);){var l=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){Pe("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}t=l[0];var c=l[1];if("core"!==c&&new Cr(c).invalid)Pe("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),a();else{var u=l[2],d=!1;n=u;for(var p=[];!n.match(/^\s*$/);){var h=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!h){Pe("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),d=!0;break}r=h[0];var f=h[1],m=h[2];this.properties[f]?o.parse(f,m)?(p.push({name:f,val:m}),s()):(Pe("Skipping property: Invalid property definition in: "+r),s()):(Pe("Skipping property: Invalid property name in: "+r),s())}if(d){a();break}o.selector(c);for(var g=0;g<p.length;g++){var v=p[g];o.css(v.name,v.val)}a()}}return o},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},Oi={};!function(){var e=H,t=G,n=Y,r=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(r){var o=e+"|\\w+|"+t+"|"+n+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+o+")\\s*\\,\\s*("+o+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Oi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:r("data")},layoutData:{mapping:!0,regex:r("layoutData")},scratch:{mapping:!0,regex:r("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return T(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var a={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||0==e&&0!=t||0!=e&&0==t},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=B(e),r=B(t);return n&&!r||!n&&r}},s=Oi.types,l=[{name:"label",type:s.text,triggersBounds:a.any,triggersZOrder:a.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any}],c=[{name:"source-label",type:s.text,triggersBounds:a.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"source-text-offset",type:s.size,triggersBounds:a.any}],u=[{name:"target-label",type:s.text,triggersBounds:a.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"target-text-offset",type:s.size,triggersBounds:a.any}],d=[{name:"font-family",type:s.fontFamily,triggersBounds:a.any},{name:"font-style",type:s.fontStyle,triggersBounds:a.any},{name:"font-weight",type:s.fontWeight,triggersBounds:a.any},{name:"font-size",type:s.size,triggersBounds:a.any},{name:"text-transform",type:s.textTransform,triggersBounds:a.any},{name:"text-wrap",type:s.textWrap,triggersBounds:a.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:a.any},{name:"text-max-width",type:s.size,triggersBounds:a.any},{name:"text-outline-width",type:s.size,triggersBounds:a.any},{name:"line-height",type:s.positiveNumber,triggersBounds:a.any}],p=[{name:"text-valign",type:s.valign,triggersBounds:a.any},{name:"text-halign",type:s.halign,triggersBounds:a.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:a.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:a.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:a.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:a.any},{name:"text-justification",type:s.justification}],h=[{name:"events",type:s.bool},{name:"text-events",type:s.bool}],f=[{name:"display",type:s.display,triggersZOrder:a.any,triggersBounds:a.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:s.visibility,triggersZOrder:a.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:a.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:a.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:a.any},{name:"z-index",type:s.nonNegativeInt,triggersZOrder:a.any}],m=[{name:"overlay-padding",type:s.size,triggersBounds:a.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:a.any}],g=[{name:"underlay-padding",type:s.size,triggersBounds:a.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:a.any}],v=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],y=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},b=[{name:"height",type:s.nodeSize,triggersBounds:a.any,hashOverride:y},{name:"width",type:s.nodeSize,triggersBounds:a.any,hashOverride:y},{name:"shape",type:s.nodeShape,triggersBounds:a.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:a.any},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:a.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:a.any}],w=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:a.any},{name:"border-style",type:s.borderStyle}],x=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],_=[{name:"position",type:s.position,triggersBounds:a.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:a.any},{name:"min-width",type:s.size,triggersBounds:a.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-height",type:s.size,triggersBounds:a.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:a.any}],k=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:a.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:a.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:a.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:a.any},{name:"control-point-step-size",type:s.size,triggersBounds:a.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:a.any},{name:"control-point-weights",type:s.numbers,triggersBounds:a.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:a.any},{name:"segment-weights",type:s.numbers,triggersBounds:a.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:a.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:a.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:a.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:a.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:a.any},{name:"loop-direction",type:s.angle,triggersBounds:a.any},{name:"loop-sweep",type:s.angle,triggersBounds:a.any},{name:"source-distance-from-node",type:s.size,triggersBounds:a.any},{name:"target-distance-from-node",type:s.size,triggersBounds:a.any}],C=[{name:"ghost",type:s.bool,triggersBounds:a.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"ghost-opacity",type:s.zeroOneNumber}],S=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],E=[];Oi.pieBackgroundN=16,E.push({name:"pie-size",type:s.sizeMaybePercent});for(var P=1;P<=Oi.pieBackgroundN;P++)E.push({name:"pie-"+P+"-background-color",type:s.color}),E.push({name:"pie-"+P+"-background-size",type:s.percent}),E.push({name:"pie-"+P+"-background-opacity",type:s.zeroOneNumber});var A=[],M=Oi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:a.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill}].forEach((function(e){M.forEach((function(t){var n=t+"-"+e.name,r=e.type,o=e.triggersBounds;A.push({name:n,type:r,triggersBounds:o})}))}),{});var N=Oi.properties=[].concat(h,v,f,m,g,C,p,d,l,c,u,b,w,x,E,_,k,A,S),O=Oi.propertyGroups={behavior:h,transition:v,visibility:f,overlay:m,underlay:g,ghost:C,commonLabel:p,labelDimensions:d,mainLabel:l,sourceLabel:c,targetLabel:u,nodeBody:b,nodeBorder:w,backgroundImage:x,pie:E,compound:_,edgeLine:k,edgeArrow:A,core:S},I=Oi.propertyGroupNames={};(Oi.propertyGroupKeys=Object.keys(O)).forEach((function(e){I[e]=O[e].map((function(e){return e.name})),O[e].forEach((function(t){return t.groupKey=e}))}));var R=Oi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Oi.propertyNames=N.map((function(e){return e.name}));for(var L=0;L<N.length;L++){var j=N[L];N[j.name]=j}for(var D=0;D<R.length;D++){var $=R[D],V=N[$.pointsTo],F={name:$.name,alias:!0,pointsTo:V};N.push(F),N[$.name]=F}}(),Oi.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},Oi.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=Z({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(e,t){for(var n=1;n<=Oi.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),o=t.value;e[r]=o}return e}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(e,t){return Oi.arrowPrefixes.forEach((function(n){var r=n+"-"+t.name,o=t.value;e[r]=o})),e}),{})),n={},r=0;r<this.properties.length;r++){var o=this.properties[r];if(!o.pointsTo){var i=o.name,a=t[i],s=this.parse(i,a);n[i]=s}}return e.defaultProperties=n,e.defaultProperties},Oi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ii={parse:function(e,t,n,r){var o=this;if(A(t))return o.parseImplWarn(e,t,n,r);var i,a=me(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),s=o.propCache=o.propCache||[];return(i=s[a])||(i=s[a]=o.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(i=Te(i))&&(i.value=Te(i.value)),i},parseImplWarn:function(e,t,n,r){var o=this.parseImpl(e,t,n,r);return o||null==t||Pe("The style property `".concat(e,": ").concat(t,"` is invalid")),!o||"width"!==o.name&&"height"!==o.name||"label"!==t||Pe("The style value of `label` is deprecated for `"+o.name+"`"),o}};Ii.parseImpl=function(e,t,n,r){var o=this;e=z(e);var i=o.properties[e],a=t,s=o.types;if(!i)return null;if(void 0===t)return null;i.alias&&(i=i.pointsTo,e=i.name);var l=T(t);l&&(t=t.trim());var c,u,d=i.type;if(!d)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(A(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:n};if(!l||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(c=new RegExp(s.data.regex).exec(t))){if(n)return!1;var p=s.data;return{name:e,value:c,strValue:""+t,mapped:p,field:c[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(u=new RegExp(s.mapData.regex).exec(t))){if(n)return!1;if(d.multiple)return!1;var h=s.mapData;if(!d.color&&!d.number)return!1;var f=this.parse(e,u[4]);if(!f||f.mapped)return!1;var m=this.parse(e,u[5]);if(!m||m.mapped)return!1;if(f.pfValue===m.pfValue||f.strValue===m.strValue)return Pe("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+f.strValue+"`"),this.parse(e,f.strValue);if(d.color){var g=f.value,v=m.value;if(!(g[0]!==v[0]||g[1]!==v[1]||g[2]!==v[2]||g[3]!==v[3]&&(null!=g[3]&&1!==g[3]||null!=v[3]&&1!==v[3])))return!1}return{name:e,value:u,strValue:""+t,mapped:h,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:m.value,bypass:n}}}if(d.multiple&&"multiple"!==r){var y;if(y=l?t.split(/\s+/):M(t)?t:[t],d.evenMultiple&&y.length%2!=0)return null;for(var b=[],w=[],x=[],_="",k=!1,C=0;C<y.length;C++){var S=o.parse(e,y[C],n,"multiple");k=k||T(S.value),b.push(S.value),x.push(null!=S.pfValue?S.pfValue:S.value),w.push(S.units),_+=(C>0?" ":"")+S.strValue}return d.validate&&!d.validate(b,w)?null:d.singleEnum&&k?1===b.length&&T(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:x,strValue:_,bypass:n,units:w}}var E,P,N,I=function(){for(var r=0;r<d.enums.length;r++)if(d.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n};return null};if(d.number){var R,L="px";if(d.units&&(R=d.units),d.implicitUnits&&(L=d.implicitUnits),!d.unitless)if(l){var j="px|em"+(d.allowPercent?"|\\%":"");R&&(j=R);var D=t.match("^("+H+")("+j+")?$");D&&(t=D[1],R=D[2]||L)}else R&&!d.implicitUnits||(R=L);if(t=parseFloat(t),isNaN(t)&&void 0===d.enums)return null;if(isNaN(t)&&void 0!==d.enums)return t=a,I();if(d.integer&&(!O(P=t)||Math.floor(P)!==P))return null;if(void 0!==d.min&&(t<d.min||d.strictMin&&t===d.min)||void 0!==d.max&&(t>d.max||d.strictMax&&t===d.max))return null;var $={name:e,value:t,strValue:""+t+(R||""),units:R,bypass:n};return d.unitless||"px"!==R&&"em"!==R?$.pfValue=t:$.pfValue="px"!==R&&R?this.getEmSizeInPixels()*t:t,"ms"!==R&&"s"!==R||($.pfValue="ms"===R?t:1e3*t),"deg"!==R&&"rad"!==R||($.pfValue="rad"===R?t:(E=t,Math.PI*E/180)),"%"===R&&($.pfValue=t/100),$}if(d.propList){var B=[],V=""+t;if("none"===V);else{for(var F=V.split(/\s*,\s*|\s+/),U=0;U<F.length;U++){var W=F[U].trim();o.properties[W]?B.push(W):Pe("`"+W+"` is not a valid property name")}if(0===B.length)return null}return{name:e,value:B,strValue:0===B.length?"none":B.join(" "),bypass:n}}if(d.color){var K=(M(N=t)?N:null)||function(e){return Q[e.toLowerCase()]}(N)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,o=16;return 4===e.length?(t=parseInt(e[1]+e[1],o),n=parseInt(e[2]+e[2],o),r=parseInt(e[3]+e[3],o)):(t=parseInt(e[1]+e[2],o),n=parseInt(e[3]+e[4],o),r=parseInt(e[5]+e[6],o)),[t,n,r]}}(N)||function(e){var t,n=new RegExp("^"+q+"$").exec(e);if(n){t=[];for(var r=[],o=1;o<=3;o++){var i=n[o];if("%"===i[i.length-1]&&(r[o]=!0),i=parseFloat(i),r[o]&&(i=i/100*255),i<0||i>255)return;t.push(Math.floor(i))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t}(N)||function(e){var t,n,r,o,i,a,s,l;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var u=new RegExp("^"+X+"$").exec(e);if(u){if((n=parseInt(u[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(u[2]))<0||r>100)return;if(r/=100,(o=parseFloat(u[3]))<0||o>100)return;if(o/=100,void 0!==(i=u[4])&&((i=parseFloat(i))<0||i>1))return;if(0===r)a=s=l=Math.round(255*o);else{var d=o<.5?o*(1+r):o+r-o*r,p=2*o-d;a=Math.round(255*c(p,d,n+1/3)),s=Math.round(255*c(p,d,n)),l=Math.round(255*c(p,d,n-1/3))}t=[a,s,l,i]}return t}(N);return K?{name:e,value:K,pfValue:K,strValue:"rgb("+K[0]+","+K[1]+","+K[2]+")",bypass:n}:null}if(d.regex||d.regexes){if(d.enums){var G=I();if(G)return G}for(var Y=d.regexes?d.regexes:[d.regex],J=0;J<Y.length;J++){var Z=new RegExp(Y[J]).exec(t);if(Z)return{name:e,value:d.singleRegexMatchValue?Z[1]:Z,strValue:""+t,bypass:n}}return null}return d.string?{name:e,value:""+t,strValue:""+t,bypass:n}:d.enums?I():null};var Ri=function e(t){if(!(this instanceof e))return new e(t);D(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):Se("A style must have a core reference")},Li=Ri.prototype;Li.instanceString=function(){return"style"},Li.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach((function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1})),this},Li.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Li.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},Li.selector=function(e){var t="core"===e?null:new Cr(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},Li.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],o=t[r.name];void 0===o&&(o=t[U(r.name)]),void 0!==o&&this.cssRule(r.name,o)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},Li.style=Li.css,Li.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},Li.append=function(e){return $(e)?e.appendToStyle(this):M(e)?this.appendFromJson(e):T(e)&&this.appendFromString(e),this},Ri.fromJson=function(e,t){var n=new Ri(e);return n.fromJson(t),n},Ri.fromString=function(e,t){return new Ri(e).fromString(t)},[Si,Pi,Ti,Ai,Mi,Ni,Oi,Ii].forEach((function(e){Z(Li,e)})),Ri.types=Li.types,Ri.properties=Li.properties,Ri.propertyGroups=Li.propertyGroups,Ri.propertyGroupNames=Li.propertyGroupNames,Ri.propertyGroupKeys=Li.propertyGroupKeys;var ji={style:function(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function(e){var t=this._private;return $(e)?t.style=e.generateStyle(this):M(e)?t.style=Ri.fromJson(this,e):T(e)?t.style=Ri.fromString(this,e):t.style=Ri(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},Di={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,o,i=arguments,a=this._private.pan;switch(i.length){case 0:return a;case 1:if(T(i[0]))return a[e=i[0]];if(N(i[0])){if(!this._private.panningEnabled)return this;r=(n=i[0]).x,o=n.y,O(r)&&(a.x=r),O(o)&&(a.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=i[1],"x"!==(e=i[0])&&"y"!==e||!O(t)||(a[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,o,i,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:N(e)&&(i=(o=s[0]).x,a=o.y,O(i)&&(l.x+=i),O(a)&&(l.y+=a),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!O(r)||(l[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(O(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(T(e)){var o=e;e=this.$(o)}else if(N(r=e)&&O(r.x1)&&O(r.x2)&&O(r.y1)&&O(r.y2)){var i=e;(n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else R(e)||(e=this.mutableElements());if(!R(e)||!e.empty()){n=n||e.boundingBox();var a,s=this.width(),l=this.height();if(t=O(t)?t:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:a=(a=(a=Math.min((s-2*t)/n.w,(l-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(s-a*(n.x1+n.x2))/2,y:(l-a*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return O(e)&&O(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):O(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:O(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,o=r.pan,i=r.zoom,a=!1;if(r.zoomingEnabled||(a=!0),O(e)?n=e:N(e)&&(n=e.level,null!=e.position?t=nt(e.position,i,o):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(a=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,a||!O(n)||n===i||null!=t&&(!O(t.x)||!O(t.y)))return null;if(null!=t){var s=o,l=i,c=n;return{zoomed:!0,panned:!0,zoom:c,pan:{x:-c/l*(t.x-s.x)+t.x,y:-c/l*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:o}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,o=[],i=!1,a=!1;if(!e)return this;if(O(e.zoom)||(n=!1),N(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?i=!0:(t.zoom=s,o.push("zoom"))}if(r&&(!i||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;O(l.x)&&(t.pan.x=l.x,a=!1),O(l.y)&&(t.pan.y=l.y,a=!1),a||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(T(e)){var n=e;e=this.mutableElements().filter(n)}else R(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),o=this.width(),i=this.height();return{x:(o-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(i-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,r=n.container;return n.sizeCache=n.sizeCache||(r?(e=x.getComputedStyle(r),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:r.clientWidth-t("padding-left")-t("padding-right"),height:r.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};Di.centre=Di.center,Di.autolockNodes=Di.autolock,Di.autoungrabifyNodes=Di.autoungrabify;var $i={data:ar.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ar.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ar.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ar.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};$i.attr=$i.data,$i.removeAttr=$i.removeData;var Bi=function(e){var t=this,n=(e=Z({},e)).container;n&&!I(n)&&I(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var o=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var i=void 0!==x&&void 0!==n&&!e.headless,a=e;a.layout=Z({name:i?"grid":"null"},a.layout),a.renderer=Z({name:i?"canvas":"null"},a.renderer);var s=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:n,ready:!1,options:a,elements:new ti(this),listeners:[],aniEles:new ti(this),data:a.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,a.zoomingEnabled),userZoomingEnabled:s(!0,a.userZoomingEnabled),panningEnabled:s(!0,a.panningEnabled),userPanningEnabled:s(!0,a.userPanningEnabled),boxSelectionEnabled:s(!0,a.boxSelectionEnabled),autolock:s(!1,a.autolock,a.autolockNodes),autoungrabify:s(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:s(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?i:a.styleEnabled,zoom:O(a.zoom)?a.zoom:1,pan:{x:N(a.pan)&&O(a.pan.x)?a.pan.x:0,y:N(a.pan)&&O(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,a.multiClickDebounceTime)};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom}),l.styleEnabled&&t.setStyle([]);var c=Z({},a,a.renderer);t.initRenderer(c),function(e,t){if(e.some(V))return er.all(e).then(t);t(e)}([a.style,a.elements],(function(e){var n=e[0],i=e[1];l.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var o=t.mutableElements();o.length>0&&o.remove(),null!=e&&(N(e)||M(e))&&t.add(e),t.one("layoutready",(function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")})).one("layoutstop",(function(){t.one("done",r),t.emit("done")}));var i=Z({},t._private.options.layout);i.eles=t.elements(),t.layout(i).run()}(i,(function(){t.startAnimationLoop(),l.ready=!0,A(a.ready)&&t.on("ready",a.ready);for(var e=0;e<o.length;e++){var n=o[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")}),a.done)}))},Vi=Bi.prototype;Z(Vi,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!I(e)&&I(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Z({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Te(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(N(e)){if(t.startBatch(),e.elements){var o={},i=function(e,n){for(var r=[],i=[],a=0;a<e.length;a++){var s=e[a];if(s.data.id){var l=""+s.data.id,c=t.getElementById(l);o[l]=!0,0!==c.length?i.push({ele:c,json:s}):n?(s.group=n,r.push(s)):r.push(s)}else Pe("cy.json() cannot handle elements without an ID attribute")}t.add(r);for(var u=0;u<i.length;u++){var d=i[u],p=d.ele,h=d.json;p.json(h)}};if(M(e.elements))i(e.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var l=a[s],c=e.elements[l];M(c)&&i(c,l)}var u=t.collection();r.filter((function(e){return!o[e.id()]})).forEach((function(e){e.isParent()?u.merge(e):e.remove()})),u.forEach((function(e){return e.children().move({parent:null})})),u.forEach((function(e){return function(e){return t.getElementById(e.id())}(e).remove()}))}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<d.length;p++){var h=d[p];null!=e[h]&&t[h](e[h])}return t.endBatch(),this}var f={};e?f.elements=this.elements().map((function(e){return e.json()})):(f.elements={},r.forEach((function(e){var t=e.group();f.elements[t]||(f.elements[t]=[]),f.elements[t].push(e.json())}))),this._private.styleEnabled&&(f.style=t.style().json()),f.data=Te(t.data());var m=n.options;return f.zoomingEnabled=n.zoomingEnabled,f.userZoomingEnabled=n.userZoomingEnabled,f.zoom=n.zoom,f.minZoom=n.minZoom,f.maxZoom=n.maxZoom,f.panningEnabled=n.panningEnabled,f.userPanningEnabled=n.userPanningEnabled,f.pan=Te(n.pan),f.boxSelectionEnabled=n.boxSelectionEnabled,f.renderer=Te(m.renderer),f.hideEdgesOnViewport=m.hideEdgesOnViewport,f.textureOnViewport=m.textureOnViewport,f.wheelSensitivity=m.wheelSensitivity,f.motionBlur=m.motionBlur,f.multiClickDebounceTime=m.multiClickDebounceTime,f}}),Vi.$id=Vi.getElementById,[ri,mi,yi,bi,wi,xi,ki,Ci,ji,Di,$i].forEach((function(e){Z(Vi,e)}));var Fi={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},zi={maximal:!1,acyclic:!1},Ui=function(e){return e.scratch("breadthfirst")},Wi=function(e,t){return e.scratch("breadthfirst",t)};function Ki(e){this.options=Z({},Fi,zi,e)}Ki.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,o=n.eles,i=o.nodes().filter((function(e){return!e.isParent()})),a=o,s=n.directed,l=n.acyclic||n.maximal||n.maximalAdjustments>0,c=ft(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(R(n.roots))e=n.roots;else if(M(n.roots)){for(var u=[],d=0;d<n.roots.length;d++){var p=n.roots[d],h=r.getElementById(p);u.push(h)}e=r.collection(u)}else if(T(n.roots))e=r.$(n.roots);else if(s)e=i.roots();else{var f=o.components();e=r.collection();for(var m=function(t){var n=f[t],r=n.maxDegree(!1),o=n.filter((function(e){return e.degree(!1)===r}));e=e.add(o)},g=0;g<f.length;g++)m(g)}var v=[],y={},b=function(e,t){null==v[t]&&(v[t]=[]);var n=v[t].length;v[t].push(e),Wi(e,{index:n,depth:t})};a.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,o){var i=e[0],a=i.id();b(i,o),y[a]=!0}});for(var w=[],x=0;x<i.length;x++){var _=i[x];y[_.id()]||w.push(_)}var k=function(e){for(var t=v[e],n=0;n<t.length;n++){var r=t[n];null!=r?Wi(r,{depth:e,index:n}):(t.splice(n,1),n--)}},C=function(){for(var e=0;e<v.length;e++)k(e)},S=function(e,t){for(var r=Ui(e),i=e.incomers().filter((function(e){return e.isNode()&&o.has(e)})),a=-1,s=e.id(),l=0;l<i.length;l++){var c=i[l],u=Ui(c);a=Math.max(a,u.depth)}if(r.depth<=a){if(!n.acyclic&&t[s])return null;var d=a+1;return function(e,t){var n=Ui(e),r=n.depth,o=n.index;v[r][o]=null,b(e,t)}(e,d),t[s]=d,!0}return!1};if(s&&l){var E=[],P={},A=function(e){return E.push(e)};for(i.forEach((function(e){return E.push(e)}));E.length>0;){var N=E.shift(),O=S(N,P);if(O)N.outgoers().filter((function(e){return e.isNode()&&o.has(e)})).forEach(A);else if(null===O){Pe("Detected double maximal shift for node `"+N.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var I=0;if(n.avoidOverlap)for(var L=0;L<i.length;L++){var j=i[L].layoutDimensions(n),D=j.w,$=j.h;I=Math.max(I,D,$)}var B={},V=function(e){if(B[e.id()])return B[e.id()];for(var t=Ui(e).depth,n=e.neighborhood(),r=0,o=0,a=0;a<n.length;a++){var s=n[a];if(!s.isEdge()&&!s.isParent()&&i.has(s)){var l=Ui(s);if(null!=l){var c=l.index,u=l.depth;if(null!=c&&null!=u){var d=v[u].length;u<t&&(r+=c/d,o++)}}}}return r/=o=Math.max(1,o),0===o&&(r=0),B[e.id()]=r,r},F=function(e,t){var n=V(e)-V(t);return 0===n?J(e.id(),t.id()):n};void 0!==n.depthSort&&(F=n.depthSort);for(var z=0;z<v.length;z++)v[z].sort(F),k(z);for(var U=[],W=0;W<w.length;W++)U.push(w[W]);v.unshift(U),C();for(var K=0,H=0;H<v.length;H++)K=Math.max(v[H].length,K);var q=c.x1+c.w/2,G=c.x1+c.h/2,X=v.reduce((function(e,t){return Math.max(e,t.length)}),0);return o.nodes().layoutPositions(this,n,(function(e){var t=Ui(e),r=t.depth,o=t.index,i=v[r].length,a=Math.max(c.w/((n.grid?X:i)+1),I),s=Math.max(c.h/(v.length+1),I),l=Math.min(c.w/2/v.length,c.h/2/v.length);if(l=Math.max(l,I),n.circle){var u=l*r+l-(v.length>0&&v[0].length<=3?l/2:0),d=2*Math.PI/v[r].length*o;return 0===r&&1===v[0].length&&(u=1),{x:q+u*Math.cos(d),y:G+u*Math.sin(d)}}return{x:q+(o+1-(i+1)/2)*a,y:(r+1)*s}})),this};var Hi={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function qi(e){this.options=Z({},Hi,e)}qi.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,o=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var a,s=ft(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=s.x1+s.w/2,c=s.y1+s.h/2,u=(void 0===t.sweep?2*Math.PI-2*Math.PI/i.length:t.sweep)/Math.max(1,i.length-1),d=0,p=0;p<i.length;p++){var h=i[p].layoutDimensions(t),f=h.w,m=h.h;d=Math.max(d,f,m)}if(a=O(t.radius)?t.radius:i.length<=1?0:Math.min(s.h,s.w)/2-d,i.length>1&&t.avoidOverlap){d*=1.75;var g=Math.cos(u)-Math.cos(0),v=Math.sin(u)-Math.sin(0),y=Math.sqrt(d*d/(g*g+v*v));a=Math.max(y,a)}return r.nodes().layoutPositions(this,t,(function(e,n){var r=t.startAngle+n*u*(o?1:-1),i=a*Math.cos(r),s=a*Math.sin(r);return{x:l+i,y:c+s}})),this};var Gi,Xi={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Yi(e){this.options=Z({},Xi,e)}Yi.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,o=t.eles,i=o.nodes().not(":parent"),a=ft(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s=a.x1+a.w/2,l=a.y1+a.h/2,c=[],u=0,d=0;d<i.length;d++){var p,h=i[d];p=t.concentric(h),c.push({value:p,node:h}),h._private.scratch.concentric=p}i.updateStyle();for(var f=0;f<i.length;f++){var m=i[f].layoutDimensions(t);u=Math.max(u,m.w,m.h)}c.sort((function(e,t){return t.value-e.value}));for(var g=t.levelWidth(i),v=[[]],y=v[0],b=0;b<c.length;b++){var w=c[b];y.length>0&&Math.abs(y[0].value-w.value)>=g&&(y=[],v.push(y)),y.push(w)}var x=u+t.minNodeSpacing;if(!t.avoidOverlap){var _=v.length>0&&v[0].length>1,k=(Math.min(a.w,a.h)/2-x)/(v.length+_?1:0);x=Math.min(x,k)}for(var C=0,S=0;S<v.length;S++){var E=v[S],P=void 0===t.sweep?2*Math.PI-2*Math.PI/E.length:t.sweep,T=E.dTheta=P/Math.max(1,E.length-1);if(E.length>1&&t.avoidOverlap){var A=Math.cos(T)-Math.cos(0),M=Math.sin(T)-Math.sin(0),N=Math.sqrt(x*x/(A*A+M*M));C=Math.max(N,C)}E.r=C,C+=x}if(t.equidistant){for(var O=0,I=0,R=0;R<v.length;R++){var L=v[R].r-I;O=Math.max(O,L)}I=0;for(var j=0;j<v.length;j++){var D=v[j];0===j&&(I=D.r),D.r=I,I+=O}}for(var $={},B=0;B<v.length;B++)for(var V=v[B],F=V.dTheta,z=V.r,U=0;U<V.length;U++){var W=V[U],K=t.startAngle+(n?1:-1)*F*U,H={x:s+z*Math.cos(K),y:l+z*Math.sin(K)};$[W.node.id()]=H}return o.nodes().layoutPositions(this,t,(function(e){var t=e.id();return $[t]})),this};var Ji={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Zi(e){this.options=Z({},Ji,e),this.options.layout=this}Zi.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),Gi=!0===e.debug;var r=Qi(t,n,e);Gi&&(void 0)(r),e.randomize&&na(r);var o=ae(),i=function(){oa(r,t,e),!0===e.fit&&t.fit(e.padding)},a=function(t){return!(n.stopped||t>=e.numIter||(ia(r,e),r.temperature=r.temperature*e.coolingFactor,r.temperature<e.minTemp))},s=function(){if(!0===e.animate||!1===e.animate)i(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),o=ra(r,e,t);t.layoutPositions(n,e,o)}},l=0,c=!0;if(!0===e.animate)!function t(){for(var n=0;c&&n<e.refresh;)c=a(l),l++,n++;c?(ae()-o>=e.animationThreshold&&i(),ie(t)):(va(r,e),s())}();else{for(;c;)c=a(l),l++;va(r,e),s()}return this},Zi.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Zi.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Qi=function(e,t,n){for(var r=n.eles.edges(),o=n.eles.nodes(),i=ft(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:i.w,clientHeight:i.h,boundingBox:i},s=n.eles.components(),l={},c=0;c<s.length;c++)for(var u=s[c],d=0;d<u.length;d++)l[u[d].id()]=c;for(c=0;c<a.nodeSize;c++){var p=(v=o[c]).layoutDimensions(n);(R={}).isLocked=v.locked(),R.id=v.data("id"),R.parentId=v.data("parent"),R.cmptId=l[v.id()],R.children=[],R.positionX=v.position("x"),R.positionY=v.position("y"),R.offsetX=0,R.offsetY=0,R.height=p.w,R.width=p.h,R.maxX=R.positionX+R.width/2,R.minX=R.positionX-R.width/2,R.maxY=R.positionY+R.height/2,R.minY=R.positionY-R.height/2,R.padLeft=parseFloat(v.style("padding")),R.padRight=parseFloat(v.style("padding")),R.padTop=parseFloat(v.style("padding")),R.padBottom=parseFloat(v.style("padding")),R.nodeRepulsion=A(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,a.layoutNodes.push(R),a.idToIndex[R.id]=c}var h=[],f=0,m=-1,g=[];for(c=0;c<a.nodeSize;c++){var v,y=(v=a.layoutNodes[c]).parentId;null!=y?a.layoutNodes[a.idToIndex[y]].children.push(v.id):(h[++m]=v.id,g.push(v.id))}for(a.graphSet.push(g);f<=m;){var b=h[f++],w=a.idToIndex[b],x=a.layoutNodes[w].children;if(x.length>0)for(a.graphSet.push(x),c=0;c<x.length;c++)h[++m]=x[c]}for(c=0;c<a.graphSet.length;c++){var _=a.graphSet[c];for(d=0;d<_.length;d++){var k=a.idToIndex[_[d]];a.indexToGraph[k]=c}}for(c=0;c<a.edgeSize;c++){var C=r[c],S={};S.id=C.data("id"),S.sourceId=C.data("source"),S.targetId=C.data("target");var E=A(n.idealEdgeLength)?n.idealEdgeLength(C):n.idealEdgeLength,P=A(n.edgeElasticity)?n.edgeElasticity(C):n.edgeElasticity,T=a.idToIndex[S.sourceId],M=a.idToIndex[S.targetId];if(a.indexToGraph[T]!=a.indexToGraph[M]){for(var N=ea(S.sourceId,S.targetId,a),O=a.graphSet[N],I=0,R=a.layoutNodes[T];-1===O.indexOf(R.id);)R=a.layoutNodes[a.idToIndex[R.parentId]],I++;for(R=a.layoutNodes[M];-1===O.indexOf(R.id);)R=a.layoutNodes[a.idToIndex[R.parentId]],I++;E*=I*n.nestingFactor}S.idealLength=E,S.elasticity=P,a.layoutEdges.push(S)}return a},ea=function(e,t,n){var r=ta(e,t,0,n);return 2>r.count?0:r.graph},ta=function e(t,n,r,o){var i=o.graphSet[r];if(-1<i.indexOf(t)&&-1<i.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<i.length;s++){var l=i[s],c=o.idToIndex[l],u=o.layoutNodes[c].children;if(0!==u.length){var d=e(t,n,o.indexToGraph[o.idToIndex[u[0]]],o);if(0!==d.count){if(1!==d.count)return d;if(2==++a)break}}}return{count:a,graph:r}},na=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,o=0;o<e.nodeSize;o++){var i=e.layoutNodes[o];0!==i.children.length||i.isLocked||(i.positionX=Math.random()*n,i.positionY=Math.random()*r)}},ra=function(e,t,n){var r=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach((function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,n.positionX),o.x2=Math.max(o.x2,n.positionX),o.y1=Math.min(o.y1,n.positionY),o.y2=Math.max(o.y2,n.positionY)})),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(n,i){var a=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var s=(a.positionX-o.x1)/o.w,l=(a.positionY-o.y1)/o.h;return{x:r.x1+s*r.w,y:r.y1+l*r.h}}return{x:a.positionX,y:a.positionY}}},oa=function(e,t,n){var r=n.layout,o=n.eles.nodes(),i=ra(e,n,o);o.positions(i),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},ia=function(e,t,n){aa(e,t),da(e),pa(e,t),ha(e),fa(e)},aa=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],o=r.length,i=0;i<o;i++)for(var a=e.layoutNodes[e.idToIndex[r[i]]],s=i+1;s<o;s++){var l=e.layoutNodes[e.idToIndex[r[s]]];la(a,l,e,t)}},sa=function(e){return-e+2*e*Math.random()},la=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var o=t.positionX-e.positionX,i=t.positionY-e.positionY;0===o&&0===i&&(o=sa(1),i=sa(1));var a=ca(e,t,o,i);if(a>0)var s=(c=r.nodeOverlap*a)*o/(m=Math.sqrt(o*o+i*i)),l=c*i/m;else{var c,u=ua(e,o,i),d=ua(t,-1*o,-1*i),p=d.x-u.x,h=d.y-u.y,f=p*p+h*h,m=Math.sqrt(f);s=(c=(e.nodeRepulsion+t.nodeRepulsion)/f)*p/m,l=c*h/m}e.isLocked||(e.offsetX-=s,e.offsetY-=l),t.isLocked||(t.offsetX+=s,t.offsetY+=l)}},ca=function(e,t,n,r){if(n>0)var o=e.maxX-t.minX;else o=t.maxX-e.minX;if(r>0)var i=e.maxY-t.minY;else i=t.maxY-e.minY;return o>=0&&i>=0?Math.sqrt(o*o+i*i):0},ua=function(e,t,n){var r=e.positionX,o=e.positionY,i=e.height||1,a=e.width||1,s=n/t,l=i/a,c={};return 0===t&&0<n||0===t&&0>n?(c.x=r,c.y=o+i/2,c):0<t&&-1*l<=s&&s<=l?(c.x=r+a/2,c.y=o+a*n/2/t,c):0>t&&-1*l<=s&&s<=l?(c.x=r-a/2,c.y=o-a*n/2/t,c):0<n&&(s<=-1*l||s>=l)?(c.x=r+i*t/2/n,c.y=o+i/2,c):0>n&&(s<=-1*l||s>=l)?(c.x=r-i*t/2/n,c.y=o-i/2,c):c},da=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],o=e.idToIndex[r.sourceId],i=e.layoutNodes[o],a=e.idToIndex[r.targetId],s=e.layoutNodes[a],l=s.positionX-i.positionX,c=s.positionY-i.positionY;if(0!==l||0!==c){var u=ua(i,l,c),d=ua(s,-1*l,-1*c),p=d.x-u.x,h=d.y-u.y,f=Math.sqrt(p*p+h*h),m=Math.pow(r.idealLength-f,2)/r.elasticity;if(0!==f)var g=m*p/f,v=m*h/f;else g=0,v=0;i.isLocked||(i.offsetX+=g,i.offsetY+=v),s.isLocked||(s.offsetX-=g,s.offsetY-=v)}}},pa=function(e,t){if(0!==t.gravity)for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],o=r.length;if(0===n)var i=e.clientHeight/2,a=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]];i=l.positionX,a=l.positionY}for(var c=0;c<o;c++){var u=e.layoutNodes[e.idToIndex[r[c]]];if(!u.isLocked){var d=i-u.positionX,p=a-u.positionY,h=Math.sqrt(d*d+p*p);if(h>1){var f=t.gravity*d/h,m=t.gravity*p/h;u.offsetX+=f,u.offsetY+=m}}}}},ha=function(e,t){var n=[],r=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;r<=o;){var i=n[r++],a=e.idToIndex[i],s=e.layoutNodes[a],l=s.children;if(0<l.length&&!s.isLocked){for(var c=s.offsetX,u=s.offsetY,d=0;d<l.length;d++){var p=e.layoutNodes[e.idToIndex[l[d]]];p.offsetX+=c,p.offsetY+=u,n[++o]=l[d]}s.offsetX=0,s.offsetY=0}}},fa=function(e,t){for(var n=0;n<e.nodeSize;n++)0<(o=e.layoutNodes[n]).children.length&&(o.maxX=void 0,o.minX=void 0,o.maxY=void 0,o.minY=void 0);for(n=0;n<e.nodeSize;n++)if(!(0<(o=e.layoutNodes[n]).children.length||o.isLocked)){var r=ma(o.offsetX,o.offsetY,e.temperature);o.positionX+=r.x,o.positionY+=r.y,o.offsetX=0,o.offsetY=0,o.minX=o.positionX-o.width,o.maxX=o.positionX+o.width,o.minY=o.positionY-o.height,o.maxY=o.positionY+o.height,ga(o,e)}for(n=0;n<e.nodeSize;n++){var o;0<(o=e.layoutNodes[n]).children.length&&!o.isLocked&&(o.positionX=(o.maxX+o.minX)/2,o.positionY=(o.maxY+o.minY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY)}},ma=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var o={x:n*e/r,y:n*t/r};else o={x:e,y:t};return o},ga=function e(t,n){var r=t.parentId;if(null!=r){var o=n.layoutNodes[n.idToIndex[r]],i=!1;return(null==o.maxX||t.maxX+o.padRight>o.maxX)&&(o.maxX=t.maxX+o.padRight,i=!0),(null==o.minX||t.minX-o.padLeft<o.minX)&&(o.minX=t.minX-o.padLeft,i=!0),(null==o.maxY||t.maxY+o.padBottom>o.maxY)&&(o.maxY=t.maxY+o.padBottom,i=!0),(null==o.minY||t.minY-o.padTop<o.minY)&&(o.minY=t.minY-o.padTop,i=!0),i?e(o,n):void 0}},va=function(e,t){for(var n=e.layoutNodes,r=[],o=0;o<n.length;o++){var i=n[o],a=i.cmptId;(r[a]=r[a]||[]).push(i)}var s=0;for(o=0;o<r.length;o++)if(m=r[o]){m.x1=1/0,m.x2=-1/0,m.y1=1/0,m.y2=-1/0;for(var l=0;l<m.length;l++){var c=m[l];m.x1=Math.min(m.x1,c.positionX-c.width/2),m.x2=Math.max(m.x2,c.positionX+c.width/2),m.y1=Math.min(m.y1,c.positionY-c.height/2),m.y2=Math.max(m.y2,c.positionY+c.height/2)}m.w=m.x2-m.x1,m.h=m.y2-m.y1,s+=m.w*m.h}r.sort((function(e,t){return t.w*t.h-e.w*e.h}));var u=0,d=0,p=0,h=0,f=Math.sqrt(s)*e.clientWidth/e.clientHeight;for(o=0;o<r.length;o++){var m;if(m=r[o]){for(l=0;l<m.length;l++)(c=m[l]).isLocked||(c.positionX+=u-m.x1,c.positionY+=d-m.y1);u+=m.w+t.componentSpacing,p+=m.w+t.componentSpacing,h=Math.max(h,m.h),p>f&&(d+=h+t.componentSpacing,u=0,p=0,h=0)}}},ya={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function ba(e){this.options=Z({},ya,e)}ba.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,o=r.nodes().not(":parent");t.sort&&(o=o.sort(t.sort));var i=ft(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===i.h||0===i.w)r.nodes().layoutPositions(this,t,(function(e){return{x:i.x1,y:i.y1}}));else{var a=o.size(),s=Math.sqrt(a*i.h/i.w),l=Math.round(s),c=Math.round(i.w/i.h*s),u=function(e){if(null==e)return Math.min(l,c);Math.min(l,c)==l?l=e:c=e},d=function(e){if(null==e)return Math.max(l,c);Math.max(l,c)==l?l=e:c=e},p=t.rows,h=null!=t.cols?t.cols:t.columns;if(null!=p&&null!=h)l=p,c=h;else if(null!=p&&null==h)l=p,c=Math.ceil(a/l);else if(null==p&&null!=h)c=h,l=Math.ceil(a/c);else if(c*l>a){var f=u(),m=d();(f-1)*m>=a?u(f-1):(m-1)*f>=a&&d(m-1)}else for(;c*l<a;){var g=u(),v=d();(v+1)*g>=a?d(v+1):u(g+1)}var y=i.w/c,b=i.h/l;if(t.condense&&(y=0,b=0),t.avoidOverlap)for(var w=0;w<o.length;w++){var x=o[w],_=x._private.position;null!=_.x&&null!=_.y||(_.x=0,_.y=0);var k=x.layoutDimensions(t),C=t.avoidOverlapPadding,S=k.w+C,E=k.h+C;y=Math.max(y,S),b=Math.max(b,E)}for(var P={},T=function(e,t){return!!P["c-"+e+"-"+t]},A=function(e,t){P["c-"+e+"-"+t]=!0},M=0,N=0,O=function(){++N>=c&&(N=0,M++)},I={},R=0;R<o.length;R++){var L=o[R],j=t.position(L);if(j&&(void 0!==j.row||void 0!==j.col)){var D={row:j.row,col:j.col};if(void 0===D.col)for(D.col=0;T(D.row,D.col);)D.col++;else if(void 0===D.row)for(D.row=0;T(D.row,D.col);)D.row++;I[L.id()]=D,A(D.row,D.col)}}o.layoutPositions(this,t,(function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var o=I[e.id()];if(o)n=o.col*y+y/2+i.x1,r=o.row*b+b/2+i.y1;else{for(;T(M,N);)O();n=N*y+y/2+i.x1,r=M*b+b/2+i.y1,A(M,N),O()}return{x:n,y:r}}))}return this};var wa={ready:function(){},stop:function(){}};function xa(e){this.options=Z({},wa,e)}xa.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions((function(){return{x:0,y:0}})),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},xa.prototype.stop=function(){return this};var _a={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function ka(e){this.options=Z({},_a,e)}ka.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=A(e.positions);return t.layoutPositions(this,e,(function(t,r){var o=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=o&&o})),this};var Ca={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Sa(e){this.options=Z({},Ca,e)}Sa.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=ft(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,(function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}})),this};var Ea=[{name:"breadthfirst",impl:Ki},{name:"circle",impl:qi},{name:"concentric",impl:Yi},{name:"cose",impl:Zi},{name:"grid",impl:ba},{name:"null",impl:xa},{name:"preset",impl:ka},{name:"random",impl:Sa}];function Pa(e){this.options=e,this.notifications=0}var Ta=function(){},Aa=function(){throw new Error("A headless instance can not render images")};Pa.prototype={recalculateRenderedStyle:Ta,notify:function(){this.notifications++},init:Ta,isHeadless:function(){return!0},png:Aa,jpg:Aa};var Ma={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,o,i,a){var s=o.x-n/2-a,l=o.x+n/2+a,c=o.y-n/2-a,u=o.y+n/2+a;return s<=e&&e<=l&&c<=t&&t<=u},r=function(e,t,n,r,o){var i=e*Math.cos(r)-t*Math.sin(r),a=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:i*n+o.x,y:a+o.y}},o=function(e,t,n,o){for(var i=[],a=0;a<e.length;a+=2){var s=e[a],l=e[a+1];i.push(r(s,l,t,n,o))}return i},i=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},a=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(r,s){T(s)&&(s=e[s]),e[r]=Z({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,a,s){var l=i(o(this.points,n+2*s,r,a));return Pt(e,t,l)},roughCollide:n,draw:function(e,n,r,i){var a=o(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:a},s)};s("none",{collide:_e,roughCollide:_e,draw:Ce,spacing:ke,gap:ke}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,i,a,s){var l=o(this.points,n,i,a),c=this.controlPoint,u=r(c[0],c[1],n,i,a);t.arrowShapeImpl(this.name)(e,l,u)},gap:function(e){return.8*a(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,a,s,l){var c=i(o(this.points,n+2*l,r,a)),u=i(o(this.pointsTee,n+2*l,r,a));return Pt(e,t,c)||Pt(e,t,u)},draw:function(e,n,r,i,a){var s=o(this.points,n,r,i),l=o(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,s,l)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,a,s,l){var c=a,u=Math.pow(c.x-e,2)+Math.pow(c.y-t,2)<=Math.pow((n+2*l)*this.radius,2),d=i(o(this.points,n+2*l,r,a));return Pt(e,t,d)||u},draw:function(e,n,r,i,a){var s=o(this.pointsTr,n,r,i);t.arrowShapeImpl(this.name)(e,s,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,a,s,l){var c=i(o(this.points,n+2*l,r,a)),u=i(o(this.crossLinePts(n,s),n+2*l,r,a));return Pt(e,t,c)||Pt(e,t,u)},draw:function(e,n,r,i,a){var s=o(this.points,n,r,i),l=o(this.crossLinePts(n,a),n,r,i);t.arrowShapeImpl(this.name)(e,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*a(e)}}),s("circle",{radius:.15,collide:function(e,t,n,r,o,i,a){var s=o;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(e,n,r,o,i){t.arrowShapeImpl(this.name)(e,o.x,o.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Na={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),o=r[0],i=r[1],a=r[4],s=n.pan(),l=n.zoom();return[((e-o)/a-s.x)/l,((t-i)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=x.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},o=r("padding-left"),i=r("padding-right"),a=r("padding-top"),s=r("padding-bottom"),l=r("border-left-width"),c=r("border-right-width"),u=r("border-top-width"),d=(r("border-bottom-width"),e.clientWidth),p=e.clientHeight,h=o+i,f=a+s,m=l+c,g=t.width/(d+m),v=d-h,y=p-f,b=t.left+o+l,w=t.top+a+u;return this.containerBB=[b,w,v,y,g]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var o,i,a=this,s=this,l=s.getCachedZSortedEles(),c=[],u=s.cy.zoom(),d=s.cy.hasCompoundNodes(),p=(r?24:8)/u,h=(r?8:2)/u,f=(r?8:2)/u,m=1/0;function g(e,t){if(e.isNode()){if(i)return;i=e,c.push(e)}if(e.isEdge()&&(null==t||t<m))if(o){if(o.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&o.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<c.length;n++)if(c[n].isEdge()){c[n]=e,o=e,m=null!=t?t:m;break}}else c.push(e),o=e,m=null!=t?t:m}function v(n){var r=n.outerWidth()+2*h,o=n.outerHeight()+2*h,i=r/2,l=o/2,c=n.position();if(c.x-i<=e&&e<=c.x+i&&c.y-l<=t&&t<=c.y+l&&s.nodeShapes[a.getNodeShape(n)].checkPoint(e,t,0,r,o,c.x,c.y))return g(n,0),!0}function y(n){var r,o=n._private,i=o.rscratch,l=n.pstyle("width").pfValue,u=n.pstyle("arrow-scale").value,h=l/2+p,f=h*h,m=2*h,y=o.source,b=o.target;if("segments"===i.edgeType||"straight"===i.edgeType||"haystack"===i.edgeType){for(var w=i.allpts,x=0;x+3<w.length;x+=2)if(kt(e,t,w[x],w[x+1],w[x+2],w[x+3],m)&&f>(r=Et(e,t,w[x],w[x+1],w[x+2],w[x+3])))return g(n,r),!0}else if("bezier"===i.edgeType||"multibezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType)for(w=i.allpts,x=0;x+5<i.allpts.length;x+=4)if(Ct(e,t,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5],m)&&f>(r=St(e,t,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5])))return g(n,r),!0;y=y||o.source,b=b||o.target;var _=a.getArrowWidth(l,u),k=[{name:"source",x:i.arrowStartX,y:i.arrowStartY,angle:i.srcArrowAngle},{name:"target",x:i.arrowEndX,y:i.arrowEndY,angle:i.tgtArrowAngle},{name:"mid-source",x:i.midX,y:i.midY,angle:i.midsrcArrowAngle},{name:"mid-target",x:i.midX,y:i.midY,angle:i.midtgtArrowAngle}];for(x=0;x<k.length;x++){var C=k[x],S=s.arrowShapes[n.pstyle(C.name+"-arrow-shape").value],E=n.pstyle("width").pfValue;if(S.roughCollide(e,t,_,C.angle,{x:C.x,y:C.y},E,p)&&S.collide(e,t,_,C.angle,{x:C.x,y:C.y},E,p))return g(n),!0}d&&c.length>0&&(v(y),v(b))}function b(e,t,n){return Le(e,t,n)}function w(n,r){var o,i=n._private,a=f;o=r?r+"-":"",n.boundingBox();var s=i.labelBounds[r||"main"],l=n.pstyle(o+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var c=b(i.rscratch,"labelX",r),u=b(i.rscratch,"labelY",r),d=b(i.rscratch,"labelAngle",r),p=n.pstyle(o+"text-margin-x").pfValue,h=n.pstyle(o+"text-margin-y").pfValue,m=s.x1-a-p,v=s.x2+a-p,y=s.y1-a-h,w=s.y2+a-h;if(d){var x=Math.cos(d),_=Math.sin(d),k=function(e,t){return{x:(e-=c)*x-(t-=u)*_+c,y:e*_+t*x+u}},C=k(m,y),S=k(m,w),E=k(v,y),P=k(v,w),T=[C.x+p,C.y+h,E.x+p,E.y+h,P.x+p,P.y+h,S.x+p,S.y+h];if(Pt(e,t,T))return g(n),!0}else if(wt(s,e,t))return g(n),!0}}n&&(l=l.interactive);for(var x=l.length-1;x>=0;x--){var _=l[x];_.isNode()?v(_)||w(_):y(_)||w(_)||w(_,"source")||w(_,"target")}return c},getAllInBox:function(e,t,n,r){for(var o,i,a=this.getCachedZSortedEles().interactive,s=[],l=Math.min(e,n),c=Math.max(e,n),u=Math.min(t,r),d=Math.max(t,r),p=ft({x1:e=l,y1:t=u,x2:n=c,y2:r=d}),h=0;h<a.length;h++){var f=a[h];if(f.isNode()){var m=f,g=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});bt(p,g)&&!xt(g,p)&&s.push(m)}else{var v=f,y=v._private,b=y.rscratch;if(null!=b.startX&&null!=b.startY&&!wt(p,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!wt(p,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var w=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,x=!0,_=0;_<w.length;_++)if(o=p,i=w[_],!wt(o,i.x,i.y)){x=!1;break}x&&s.push(v)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||s.push(v)}}return s}},Oa={calculateArrowAngles:function(e){var t,n,r,o,i,a,s=e._private.rscratch,l="haystack"===s.edgeType,c="bezier"===s.edgeType,u="multibezier"===s.edgeType,d="segments"===s.edgeType,p="compound"===s.edgeType,h="self"===s.edgeType;if(l?(r=s.haystackPts[0],o=s.haystackPts[1],i=s.haystackPts[2],a=s.haystackPts[3]):(r=s.arrowStartX,o=s.arrowStartY,i=s.arrowEndX,a=s.arrowEndY),m=s.midX,g=s.midY,d)t=r-s.segpts[0],n=o-s.segpts[1];else if(u||p||h||c){var f=s.allpts;t=r-dt(f[0],f[2],f[4],.1),n=o-dt(f[1],f[3],f[5],.1)}else t=r-m,n=o-g;s.srcArrowAngle=it(t,n);var m=s.midX,g=s.midY;if(l&&(m=(r+i)/2,g=(o+a)/2),t=i-r,n=a-o,d)if((f=s.allpts).length/2%2==0){var v=(y=f.length/2)-2;t=f[y]-f[v],n=f[y+1]-f[v+1]}else{v=(y=f.length/2-1)-2;var y,b=y+2;t=f[y]-f[v],n=f[y+1]-f[v+1]}else if(u||p||h){var w,x,_,k;f=s.allpts;if(s.ctrlpts.length/2%2==0){var C=2+(S=2+(E=f.length/2-1));w=dt(f[E],f[S],f[C],0),x=dt(f[E+1],f[S+1],f[C+1],0),_=dt(f[E],f[S],f[C],1e-4),k=dt(f[E+1],f[S+1],f[C+1],1e-4)}else{var S,E;C=2+(S=f.length/2-1),w=dt(f[E=S-2],f[S],f[C],.4999),x=dt(f[E+1],f[S+1],f[C+1],.4999),_=dt(f[E],f[S],f[C],.5),k=dt(f[E+1],f[S+1],f[C+1],.5)}t=_-w,n=k-x}if(s.midtgtArrowAngle=it(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,d&&((f=s.allpts).length/2%2==0||(t=-(f[b=2+(y=f.length/2-1)]-f[y]),n=-(f[b+1]-f[y+1]))),s.midsrcArrowAngle=it(t,n),d)t=i-s.segpts[s.segpts.length-2],n=a-s.segpts[s.segpts.length-1];else if(u||p||h||c){var P=(f=s.allpts).length;t=i-dt(f[P-6],f[P-4],f[P-2],.9),n=a-dt(f[P-5],f[P-3],f[P-1],.9)}else t=i-m,n=a-g;s.tgtArrowAngle=it(t,n)}};Oa.getArrowWidth=Oa.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var Ia={};function Ra(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];t.push({x:r,y:o})}return t}}Ia.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,o=r.rscratch;if(!o.haystack){var i=2*Math.random()*Math.PI;o.source={x:Math.cos(i),y:Math.sin(i)},i=2*Math.random()*Math.PI,o.target={x:Math.cos(i),y:Math.sin(i)}}var a=r.source,s=r.target,l=a.position(),c=s.position(),u=a.width(),d=s.width(),p=a.height(),h=s.height(),f=n.pstyle("haystack-radius").value/2;o.haystackPts=o.allpts=[o.source.x*u*f+l.x,o.source.y*p*f+l.y,o.target.x*d*f+c.x,o.target.y*h*f+c.y],o.midX=(o.allpts[0]+o.allpts[2])/2,o.midY=(o.allpts[1]+o.allpts[3])/2,o.edgeType="haystack",o.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},Ia.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=t.posPts,o=t.intersectionPts,i=t.vectorNormInverse,a=e.pstyle("edge-distances").value,s=e.pstyle("segment-weights"),l=e.pstyle("segment-distances"),c=Math.min(s.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var u=0;u<c;u++){var d=s.pfValue[u],p=l.pfValue[u],h=1-d,f=d,m="node-position"===a?r:o,g={x:m.x1*h+m.x2*f,y:m.y1*h+m.y2*f};n.segpts.push(g.x+i.x*p,g.y+i.y*p)}},Ia.findLoopPoints=function(e,t,n,r){var o=e._private.rscratch,i=t.dirCounts,a=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,c=e.pstyle("loop-direction").pfValue,u=e.pstyle("loop-sweep").pfValue,d=e.pstyle("control-point-step-size").pfValue;o.edgeType="self";var p=n,h=d;r&&(p=0,h=l);var f=c-Math.PI/2,m=f-u/2,g=f+u/2,v=String(c+"_"+u);p=void 0===i[v]?i[v]=0:++i[v],o.ctrlpts=[a.x+1.4*Math.cos(m)*h*(p/3+1),a.y+1.4*Math.sin(m)*h*(p/3+1),a.x+1.4*Math.cos(g)*h*(p/3+1),a.y+1.4*Math.sin(g)*h*(p/3+1)]},Ia.findCompoundLoopPoints=function(e,t,n,r){var o=e._private.rscratch;o.edgeType="compound";var i=t.srcPos,a=t.tgtPos,s=t.srcW,l=t.srcH,c=t.tgtW,u=t.tgtH,d=e.pstyle("control-point-step-size").pfValue,p=e.pstyle("control-point-distances"),h=p?p.pfValue[0]:void 0,f=n,m=d;r&&(f=0,m=h);var g={x:i.x-s/2,y:i.y-l/2},v={x:a.x-c/2,y:a.y-u/2},y={x:Math.min(g.x,v.x),y:Math.min(g.y,v.y)},b=Math.max(.5,Math.log(.01*s)),w=Math.max(.5,Math.log(.01*c));o.ctrlpts=[y.x,y.y-(1+Math.pow(50,1.12)/100)*m*(f/3+1)*b,y.x-(1+Math.pow(50,1.12)/100)*m*(f/3+1)*w,y.y]},Ia.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},Ia.findBezierPoints=function(e,t,n,r,o){var i=e._private.rscratch,a=t.vectorNormInverse,s=t.posPts,l=t.intersectionPts,c=e.pstyle("edge-distances").value,u=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),p=e.pstyle("control-point-weights"),h=d&&p?Math.min(d.value.length,p.value.length):1,f=d?d.pfValue[0]:void 0,m=p.value[0],g=r;i.edgeType=g?"multibezier":"bezier",i.ctrlpts=[];for(var v=0;v<h;v++){var y,b=(.5-t.eles.length/2+n)*u*(o?-1:1),w=st(b);g&&(f=d?d.pfValue[v]:u,m=p.value[v]);var x=void 0!==(y=r?f:void 0!==f?w*f:void 0)?y:b,_=1-m,k=m,C="node-position"===c?s:l,S={x:C.x1*_+C.x2*k,y:C.y1*_+C.y2*k};i.ctrlpts.push(S.x+a.x*x,S.y+a.y*x)}},Ia.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",o="horizontal",i="leftward",a="rightward",s="downward",l="upward",c=t.posPts,u=t.srcW,d=t.srcH,p=t.tgtW,h=t.tgtH,f="node-position"!==e.pstyle("edge-distances").value,m=e.pstyle("taxi-direction").value,g=m,v=e.pstyle("taxi-turn"),y="%"===v.units,b=v.pfValue,w=b<0,x=e.pstyle("taxi-turn-min-distance").pfValue,_=f?(u+p)/2:0,k=f?(d+h)/2:0,C=c.x2-c.x1,S=c.y2-c.y1,E=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},P=E(C,_),T=E(S,k),A=!1;"auto"===g?m=Math.abs(P)>Math.abs(T)?o:r:g===l||g===s?(m=r,A=!0):g!==i&&g!==a||(m=o,A=!0);var M,N=m===r,O=N?T:P,I=N?S:C,R=st(I),L=!1;A&&(y||w)||!(g===s&&I<0||g===l&&I>0||g===i&&I>0||g===a&&I<0)||(O=(R*=-1)*Math.abs(O),L=!0);var j=function(e){return Math.abs(e)<x||Math.abs(e)>=Math.abs(O)},D=j(M=y?(b<0?1+b:b)*O:(b<0?O:0)+b*R),$=j(Math.abs(O)-Math.abs(M));if(!D&&!$||L)if(N){var B=c.y1+M+(f?d/2*R:0),V=c.x1,F=c.x2;n.segpts=[V,B,F,B]}else{var z=c.x1+M+(f?u/2*R:0),U=c.y1,W=c.y2;n.segpts=[z,U,z,W]}else if(N){var K=Math.abs(I)<=d/2,H=Math.abs(C)<=p/2;if(K){var q=(c.x1+c.x2)/2,G=c.y1,X=c.y2;n.segpts=[q,G,q,X]}else if(H){var Y=(c.y1+c.y2)/2,J=c.x1,Z=c.x2;n.segpts=[J,Y,Z,Y]}else n.segpts=[c.x1,c.y2]}else{var Q=Math.abs(I)<=u/2,ee=Math.abs(S)<=h/2;if(Q){var te=(c.y1+c.y2)/2,ne=c.x1,re=c.x2;n.segpts=[ne,te,re,te]}else if(ee){var oe=(c.x1+c.x2)/2,ie=c.y1,ae=c.y2;n.segpts=[oe,ie,oe,ae]}else n.segpts=[c.x2,c.y1]}},Ia.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,o=t.tgtPos,i=t.srcW,a=t.srcH,s=t.tgtW,l=t.tgtH,c=t.srcShape,u=t.tgtShape,d=!O(n.startX)||!O(n.startY),p=!O(n.arrowStartX)||!O(n.arrowStartY),h=!O(n.endX)||!O(n.endY),f=!O(n.arrowEndX)||!O(n.arrowEndY),m=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,g=lt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),v=g<m,y=lt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),b=y<m,w=!1;if(d||p||v){w=!0;var x={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},_=Math.sqrt(x.x*x.x+x.y*x.y),k={x:x.x/_,y:x.y/_},C=Math.max(i,a),S={x:n.ctrlpts[0]+2*k.x*C,y:n.ctrlpts[1]+2*k.y*C},E=c.intersectLine(r.x,r.y,i,a,S.x,S.y,0);v?(n.ctrlpts[0]=n.ctrlpts[0]+k.x*(m-g),n.ctrlpts[1]=n.ctrlpts[1]+k.y*(m-g)):(n.ctrlpts[0]=E[0]+k.x*m,n.ctrlpts[1]=E[1]+k.y*m)}if(h||f||b){w=!0;var P={x:n.ctrlpts[0]-o.x,y:n.ctrlpts[1]-o.y},T=Math.sqrt(P.x*P.x+P.y*P.y),A={x:P.x/T,y:P.y/T},M=Math.max(i,a),N={x:n.ctrlpts[0]+2*A.x*M,y:n.ctrlpts[1]+2*A.y*M},I=u.intersectLine(o.x,o.y,s,l,N.x,N.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+A.x*(m-y),n.ctrlpts[1]=n.ctrlpts[1]+A.y*(m-y)):(n.ctrlpts[0]=I[0]+A.x*m,n.ctrlpts[1]=I[1]+A.y*m)}w&&this.findEndpoints(e)}},Ia.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,t.midX=dt(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=dt(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var o=t.segpts.length/2,i=o-2;t.midX=(t.segpts[i]+t.segpts[o])/2,t.midY=(t.segpts[i+1]+t.segpts[o+1])/2}else{var a=t.segpts.length/2-1;t.midX=t.segpts[a],t.midY=t.segpts[a+1]}},Ia.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||O(t.startX)&&O(t.startY)&&O(t.endX)&&O(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Pe("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Ia.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),o={map:new De,get:function(e){var t=this.map.get(e[0]);return null!=t?t.get(e[1]):null},set:function(e,t){var n=this.map.get(e[0]);null==n&&(n=new De,this.map.set(e[0],n)),n.set(e[1],t)}},i=[],a=[],s=0;s<e.length;s++){var l=e[s],c=l._private,u=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==u){var d="unbundled-bezier"===u||"segments"===u||"straight"===u||"straight-triangle"===u||"taxi"===u,p="unbundled-bezier"===u||"bezier"===u,h=c.source,f=c.target,m=[h.poolIndex(),f.poolIndex()].sort(),g=o.get(m);null==g&&(g={eles:[]},o.set(m,g),i.push(m)),g.eles.push(l),d&&(g.hasUnbundled=!0),p&&(g.hasBezier=!0)}else a.push(l)}for(var v=function(e){var a=i[e],s=o.get(a),l=void 0;if(!s.hasUnbundled){var c=s.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));Re(s.eles),c.forEach((function(e){return s.eles.push(e)})),s.eles.sort((function(e,t){return e.poolIndex()-t.poolIndex()}))}var u=s.eles[0],d=u.source(),p=u.target();if(d.poolIndex()>p.poolIndex()){var h=d;d=p,p=h}var f=s.srcPos=d.position(),m=s.tgtPos=p.position(),g=s.srcW=d.outerWidth(),v=s.srcH=d.outerHeight(),y=s.tgtW=p.outerWidth(),b=s.tgtH=p.outerHeight(),w=s.srcShape=n.nodeShapes[t.getNodeShape(d)],x=s.tgtShape=n.nodeShapes[t.getNodeShape(p)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<s.eles.length;_++){var k=s.eles[_],C=k[0]._private.rscratch,S=k.pstyle("curve-style").value,E="unbundled-bezier"===S||"segments"===S||"taxi"===S,P=!d.same(k.source());if(!s.calculatedIntersection&&d!==p&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var T=w.intersectLine(f.x,f.y,g,v,m.x,m.y,0),A=s.srcIntn=T,M=x.intersectLine(m.x,m.y,y,b,f.x,f.y,0),N=s.tgtIntn=M,I=s.intersectionPts={x1:T[0],x2:M[0],y1:T[1],y2:M[1]},R=s.posPts={x1:f.x,x2:m.x,y1:f.y,y2:m.y},L=M[1]-T[1],j=M[0]-T[0],D=Math.sqrt(j*j+L*L),$=s.vector={x:j,y:L},B=s.vectorNorm={x:$.x/D,y:$.y/D},V={x:-B.y,y:B.x};s.nodesOverlap=!O(D)||x.checkPoint(T[0],T[1],0,y,b,m.x,m.y)||w.checkPoint(M[0],M[1],0,g,v,f.x,f.y),s.vectorNormInverse=V,l={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:m,tgtPos:f,srcW:y,srcH:b,tgtW:g,tgtH:v,srcIntn:N,tgtIntn:A,srcShape:x,tgtShape:w,posPts:{x1:R.x2,y1:R.y2,x2:R.x1,y2:R.y1},intersectionPts:{x1:I.x2,y1:I.y2,x2:I.x1,y2:I.y1},vector:{x:-$.x,y:-$.y},vectorNorm:{x:-B.x,y:-B.y},vectorNormInverse:{x:-V.x,y:-V.y}}}var F=P?l:s;C.nodesOverlap=F.nodesOverlap,C.srcIntn=F.srcIntn,C.tgtIntn=F.tgtIntn,r&&(d.isParent()||d.isChild()||p.isParent()||p.isChild())&&(d.parents().anySame(p)||p.parents().anySame(d)||d.same(p)&&d.isParent())?t.findCompoundLoopPoints(k,F,_,E):d===p?t.findLoopPoints(k,F,_,E):"segments"===S?t.findSegmentsPoints(k,F):"taxi"===S?t.findTaxiPoints(k,F):"straight"===S||!E&&s.eles.length%2==1&&_===Math.floor(s.eles.length/2)?t.findStraightEdgePoints(k):t.findBezierPoints(k,F,_,E,P),t.findEndpoints(k),t.tryToCorrectInvalidPoints(k,F),t.checkForInvalidEdgeWarning(k),t.storeAllpts(k),t.storeEdgeProjections(k),t.calculateArrowAngles(k),t.recalculateEdgeLabelProjections(k),t.calculateLabelAngles(k)}},y=0;y<i.length;y++)v(y);this.findHaystackPoints(a)}},Ia.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),Ra(t.segpts)},Ia.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),Ra(t.ctrlpts)},Ia.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var La={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),o=e.outerHeight();if(2===t.value.length){var i=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(i[0]=i[0]*r),"%"===t.units[1]&&(i[1]=i[1]*o),i[0]+=n.x,i[1]+=n.y,i}var a=t.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(r,o),l=[n.x+Math.cos(a)*s,n.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,o,l[0],l[1],0)},findEndpoints:function(e){var t,n,r,o,i,a=this,s=e.source()[0],l=e.target()[0],c=s.position(),u=l.position(),d=e.pstyle("target-arrow-shape").value,p=e.pstyle("source-arrow-shape").value,h=e.pstyle("target-distance-from-node").pfValue,f=e.pstyle("source-distance-from-node").pfValue,m=e.pstyle("curve-style").value,g=e._private.rscratch,v=g.edgeType,y="self"===v||"compound"===v,b="bezier"===v||"multibezier"===v||y,w="bezier"!==v,x="straight"===v||"segments"===v,_="segments"===v,k=b||w||x,C=y||"taxi"===m,S=e.pstyle("source-endpoint"),E=C?"outside-to-node":S.value,P=e.pstyle("target-endpoint"),T=C?"outside-to-node":P.value;if(g.srcManEndpt=S,g.tgtManEndpt=P,b){var A=[g.ctrlpts[0],g.ctrlpts[1]];n=w?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:A,r=A}else if(x){var M=_?g.segpts.slice(0,2):[u.x,u.y];n=_?g.segpts.slice(g.segpts.length-2):[c.x,c.y],r=M}if("inside-to-node"===T)t=[u.x,u.y];else if(P.units)t=this.manualEndptToPx(l,P);else if("outside-to-line"===T)t=g.tgtIntn;else if("outside-to-node"===T||"outside-to-node-or-label"===T?o=n:"outside-to-line"!==T&&"outside-to-line-or-label"!==T||(o=[c.x,c.y]),t=a.nodeShapes[this.getNodeShape(l)].intersectLine(u.x,u.y,l.outerWidth(),l.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===T||"outside-to-line-or-label"===T){var N=l._private.rscratch,I=N.labelWidth,R=N.labelHeight,L=N.labelX,j=N.labelY,D=I/2,$=R/2,B=l.pstyle("text-valign").value;"top"===B?j-=$:"bottom"===B&&(j+=$);var V=l.pstyle("text-halign").value;"left"===V?L-=D:"right"===V&&(L+=D);var F=Lt(o[0],o[1],[L-D,j-$,L+D,j-$,L+D,j+$,L-D,j+$],u.x,u.y);if(F.length>0){var z=c,U=ct(z,ot(t)),W=ct(z,ot(F)),K=U;W<U&&(t=F,K=W),F.length>2&&ct(z,{x:F[2],y:F[3]})<K&&(t=[F[2],F[3]])}}var H=jt(t,n,a.arrowShapes[d].spacing(e)+h),q=jt(t,n,a.arrowShapes[d].gap(e)+h);if(g.endX=q[0],g.endY=q[1],g.arrowEndX=H[0],g.arrowEndY=H[1],"inside-to-node"===E)t=[c.x,c.y];else if(S.units)t=this.manualEndptToPx(s,S);else if("outside-to-line"===E)t=g.srcIntn;else if("outside-to-node"===E||"outside-to-node-or-label"===E?i=r:"outside-to-line"!==E&&"outside-to-line-or-label"!==E||(i=[u.x,u.y]),t=a.nodeShapes[this.getNodeShape(s)].intersectLine(c.x,c.y,s.outerWidth(),s.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===E||"outside-to-line-or-label"===E){var G=s._private.rscratch,X=G.labelWidth,Y=G.labelHeight,J=G.labelX,Z=G.labelY,Q=X/2,ee=Y/2,te=s.pstyle("text-valign").value;"top"===te?Z-=ee:"bottom"===te&&(Z+=ee);var ne=s.pstyle("text-halign").value;"left"===ne?J-=Q:"right"===ne&&(J+=Q);var re=Lt(i[0],i[1],[J-Q,Z-ee,J+Q,Z-ee,J+Q,Z+ee,J-Q,Z+ee],c.x,c.y);if(re.length>0){var oe=u,ie=ct(oe,ot(t)),ae=ct(oe,ot(re)),se=ie;ae<ie&&(t=[re[0],re[1]],se=ae),re.length>2&&ct(oe,{x:re[2],y:re[3]})<se&&(t=[re[2],re[3]])}}var le=jt(t,r,a.arrowShapes[p].spacing(e)+f),ce=jt(t,r,a.arrowShapes[p].gap(e)+f);g.startX=ce[0],g.startY=ce[1],g.arrowStartX=le[0],g.arrowStartY=le[1],k&&(O(g.startX)&&O(g.startY)&&O(g.endX)&&O(g.endY)?g.badLine=!1:g.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},ja={};function Da(e,t,n){for(var r=function(e,t,n,r){return dt(e,t,n,r)},o=t._private.rstyle.bezierPts,i=0;i<e.bezierProjPcts.length;i++){var a=e.bezierProjPcts[i];o.push({x:r(n[0],n[2],n[4],a),y:r(n[1],n[3],n[5],a)})}}ja.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var o=0;o+5<n.allpts.length;o+=4)Da(this,e,n.allpts.slice(o,o+6))}else if("segments"===r){var i=t.rstyle.linePts=[];for(o=0;o+1<n.allpts.length;o+=2)i.push({x:n.allpts[o],y:n.allpts[o+1]})}else if("haystack"===r){var a=n.haystackPts;t.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},ja.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var $a={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!B(t)){var n,r,o=e._private,i=e.width(),a=e.height(),s=e.padding(),l=e.position(),c=e.pstyle("text-halign").strValue,u=e.pstyle("text-valign").strValue,d=o.rscratch,p=o.rstyle;switch(c){case"left":n=l.x-i/2-s;break;case"right":n=l.x+i/2+s;break;default:n=l.x}switch(u){case"top":r=l.y-a/2-s;break;case"bottom":r=l.y+a/2+s;break;default:r=l.y}d.labelX=n,d.labelY=r,p.labelX=n,p.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},Ba=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},Va=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Ba(n,r)};$a.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,o=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:r.midX,y:r.midY};var a=function(e,t,r){je(n.rscratch,e,t,r),je(n.rstyle,e,t,r)};a("labelX",null,t.x),a("labelY",null,t.y);var s=Ba(r.midDispX,r.midDispY);a("labelAutoAngle",null,s);var l=function e(){if(e.cache)return e.cache;for(var t=[],i=0;i+5<r.allpts.length;i+=4){var a={x:r.allpts[i],y:r.allpts[i+1]},s={x:r.allpts[i+2],y:r.allpts[i+3]},l={x:r.allpts[i+4],y:r.allpts[i+5]};t.push({p0:a,p1:s,p2:l,startDist:0,length:0,segments:[]})}var c=n.rstyle.bezierPts,u=o.bezierProjPcts.length;function d(e,t,n,r,o){var i=lt(t,n),a=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:o,startDist:a?a.startDist+a.length:0,length:i};e.segments.push(s),e.length+=i}for(var p=0;p<t.length;p++){var h=t[p],f=t[p-1];f&&(h.startDist=f.startDist+f.length),d(h,h.p0,c[p*u],0,o.bezierProjPcts[0]);for(var m=0;m<u-1;m++)d(h,c[p*u+m],c[p*u+m+1],o.bezierProjPcts[m],o.bezierProjPcts[m+1]);d(h,c[p*u+u-1],h.p2,o.bezierProjPcts[u-1],1)}return e.cache=t},c=function(n){var o,s="source"===n;if(i[n]){var c=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,d=l(),p=0,h=0,f=0;f<d.length;f++){for(var m=d[s?f:d.length-1-f],g=0;g<m.segments.length;g++){var v=m.segments[s?g:m.segments.length-1-g],y=f===d.length-1&&g===m.segments.length-1;if(p=h,(h+=v.length)>=c||y){u={cp:m,segment:v};break}}if(u)break}var b=u.cp,w=u.segment,x=(c-p)/w.length,_=w.t1-w.t0,k=s?w.t0+_*x:w.t1-_*x;k=ht(0,k,1),t=pt(b.p0,b.p1,b.p2,k),o=function(e,t,n,r){var o=ht(0,r-.001,1),i=ht(0,r+.001,1),a=pt(e,t,n,o),s=pt(e,t,n,i);return Va(a,s)}(b.p0,b.p1,b.p2,k);break;case"straight":case"segments":case"haystack":for(var C,S,E,P,T=0,A=r.allpts.length,M=0;M+3<A&&(s?(E={x:r.allpts[M],y:r.allpts[M+1]},P={x:r.allpts[M+2],y:r.allpts[M+3]}):(E={x:r.allpts[A-2-M],y:r.allpts[A-1-M]},P={x:r.allpts[A-4-M],y:r.allpts[A-3-M]}),S=T,!((T+=C=lt(E,P))>=c));M+=2);var N=(c-S)/C;N=ht(0,N,1),t=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=lt(e,t),s=o/a,l=i/a;return n=null==n?0:n,r=null!=r?r:n*a,{x:e.x+s*r,y:e.y+l*r}}(E,P,N),o=Va(E,P)}a("labelX",n,t.x),a("labelY",n,t.y),a("labelAutoAngle",n,o)}};c("source"),c("target"),this.applyLabelDimensions(e)}},$a.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},$a.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),o=this.calculateLabelDimensions(e,r),i=e.pstyle("line-height").pfValue,a=e.pstyle("text-wrap").strValue,s=Le(n.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==a?1:Math.max(s.length,1),c=o.height/l,u=c*i,d=o.width,p=o.height+(l-1)*(i-1)*c;je(n.rstyle,"labelWidth",t,d),je(n.rscratch,"labelWidth",t,d),je(n.rstyle,"labelHeight",t,p),je(n.rscratch,"labelHeight",t,p),je(n.rscratch,"labelLineHeight",t,u)},$a.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",o=e.pstyle(r+"label").strValue,i=e.pstyle("text-transform").value,a=function(e,r){return r?(je(n.rscratch,e,t,r),r):Le(n.rscratch,e,t)};if(!o)return"";"none"==i||("uppercase"==i?o=o.toUpperCase():"lowercase"==i&&(o=o.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var l=a("labelKey");if(null!=l&&a("labelWrapKey")===l)return a("labelWrapCachedText");for(var c=o.split("\n"),u=e.pstyle("text-max-width").pfValue,d="anywhere"===e.pstyle("text-overflow-wrap").value,p=[],h=/[\s\u200b]+/,f=d?"":" ",m=0;m<c.length;m++){var g=c[m],v=this.calculateLabelDimensions(e,g).width;if(d){var y=g.split("").join("");g=y}if(v>u){for(var b=g.split(h),w="",x=0;x<b.length;x++){var _=b[x],k=0===w.length?_:w+f+_;this.calculateLabelDimensions(e,k).width<=u?w+=_+f:(w&&p.push(w),w=_+f)}w.match(/^[\s\u200b]+$/)||p.push(w)}else p.push(g)}a("labelWrapCachedLines",p),o=a("labelWrapCachedText",p.join("\n")),a("labelWrapKey",l)}else if("ellipsis"===s){var C=e.pstyle("text-max-width").pfValue,S="",E=!1;if(this.calculateLabelDimensions(e,o).width<C)return o;for(var P=0;P<o.length&&!(this.calculateLabelDimensions(e,S+o[P]+"").width>C);P++)S+=o[P],P===o.length-1&&(E=!0);return E||(S+=""),S}return o},$a.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},$a.calculateLabelDimensions=function(e,t){var n=fe(t,e._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),o=r[n];if(null!=o)return o;var i=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue,s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,c=this.labelCalcCanvas,u=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=document.createElement("canvas"),u=this.labelCalcCanvasContext=c.getContext("2d");var d=c.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}u.font="".concat(i," ").concat(l," ").concat(a,"px ").concat(s);for(var p=0,h=0,f=t.split("\n"),m=0;m<f.length;m++){var g=f[m],v=u.measureText(g),y=Math.ceil(v.width),b=a;p=Math.max(y,p),h+=b}return p+=0,h+=0,r[n]={width:p,height:h}},$a.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),o=t?t+"-":"",i=e.pstyle(o+"text-rotation"),a=i.strValue;return"none"===a?0:r&&"autorotate"===a?n.labelAutoAngle:"autorotate"===a?0:i.pfValue},$a.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Fa={},za=!1;Fa.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return za||(Pe("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),za=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var Ua={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(o=e[n])._private.rscratch;o.grabbed()&&!o.isParent()?t.push(o):r.inDragLayer?e.drag.push(o):e.nondrag.push(o)}for(n=0;n<t.length;n++){var o=t[n];e.drag.push(o)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Mo),t.interactive=t.filter((function(e){return e.interactive()})),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},Wa={};[Na,Oa,Ia,La,ja,$a,Fa,{registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var o=e[r]._private.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",(function(e){var t=e.target;r(t)})).on("style.* background.*",(function(e){var t=e.target;r(t,!1)}));var o=function(o){if(o){var i=n.onUpdateEleCalcsFns;t.cleanStyle();for(var a=0;a<t.length;a++){var s=t[a],l=s._private.rstyle;s.isNode()&&!l.cleanConnected&&(r(s.connectedEdges()),l.cleanConnected=!0)}if(i)for(var c=0;c<i.length;c++)(0,i[c])(o,t);n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){o(!0)},n.beforeRender(o,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected},r=[],o=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var a=e[i],s=a._private,l=s.rstyle;!a.isEdge()||n(a.source())&&n(a.target())||(l.clean=!1),t&&l.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===s.group?o.push(a):r.push(a),l.clean=!0)}for(var c=0;c<o.length;c++){var u=o[c],d=u._private.rstyle,p=u.position();this.recalculateNodeLabelProjection(u),d.nodeX=p.x,d.nodeY=p.y,d.nodeW=u.pstyle("width").pfValue,d.nodeH=u.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var h=0;h<r.length;h++){var f=r[h]._private,m=f.rstyle,g=f.rscratch;m.srcX=g.arrowStartX,m.srcY=g.arrowStartY,m.tgtX=g.arrowEndX,m.tgtY=g.arrowEndY,m.midX=g.midX,m.midY=g.midY,m.labelAngle=g.labelAngle,m.sourceLabelAngle=g.sourceLabelAngle,m.targetLabelAngle=g.targetLabelAngle}}}},Ua].forEach((function(e){Z(Wa,e)}));var Ka={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},o=r[e];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;var i=(o=r[e]=r[e]||{}).image=new Image;i.addEventListener("load",n),i.addEventListener("error",(function(){i.error=!0}));return"data:"===e.substring(0,5).toLowerCase()||(t="null"===t?null:t,i.crossOrigin=t),i.src=e,i}},Ha={registerBinding:function(e,t,n,r){var o=Array.prototype.slice.apply(arguments,[1]),i=this.binder(e);return i.on.apply(i,o)},binder:function(e){var t=this,n=e===window||e===document||e===document.body||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement;if(null==t.supportsPassiveEvents){var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return r=!0,!0}});window.addEventListener("test",null,o)}catch(e){}t.supportsPassiveEvents=r}var i=function(r,o,i){var a=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(a[2]={capture:null!=i&&i,passive:!1,once:!1}),t.bindings.push({target:e,args:a}),(e.addEventListener||e.on).apply(e,a),this};return{on:i,addEventListener:i,addListener:i,bind:i}},nodeIsDraggable:function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},nodeIsGrabbable:function(e){return this.nodeIsDraggable(e)&&e.interactive()}};Ha.load=function(){var e=this,t=function(e){return e.selected()},n=function(t,n,r,o){null==t&&(t=e.cy);for(var i=0;i<n.length;i++){var a=n[i];t.emit({originalEvent:r,type:a,position:o})}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},o=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable()){for(var o=0;n&&o<n.length;o++)if((t=n[o]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},i=function(e){e[0]._private.rscratch.inDragLayer=!0},a=function(e){e[0]._private.rscratch.isGrabTarget=!0},s=function(e,t){var n=t.addToList;n.has(e)||!e.grabbable()||e.locked()||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},l=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(i),t.neighborhood().stdFilter((function(e){return!r||e.isEdge()})).forEach(i)),n.addToList&&t.forEach((function(e){s(e,n)})),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(i),n.connectedEdges().forEach(i)),t.addToList&&s(n,t)}}(t,n),p(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},u=l,d=function(t){t&&(e.getCachedZSortedEles().forEach((function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)})),e.updateCachedGrabbedEles())},p=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),o=r.connectedEdges();t.inDragLayer&&(o.forEach(i),r.forEach(i)),t.addToList&&r.forEach((function(e){s(e,t)}))}}},h=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,m="undefined"!=typeof ResizeObserver;f?(e.removeObserver=new MutationObserver((function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var o=0;o<r.length;o++)if(r[o]===e.container){e.destroy();break}}})),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",(function(t){e.destroy()}));var g=c.default((function(){e.cy.resize()}),100);f&&(e.styleObserver=new MutationObserver(g),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",g),m&&(e.resizeObserver=new ResizeObserver(g),e.resizeObserver.observe(e.container));var v=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,(function(t){e.registerBinding(t,"transitionend",v),e.registerBinding(t,"animationend",v),e.registerBinding(t,"scroll",v)})),e.registerBinding(e.container,"contextmenu",(function(e){e.preventDefault()}));var y,b,w,x=function(t){for(var n=e.findContainerClientCoords(),r=n[0],o=n[1],i=n[2],a=n[3],s=t.touches?t.touches:[t],l=!1,c=0;c<s.length;c++){var u=s[c];if(r<=u.clientX&&u.clientX<=r+i&&o<=u.clientY&&u.clientY<=o+a){l=!0;break}}if(!l)return!1;for(var d=e.container,p=t.target.parentNode,h=!1;p;){if(p===d){h=!0;break}p=p.parentNode}return!!h};e.registerBinding(e.container,"mousedown",(function(t){if(x(t)){t.preventDefault(),h(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,o=[t.clientX,t.clientY],i=e.projectIntoViewport(o[0],o[1]),s=e.selection,c=e.findNearestElements(i[0],i[1],!0,!1),d=c[0],p=e.dragData.possibleDragElements;if(e.hoverData.mdownPos=i,e.hoverData.mdownGPos=o,3==t.which){e.hoverData.cxtStarted=!0;var f={originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}};d?(d.activate(),d.emit(f),e.hoverData.down=d):r.emit(f),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(d&&d.activate(),null!=d&&e.nodeIsGrabbable(d)){var m=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};if(a(d),d.selected()){p=e.dragData.possibleDragElements=r.collection();var g=r.$((function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)}));l(g,{addToList:p}),d.emit(m("grabon")),g.forEach((function(e){e.emit(m("grab"))}))}else p=e.dragData.possibleDragElements=r.collection(),u(d,{addToList:p}),d.emit(m("grabon")).emit(m("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=d,e.hoverData.downs=c,e.hoverData.downTime=(new Date).getTime(),n(d,["mousedown","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==d?(s[4]=1,e.data.bgActivePosistion={x:i[0],y:i[1]},e.redrawHint("select",!0),e.redraw()):d.pannable()&&(s[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout((function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:i[0],y:i[1]}}):r.emit({originalEvent:t,type:"taphold",position:{x:i[0],y:i[1]}})}}),e.tapholdDuration)}s[0]=s[2]=i[0],s[1]=s[3]=i[1]}}),!1),e.registerBinding(window,"mousemove",(function(t){if(e.hoverData.capture||x(t)){var i=!1,a=e.cy,s=a.zoom(),c=[t.clientX,t.clientY],u=e.projectIntoViewport(c[0],c[1]),p=e.hoverData.mdownPos,h=e.hoverData.mdownGPos,f=e.selection,m=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(m=e.findNearestElement(u[0],u[1],!0,!1));var g,v=e.hoverData.last,y=e.hoverData.down,b=[u[0]-f[2],u[1]-f[3]],w=e.dragData.possibleDragElements;if(h){var _=c[0]-h[0],k=_*_,C=c[1]-h[1],S=k+C*C;e.hoverData.isOverThresholdDrag=g=S>=e.desktopTapThreshold2}var E=r(t);g&&(e.hoverData.tapholdCancelled=!0),i=!0,n(m,["mousemove","vmousemove","tapdrag"],t,{x:u[0],y:u[1]});var P=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||a.emit({originalEvent:t,type:"boxstart",position:{x:u[0],y:u[1]}}),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(g){var T={originalEvent:t,type:"cxtdrag",position:{x:u[0],y:u[1]}};y?y.emit(T):a.emit(T),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&m===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:u[0],y:u[1]}}),e.hoverData.cxtOver=m,m&&m.emit({originalEvent:t,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}}else if(e.hoverData.dragging){if(i=!0,a.panningEnabled()&&a.userPanningEnabled()){var A;if(e.hoverData.justStartedPan){var M=e.hoverData.mdownPos;A={x:(u[0]-M[0])*s,y:(u[1]-M[1])*s},e.hoverData.justStartedPan=!1}else A={x:b[0]*s,y:b[1]*s};a.panBy(A),a.emit("dragpan"),e.hoverData.dragged=!0}u=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=f[4]||null!=y&&!y.pannable()){if(y&&y.pannable()&&y.active()&&y.unactivate(),y&&y.grabbed()||m==v||(v&&n(v,["mouseout","tapdragout"],t,{x:u[0],y:u[1]}),m&&n(m,["mouseover","tapdragover"],t,{x:u[0],y:u[1]}),e.hoverData.last=m),y)if(g){if(a.boxSelectionEnabled()&&E)y&&y.grabbed()&&(d(w),y.emit("freeon"),w.emit("free"),e.dragData.didDrag&&(y.emit("dragfreeon"),w.emit("dragfree"))),P();else if(y&&y.grabbed()&&e.nodeIsDraggable(y)){var N=!e.dragData.didDrag;N&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||l(w,{inDragLayer:!0});var I={x:0,y:0};if(O(b[0])&&O(b[1])&&(I.x+=b[0],I.y+=b[1],N)){var R=e.hoverData.dragDelta;R&&O(R[0])&&O(R[1])&&(I.x+=R[0],I.y+=R[1])}e.hoverData.draggingEles=!0,w.silentShift(I).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(b[0]),t.push(b[1])):(t[0]+=b[0],t[1]+=b[1])}();i=!0}else g&&(e.hoverData.dragging||!a.boxSelectionEnabled()||!E&&a.panningEnabled()&&a.userPanningEnabled()?!e.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()&&o(y,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=ot(p),e.redrawHint("select",!0),e.redraw()):P(),y&&y.pannable()&&y.active()&&y.unactivate());return f[2]=u[0],f[3]=u[1],i?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}}),!1),e.registerBinding(window,"mouseup",(function(o){if(e.hoverData.capture){e.hoverData.capture=!1;var i=e.cy,a=e.projectIntoViewport(o.clientX,o.clientY),s=e.selection,l=e.findNearestElement(a[0],a[1],!0,!1),c=e.dragData.possibleDragElements,u=e.hoverData.down,p=r(o);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate(),3===e.hoverData.which){var h={originalEvent:o,type:"cxttapend",position:{x:a[0],y:a[1]}};if(u?u.emit(h):i.emit(h),!e.hoverData.cxtDragged){var f={originalEvent:o,type:"cxttap",position:{x:a[0],y:a[1]}};u?u.emit(f):i.emit(f)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],o,{x:a[0],y:a[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(n(u,["click","tap","vclick"],o,{x:a[0],y:a[1]}),b=!1,o.timeStamp-w<=i.multiClickDebounceTime()?(y&&clearTimeout(y),b=!0,w=null,n(u,["dblclick","dbltap","vdblclick"],o,{x:a[0],y:a[1]})):(y=setTimeout((function(){b||n(u,["oneclick","onetap","voneclick"],o,{x:a[0],y:a[1]})}),i.multiClickDebounceTime()),w=o.timeStamp)),null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(o)||(i.$(t).unselect(["tapunselect"]),c.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=c=i.collection()),l!=u||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===i.selectionType()||p?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):p||(i.$(t).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var m=i.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),m.length>0&&e.redrawHint("eles",!0),i.emit({type:"boxend",originalEvent:o,position:{x:a[0],y:a[1]}});"additive"===i.selectionType()||p||i.$(t).unmerge(m).unselect(),m.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var g=u&&u.grabbed();d(c),g&&(u.emit("freeon"),c.emit("free"),e.dragData.didDrag&&(u.emit("dragfreeon"),c.emit("dragfree")))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}}),!1);var _,k,C,S,E,P,T,A,M,N,I,R,L,j=function(t){if(!e.scrollingPage){var n=e.cy,r=n.zoom(),o=n.pan(),i=e.projectIntoViewport(t.clientX,t.clientY),a=[i[0]*r+o.x,i[1]*r+o.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var s;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout((function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()}),150),s=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,s*=e.wheelSensitivity,1===t.deltaMode&&(s*=33);var l=n.zoom()*Math.pow(10,s);"gesturechange"===t.type&&(l=e.gestureStartZoom*t.scale),n.zoom({level:l,renderedPosition:{x:a[0],y:a[1]}}),n.emit("gesturechange"===t.type?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",j,!0),e.registerBinding(window,"scroll",(function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout((function(){e.scrollingPage=!1}),250)}),!0),e.registerBinding(e.container,"gesturestart",(function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()}),!0),e.registerBinding(e.container,"gesturechange",(function(t){e.hasTouchStarted||j(t)}),!0),e.registerBinding(e.container,"mouseout",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),e.registerBinding(e.container,"mouseover",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var D,$,B,V,F,z,U,W=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},K=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",D=function(t){if(e.hasTouchStarted=!0,x(t)){h(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,o=e.touchData.now,i=e.touchData.earlier;if(t.touches[0]){var s=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);o[0]=s[0],o[1]=s[1]}if(t.touches[1]&&(s=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),o[2]=s[0],o[3]=s[1]),t.touches[2]&&(s=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),o[4]=s[0],o[5]=s[1]),t.touches[1]){e.touchData.singleTouchMoved=!0,d(e.dragData.touchDragEles);var c=e.findContainerClientCoords();M=c[0],N=c[1],I=c[2],R=c[3],_=t.touches[0].clientX-M,k=t.touches[0].clientY-N,C=t.touches[1].clientX-M,S=t.touches[1].clientY-N,L=0<=_&&_<=I&&0<=C&&C<=I&&0<=k&&k<=R&&0<=S&&S<=R;var p=r.pan(),f=r.zoom();if(E=W(_,k,C,S),P=K(_,k,C,S),A=[((T=[(_+C)/2,(k+S)/2])[0]-p.x)/f,(T[1]-p.y)/f],P<4e4&&!t.touches[2]){var m=e.findNearestElement(o[0],o[1],!0,!0),g=e.findNearestElement(o[2],o[3],!0,!0);return m&&m.isNode()?(m.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:o[0],y:o[1]}}),e.touchData.start=m):g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:o[0],y:o[1]}}),e.touchData.start=g):r.emit({originalEvent:t,type:"cxttapstart",position:{x:o[0],y:o[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])r.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var v=e.findNearestElements(o[0],o[1],!0,!0),y=v[0];if(null!=y&&(y.activate(),e.touchData.start=y,e.touchData.starts=v,e.nodeIsGrabbable(y))){var b=e.dragData.touchDragEles=r.collection(),w=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),y.selected()?(w=r.$((function(t){return t.selected()&&e.nodeIsGrabbable(t)})),l(w,{addToList:b})):u(y,{addToList:b}),a(y);var O=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};y.emit(O("grabon")),w?w.forEach((function(e){e.emit(O("grab"))})):y.emit(O("grab"))}n(y,["touchstart","tapstart","vmousedown"],t,{x:o[0],y:o[1]}),null==y&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout((function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:o[0],y:o[1]})}),e.tapholdDuration)}if(t.touches.length>=1){for(var j=e.touchData.startPosition=[],D=0;D<o.length;D++)j[D]=i[D]=o[D];var $=t.touches[0];e.touchData.startGPosition=[$.clientX,$.clientY]}}},!1),e.registerBinding(window,"touchmove",$=function(t){var r=e.touchData.capture;if(r||x(t)){var i=e.selection,a=e.cy,s=e.touchData.now,c=e.touchData.earlier,u=a.zoom();if(t.touches[0]){var p=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=p[0],s[1]=p[1]}t.touches[1]&&(p=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),s[2]=p[0],s[3]=p[1]),t.touches[2]&&(p=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),s[4]=p[0],s[5]=p[1]);var h,f=e.touchData.startGPosition;if(r&&t.touches[0]&&f){for(var m=[],g=0;g<s.length;g++)m[g]=s[g]-c[g];var v=t.touches[0].clientX-f[0],y=v*v,b=t.touches[0].clientY-f[1];h=y+b*b>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var w=t.touches[0].clientX-M,T=t.touches[0].clientY-N,I=t.touches[1].clientX-M,R=t.touches[1].clientY-N,j=K(w,T,I,R);if(j/P>=2.25||j>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var D={originalEvent:t,type:"cxttapend",position:{x:s[0],y:s[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(D),e.touchData.start=null):a.emit(D)}}if(r&&e.touchData.cxt){D={originalEvent:t,type:"cxtdrag",position:{x:s[0],y:s[1]}},e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(D):a.emit(D),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var $=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&$===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:s[0],y:s[1]}}),e.touchData.cxtOver=$,$&&$.emit({originalEvent:t,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(r&&t.touches[2]&&a.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||a.emit({originalEvent:t,type:"boxstart",position:{x:s[0],y:s[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,i[4]=1,i&&0!==i.length&&void 0!==i[0]?(i[2]=(s[0]+s[2]+s[4])/3,i[3]=(s[1]+s[3]+s[5])/3):(i[0]=(s[0]+s[2]+s[4])/3,i[1]=(s[1]+s[3]+s[5])/3,i[2]=(s[0]+s[2]+s[4])/3+1,i[3]=(s[1]+s[3]+s[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(r&&t.touches[1]&&!e.touchData.didSelect&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var B=0;B<ee.length;B++){var V=ee[B]._private;V.grabbed=!1,V.rscratch.inDragLayer=!1}}var F=e.touchData.start,z=(w=t.touches[0].clientX-M,T=t.touches[0].clientY-N,I=t.touches[1].clientX-M,R=t.touches[1].clientY-N,W(w,T,I,R)),U=z/E;if(L){var H=(w-_+(I-C))/2,q=(T-k+(R-S))/2,G=a.zoom(),X=G*U,Y=a.pan(),J=A[0]*G+Y.x,Z=A[1]*G+Y.y,Q={x:-X/G*(J-Y.x-H)+J,y:-X/G*(Z-Y.y-q)+Z};if(F&&F.active()){var ee=e.dragData.touchDragEles;d(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),F.unactivate().emit("freeon"),ee.emit("free"),e.dragData.didDrag&&(F.emit("dragfreeon"),ee.emit("dragfree"))}a.viewport({zoom:X,pan:Q,cancelOnFailedZoom:!0}),a.emit("pinchzoom"),E=z,_=w,k=T,C=I,S=R,e.pinching=!0}t.touches[0]&&(p=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),s[0]=p[0],s[1]=p[1]),t.touches[1]&&(p=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),s[2]=p[0],s[3]=p[1]),t.touches[2]&&(p=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),s[4]=p[0],s[5]=p[1])}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||($=e.findNearestElement(s[0],s[1],!0,!0)),r&&null!=te&&t.preventDefault(),r&&null!=te&&e.nodeIsDraggable(te))if(h){ee=e.dragData.touchDragEles;var re=!e.dragData.didDrag;re&&l(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var oe={x:0,y:0};O(m[0])&&O(m[1])&&(oe.x+=m[0],oe.y+=m[1],re&&(e.redrawHint("eles",!0),(ie=e.touchData.dragDelta)&&O(ie[0])&&O(ie[1])&&(oe.x+=ie[0],oe.y+=ie[1]))),e.hoverData.draggingEles=!0,ee.silentShift(oe).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==c[0]&&e.touchData.startPosition[1]==c[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ie;0===(ie=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(ie.push(m[0]),ie.push(m[1])):(ie[0]+=m[0],ie[1]+=m[1])}if(n(te||$,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),te&&te.grabbed()||$==ne||(ne&&ne.emit({originalEvent:t,type:"tapdragout",position:{x:s[0],y:s[1]}}),$&&$.emit({originalEvent:t,type:"tapdragover",position:{x:s[0],y:s[1]}})),e.touchData.last=$,r)for(B=0;B<s.length;B++)s[B]&&e.touchData.startPosition[B]&&h&&(e.touchData.singleTouchMoved=!0);r&&(null==te||te.pannable())&&a.panningEnabled()&&a.userPanningEnabled()&&(o(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=ot(e.touchData.startPosition)),e.swipePanning?(a.panBy({x:m[0]*u,y:m[1]*u}),a.emit("dragpan")):h&&(e.swipePanning=!0,a.panBy({x:v*u,y:b*u}),a.emit("dragpan"),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null))),p=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),s[0]=p[0],s[1]=p[1])}for(g=0;g<s.length;g++)c[g]=s[g];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",B=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",V=function(r){var o=e.touchData.start;if(e.touchData.capture){0===r.touches.length&&(e.touchData.capture=!1),r.preventDefault();var i=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var a,s=e.cy,l=s.zoom(),c=e.touchData.now,u=e.touchData.earlier;if(r.touches[0]){var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=p[0],c[1]=p[1]}if(r.touches[1]&&(p=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY),c[2]=p[0],c[3]=p[1]),r.touches[2]&&(p=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY),c[4]=p[0],c[5]=p[1]),o&&o.unactivate(),e.touchData.cxt){if(a={originalEvent:r,type:"cxttapend",position:{x:c[0],y:c[1]}},o?o.emit(a):s.emit(a),!e.touchData.cxtDragged){var h={originalEvent:r,type:"cxttap",position:{x:c[0],y:c[1]}};o?o.emit(h):s.emit(h)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var f=s.collection(e.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,e.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:r,position:{x:c[0],y:c[1]}}),f.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),f.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=o&&o.unactivate(),r.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var m=e.dragData.touchDragEles;if(null!=o){var g=o._private.grabbed;d(m),e.redrawHint("drag",!0),e.redrawHint("eles",!0),g&&(o.emit("freeon"),m.emit("free"),e.dragData.didDrag&&(o.emit("dragfreeon"),m.emit("dragfree"))),n(o,["touchend","tapend","vmouseup","tapdragout"],r,{x:c[0],y:c[1]}),o.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(c[0],c[1],!0,!0);n(v,["touchend","tapend","vmouseup","tapdragout"],r,{x:c[0],y:c[1]})}var y=e.touchData.startPosition[0]-c[0],b=y*y,w=e.touchData.startPosition[1]-c[1],x=(b+w*w)*l*l;e.touchData.singleTouchMoved||(o||s.$(":selected").unselect(["tapunselect"]),n(o,["tap","vclick"],r,{x:c[0],y:c[1]}),F=!1,r.timeStamp-U<=s.multiClickDebounceTime()?(z&&clearTimeout(z),F=!0,U=null,n(o,["dbltap","vdblclick"],r,{x:c[0],y:c[1]})):(z=setTimeout((function(){F||n(o,["onetap","voneclick"],r,{x:c[0],y:c[1]})}),s.multiClickDebounceTime()),U=r.timeStamp)),null!=o&&!e.dragData.didDrag&&o._private.selectable&&x<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(t).unmerge(o).unselect(["tapunselect"]),o.select(["tapselect"])):o.selected()?o.unselect(["tapunselect"]):o.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var _=0;_<c.length;_++)u[_]=c[_];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),r.touches.length<2&&(1===r.touches.length&&(e.touchData.startGPosition=[r.touches[0].clientX,r.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var H=[],q=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},G=function(e){for(var t=0;t<H.length;t++)if(H[t].event.pointerId===e.pointerId)return void H.splice(t,1)},X=function(e){e.touches=H.map((function(e){return e.touch}))},Y=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",(function(e){Y(e)||(e.preventDefault(),function(e){H.push(function(e){return{event:e,touch:q(e)}}(e))}(e),X(e),D(e))})),e.registerBinding(e.container,"pointerup",(function(e){Y(e)||(G(e),X(e),V(e))})),e.registerBinding(e.container,"pointercancel",(function(e){Y(e)||(G(e),X(e),B())})),e.registerBinding(e.container,"pointermove",(function(e){Y(e)||(e.preventDefault(),function(e){var t=H.filter((function(t){return t.event.pointerId===e.pointerId}))[0];t.event=e,t.touch=q(e)}(e),X(e),$(e))}))}};var qa={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,o){this.renderer.nodeShapeImpl("polygon",e,t,n,r,o,this.points)},intersectLine:function(e,t,n,r,o,i,a){return Lt(o,i,this.points,e,t,n/2,r/2,a)},checkPoint:function(e,t,n,r,o,i,a){return Tt(e,t,this.points,i,a,r,o,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},intersectLine:function(e,t,n,r,o,i,a){return function(e,t,n,r,o,i){var a=n-e,s=r-t;a/=o,s/=i;var l=Math.sqrt(a*a+s*s),c=l-1;if(c<0)return[];var u=c/l;return[(n-e)*u+e,(r-t)*u+t]}(o,i,e,t,n/2+a,r/2+a)},checkPoint:function(e,t,n,r,o,i,a){return Nt(e,t,r,o,i,a,n)}}},generateRoundPolygon:function(e,t){for(var n=new Array(2*t.length),r=0;r<t.length/2;r++){var o,i=2*r;o=r<t.length/2-1?2*(r+1):0,n[4*r]=t[i],n[4*r+1]=t[i+1];var a=t[o]-t[i],s=t[o+1]-t[i+1],l=Math.sqrt(a*a+s*s);n[4*r+2]=a/l,n[4*r+3]=s/l}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(e,t,n,r,o){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,o,this.points)},intersectLine:function(e,t,n,r,o,i,a){return function(e,t,n,r,o,i,a){for(var s,l=[],c=new Array(n.length),u=i/2,d=a/2,p=Ft(i,a),h=0;h<n.length/4;h++){var f,m;m=0===h?n.length-2:4*h-2,f=4*h+2;var g=r+u*n[4*h],v=o+d*n[4*h+1],y=-n[m]*n[f]-n[m+1]*n[f+1],b=p/Math.tan(Math.acos(y)/2),w=g-b*n[m],x=v-b*n[m+1],_=g+b*n[f],k=v+b*n[f+1];0===h?(c[n.length-2]=w,c[n.length-1]=x):(c[4*h-2]=w,c[4*h-1]=x),c[4*h]=_,c[4*h+1]=k;var C=n[m+1],S=-n[m];C*n[f]+S*n[f+1]<0&&(C*=-1,S*=-1),0!==(s=Ot(e,t,r,o,w+C*p,x+S*p,p)).length&&l.push(s[0],s[1])}for(var E=0;E<c.length/4;E++)0!==(s=Rt(e,t,r,o,c[4*E],c[4*E+1],c[4*E+2],c[4*E+3],!1)).length&&l.push(s[0],s[1]);if(l.length>2){for(var P=[l[0],l[1]],T=Math.pow(P[0]-e,2)+Math.pow(P[1]-t,2),A=1;A<l.length/2;A++){var M=Math.pow(l[2*A]-e,2)+Math.pow(l[2*A+1]-t,2);M<=T&&(P[0]=l[2*A],P[1]=l[2*A+1],T=M)}return P}return l}(o,i,this.points,e,t,n,r)},checkPoint:function(e,t,n,r,o,i,a){return function(e,t,n,r,o,i,a){for(var s=new Array(n.length),l=i/2,c=a/2,u=Ft(i,a),d=u*u,p=0;p<n.length/4;p++){var h,f;f=0===p?n.length-2:4*p-2,h=4*p+2;var m=r+l*n[4*p],g=o+c*n[4*p+1],v=-n[f]*n[h]-n[f+1]*n[h+1],y=u/Math.tan(Math.acos(v)/2),b=m-y*n[f],w=g-y*n[f+1],x=m+y*n[h],_=g+y*n[h+1];s[4*p]=b,s[4*p+1]=w,s[4*p+2]=x,s[4*p+3]=_;var k=n[f+1],C=-n[f];k*n[h]+C*n[h+1]<0&&(k*=-1,C*=-1);var S=b+k*u,E=w+C*u;if(Math.pow(S-e,2)+Math.pow(E-t,2)<=d)return!0}return Pt(e,t,s)}(e,t,this.points,i,a,r,o)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Dt(4,0),draw:function(e,t,n,r,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},intersectLine:function(e,t,n,r,o,i,a){return _t(o,i,e,t,n,r,a)},checkPoint:function(e,t,n,r,o,i,a){var s=Vt(r,o),l=2*s;return!!(Tt(e,t,this.points,i,a,r,o-l,[0,-1],n)||Tt(e,t,this.points,i,a,r-l,o,[0,-1],n)||Nt(e,t,l,l,i-r/2+s,a-o/2+s,n)||Nt(e,t,l,l,i+r/2-s,a-o/2+s,n)||Nt(e,t,l,l,i+r/2-s,a+o/2-s,n)||Nt(e,t,l,l,i-r/2+s,a+o/2-s,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Dt(4,0),draw:function(e,t,n,r,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},generateCutTrianglePts:function(e,t,n,r){var o=this.cornerLength,i=t/2,a=e/2,s=n-a,l=n+a,c=r-i,u=r+i;return{topLeft:[s,c+o,s+o,c,s+o,c+o],topRight:[l-o,c,l,c+o,l-o,c+o],bottomRight:[l,u-o,l-o,u,l-o,u-o],bottomLeft:[s+o,u,s,u-o,s+o,u-o]}},intersectLine:function(e,t,n,r,o,i,a){var s=this.generateCutTrianglePts(n+2*a,r+2*a,e,t),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return Lt(o,i,l,e,t)},checkPoint:function(e,t,n,r,o,i,a){if(Tt(e,t,this.points,i,a,r,o-2*this.cornerLength,[0,-1],n))return!0;if(Tt(e,t,this.points,i,a,r-2*this.cornerLength,o,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,o,i,a);return Pt(e,t,s.topLeft)||Pt(e,t,s.topRight)||Pt(e,t,s.bottomRight)||Pt(e,t,s.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Dt(4,0),draw:function(e,t,n,r,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},intersectLine:function(e,t,n,r,o,i,a){var s=this.generateBarrelBezierPts(n+2*a,r+2*a,e,t),l=function(e){var t=pt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=pt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=pt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},c=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return Lt(o,i,c,e,t)},generateBarrelBezierPts:function(e,t,n,r){var o=t/2,i=e/2,a=n-i,s=n+i,l=r-o,c=r+o,u=zt(e,t),d=u.heightOffset,p=u.widthOffset,h=u.ctrlPtOffsetPct*e,f={topLeft:[a,l+d,a+h,l,a+p,l],topRight:[s-p,l,s-h,l,s,l+d],bottomRight:[s,c-d,s-h,c,s-p,c],bottomLeft:[a+p,c,a+h,c,a,c-d]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(e,t,n,r,o,i,a){var s=zt(r,o),l=s.heightOffset,c=s.widthOffset;if(Tt(e,t,this.points,i,a,r,o-2*l,[0,-1],n))return!0;if(Tt(e,t,this.points,i,a,r-2*c,o,[0,-1],n))return!0;for(var u=this.generateBarrelBezierPts(r,o,i,a),d=function(e,t,n){var r,o,i=n[4],a=n[2],s=n[0],l=n[5],c=n[1],u=Math.min(i,s),d=Math.max(i,s),p=Math.min(l,c),h=Math.max(l,c);if(u<=e&&e<=d&&p<=t&&t<=h){var f=[(r=i)-2*(o=a)+s,2*(o-r),r],m=function(e,t,n,r){var o=t*t-4*e*(n-=r);if(o<0)return[];var i=Math.sqrt(o),a=2*e;return[(-t+i)/a,(-t-i)/a]}(f[0],f[1],f[2],e).filter((function(e){return 0<=e&&e<=1}));if(m.length>0)return m[0]}return null},p=Object.keys(u),h=0;h<p.length;h++){var f=u[p[h]],m=d(e,t,f);if(null!=m){var g=f[5],v=f[3],y=f[1],b=dt(g,v,y,m);if(f.isTop&&b<=t)return!0;if(f.isBottom&&t<=b)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Dt(4,0),draw:function(e,t,n,r,o){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},intersectLine:function(e,t,n,r,o,i,a){var s=t-(r/2+a),l=Rt(o,i,e,t,e-(n/2+a),s,e+(n/2+a),s,!1);return l.length>0?l:_t(o,i,e,t,n,r,a)},checkPoint:function(e,t,n,r,o,i,a){var s=Vt(r,o),l=2*s;if(Tt(e,t,this.points,i,a,r,o-l,[0,-1],n))return!0;if(Tt(e,t,this.points,i,a,r-l,o,[0,-1],n))return!0;var c=r/2+2*n,u=o/2+2*n;return!!Pt(e,t,[i-c,a-u,i-c,a,i+c,a,i+c,a-u])||!!Nt(e,t,l,l,i+r/2-s,a+o/2-s,n)||!!Nt(e,t,l,l,i-r/2+s,a+o/2-s,n)}}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Dt(3,0)),this.generateRoundPolygon("round-triangle",Dt(3,0)),this.generatePolygon("rectangle",Dt(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",Dt(5,0)),this.generateRoundPolygon("round-pentagon",Dt(5,0)),this.generatePolygon("hexagon",Dt(6,0)),this.generateRoundPolygon("round-hexagon",Dt(6,0)),this.generatePolygon("heptagon",Dt(7,0)),this.generateRoundPolygon("round-heptagon",Dt(7,0)),this.generatePolygon("octagon",Dt(8,0)),this.generateRoundPolygon("round-octagon",Dt(8,0));var r=new Array(20),o=Bt(5,0),i=Bt(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<i.length/2;s++)i[2*s]*=a,i[2*s+1]*=a;for(s=0;s<5;s++)r[4*s]=o[2*s],r[4*s+1]=o[2*s+1],r[4*s+2]=i[2*s],r[4*s+3]=i[2*s+1];r=$t(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}}},Ga={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||Ne();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Se("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort((function(e,t){return t.priority-e.priority}))}}},Xa=function(e,t,n){for(var r=e.beforeRenderCallbacks,o=0;o<r.length;o++)r[o].fn(t,n)};Ga.startRenderLoop=function(){var e=this,t=e.cy;e.renderLoopStarted||(e.renderLoopStarted=!0,ie((function n(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){Xa(e,!0,r);var o=ae();e.render(e.renderOptions);var i=e.lastDrawTime=ae();void 0===e.averageRedrawTime&&(e.averageRedrawTime=i-o),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var a=i-o;e.redrawTotalTime+=a,e.lastRedrawTime=a,e.averageRedrawTime=e.averageRedrawTime/2+a/2,e.requestedFrame=!1}else Xa(e,!1,r);e.skipFrame=!1,ie(n)}})))};var Ya=function(e){this.init(e)},Ja=Ya.prototype;Ja.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ja.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(x){var r=x.document,o=r.head,i="__________cytoscape_stylesheet",a="__________cytoscape_container",s=null!=r.getElementById(i);if(n.className.indexOf(a)<0&&(n.className=(n.className||"")+" "+a),!s){var l=r.createElement("style");l.id=i,l.textContent="."+a+" { position: relative; }",o.insertBefore(l,o.children[0])}"static"===x.getComputedStyle(n).getPropertyValue("position")&&Pe("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=O(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Ja.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},Ja.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},Ja.isHeadless=function(){return!1},[Ma,Wa,Ka,Ha,qa,Ga].forEach((function(e){Z(Ja,e)}));var Za=1e3/60,Qa=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=c.default((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),e.deqRedrawThreshold),o=e.priority||Ce;n.beforeRender((function(o,i){var a=ae(),s=n.averageRedrawTime,l=n.lastRedrawTime,c=[],u=n.cy.extent(),d=n.getPixelRatio();for(o||n.flushRenderedStyleQueue();;){var p=ae(),h=p-a,f=p-i;if(l<Za){var m=Za-(o?s:0);if(f>=e.deqFastCost*m)break}else if(o){if(h>=e.deqCost*l||h>=e.deqAvgCost*s)break}else if(f>=e.deqNoDrawCost*Za)break;var g=e.deq(t,d,u);if(!(g.length>0))break;for(var v=0;v<g.length;v++)c.push(g[v])}c.length>0&&(e.onDeqd(t,c),!o&&e.shouldRedraw(t,c,d,u)&&r())}),o(t))}}},es=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e;m(this,e),this.idsByKey=new De,this.keyForId=new De,this.cachesByLvl=new De,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return v(e,[{key:"getIdsFor",value:function(e){null==e&&Se("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Be,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new De,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach((function(n){return t.deleteCache(e,n)}))}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),e}(),ts={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},ns=Oe({getKey:null,doesEleInvalidateKey:_e,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:xe,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),rs=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=ns(t);Z(n,r),n.lookup=new es(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},os=rs.prototype;os.reasons=ts,os.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},os.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},os.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new u.default((function(e,t){return t.reqs-e.reqs}))},os.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},os.getElement=function(e,t,n,r,o){var i=this,a=this.renderer,s=a.cy.zoom(),l=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(at(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var c=Math.pow(2,r),u=t.h*c,d=t.w*c,p=a.eleTextBiggerThanMin(e,c);if(!this.isVisible(e,p))return null;var h,f=l.get(e,r);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(h=u<=25?25:u<=50?50:50*Math.ceil(u/50),u>1024||d>1024)return null;var m=i.getTextureQueue(h),g=m[m.length-2],v=function(){return i.recycleTexture(h,d)||i.addTexture(h,d)};g||(g=m[m.length-1]),g||(g=v()),g.width-g.usedWidth<d&&(g=v());for(var y,b=function(e){return e&&e.scaledLabelShown===p},w=o&&o===ts.dequeue,x=o&&o===ts.highQuality,_=o&&o===ts.downscale,k=r+1;k<=3;k++){var C=l.get(e,k);if(C){y=C;break}}var S=y&&y.level===r+1?y:null,E=function(){g.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,g.usedWidth,0,d,u)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,d,h),b(S))E();else if(b(y)){if(!x)return i.queueElement(e,y.level-1),y;for(var P=y.level;P>r;P--)S=i.getElement(e,t,n,P,ts.downscale);E()}else{var T;if(!w&&!x&&!_)for(var A=r-1;A>=-4;A--){var M=l.get(e,A);if(M){T=M;break}}if(b(T))return i.queueElement(e,r),T;g.context.translate(g.usedWidth,0),g.context.scale(c,c),this.drawElement(g.context,e,t,p,!1),g.context.scale(1/c,1/c),g.context.translate(-g.usedWidth,0)}return f={x:g.usedWidth,texture:g,level:r,scale:c,width:d,height:u,scaledLabelShown:p},g.usedWidth+=Math.ceil(d+8),g.eleCaches.push(f),l.set(e,r,f),i.checkTextureFullness(g),f},os.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},os.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var o=-4;o<=3;o++){var i=n.getForCachedKey(e,o);i&&r.push(i)}if(n.invalidate(e))for(var a=0;a<r.length;a++){var s=r[a],l=s.texture;l.invalidatedWidth+=s.width,s.invalidated=!0,t.checkTextureUtility(l)}t.removeFromQueue(e)}},os.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},os.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Ie(t,e):e.fullnessChecks++},os.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;Ie(n,e),e.retired=!0;for(var o=e.eleCaches,i=0;i<o.length;i++){var a=o[i];r.deleteCache(a.key,a.level)}Re(o),this.getRetiredTextureQueue(t).push(e)},os.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},os.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),o=0;o<r.length;o++){var i=r[o];if(i.width>=t)return i.retired=!1,i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,Re(i.eleCaches),i.context.setTransform(1,0,0,1,0,0),i.context.clearRect(0,0,i.width,i.height),Ie(r,i),n.push(i),i}},os.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),o=this.getKey(e),i=r[o];if(i)i.level=Math.max(i.level,t),i.eles.merge(e),i.reqs++,n.updateItem(i);else{var a={eles:e.spawn().merge(e),level:t,reqs:1,key:o};n.push(a),r[o]=a}},os.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),o=[],i=t.lookup,a=0;a<1&&n.size()>0;a++){var s=n.pop(),l=s.key,c=s.eles[0],u=i.hasCache(c,s.level);if(r[l]=null,!u){o.push(s);var d=t.getBoundingBox(c);t.getElement(c,d,e,s.level,ts.dequeue)}}return o},os.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),o=n[r];null!=o&&(1===o.eles.length?(o.reqs=we,t.updateItem(o),t.pop(),n[r]=null):o.eles.unmerge(e))},os.onDequeue=function(e){this.onDequeues.push(e)},os.offDequeue=function(e){Ie(this.onDequeues,e)},os.setupDequeueing=Qa({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++)(0,e.onDequeues[n])(t)},shouldRedraw:function(e,t,n,r){for(var o=0;o<t.length;o++)for(var i=t[o].eles,a=0;a<i.length;a++){var s=i[a].boundingBox();if(bt(s,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var is=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ae()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=c.default((function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)}),50),n.beforeRender((function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1}),n.beforeRenderPriorities.lyrTxrSkip),t.layersQueue=new u.default((function(e,t){return t.reqs-e.reqs})),t.setupDequeueing()},as=is.prototype,ss=0,ls=Math.pow(2,53)-1;as.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),o=Math.ceil(e.h*n),i=this.renderer.makeOffscreenCanvas(r,o),a={id:ss=++ss%ls,bb:e,level:t,width:r,height:o,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,c=-a.bb.y1;return s.scale(n,n),s.translate(l,c),a},as.getLayers=function(e,t,n){var r=this,o=r.renderer.cy.zoom(),i=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(at(o*t)))<-4)n=-4;else if(o>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var a,s,l=r.layersByLevel,c=Math.pow(2,n),u=l[n]=l[n]||[];if(r.levelIsComplete(n,e))return u;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return s=l[t],!0},o=function(e){if(!s)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};o(1),o(-1);for(var i=u.length-1;i>=0;i--){var a=u[i];a.invalid&&Ie(u,a)}}();var d=function(t){var o=(t=t||{}).after;if(function(){if(!a){a=ft();for(var t=0;t<e.length;t++)n=a,r=e[t].boundingBox(),n.x1=Math.min(n.x1,r.x1),n.x2=Math.max(n.x2,r.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,r.y1),n.y2=Math.max(n.y2,r.y2),n.h=n.y2-n.y1}var n,r}(),a.w*c*(a.h*c)>16e6)return null;var i=r.makeLayer(a,n);if(null!=o){var s=u.indexOf(o)+1;u.splice(s,0,i)}else(void 0===t.insert||t.insert)&&u.unshift(i);return i};if(r.skipping&&!i)return null;for(var p=null,h=e.length/1,f=!i,m=0;m<e.length;m++){var g=e[m],v=g._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[n];if(b)p=b;else{if((!p||p.eles.length>=h||!xt(p.bb,g.boundingBox()))&&!(p=d({insert:!0,after:p})))return null;s||f?r.queueLayer(p,g):r.drawEleInLayer(p,g,n,t),p.eles.push(g),y[n]=p}}return s||(f?null:u)},as.getEleLevelForLayerLevel=function(e,t){return e},as.drawEleInLayer=function(e,t,n,r){var o=this.renderer,i=e.context,a=t.boundingBox();0!==a.w&&0!==a.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),o.setImgSmoothing(i,!1),o.drawCachedElement(i,t,null,null,n,!0),o.setImgSmoothing(i,!0))},as.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,o=0;o<n.length;o++){var i=n[o];if(i.reqs>0)return!1;if(i.invalid)return!1;r+=i.eles.length}return r===t.length},as.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var o=n[r],i=-1,a=0;a<t.length;a++)if(o.eles[0]===t[a]){i=a;break}if(i<0)this.invalidateLayer(o);else{var s=i;for(a=0;a<o.eles.length;a++)if(o.eles[a]!==t[s+a]){this.invalidateLayer(o);break}}}},as.updateElementsInLayers=function(e,t){for(var n=L(e[0]),r=0;r<e.length;r++)for(var o=n?null:e[r],i=n?e[r]:e[r].ele,a=i._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},l=-4;l<=2;l++){var c=s[l];c&&(o&&this.getEleLevelForLayerLevel(c.level)!==o.level||t(c,i,o))}},as.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},as.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=ae(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,(function(e,n,r){t.invalidateLayer(e)})))},as.invalidateLayer=function(e){if(this.lastInvalidationTime=ae(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];Ie(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var o=0;o<n.length;o++){var i=n[o]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}},as.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,(function(e,n,r){var o=e.replacement;if(o||((o=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,o.eles=e.eles),!o.reqs)for(var i=0;i<o.eles.length;i++)t.queueLayer(o,o.eles[i])}))},as.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},as.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,o=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;r.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},as.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],o=0;o<1&&0!==n.size();){var i=n.peek();if(i.replacement)n.pop();else if(i.replaces&&i!==i.replaces.replacement)n.pop();else if(i.invalid)n.pop();else{var a=i.elesQueue.shift();a&&(t.drawEleInLayer(i,a,i.level,e),o++),0===r.length&&r.push(!0),0===i.elesQueue.length&&(n.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}}return r},as.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var o=0;o<e.eles.length;o++){var i=e.eles[o]._private,a=i.imgLayerCaches=i.imgLayerCaches||{};a&&(a[e.level]=e)}this.requestRedraw()}},as.requestRedraw=c.default((function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()}),100),as.setupDequeueing=Qa({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:Ce,shouldRedraw:xe,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var cs,us={};function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function ps(e,t,n){for(var r,o=0;o<t.length;o++){var i=t[o];0===o&&(r=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function hs(e,t,n){e.beginPath&&e.beginPath();for(var r=t,o=0;o<r.length;o++){var i=r[o];e.lineTo(i.x,i.y)}var a=n,s=n[0];for(e.moveTo(s.x,s.y),o=1;o<a.length;o++)i=a[o],e.lineTo(i.x,i.y);e.closePath&&e.closePath()}function fs(e,t,n,r,o){e.beginPath&&e.beginPath(),e.arc(n,r,o,0,2*Math.PI,!1);var i=t,a=i[0];e.moveTo(a.x,a.y);for(var s=0;s<i.length;s++){var l=i[s];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function ms(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}us.arrowShapeImpl=function(e){return(cs||(cs={polygon:ds,"triangle-backcurve":ps,"triangle-tee":hs,"circle-triangle":fs,"triangle-cross":hs,circle:ms}))[e]};var gs={drawElement:function(e,t,n,r,o,i){t.isNode()?this.drawNode(e,t,n,r,o,i):this.drawEdge(e,t,n,r,o,i)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,n,r,o,i,a,s){var l=this,c=n.getBoundingBox(t);if(0!==c.w&&0!==c.h){var u=n.getElement(t,c,r,o,i);if(null!=u){var d=s(l,t);if(0===d)return;var p,h,f,m,g,v,y=a(l,t),b=c.x1,w=c.y1,x=c.w,_=c.h;if(0!==y){var k=n.getRotationPoint(t);f=k.x,m=k.y,e.translate(f,m),e.rotate(y),(g=l.getImgSmoothing(e))||l.setImgSmoothing(e,!0);var C=n.getRotationOffset(t);p=C.x,h=C.y}else p=b,h=w;1!==d&&(v=e.globalAlpha,e.globalAlpha=v*d),e.drawImage(u.texture.canvas,u.x,0,u.width,u.height,p,h,x,_),1!==d&&(e.globalAlpha=v),0!==y&&(e.rotate(-y),e.translate(-f,-m),g||l.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},vs=function(){return 0},ys=function(e,t){return e.getTextAngle(t,null)},bs=function(e,t){return e.getTextAngle(t,"source")},ws=function(e,t){return e.getTextAngle(t,"target")},xs=function(e,t){return t.effectiveOpacity()},_s=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};gs.drawCachedElement=function(e,t,n,r,o,i){var a=this,s=a.data,l=s.eleTxrCache,c=s.lblTxrCache,u=s.slbTxrCache,d=s.tlbTxrCache,p=t.boundingBox(),h=!0===i?l.reasons.highQuality:null;if(0!==p.w&&0!==p.h&&t.visible()&&(!r||bt(p,r))){var f=t.isEdge(),m=t.element()._private.rscratch.badLine;a.drawElementUnderlay(e,t),a.drawCachedElementPortion(e,t,l,n,o,h,vs,xs),f&&m||a.drawCachedElementPortion(e,t,c,n,o,h,ys,_s),f&&!m&&(a.drawCachedElementPortion(e,t,u,n,o,h,bs,_s),a.drawCachedElementPortion(e,t,d,n,o,h,ws,_s)),a.drawElementOverlay(e,t)}},gs.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},gs.drawCachedElements=function(e,t,n,r){for(var o=0;o<t.length;o++){var i=t[o];this.drawCachedElement(e,i,n,r)}},gs.drawCachedNodes=function(e,t,n,r){for(var o=0;o<t.length;o++){var i=t[o];i.isNode()&&this.drawCachedElement(e,i,n,r)}},gs.drawLayeredElements=function(e,t,n,r){var o=this.data.lyrTxrCache.getLayers(t,n);if(o)for(var i=0;i<o.length;i++){var a=o[i],s=a.bb;0!==s.w&&0!==s.h&&e.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)};var ks={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,s=t._private.rscratch;if((!i||t.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;n&&(l=n,e.translate(-l.x1,-l.y1));var c=i?t.pstyle("opacity").value:1,u=i?t.pstyle("line-opacity").value:1,d=t.pstyle("curve-style").value,p=t.pstyle("line-style").value,h=t.pstyle("width").pfValue,f=t.pstyle("line-cap").value,m=c*u,g=c*u,v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;"straight-triangle"===d?(a.eleStrokeStyle(e,t,n),a.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=h,e.lineCap=f,a.eleStrokeStyle(e,t,n),a.drawEdgePath(t,e,s.allpts,p),e.lineCap="butt")},y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;a.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var b=t.pstyle("ghost-offset-x").pfValue,w=t.pstyle("ghost-offset-y").pfValue,x=t.pstyle("ghost-opacity").value,_=m*x;e.translate(b,w),v(_),y(_),e.translate(-b,-w)}o&&a.drawEdgeUnderlay(e,t),v(),y(),o&&a.drawEdgeOverlay(e,t),a.drawElementText(e,t,null,r),n&&e.translate(l.x1,l.y1)}}},Cs=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var r=n.pstyle("".concat(e,"-opacity")).value;if(0!==r){var o=this,i=o.usePaths(),a=n._private.rscratch,s=2*n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-color")).value;t.lineWidth=s,"self"!==a.edgeType||i?t.lineCap="round":t.lineCap="butt",o.colorStrokeStyle(t,l[0],l[1],l[2],r),o.drawEdgePath(n,t,a.allpts,"solid")}}}};ks.drawEdgeOverlay=Cs("overlay"),ks.drawEdgeUnderlay=Cs("underlay"),ks.drawEdgePath=function(e,t,n,r){var o,i=e._private.rscratch,a=t,s=!1,l=this.usePaths(),c=e.pstyle("line-dash-pattern").pfValue,u=e.pstyle("line-dash-offset").pfValue;if(l){var d=n.join("$");i.pathCacheKey&&i.pathCacheKey===d?(o=t=i.pathCache,s=!0):(o=t=new Path2D,i.pathCacheKey=d,i.pathCache=o)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(c),a.lineDashOffset=u;break;case"solid":a.setLineDash([])}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<n.length;p+=4)t.quadraticCurveTo(n[p],n[p+1],n[p+2],n[p+3]);break;case"straight":case"segments":case"haystack":for(var h=2;h+1<n.length;h+=2)t.lineTo(n[h],n[h+1])}t=a,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])},ks.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,o=0;o+1<n.length;o+=2){var i=[n[o+2]-n[o],n[o+3]-n[o+1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/a,-i[0]/a],l=[s[0]*r/2,s[1]*r/2];t.beginPath(),t.moveTo(n[o]-l[0],n[o+1]-l[1]),t.lineTo(n[o]+l[0],n[o+1]+l[1]),t.lineTo(n[o+2],n[o+3]),t.closePath(),t.fill()}},ks.drawArrowheads=function(e,t,n){var r=t._private.rscratch,o="haystack"===r.edgeType;o||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),o||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},ks.drawArrowhead=function(e,t,n,r,o,i,a){if(!(isNaN(r)||null==r||isNaN(o)||null==o||isNaN(i)||null==i)){var s=this,l=t.pstyle(n+"-arrow-shape").value;if("none"!==l){var c="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,d=t.pstyle("width").pfValue,p=t.pstyle("opacity").value;void 0===a&&(a=p);var h=e.globalCompositeOperation;1===a&&"hollow"!==u||(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,c,d,l,r,o,i),e.globalCompositeOperation=h);var f=t.pstyle(n+"-arrow-color").value;s.colorFillStyle(e,f[0],f[1],f[2],a),s.colorStrokeStyle(e,f[0],f[1],f[2],a),s.drawArrowShape(t,e,u,d,l,r,o,i)}}},ks.drawArrowShape=function(e,t,n,r,o,i,a,s){var l,c=this,u=this.usePaths()&&"triangle-cross"!==o,d=!1,p=t,h={x:i,y:a},f=e.pstyle("arrow-scale").value,m=this.getArrowWidth(r,f),g=c.arrowShapes[o];if(u){var v=c.arrowPathCache=c.arrowPathCache||[],y=fe(o),b=v[y];null!=b?(l=t=b,d=!0):(l=t=new Path2D,v[y]=l)}d||(t.beginPath&&t.beginPath(),u?g.draw(t,1,0,{x:0,y:0},1):g.draw(t,m,s,h,r),t.closePath&&t.closePath()),t=p,u&&(t.translate(i,a),t.rotate(s),t.scale(m,m)),"filled"!==n&&"both"!==n||(u?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(g.matchEdgeWidth?r:1)/(u?m:1),t.lineJoin="miter",u?t.stroke(l):t.stroke()),u&&(t.scale(1/m,1/m),t.rotate(-s),t.translate(-i,-a))};var Ss={safeDrawImage:function(e,t,n,r,o,i,a,s,l,c){if(!(o<=0||i<=0||l<=0||c<=0))try{e.drawImage(t,n,r,o,i,a,s,l,c)}catch(e){Pe(e)}},drawInscribedImage:function(e,t,n,r,o){var i=this,a=n.position(),s=a.x,l=a.y,c=n.cy().style(),u=c.getIndexedStyle.bind(c),d=u(n,"background-fit","value",r),p=u(n,"background-repeat","value",r),h=n.width(),f=n.height(),m=2*n.padding(),g=h+("inner"===u(n,"background-width-relative-to","value",r)?0:m),v=f+("inner"===u(n,"background-height-relative-to","value",r)?0:m),y=n._private.rscratch,b="node"===u(n,"background-clip","value",r),w=u(n,"background-image-opacity","value",r)*o,x=u(n,"background-image-smoothing","value",r),_=t.width||t.cachedW,k=t.height||t.cachedH;null!=_&&null!=k||(document.body.appendChild(t),_=t.cachedW=t.width||t.offsetWidth,k=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var C=_,S=k;if("auto"!==u(n,"background-width","value",r)&&(C="%"===u(n,"background-width","units",r)?u(n,"background-width","pfValue",r)*g:u(n,"background-width","pfValue",r)),"auto"!==u(n,"background-height","value",r)&&(S="%"===u(n,"background-height","units",r)?u(n,"background-height","pfValue",r)*v:u(n,"background-height","pfValue",r)),0!==C&&0!==S){if("contain"===d)C*=E=Math.min(g/C,v/S),S*=E;else if("cover"===d){var E;C*=E=Math.max(g/C,v/S),S*=E}var P=s-g/2,T=u(n,"background-position-x","units",r),A=u(n,"background-position-x","pfValue",r);P+="%"===T?(g-C)*A:A;var M=u(n,"background-offset-x","units",r),N=u(n,"background-offset-x","pfValue",r);P+="%"===M?(g-C)*N:N;var O=l-v/2,I=u(n,"background-position-y","units",r),R=u(n,"background-position-y","pfValue",r);O+="%"===I?(v-S)*R:R;var L=u(n,"background-offset-y","units",r),j=u(n,"background-offset-y","pfValue",r);O+="%"===L?(v-S)*j:j,y.pathCache&&(P-=s,O-=l,s=0,l=0);var D=e.globalAlpha;e.globalAlpha=w;var $=i.getImgSmoothing(e),B=!1;if("no"===x&&$?(i.setImgSmoothing(e,!1),B=!0):"yes"!==x||$||(i.setImgSmoothing(e,!0),B=!0),"no-repeat"===p)b&&(e.save(),y.pathCache?e.clip(y.pathCache):(i.nodeShapes[i.getNodeShape(n)].draw(e,s,l,g,v),e.clip())),i.safeDrawImage(e,t,0,0,_,k,P,O,C,S),b&&e.restore();else{var V=e.createPattern(t,p);e.fillStyle=V,i.nodeShapes[i.getNodeShape(n)].draw(e,s,l,g,v),e.translate(P,O),e.fill(),e.translate(-P,-O)}e.globalAlpha=D,B&&i.setImgSmoothing(e,$)}}},Es={eleTextBiggerThanMin:function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),o=Math.ceil(at(n*r));t=Math.pow(2,o)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(e,t,n,r,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==r){if(i&&!a.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=a.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,u=t.pstyle("label"),d=t.pstyle("source-label"),p=t.pstyle("target-label");if(c||(!u||!u.value)&&(!d||!d.value)&&(!p||!p.value))return;e.textAlign="center",e.textBaseline="bottom"}var h,f=!n;n&&(h=n,e.translate(-h.x1,-h.y1)),null==o?(a.drawText(e,t,null,f,i),t.isEdge()&&(a.drawText(e,t,"source",f,i),a.drawText(e,t,"target",f,i))):a.drawText(e,t,o,f,i),n&&e.translate(h.x1,h.y1)},getFontCache:function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},setupTextStyle:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,s=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*s,c=t.pstyle("color").value,u=t.pstyle("text-outline-color").value;e.font=r+" "+a+" "+o+" "+i,e.lineJoin="round",this.colorFillStyle(e,c[0],c[1],c[2],s),this.colorStrokeStyle(e,u[0],u[1],u[2],l)},getTextAngle:function(e,t){var n=e._private.rscratch,r=t?t+"-":"",o=e.pstyle(r+"text-rotation"),i=Le(n,"labelAngle",t);return"autorotate"===o.strValue?e.isEdge()?i:0:"none"===o.strValue?0:o.pfValue},drawText:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t._private.rscratch,a=o?t.effectiveOpacity():1;if(!o||0!==a&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var s,l,c=Le(i,"labelX",n),u=Le(i,"labelY",n),d=this.getLabelText(t,n);if(null!=d&&""!==d&&!isNaN(c)&&!isNaN(u)){this.setupTextStyle(e,t,o);var p,h=n?n+"-":"",f=Le(i,"labelWidth",n),m=Le(i,"labelHeight",n),g=t.pstyle(h+"text-margin-x").pfValue,v=t.pstyle(h+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;switch(y&&(b="center",w="center"),c+=g,u+=v,0!==(p=r?this.getTextAngle(t,n):0)&&(s=c,l=u,e.translate(s,l),e.rotate(p),c=0,u=0),w){case"top":break;case"center":u+=m/2;break;case"bottom":u+=m}var x=t.pstyle("text-background-opacity").value,_=t.pstyle("text-border-opacity").value,k=t.pstyle("text-border-width").pfValue,C=t.pstyle("text-background-padding").pfValue;if(x>0||k>0&&_>0){var S=c-C;switch(b){case"left":S-=f;break;case"center":S-=f/2}var E=u-m-C,P=f+2*C,T=m+2*C;if(x>0){var A=e.fillStyle,M=t.pstyle("text-background-color").value;e.fillStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+x*a+")",0===t.pstyle("text-background-shape").strValue.indexOf("round")?function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+o-i),e.quadraticCurveTo(t+r,n+o,t+r-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fill()}(e,S,E,P,T,2):e.fillRect(S,E,P,T),e.fillStyle=A}if(k>0&&_>0){var N=e.strokeStyle,O=e.lineWidth,I=t.pstyle("text-border-color").value,R=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+_*a+")",e.lineWidth=k,e.setLineDash)switch(R){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=k/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(S,E,P,T),"double"===R){var L=k/2;e.strokeRect(S+L,E+L,P-2*L,T-2*L)}e.setLineDash&&e.setLineDash([]),e.lineWidth=O,e.strokeStyle=N}}var j=2*t.pstyle("text-outline-width").pfValue;if(j>0&&(e.lineWidth=j),"wrap"===t.pstyle("text-wrap").value){var D=Le(i,"labelWrapCachedLines",n),$=Le(i,"labelLineHeight",n),B=f/2,V=this.getLabelJustification(t);switch("auto"===V||("left"===b?"left"===V?c+=-f:"center"===V&&(c+=-B):"center"===b?"left"===V?c+=-B:"right"===V&&(c+=B):"right"===b&&("center"===V?c+=B:"right"===V&&(c+=f))),w){case"top":case"center":case"bottom":u-=(D.length-1)*$}for(var F=0;F<D.length;F++)j>0&&e.strokeText(D[F],c,u),e.fillText(D[F],c,u),u+=$}else j>0&&e.strokeText(d,c,u),e.fillText(d,c,u);0!==p&&(e.rotate(-p),e.translate(-s,-l))}}}},Ps={drawNode:function(e,t,n){var r,o,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,c=t._private,u=c.rscratch,d=t.position();if(O(d.x)&&O(d.y)&&(!s||t.visible())){var p,h,f=s?t.effectiveOpacity():1,m=l.usePaths(),g=!1,v=t.padding();r=t.width()+2*v,o=t.height()+2*v,n&&(h=n,e.translate(-h.x1,-h.y1));for(var y=t.pstyle("background-image").value,b=new Array(y.length),w=new Array(y.length),x=0,_=0;_<y.length;_++){var k=y[_];if(b[_]=null!=k&&"none"!==k){var C=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",_);x++,w[_]=l.getCachedImage(k,C,(function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")}))}}var S=t.pstyle("background-blacken").value,E=t.pstyle("border-width").pfValue,P=t.pstyle("background-opacity").value*f,T=t.pstyle("border-color").value,A=t.pstyle("border-style").value,M=t.pstyle("border-opacity").value*f;e.lineJoin="miter";var N=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.eleFillStyle(e,t,n)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;l.colorStrokeStyle(e,T[0],T[1],T[2],t)},R=t.pstyle("shape").strValue,L=t.pstyle("shape-polygon-points").pfValue;if(m){e.translate(d.x,d.y);var j=l.nodePathCache=l.nodePathCache||[],D=me("polygon"===R?R+","+L.join(","):R,""+o,""+r),$=j[D];null!=$?(p=$,g=!0,u.pathCache=p):(p=new Path2D,j[D]=u.pathCache=p)}var B=function(){if(!g){var n=d;m&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(p||e,n.x,n.y,r,o)}m?e.fill(p):e.fill()},V=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=c.backgrounding,i=0,a=0;a<w.length;a++){var s=t.cy().style().getIndexedStyle(t,"background-image-containment","value",a);r&&"over"===s||!r&&"inside"===s?i++:b[a]&&w[a].complete&&!w[a].error&&(i++,l.drawInscribedImage(e,w[a],t,a,n))}c.backgrounding=!(i===x),o!==c.backgrounding&&t.updateStyle(!1)},F=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(t)&&(l.drawPie(e,t,i),n&&(m||l.nodeShapes[l.getNodeShape(t)].draw(e,d.x,d.y,r,o)))},z=function(){var t=(S>0?S:-S)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:f),n=S>0?0:255;0!==S&&(l.colorFillStyle(e,n,n,n,t),m?e.fill(p):e.fill())},U=function(){if(E>0){if(e.lineWidth=E,e.lineCap="butt",e.setLineDash)switch(A){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(m?e.stroke(p):e.stroke(),"double"===A){e.lineWidth=E/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",m?e.stroke(p):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var W=t.pstyle("ghost-offset-x").pfValue,K=t.pstyle("ghost-offset-y").pfValue,H=t.pstyle("ghost-opacity").value,q=H*f;e.translate(W,K),N(H*P),B(),V(q,!0),I(H*M),U(),F(0!==S||0!==E),V(q,!1),z(q),e.translate(-W,-K)}m&&e.translate(-d.x,-d.y),a&&l.drawNodeUnderlay(e,t,d,r,o),m&&e.translate(d.x,d.y),N(),B(),V(f,!0),I(),U(),F(0!==S||0!==E),V(f,!1),z(),m&&e.translate(-d.x,-d.y),l.drawElementText(e,t,null,i),a&&l.drawNodeOverlay(e,t,d,r,o),n&&e.translate(h.x1,h.y1)}}},Ts=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,r,o,i){if(n.visible()){var a=n.pstyle("".concat(e,"-padding")).pfValue,s=n.pstyle("".concat(e,"-opacity")).value,l=n.pstyle("".concat(e,"-color")).value,c=n.pstyle("".concat(e,"-shape")).value;if(s>0){if(r=r||n.position(),null==o||null==i){var u=n.padding();o=n.width()+2*u,i=n.height()+2*u}this.colorFillStyle(t,l[0],l[1],l[2],s),this.nodeShapes[c].draw(t,r.x,r.y,o+2*a,i+2*a),t.fill()}}}};Ps.drawNodeOverlay=Ts("overlay"),Ps.drawNodeUnderlay=Ts("underlay"),Ps.hasPie=function(e){return(e=e[0])._private.hasPie},Ps.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var o=t.cy().style(),i=t.pstyle("pie-size"),a=r.x,s=r.y,l=t.width(),c=t.height(),u=Math.min(l,c)/2,d=0;this.usePaths()&&(a=0,s=0),"%"===i.units?u*=i.pfValue:void 0!==i.pfValue&&(u=i.pfValue/2);for(var p=1;p<=o.pieBackgroundN;p++){var h=t.pstyle("pie-"+p+"-background-size").value,f=t.pstyle("pie-"+p+"-background-color").value,m=t.pstyle("pie-"+p+"-background-opacity").value*n,g=h/100;g+d>1&&(g=1-d);var v=1.5*Math.PI+2*Math.PI*d,y=v+2*Math.PI*g;0===h||d>=1||d+g>1||(e.beginPath(),e.moveTo(a,s),e.arc(a,s,u,v,y),e.closePath(),this.colorFillStyle(e,f[0],f[1],f[2],m),e.fill(),d+=g)}};for(var As={getPixelRatio:function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},paintCache:function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,o=0;o<n.length;o++)if((t=n[o]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},createGradientStyleFor:function(e,t,n,r,o){var i,a=this.usePaths(),s=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var c=n.sourceEndpoint(),u=n.targetEndpoint(),d=n.midpoint(),p=lt(c,d),h=lt(u,d);i=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(p,h))}else{var f=a?{x:0,y:0}:n.position(),m=n.paddedWidth(),g=n.paddedHeight();i=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(m,g))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();i=e.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=a?{x:0,y:0}:n.position(),w=n.paddedWidth()/2,x=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":i=e.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":i=e.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":i=e.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-right":i=e.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x)}}if(!i)return null;for(var _=l.length===s.length,k=s.length,C=0;C<k;C++)i.addColorStop(_?l[C]:C/(k-1),"rgba("+s[C][0]+","+s[C][1]+","+s[C][2]+","+o+")");return i},gradientFillStyle:function(e,t,n,r){var o=this.createGradientStyleFor(e,"background",t,n,r);if(!o)return null;e.fillStyle=o},colorFillStyle:function(e,t,n,r,o){e.fillStyle="rgba("+t+","+n+","+r+","+o+")"},eleFillStyle:function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var o=t.pstyle("background-color").value;this.colorFillStyle(e,o[0],o[1],o[2],n)}},gradientStrokeStyle:function(e,t,n,r){var o=this.createGradientStyleFor(e,"line",t,n,r);if(!o)return null;e.strokeStyle=o},colorStrokeStyle:function(e,t,n,r,o){e.strokeStyle="rgba("+t+","+n+","+r+","+o+")"},eleStrokeStyle:function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var o=t.pstyle("line-color").value;this.colorStrokeStyle(e,o[0],o[1],o[2],n)}},matchCanvasSize:function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),o=r[2],i=r[3],a=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,c=o*a,u=i*a;if(c!==t.canvasWidth||u!==t.canvasHeight){t.fontCaches=null;var d=n.canvasContainer;d.style.width=o+"px",d.style.height=i+"px";for(var p=0;p<t.CANVAS_LAYERS;p++)(l=n.canvases[p]).width=c,l.height=u,l.style.width=o+"px",l.style.height=i+"px";for(p=0;p<t.BUFFER_COUNT;p++)(l=n.bufferCanvases[p]).width=c,l.height=u,l.style.width=o+"px",l.style.height=i+"px";t.textureMult=1,a<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=c*t.textureMult,l.height=u*t.textureMult),t.canvasWidth=c,t.canvasHeight=u}},renderTo:function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},render:function(e){var t=(e=e||Ne()).forcedContext,n=e.drawAllLayers,r=e.drawOnlyNodeLayer,o=e.forcedZoom,i=e.forcedPan,a=this,s=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=a.cy,c=a.data,u=c.canvasNeedsRedraw,d=a.textureOnViewport&&!t&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),p=void 0!==e.motionBlur?e.motionBlur:a.motionBlur,h=a.motionBlurPxRatio,f=l.hasCompoundNodes(),m=a.hoverData.draggingEles,g=!(!a.hoverData.selecting&&!a.touchData.selecting),v=p=p&&!t&&a.motionBlurEnabled&&!g;t||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!t&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),p&&(null==a.mbFrames&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(v=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!d&&(u[a.NODE]=!0,u[a.SELECT_BOX]=!0);var y=l.style(),b=l.zoom(),w=void 0!==o?o:b,x=l.pan(),_={x:x.x,y:x.y},k={zoom:b,pan:{x:x.x,y:x.y}},C=a.prevViewport;void 0===C||k.zoom!==C.zoom||k.pan.x!==C.pan.x||k.pan.y!==C.pan.y||m&&!f||(a.motionBlurPxRatio=1),i&&(_=i),w*=s,_.x*=s,_.y*=s;var S=a.getCachedZSortedEles();function E(e,t,n,r,o){var i=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",a.colorFillStyle(e,255,255,255,a.motionBlurTransparency),e.fillRect(t,n,r,o),e.globalCompositeOperation=i}function P(e,r){var s,l,u,d;a.clearingMotionBlur||e!==c.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]&&e!==c.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]?(s=_,l=w,u=a.canvasWidth,d=a.canvasHeight):(s={x:x.x*h,y:x.y*h},l=b*h,u=a.canvasWidth*h,d=a.canvasHeight*h),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?E(e,0,0,u,d):t||void 0!==r&&!r||e.clearRect(0,0,u,d),n||(e.translate(s.x,s.y),e.scale(l,l)),i&&e.translate(i.x,i.y),o&&e.scale(o,o)}if(d||(a.textureDrawLastFrame=!1),d){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=l.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var T=a.data.bufferContexts[a.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult}),(k=a.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:a.canvasWidth,height:a.canvasHeight}).mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}u[a.DRAG]=!1,u[a.NODE]=!1;var A=c.contexts[a.NODE],M=a.textureCache.texture;k=a.textureCache.viewport,A.setTransform(1,0,0,1,0,0),p?E(A,0,0,k.width,k.height):A.clearRect(0,0,k.width,k.height);var N=y.core("outside-texture-bg-color").value,O=y.core("outside-texture-bg-opacity").value;a.colorFillStyle(A,N[0],N[1],N[2],O),A.fillRect(0,0,k.width,k.height),b=l.zoom(),P(A,!1),A.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s),A.drawImage(M,k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s)}else a.textureOnViewport&&!t&&(a.textureCache=null);var I=l.extent(),R=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles||a.cy.animated(),L=a.hideEdgesOnViewport&&R,j=[];if(j[a.NODE]=!u[a.NODE]&&p&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,j[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),j[a.DRAG]=!u[a.DRAG]&&p&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,j[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),u[a.NODE]||n||r||j[a.NODE]){var D=p&&!j[a.NODE]&&1!==h;P(A=t||(D?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:c.contexts[a.NODE]),p&&!D?"motionBlur":void 0),L?a.drawCachedNodes(A,S.nondrag,s,I):a.drawLayeredElements(A,S.nondrag,s,I),a.debug&&a.drawDebugPoints(A,S.nondrag),n||p||(u[a.NODE]=!1)}if(!r&&(u[a.DRAG]||n||j[a.DRAG])&&(D=p&&!j[a.DRAG]&&1!==h,P(A=t||(D?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:c.contexts[a.DRAG]),p&&!D?"motionBlur":void 0),L?a.drawCachedNodes(A,S.drag,s,I):a.drawCachedElements(A,S.drag,s,I),a.debug&&a.drawDebugPoints(A,S.drag),n||p||(u[a.DRAG]=!1)),a.showFps||!r&&u[a.SELECT_BOX]&&!n){if(P(A=t||c.contexts[a.SELECT_BOX]),1==a.selection[4]&&(a.hoverData.selecting||a.touchData.selecting)){b=a.cy.zoom();var $=y.core("selection-box-border-width").value/b;A.lineWidth=$,A.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",A.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),$>0&&(A.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",A.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(c.bgActivePosistion&&!a.hoverData.selecting){b=a.cy.zoom();var B=c.bgActivePosistion;A.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",A.beginPath(),A.arc(B.x,B.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),A.fill()}var V=a.lastRedrawTime;if(a.showFps&&V){V=Math.round(V);var F=Math.round(1e3/V);A.setTransform(1,0,0,1,0,0),A.fillStyle="rgba(255, 0, 0, 0.75)",A.strokeStyle="rgba(255, 0, 0, 0.75)",A.lineWidth=1,A.fillText("1 frame = "+V+" ms = "+F+" fps",0,20),A.strokeRect(0,30,250,20),A.fillRect(0,30,250*Math.min(F/60,1),20)}n||(u[a.SELECT_BOX]=!1)}if(p&&1!==h){var z=c.contexts[a.NODE],U=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],W=c.contexts[a.DRAG],K=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],H=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!v?e.clearRect(0,0,a.canvasWidth,a.canvasHeight):E(e,0,0,a.canvasWidth,a.canvasHeight);var r=h;e.drawImage(t,0,0,a.canvasWidth*r,a.canvasHeight*r,0,0,a.canvasWidth,a.canvasHeight)};(u[a.NODE]||j[a.NODE])&&(H(z,U,j[a.NODE]),u[a.NODE]=!1),(u[a.DRAG]||j[a.DRAG])&&(H(W,K,j[a.DRAG]),u[a.DRAG]=!1)}a.prevViewport=k,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),p&&(a.motionBlurTimeout=setTimeout((function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!d,a.mbFrames=0,u[a.NODE]=!0,u[a.DRAG]=!0,a.redraw()}),100)),t||l.emit("render")}},Ms={drawPolygonPath:function(e,t,n,r,o,i){var a=r/2,s=o/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*i[0],n+s*i[1]);for(var l=1;l<i.length/2;l++)e.lineTo(t+a*i[2*l],n+s*i[2*l+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,o,i){var a=r/2,s=o/2,l=Ft(r,o);e.beginPath&&e.beginPath();for(var c=0;c<i.length/4;c++){var u,d;d=0===c?i.length-2:4*c-2,u=4*c+2;var p=t+a*i[4*c],h=n+s*i[4*c+1],f=-i[d]*i[u]-i[d+1]*i[u+1],m=l/Math.tan(Math.acos(f)/2),g=p-m*i[d],v=h-m*i[d+1],y=p+m*i[u],b=h+m*i[u+1];0===c?e.moveTo(g,v):e.lineTo(g,v),e.arcTo(p,h,y,b,l)}e.closePath()},drawRoundRectanglePath:function(e,t,n,r,o){var i=r/2,a=o/2,s=Vt(r,o);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.arcTo(t+i,n-a,t+i,n,s),e.arcTo(t+i,n+a,t,n+a,s),e.arcTo(t-i,n+a,t-i,n,s),e.arcTo(t-i,n-a,t,n-a,s),e.lineTo(t,n-a),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,o){var i=r/2,a=o/2,s=Vt(r,o);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.lineTo(t+i,n-a),e.lineTo(t+i,n),e.arcTo(t+i,n+a,t,n+a,s),e.arcTo(t-i,n+a,t-i,n,s),e.lineTo(t-i,n-a),e.lineTo(t,n-a),e.closePath()},drawCutRectanglePath:function(e,t,n,r,o){var i=r/2,a=o/2;e.beginPath&&e.beginPath(),e.moveTo(t-i+8,n-a),e.lineTo(t+i-8,n-a),e.lineTo(t+i,n-a+8),e.lineTo(t+i,n+a-8),e.lineTo(t+i-8,n+a),e.lineTo(t-i+8,n+a),e.lineTo(t-i,n+a-8),e.lineTo(t-i,n-a+8),e.closePath()},drawBarrelPath:function(e,t,n,r,o){var i=r/2,a=o/2,s=t-i,l=t+i,c=n-a,u=n+a,d=zt(r,o),p=d.widthOffset,h=d.heightOffset,f=d.ctrlPtOffsetPct*p;e.beginPath&&e.beginPath(),e.moveTo(s,c+h),e.lineTo(s,u-h),e.quadraticCurveTo(s+f,u,s+p,u),e.lineTo(l-p,u),e.quadraticCurveTo(l-f,u,l,u-h),e.lineTo(l,c+h),e.quadraticCurveTo(l-f,c,l-p,c),e.lineTo(s+p,c),e.quadraticCurveTo(s+f,c,s,c+h),e.closePath()}},Ns=Math.sin(0),Os=Math.cos(0),Is={},Rs={},Ls=Math.PI/40,js=0*Math.PI;js<2*Math.PI;js+=Ls)Is[js]=Math.sin(js),Rs[js]=Math.cos(js);Ms.drawEllipsePath=function(e,t,n,r,o){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,o/2,0,0,2*Math.PI);else for(var i,a,s=r/2,l=o/2,c=0*Math.PI;c<2*Math.PI;c+=Ls)i=t-s*Is[c]*Ns+s*Rs[c]*Os,a=n+l*Rs[c]*Ns+l*Is[c]*Os,0===c?e.moveTo(i,a):e.lineTo(i,a);e.closePath()};var Ds={};function $s(e){var t=e.indexOf(",");return e.substr(t+1)}function Bs(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new er((function(r,o){try{t.toBlob((function(e){null!=e?r(e):o(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,e.quality)}catch(e){o(e)}}));case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r),i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})}($s(r()),n);case"base64":return $s(r());default:return r()}}Ds.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Ds.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),o=e.full?Math.ceil(n.w):r[2],i=e.full?Math.ceil(n.h):r[3],a=O(e.maxWidth)||O(e.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==e.scale)o*=e.scale,i*=e.scale,l=e.scale;else if(a){var c=1/0,u=1/0;O(e.maxWidth)&&(c=l*e.maxWidth/o),O(e.maxHeight)&&(u=l*e.maxHeight/i),o*=l=Math.min(c,u),i*=l}a||(o*=s,i*=s,l*=s);var d=document.createElement("canvas");d.width=o,d.height=i,d.style.width=o+"px",d.style.height=i+"px";var p=d.getContext("2d");if(o>0&&i>0){p.clearRect(0,0,o,i),p.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(e.full)p.translate(-n.x1*l,-n.y1*l),p.scale(l,l),this.drawElements(p,h),p.scale(1/l,1/l),p.translate(n.x1*l,n.y1*l);else{var f=t.pan(),m={x:f.x*l,y:f.y*l};l*=t.zoom(),p.translate(m.x,m.y),p.scale(l,l),this.drawElements(p,h),p.scale(1/l,1/l),p.translate(-m.x,-m.y)}e.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=e.bg,p.rect(0,0,o,i),p.fill())}return d},Ds.png=function(e){return Bs(e,this.bufferCanvasImage(e),"image/png")},Ds.jpg=function(e){return Bs(e,this.bufferCanvasImage(e),"image/jpeg")};var Vs=zs,Fs=zs.prototype;function zs(e){var t=this;t.data={canvases:new Array(Fs.CANVAS_LAYERS),contexts:new Array(Fs.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Fs.CANVAS_LAYERS),bufferCanvases:new Array(Fs.BUFFER_COUNT),bufferContexts:new Array(Fs.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",r="rgba(0,0,0,0)";t.data.canvasContainer=document.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=r,o.position="relative",o.zIndex="0",o.overflow="hidden";var i=e.cy.container();i.appendChild(t.data.canvasContainer),i.style[n]=r;var a={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};_&&_.userAgent.match(/msie|trident|edge/i)&&(a["-ms-touch-action"]="none",a["touch-action"]="none");for(var s=0;s<Fs.CANVAS_LAYERS;s++){var l=t.data.canvases[s]=document.createElement("canvas");t.data.contexts[s]=l.getContext("2d"),Object.keys(a).forEach((function(e){l.style[e]=a[e]})),l.style.position="absolute",l.setAttribute("data-id","layer"+s),l.style.zIndex=String(Fs.CANVAS_LAYERS-s),t.data.canvasContainer.appendChild(l),t.data.canvasNeedsRedraw[s]=!1}for(t.data.topCanvas=t.data.canvases[0],t.data.canvases[Fs.NODE].setAttribute("data-id","layer"+Fs.NODE+"-node"),t.data.canvases[Fs.SELECT_BOX].setAttribute("data-id","layer"+Fs.SELECT_BOX+"-selectbox"),t.data.canvases[Fs.DRAG].setAttribute("data-id","layer"+Fs.DRAG+"-drag"),s=0;s<Fs.BUFFER_COUNT;s++)t.data.bufferCanvases[s]=document.createElement("canvas"),t.data.bufferContexts[s]=t.data.bufferCanvases[s].getContext("2d"),t.data.bufferCanvases[s].style.position="absolute",t.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),t.data.bufferCanvases[s].style.zIndex=String(-s-1),t.data.bufferCanvases[s].style.visibility="hidden";t.pathsEnabled=!0;var c=ft(),u=function(e){return{x:-e.w/2,y:-e.h/2}},d=function(e){return e.boundingBox(),e[0]._private.bodyBounds},p=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||c},h=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||c},f=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||c},m=function(e,t){return t},g=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},v=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},y=t.data.eleTxrCache=new rs(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,r,o,i){return t.drawElement(e,n,r,!1,!1,i)},getBoundingBox:d,getRotationPoint:function(e){return{x:((t=d(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return u(d(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),b=t.data.lblTxrCache=new rs(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"main",i)},getBoundingBox:p,getRotationPoint:function(e){return g("",v(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=p(e),n=u(p(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:m}),w=t.data.slbTxrCache=new rs(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"source",i)},getBoundingBox:h,getRotationPoint:function(e){return g("source",v(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return u(h(e))},isVisible:m}),x=t.data.tlbTxrCache=new rs(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"target",i)},getBoundingBox:f,getRotationPoint:function(e){return g("target",v(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return u(f(e))},isVisible:m}),k=t.data.lyrTxrCache=new is(t);t.onUpdateEleCalcs((function(e,t){y.invalidateElements(t),b.invalidateElements(t),w.invalidateElements(t),x.invalidateElements(t),k.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}}));var C=function(e){for(var t=0;t<e.length;t++)k.enqueueElementRefinement(e[t].ele)};y.onDequeue(C),b.onDequeue(C),w.onDequeue(C),x.onDequeue(C)}Fs.CANVAS_LAYERS=3,Fs.SELECT_BOX=0,Fs.DRAG=1,Fs.NODE=2,Fs.BUFFER_COUNT=3,Fs.TEXTURE_BUFFER=0,Fs.MOTIONBLUR_BUFFER_NODE=1,Fs.MOTIONBLUR_BUFFER_DRAG=2,Fs.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[Fs.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[Fs.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[Fs.SELECT_BOX]=t}};var Us="undefined"!=typeof Path2D;Fs.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},Fs.usePaths=function(){return Us&&this.pathsEnabled},Fs.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},Fs.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},Fs.makeOffscreenCanvas=function(e,t){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":f(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t),n},[us,gs,ks,Ss,Es,Ps,As,Ms,Ds,{nodeShapeImpl:function(e,t,n,r,o,i,a){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,o,i);case"polygon":return this.drawPolygonPath(t,n,r,o,i,a);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,o,i,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,o,i);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,o,i);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,o,i);case"barrel":return this.drawBarrelPath(t,n,r,o,i)}}}].forEach((function(e){Z(Fs,e)}));var Ws=[{type:"layout",extensions:Ea},{type:"renderer",extensions:[{name:"null",impl:Pa},{name:"base",impl:Ya},{name:"canvas",impl:Vs}]}],Ks={},Hs={};function qs(e,t,n){var r=n,o=function(n){Pe("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(Bi.prototype[t])return o(t);Bi.prototype[t]=n}else if("collection"===e){if(ti.prototype[t])return o(t);ti.prototype[t]=n}else if("layout"===e){for(var i=function(e){this.options=e,n.call(this,e),N(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},a=i.prototype=Object.create(n.prototype),s=[],l=0;l<s.length;l++){var c=s[l];a[c]=a[c]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var u=n.prototype.stop;a.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return u?u.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var d=function(e){return e._private.cy},p={addEventFields:function(e,t){t.layout=e,t.cy=d(e),t.target=e},bubble:function(){return!0},parent:function(e){return d(e)}};Z(a,{createEmitter:function(){return this._private.emitter=new wo(p,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),ar.eventAliasesOn(a),r=i}else if("renderer"===e&&"null"!==t&&"base"!==t){var h=Gs("renderer","base"),f=h.prototype,m=n,g=n.prototype,v=function(){h.apply(this,arguments),m.apply(this,arguments)},y=v.prototype;for(var b in f){var w=f[b];if(null!=g[b])return o(b);y[b]=w}for(var x in g)y[x]=g[x];f.clientFunctions.forEach((function(e){y[e]=y[e]||function(){Se("Renderer does not implement `renderer."+e+"()` on its prototype")}})),r=v}else if("__proto__"===e||"constructor"===e||"prototype"===e)return Se(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return ee({map:Ks,keys:[e,t],value:r})}function Gs(e,t){return te({map:Ks,keys:[e,t]})}function Xs(e,t,n,r,o){return ee({map:Hs,keys:[e,t,n,r],value:o})}function Ys(e,t,n,r){return te({map:Hs,keys:[e,t,n,r]})}var Js=function(){return 2===arguments.length?Gs.apply(null,arguments):3===arguments.length?qs.apply(null,arguments):4===arguments.length?Ys.apply(null,arguments):5===arguments.length?Xs.apply(null,arguments):void Se("Invalid extension access syntax")};Bi.prototype.extension=Js,Ws.forEach((function(e){e.extensions.forEach((function(t){qs(e.type,t.name,t.impl)}))}));var Zs=function e(){if(!(this instanceof e))return new e;this.length=0},Qs=Zs.prototype;Qs.instanceString=function(){return"stylesheet"},Qs.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},Qs.css=function(e,t){var n=this.length-1;if(T(e))this[n].properties.push({name:e,value:t});else if(N(e))for(var r=e,o=Object.keys(r),i=0;i<o.length;i++){var a=o[i],s=r[a];if(null!=s){var l=Ri.properties[a]||Ri.properties[U(a)];if(null!=l){var c=l.name,u=s;this[n].properties.push({name:c,value:u})}}}return this},Qs.style=Qs.css,Qs.generateStyle=function(e){var t=new Ri(e);return this.appendToStyle(t)},Qs.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,o=n.properties;e.selector(r);for(var i=0;i<o.length;i++){var a=o[i];e.css(a.name,a.value)}}return e};var el=function(e){return void 0===e&&(e={}),N(e)?new Bi(e):T(e)?Js.apply(Js,arguments):void 0};el.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(el),e.apply(null,t),this},el.warnings=function(e){return Ee(e)},el.version="3.25.0",el.stylesheet=el.Stylesheet=Zs,e.exports=el},44959:(e,t,n)=>{"use strict";var r=n(56857);e.exports=function(e,t){var n={};return r.forEach(e,(function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)})),r.forEach(t.edges(),(function(e){var t=n[e.v],o=n[e.w];r.isUndefined(t)||r.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){var n,o,i,a;t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&(o=t,i=0,a=0,(n=e).weight&&(i+=n.barycenter*n.weight,a+=n.weight),o.weight&&(i+=o.barycenter*o.weight,a+=o.weight),n.vs=o.vs.concat(n.vs),n.barycenter=i/a,n.weight=a,n.i=Math.min(o.i,n.i),o.merged=!0)}}function o(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(t,(function(e){return!e.merged})),(function(e){return r.pick(e,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(e){return!e.indegree})))}},45083:(e,t,n)=>{var r=n(1882),o=n(87296),i=n(23805),a=n(47473),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:s).test(a(e))}},45333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15765),o=n(99029),i=n(94227),a=n(94227),s={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:s,parentSchema:l,it:c}=e,{opts:u}=c,d=(0,r.allSchemaProperties)(n),p=d.filter((e=>(0,i.alwaysValidSchema)(c,n[e])));if(0===d.length||p.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;const h=u.strictSchema&&!u.allowMatchingProperties&&l.properties,f=t.name("valid");!0===c.props||c.props instanceof o.Name||(c.props=(0,a.evaluatedPropsToName)(t,c.props));const{props:m}=c;function g(e){for(const t in h)new RegExp(e).test(t)&&(0,i.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",s,(i=>{t.if(o._`${(0,r.usePattern)(e,n)}.test(${i})`,(()=>{const r=p.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:i,dataPropType:a.Type.Str},f),c.opts.unevaluated&&!0!==m?t.assign(o._`${m}[${i}]`,!0):r||c.allErrors||t.if((0,o.not)(f),(()=>t.break()))}))}))}!function(){for(const e of d)h&&g(e),c.allErrors?v(e):(t.var(f,!0),v(e),t.if(f))}()}};t.default=s},45496:(e,t,n)=>{var r=n(88860);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("7c0bb0a2",r,!0,{sourceMap:!1,shadowMode:!1})},45522:e=>{"use strict";e.exports=function(e){return e[1]}},45891:(e,t,n)=>{var r=n(51873),o=n(72428),i=n(56449),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},46016:(e,t,n)=>{var r=n(29276);e.exports=function(e,t){return r(e,t,"pre")}},46155:(e,t,n)=>{var r=n(34932),o=n(47422),i=n(15389),a=n(5128),s=n(73937),l=n(27301),c=n(43714),u=n(83488),d=n(56449);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[u];var p=-1;t=r(t,l(i));var h=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return s(h,(function(e,t){return c(e,t,n)}))}},46171:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>l,Ng:()=>i,pB:()=>a,KE:()=>g,cO:()=>h,TS:()=>d,b1:()=>m,bP:()=>c,gZ:()=>p,EA:()=>u,A9:()=>f});var r=n(42302),o=n(34250);class i{constructor(e,t){if(this.destructed=!1,this.events={destruct:new o.Hx(this)},!e||!t)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=(0,r.A)(),this.from=e,this.to=t,this.from.connectionCount++,this.to.connectionCount++}destruct(){this.events.destruct.emit(),this.from.connectionCount--,this.to.connectionCount--,this.destructed=!0}}class a{constructor(e,t){if(!e||!t)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=(0,r.A)(),this.from=e,this.to=t}}function s(e,t){return Object.fromEntries(Object.entries(e).map((([e,n])=>[e,t(n)])))}class l{constructor(){this.id=(0,r.A)(),this.events={loaded:new o.Hx(this),beforeAddInput:new o.Bi(this),addInput:new o.Hx(this),beforeRemoveInput:new o.Bi(this),removeInput:new o.Hx(this),beforeAddOutput:new o.Bi(this),addOutput:new o.Hx(this),beforeRemoveOutput:new o.Bi(this),removeOutput:new o.Hx(this),update:new o.Hx(this)},this.hooks={beforeLoad:new o.vz(this),afterSave:new o.vz(this)}}get graph(){return this.graphInstance}addInput(e,t){return this.addInterface("input",e,t)}addOutput(e,t){return this.addInterface("output",e,t)}removeInput(e){return this.removeInterface("input",e)}removeOutput(e){return this.removeInterface("output",e)}registerGraph(e){this.graphInstance=e}load(e){this.hooks.beforeLoad.execute(e),this.id=e.id,this.title=e.title,Object.entries(e.inputs).forEach((([e,t])=>{this.inputs[e]&&(this.inputs[e].load(t),this.inputs[e].nodeId=this.id)})),Object.entries(e.outputs).forEach((([e,t])=>{this.outputs[e]&&(this.outputs[e].load(t),this.outputs[e].nodeId=this.id)})),this.events.loaded.emit(this)}save(){const e=s(this.inputs,(e=>e.save())),t=s(this.outputs,(e=>e.save())),n={type:this.type,id:this.id,title:this.title,inputs:e,outputs:t};return this.hooks.afterSave.execute(n)}onPlaced(){}onDestroy(){}initializeIo(){Object.entries(this.inputs).forEach((([e,t])=>this.initializeIntf("input",e,t))),Object.entries(this.outputs).forEach((([e,t])=>this.initializeIntf("output",e,t)))}initializeIntf(e,t,n){n.isInput="input"===e,n.nodeId=this.id,n.events.setValue.subscribe(this,(()=>this.events.update.emit({type:e,name:t,intf:n})))}addInterface(e,t,n){const r="input"===e?this.events.beforeAddInput:this.events.beforeAddOutput,o="input"===e?this.events.addInput:this.events.addOutput,i="input"===e?this.inputs:this.outputs;return!r.emit(n).prevented&&(i[t]=n,this.initializeIntf(e,t,n),o.emit(n),!0)}removeInterface(e,t){const n="input"===e?this.events.beforeRemoveInput:this.events.beforeRemoveOutput,r="input"===e?this.events.removeInput:this.events.removeOutput,o="input"===e?this.inputs[t]:this.outputs[t];if(!o||n.emit(o).prevented)return!1;if(o.connectionCount>0){if(!this.graphInstance)throw new Error("Interface is connected, but no graph instance is specified. Unable to delete interface");this.graphInstance.connections.filter((e=>e.from===o||e.to===o)).forEach((e=>{this.graphInstance.removeConnection(e)}))}return o.events.setValue.unsubscribe(this),"input"===e?delete this.inputs[t]:delete this.outputs[t],r.emit(o),!0}}class c extends l{load(e){super.load(e)}save(){return super.save()}}function u(e){return class extends c{constructor(){var t,n;super(),this.type=e.type,this.title=null!==(t=e.title)&&void 0!==t?t:e.type,this.inputs={},this.outputs={},this.calculate=e.calculate?(t,n)=>e.calculate.call(this,t,n):void 0,this.executeFactory("input",e.inputs),this.executeFactory("output",e.outputs),null===(n=e.onCreate)||void 0===n||n.call(this)}onPlaced(){var t;null===(t=e.onPlaced)||void 0===t||t.call(this)}onDestroy(){var t;null===(t=e.onDestroy)||void 0===t||t.call(this)}executeFactory(e,t){Object.keys(t||{}).forEach((n=>{const r=t[n]();"input"===e?this.addInput(n,r):this.addOutput(n,r)}))}}}class d{get nodes(){return this._nodes}get connections(){return this._connections}get loading(){return this._loading}get destroying(){return this._destroying}constructor(e,t){this.id=(0,r.A)(),this.inputs=[],this.outputs=[],this.activeTransactions=0,this._nodes=[],this._connections=[],this._loading=!1,this._destroying=!1,this.events={beforeAddNode:new o.Bi(this),addNode:new o.Hx(this),beforeRemoveNode:new o.Bi(this),removeNode:new o.Hx(this),beforeAddConnection:new o.Bi(this),addConnection:new o.Hx(this),checkConnection:new o.Bi(this),beforeRemoveConnection:new o.Bi(this),removeConnection:new o.Hx(this)},this.hooks={save:new o.vz(this),load:new o.vz(this),checkConnection:new o.dM(this)},this.nodeEvents=(0,o.tz)(),this.nodeHooks=(0,o.tz)(),this.connectionEvents=(0,o.tz)(),this.editor=e,this.template=t,e.registerGraph(this)}addNode(e){if(!this.events.beforeAddNode.emit(e).prevented)return this.nodeEvents.addTarget(e.events),this.nodeHooks.addTarget(e.hooks),e.registerGraph(this),this._nodes.push(e),(e=this.nodes.find((t=>t.id===e.id))).onPlaced(),this.events.addNode.emit(e),e}removeNode(e){if(this.nodes.includes(e)){if(this.events.beforeRemoveNode.emit(e).prevented)return;const t=[...Object.values(e.inputs),...Object.values(e.outputs)];this.connections.filter((e=>t.includes(e.from)||t.includes(e.to))).forEach((e=>this.removeConnection(e))),this._nodes.splice(this.nodes.indexOf(e),1),this.events.removeNode.emit(e),e.onDestroy(),this.nodeEvents.removeTarget(e.events),this.nodeHooks.removeTarget(e.hooks)}}addConnection(e,t){const n=this.checkConnection(e,t);if(!n.connectionAllowed)return;if(this.events.beforeAddConnection.emit({from:e,to:t}).prevented)return;for(const e of n.connectionsInDanger){const t=this.connections.find((t=>t.id===e.id));t&&this.removeConnection(t)}const r=new i(n.dummyConnection.from,n.dummyConnection.to);return this.internalAddConnection(r),r}removeConnection(e){if(this.connections.includes(e)){if(this.events.beforeRemoveConnection.emit(e).prevented)return;e.destruct(),this._connections.splice(this.connections.indexOf(e),1),this.events.removeConnection.emit(e),this.connectionEvents.removeTarget(e.events)}}checkConnection(e,t){if(!e||!t)return{connectionAllowed:!1};const n=this.findNodeById(e.nodeId),r=this.findNodeById(t.nodeId);if(n&&r&&n===r)return{connectionAllowed:!1};if(e.isInput&&!t.isInput){const n=e;e=t,t=n}if(e.isInput||!t.isInput)return{connectionAllowed:!1};if(this.connections.some((n=>n.from===e&&n.to===t)))return{connectionAllowed:!1};if(this.events.checkConnection.emit({from:e,to:t}).prevented)return{connectionAllowed:!1};const o=this.hooks.checkConnection.execute({from:e,to:t});if(o.some((e=>!e.connectionAllowed)))return{connectionAllowed:!1};const i=Array.from(new Set(o.flatMap((e=>e.connectionsInDanger))));return{connectionAllowed:!0,dummyConnection:new a(e,t),connectionsInDanger:i}}findNodeInterface(e){for(const t of this.nodes){for(const n in t.inputs){const r=t.inputs[n];if(r.id===e)return r}for(const n in t.outputs){const r=t.outputs[n];if(r.id===e)return r}}}findNodeById(e){return this.nodes.find((t=>t.id===e))}load(e){try{this._loading=!0;const t=[];for(let e=this.connections.length-1;e>=0;e--)this.removeConnection(this.connections[e]);for(let e=this.nodes.length-1;e>=0;e--)this.removeNode(this.nodes[e]);this.id=e.id,this.inputs=e.inputs,this.outputs=e.outputs;for(const n of e.nodes){const e=this.editor.nodeTypes.get(n.type);if(!e){t.push(`Node type ${n.type} is not registered`);continue}const r=new e.type;this.addNode(r),r.load(n)}for(const n of e.connections){const e=this.findNodeInterface(n.from),r=this.findNodeInterface(n.to);if(e)if(r){const t=new i(e,r);t.id=n.id,this.internalAddConnection(t)}else t.push(`Could not find interface with id ${n.to}`);else t.push(`Could not find interface with id ${n.from}`)}return this.hooks.load.execute(e),t}finally{this._loading=!1}}save(){const e={id:this.id,nodes:this.nodes.map((e=>e.save())),connections:this.connections.map((e=>({id:e.id,from:e.from.id,to:e.to.id}))),inputs:this.inputs,outputs:this.outputs};return this.hooks.save.execute(e)}destroy(){this._destroying=!0;for(const e of this.nodes)this.removeNode(e);this.editor.unregisterGraph(this)}internalAddConnection(e){this.connectionEvents.addTarget(e.events),this._connections.push(e),this.events.addConnection.emit(e)}}class p{set connectionCount(e){this._connectionCount=e,this.events.setConnectionCount.emit(e)}get connectionCount(){return this._connectionCount}set value(e){this.events.beforeSetValue.emit(e).prevented||(this._value=e,this.events.setValue.emit(e))}get value(){return this._value}constructor(e,t){this.id=(0,r.A)(),this.nodeId="",this.port=!0,this.hidden=!1,this.events={setConnectionCount:new o.Hx(this),beforeSetValue:new o.Bi(this),setValue:new o.Hx(this),updated:new o.Hx(this)},this.hooks={load:new o.vz(this),save:new o.vz(this)},this._connectionCount=0,this.name=e,this._value=t}load(e){this.id=e.id,this.templateId=e.templateId,this.value=e.value,this.hooks.load.execute(e)}save(){const e={id:this.id,templateId:this.templateId,value:this.value};return this.hooks.save.execute(e)}setComponent(e){return this.component=e,this}setPort(e){return this.port=e,this}setHidden(e){return this.hidden=e,this}use(e,...t){return e(this,...t),this}}const h="__baklava_GraphNode-";function f(e){return h+e.id}class m{static fromGraph(e,t){return new m(e.save(),t)}get name(){return this._name}set name(e){this._name=e,this.events.nameChanged.emit(e);const t=this.editor.nodeTypes.get(f(this));t&&(t.title=e)}constructor(e,t){this.id=(0,r.A)(),this._name="Subgraph",this.events={nameChanged:new o.Hx(this),updated:new o.Hx(this)},this.hooks={beforeLoad:new o.vz(this),afterSave:new o.vz(this)},this.editor=t,e.id&&(this.id=e.id),e.name&&(this._name=e.name),this.update(e)}update(e){this.nodes=e.nodes,this.connections=e.connections,this.inputs=e.inputs,this.outputs=e.outputs,this.events.updated.emit()}save(){return{id:this.id,name:this.name,nodes:this.nodes,connections:this.connections,inputs:this.inputs,outputs:this.outputs}}createGraph(e){const t=new Map,n=e=>{const n=(0,r.A)();return t.set(e,n),n},o=e=>{const n=t.get(e);if(!n)throw new Error(`Unable to create graph from template: Could not map old id ${e} to new id`);return n},i=e=>s(e,(e=>({id:n(e.id),templateId:e.id,value:e.value}))),a=this.nodes.map((e=>({...e,id:n(e.id),inputs:i(e.inputs),outputs:i(e.outputs)}))),l=this.connections.map((e=>({id:n(e.id),from:o(e.from),to:o(e.to)}))),c=this.inputs.map((e=>({id:e.id,name:e.name,nodeInterfaceId:o(e.nodeInterfaceId)}))),u=this.outputs.map((e=>({id:e.id,name:e.name,nodeInterfaceId:o(e.nodeInterfaceId)}))),p={id:(0,r.A)(),nodes:a,connections:l,inputs:c,outputs:u};return e||(e=new d(this.editor)),e.load(p),e.template=this,e}}class g{constructor(){this.events={loaded:new o.Hx(this),beforeRegisterNodeType:new o.Bi(this),registerNodeType:new o.Hx(this),beforeUnregisterNodeType:new o.Bi(this),unregisterNodeType:new o.Hx(this),beforeAddGraphTemplate:new o.Bi(this),addGraphTemplate:new o.Hx(this),beforeRemoveGraphTemplate:new o.Bi(this),removeGraphTemplate:new o.Hx(this),registerGraph:new o.Hx(this),unregisterGraph:new o.Hx(this)},this.hooks={save:new o.vz(this),load:new o.vz(this)},this.graphTemplateEvents=(0,o.tz)(),this.graphTemplateHooks=(0,o.tz)(),this.graphEvents=(0,o.tz)(),this.graphHooks=(0,o.tz)(),this.nodeEvents=(0,o.tz)(),this.nodeHooks=(0,o.tz)(),this.connectionEvents=(0,o.tz)(),this._graphs=new Set,this._nodeTypes=new Map,this._graph=new d(this),this._graphTemplates=[],this._loading=!1}get nodeTypes(){return this._nodeTypes}get graph(){return this._graph}get graphTemplates(){return this._graphTemplates}get graphs(){return this._graphs}get loading(){return this._loading}registerNodeType(e,t){var n,r;if(this.events.beforeRegisterNodeType.emit({type:e,options:t}).prevented)return;const o=new e;this._nodeTypes.set(o.type,{type:e,category:null!==(n=null==t?void 0:t.category)&&void 0!==n?n:"default",title:null!==(r=null==t?void 0:t.title)&&void 0!==r?r:o.title}),this.events.registerNodeType.emit({type:e,options:t})}unregisterNodeType(e){const t="string"==typeof e?e:(new e).type;if(this.nodeTypes.has(t)){if(this.events.beforeUnregisterNodeType.emit(t).prevented)return;this._nodeTypes.delete(t),this.events.unregisterNodeType.emit(t)}}addGraphTemplate(e){if(this.events.beforeAddGraphTemplate.emit(e).prevented)return;this._graphTemplates.push(e),this.graphTemplateEvents.addTarget(e.events),this.graphTemplateHooks.addTarget(e.hooks);const t=function(e){return class extends l{constructor(){super(...arguments),this.type=f(e),this._title="GraphNode",this.inputs={},this.outputs={},this.template=e,this.calculate=async(e,t)=>{if(!this.subgraph)throw new Error(`GraphNode ${this.id}: calculate called without subgraph being initialized`);if("object"==typeof t.engine&&t.engine&&"function"==typeof t.engine.runGraph){const n=new Map;for(const e of this.subgraph.nodes)Object.values(e.inputs).forEach((e=>{0===e.connectionCount&&n.set(e.id,e.value)}));Object.entries(e).forEach((([e,t])=>{const r=this.subgraph.inputs.find((t=>t.id===e));n.set(r.nodeInterfaceId,t)}));const r=await t.engine.runGraph(this.subgraph,n,t.globalValues),o=new Map;r.forEach(((e,t)=>{const n=this.subgraph.nodes.find((e=>e.id===t));e.forEach(((e,t)=>{o.set(n.outputs[t].id,e)}))}));const i={};return this.subgraph.outputs.forEach((e=>{i[e.id]=o.get(e.nodeInterfaceId)})),i._calculationResults=r,i}}}get title(){return this._title}set title(e){this.template.name=e}load(e){if(!this.subgraph)throw new Error("Cannot load a graph node without a graph");if(!this.template)throw new Error("Unable to load graph node without graph template");this.subgraph.load(e.graphState),super.load(e)}save(){if(!this.subgraph)throw new Error("Cannot save a graph node without a graph");return{...super.save(),graphState:this.subgraph.save()}}onPlaced(){this.template.events.updated.subscribe(this,(()=>this.initialize())),this.template.events.nameChanged.subscribe(this,(e=>{this._title=e})),this.initialize()}onDestroy(){var e;this.template.events.updated.unsubscribe(this),this.template.events.nameChanged.unsubscribe(this),null===(e=this.subgraph)||void 0===e||e.destroy()}initialize(){this.subgraph&&this.subgraph.destroy(),this.subgraph=this.template.createGraph(),this._title=this.template.name,this.updateInterfaces(),this.events.update.emit(null)}updateInterfaces(){if(!this.subgraph)throw new Error("Trying to update interfaces without graph instance");for(const e of this.subgraph.inputs)e.id in this.inputs?this.inputs[e.id].name=e.name:this.addInput(e.id,new p(e.name,void 0));for(const e of Object.keys(this.inputs))this.subgraph.inputs.some((t=>t.id===e))||this.removeInput(e);for(const e of this.subgraph.outputs)e.id in this.outputs?this.outputs[e.id].name=e.name:this.addOutput(e.id,new p(e.name,void 0));for(const e of Object.keys(this.outputs))this.subgraph.outputs.some((t=>t.id===e))||this.removeOutput(e);this.addOutput("_calculationResults",new p("_calculationResults",void 0).setHidden(!0))}}}(e);this.registerNodeType(t,{category:"Subgraphs",title:e.name}),this.events.addGraphTemplate.emit(e)}removeGraphTemplate(e){if(this.graphTemplates.includes(e)){if(this.events.beforeRemoveGraphTemplate.emit(e).prevented)return;const t=f(e);for(const e of[this.graph,...this.graphs.values()]){const n=e.nodes.filter((e=>e.type===t));for(const t of n)e.removeNode(t)}this.unregisterNodeType(t),this._graphTemplates.splice(this._graphTemplates.indexOf(e),1),this.graphTemplateEvents.removeTarget(e.events),this.graphTemplateHooks.removeTarget(e.hooks),this.events.removeGraphTemplate.emit(e)}}registerGraph(e){this.graphEvents.addTarget(e.events),this.graphHooks.addTarget(e.hooks),this.nodeEvents.addTarget(e.nodeEvents),this.nodeHooks.addTarget(e.nodeHooks),this.connectionEvents.addTarget(e.connectionEvents),this.events.registerGraph.emit(e),this._graphs.add(e)}unregisterGraph(e){this.graphEvents.removeTarget(e.events),this.graphHooks.removeTarget(e.hooks),this.nodeEvents.removeTarget(e.nodeEvents),this.nodeHooks.removeTarget(e.nodeHooks),this.connectionEvents.removeTarget(e.connectionEvents),this.events.unregisterGraph.emit(e),this._graphs.delete(e)}load(e){try{this._loading=!0,(e=this.hooks.load.execute(e)).graphTemplates.forEach((e=>{const t=new m(e,this);this.addGraphTemplate(t)}));const t=this._graph.load(e.graph);return this.events.loaded.emit(),t.forEach((e=>console.warn(e))),t}finally{this._loading=!1}}save(){const e={graph:this.graph.save(),graphTemplates:this.graphTemplates.map((e=>e.save()))};return this.hooks.save.execute(e)}}},46266:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.findIter=function(e){for(var t=this._root,n=this.iterator();null!==t;){var r=this._comparator(e,t.data);if(0===r)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(r>0)}return null}}return e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(e){for(var t=this._root;null!==t;){var n=this._comparator(e,t.data);if(0===n)return t.data;t=t.get_child(n>0)}return null},e.prototype.lowerBound=function(e){return this._bound(e,this._comparator)},e.prototype.upperBound=function(e){var t=this._comparator;return this._bound(e,(function(e,n){return t(n,e)}))},e.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},e.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},e.prototype.iterator=function(){return new i(this)},e.prototype.each=function(e){for(var t,n=this.iterator();null!==(t=n.next());)e(t)},e.prototype.reach=function(e){for(var t,n=this.iterator();null!==(t=n.prev());)e(t)},e.prototype._bound=function(e,t){for(var n=this._root,r=this.iterator();null!==n;){var o=this._comparator(e,n.data);if(0===o)return r._cursor=n,r;r._ancestors.push(n),n=n.get_child(o>0)}for(var i=r._ancestors.length-1;i>=0;--i)if(t(e,(n=r._ancestors[i]).data)>0)return r._cursor=n,r._ancestors.length=i,r;return r._ancestors.length=0,r},e}();t.TreeBase=o;var i=function(){function e(e){this._tree=e,this._ancestors=[],this._cursor=null}return e.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},e.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else{var t;if(null===this._cursor.right)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===t);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},e.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else{var t;if(null===this._cursor.left)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===t);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},e.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},e.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},e}();t.Iterator=i;var a=function(){function e(e){this.data=e,this.left=null,this.right=null,this.red=!0}return e.prototype.get_child=function(e){return e?this.right:this.left},e.prototype.set_child=function(e,t){e?this.right=t:this.left=t},e}(),s=function(e){function t(t){var n=e.call(this)||this;return n._root=null,n._comparator=t,n.size=0,n}return r(t,e),t.prototype.insert=function(e){var n=!1;if(null===this._root)this._root=new a(e),n=!0,this.size++;else{var r=new a(void 0),o=!1,i=!1,s=null,l=r,c=null,u=this._root;for(l.right=this._root;;){if(null===u?(u=new a(e),c.set_child(o,u),n=!0,this.size++):t.is_red(u.left)&&t.is_red(u.right)&&(u.red=!0,u.left.red=!1,u.right.red=!1),t.is_red(u)&&t.is_red(c)){var d=l.right===s;u===c.get_child(i)?l.set_child(d,t.single_rotate(s,!i)):l.set_child(d,t.double_rotate(s,!i))}var p=this._comparator(u.data,e);if(0===p)break;i=o,o=p<0,null!==s&&(l=s),s=c,c=u,u=u.get_child(o)}this._root=r.right}return this._root.red=!1,n},t.prototype.remove=function(e){if(null===this._root)return!1;var n=new a(void 0),r=n;r.right=this._root;for(var o=null,i=null,s=null,l=!0;null!==r.get_child(l);){var c=l;i=o,o=r,r=r.get_child(l);var u=this._comparator(e,r.data);if(l=u>0,0===u&&(s=r),!t.is_red(r)&&!t.is_red(r.get_child(l)))if(t.is_red(r.get_child(!l))){var d=t.single_rotate(r,l);o.set_child(c,d),o=d}else if(!t.is_red(r.get_child(!l))){var p=o.get_child(!c);if(null!==p)if(t.is_red(p.get_child(!c))||t.is_red(p.get_child(c))){var h=i.right===o;t.is_red(p.get_child(c))?i.set_child(h,t.double_rotate(o,c)):t.is_red(p.get_child(!c))&&i.set_child(h,t.single_rotate(o,c));var f=i.get_child(h);f.red=!0,r.red=!0,f.left.red=!1,f.right.red=!1}else o.red=!1,p.red=!0,r.red=!0}}return null!==s&&(s.data=r.data,o.set_child(o.right===r,r.get_child(null===r.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==s},t.is_red=function(e){return null!==e&&e.red},t.single_rotate=function(e,t){var n=e.get_child(!t);return e.set_child(!t,n.get_child(t)),n.set_child(t,e),e.red=!0,n.red=!1,n},t.double_rotate=function(e,n){return e.set_child(!n,t.single_rotate(e.get_child(!n),!n)),t.single_rotate(e,n)},t}(o);t.RBTree=s},46312:(e,t,n)=>{var r=n(79524);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("ae143b3e",r,!0,{sourceMap:!1,shadowMode:!1})},46670:(e,t,n)=>{e.exports=n(33111).YAML},47091:(e,t,n)=>{var r=n(88984),o=n(5861),i=n(64894),a=n(85015),s=n(81993);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},47237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},47248:(e,t,n)=>{var r=n(16547),o=n(51234);e.exports=function(e,t){return o(e||[],t||[],r)}},47422:(e,t,n)=>{var r=n(31769),o=n(77797);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},47473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},47964:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".white[data-v-f95c2bf4]{fill:#fff}.hovered[data-v-f95c2bf4]{fill:#00e58d}",""]);const s=a},48343:(e,t,n)=>{"use strict";const{normalizeIPv6:r,normalizeIPv4:o,removeDotSegments:i,recomposeAuthority:a,normalizeComponentEncoding:s}=n(34834),l=n(343);function c(e,t,n,r){const o={};return r||(e=h(u(e,n),n),t=h(u(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=i(t.path||""),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=i(t.path||""),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=i(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=i(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function u(e,t){const n={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},r=Object.assign({},t),o=[],s=l[(r.scheme||n.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(n,r),void 0!==n.path&&(r.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),void 0!==n.scheme&&(n.path=n.path.split("%3A").join(":")))),"suffix"!==r.reference&&n.scheme&&o.push(n.scheme,":");const c=a(n);if(void 0!==c&&("suffix"!==r.reference&&o.push("//"),o.push(c),n.path&&"/"!==n.path.charAt(0)&&o.push("/")),void 0!==n.path){let e=n.path;r.absolutePath||s&&s.absolutePath||(e=i(e)),void 0===c&&(e=e.replace(/^\/\//u,"/%2F")),o.push(e)}return void 0!==n.query&&o.push("?",n.query),void 0!==n.fragment&&o.push("#",n.fragment),o.join("")}const d=Array.from({length:127},((e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)))),p=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function h(e,t){const n=Object.assign({},t),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},a=-1!==e.indexOf("%");let s=!1;"suffix"===n.reference&&(e=(n.scheme?n.scheme+":":"")+"//"+e);const c=e.match(p);if(c){if(i.scheme=c[1],i.userinfo=c[3],i.host=c[4],i.port=parseInt(c[5],10),i.path=c[6]||"",i.query=c[7],i.fragment=c[8],isNaN(i.port)&&(i.port=c[5]),i.host){const e=o(i.host);if(!1===e.isIPV4){const t=r(e.host);i.host=t.host.toLowerCase(),s=t.isIPV6}else i.host=e.host,s=!0}void 0!==i.scheme||void 0!==i.userinfo||void 0!==i.host||void 0!==i.port||void 0!==i.query||i.path?void 0===i.scheme?i.reference="relative":void 0===i.fragment?i.reference="absolute":i.reference="uri":i.reference="same-document",n.reference&&"suffix"!==n.reference&&n.reference!==i.reference&&(i.error=i.error||"URI is not a "+n.reference+" reference.");const e=l[(n.scheme||i.scheme||"").toLowerCase()];if(!(n.unicodeSupport||e&&e.unicodeSupport)&&i.host&&(n.domainHost||e&&e.domainHost)&&!1===s&&function(e){let t=0;for(let n=0,r=e.length;n<r;++n)if(t=e.charCodeAt(n),t>126||d[t])return!0;return!1}(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII: "+e}(!e||e&&!e.skipNormalize)&&(a&&void 0!==i.scheme&&(i.scheme=unescape(i.scheme)),a&&void 0!==i.host&&(i.host=unescape(i.host)),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),e&&e.parse&&e.parse(i,n)}else i.error=i.error||"URI can not be parsed.";return i}const f={SCHEMES:l,normalize:function(e,t){return"string"==typeof e?e=u(h(e,t),t):"object"==typeof e&&(e=h(u(e,t),t)),e},resolve:function(e,t,n){const r=Object.assign({scheme:"null"},n);return u(c(h(e,r),h(t,r),r,!0),{...r,skipEscape:!0})},resolveComponents:c,equal:function(e,t,n){return"string"==typeof e?(e=unescape(e),e=u(s(h(e,n),!0),{...n,skipEscape:!0})):"object"==typeof e&&(e=u(s(e,!0),{...n,skipEscape:!0})),"string"==typeof t?(t=unescape(t),t=u(s(h(t,n),!0),{...n,skipEscape:!0})):"object"==typeof t&&(t=u(s(t,!0),{...n,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:u,parse:h};e.exports=f,e.exports.default=f,e.exports.fastUri=f},48436:(e,t,n)=>{var r=n(94672);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("01efe1e4",r,!0,{sourceMap:!1,shadowMode:!1})},48655:(e,t,n)=>{var r=n(26025);e.exports=function(e){return r(this.__data__,e)>-1}},48708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(99029),o=n(94227),i=n(42023);function a(e,t){const n=e.const("err",t);e.if(r._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,r._`[${n}]`)),r._`${i.default.vErrors}.push(${n})`),e.code(r._`${i.default.errors}++`)}function s(e,t){const{gen:n,validateName:o,schemaEnv:i}=e;i.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${o}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,o,i){const{it:l}=e,{gen:u,compositeRule:d,allErrors:p}=l,h=c(e,n,o);(null!=i?i:d||p)?a(u,h):s(l,r._`[${h}]`)},t.reportExtraError=function(e,n=t.keywordError,r){const{it:o}=e,{gen:l,compositeRule:u,allErrors:d}=o;a(l,c(e,n,r)),u||d||s(o,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(r._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:o,errsCount:a,it:s}){if(void 0===a)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",a,i.default.errors,(a=>{e.const(l,r._`${i.default.vErrors}[${a}]`),e.if(r._`${l}.instancePath === undefined`,(()=>e.assign(r._`${l}.instancePath`,(0,r.strConcat)(i.default.instancePath,s.errorPath)))),e.assign(r._`${l}.schemaPath`,r.str`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign(r._`${l}.schema`,n),e.assign(r._`${l}.data`,o))}))};const l={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function c(e,t,n){const{createErrors:o}=e.it;return!1===o?r._`{}`:function(e,t,n={}){const{gen:o,it:a}=e,s=[u(a,n),d(e,n)];return function(e,{params:t,message:n},o){const{keyword:a,data:s,schemaValue:c,it:u}=e,{opts:d,propertyName:p,topSchemaRef:h,schemaPath:f}=u;o.push([l.keyword,a],[l.params,"function"==typeof t?t(e):t||r._`{}`]),d.messages&&o.push([l.message,"function"==typeof n?n(e):n]),d.verbose&&o.push([l.schema,c],[l.parentSchema,r._`${h}${f}`],[i.default.data,s]),p&&o.push([l.propertyName,p])}(e,t,s),o.object(...s)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,o.getErrorPath)(t,o.Type.Str)}`:e;return[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,n)]}function d({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:i}){let a=i?t:r.str`${t}/${e}`;return n&&(a=r.str`${a}${(0,o.getErrorPath)(n,o.Type.Str)}`),[l.schemaPath,a]}},48948:(e,t,n)=>{var r=n(21791),o=n(86375);e.exports=function(e,t){return r(e,o(e),t)}},49098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(20641),o=n(90033),i=n(53751);const a=["placeholder","title"],s=["innerHTML"];var l=n(50953),c=n(41552),u=n.n(c),d=n(68554),p=n(63491);const h=(0,r.pM)({props:{intf:{required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=(0,l.KR)(null),o=(0,l.KR)(!1),i=(0,l.KR)(0),{viewModel:a}=(0,p.if)(),s=(0,r.EW)({get:()=>e.modelValue,set:e=>{t("update:modelValue",e)}}),c=new(u().Converter)({smartIndentationFix:!0,simpleLineBreaks:!0}),h=(0,r.EW)((()=>{let t=c.makeHtml(e.modelValue);return t.match(/<a href="[a-zA-Z0-9-$_.+!*'()/&?=:%]+">/gm)?.forEach((e=>{const n=e.split('"'),r=` tabindex="-1" target="_blank"${n[2]}`,o=[n[0],n[1],r].join('"');t=t.replace(e,o)})),t})),f=(0,l.Kh)({resize:"none",overflow:"hidden",minHeight:"none",height:"auto"}),m=()=>{const e=(()=>{const e=n.value.style["min-height"],t=n.value.style.height;n.value.style["min-height"]="0px",n.value.style.height="auto";const r=n.value.scrollHeight;return n.value.style["min-height"]=e,n.value.style.height=t,f.height=t,r})();e>200?(f.minHeight="200px",f.resize="vertical",f.overflow="auto"):(f.minHeight="0px",f.height=`${e}px`,f.resize="none",f.overflow="hidden")},g=async()=>{e.intf.readonly||a.value.editor.readonly||(o.value=!0,await(0,r.dY)(),n.value.scrollTop=i.value,m())};return(0,r.dY)().then((()=>{e.modelValue.trim()||g()})),(0,d.wYm)(n,(e=>{f.height=n.value.style.height})),{el:n,v:s,editMode:o,renderedMarkdown:h,enterEditMode:g,leaveEditMode:()=>{e.modelValue.trim()&&(o.value=!1,i.value=n.value.scrollTop)},handleInput:m,styles:f,viewModel:a}}}),f=(0,n(66262).A)(h,[["render",function(e,t,n,l,c,u){const d=(0,r.gN)("click-outside");return(0,r.uX)(),(0,r.CE)("div",null,[e.editMode?(0,r.bo)(((0,r.uX)(),(0,r.CE)("textarea",{key:0,ref:"el","onUpdate:modelValue":t[0]||(t[0]=t=>e.v=t),type:"text",class:"baklava-input",placeholder:e.intf.name,title:e.intf.name,tabindex:"-1",style:(0,o.Tr)(e.styles),onInput:t[1]||(t[1]=(...t)=>e.handleInput&&e.handleInput(...t))},null,44,a)),[[i.Jo,e.v],[d,e.leaveEditMode]]):((0,r.uX)(),(0,r.CE)("div",{key:1,class:"__markdown-content baklava-input",style:{"overflow-y":"auto"},onDblclick:t[2]||(t[2]=(...t)=>e.enterEditMode&&e.enterEditMode(...t))},[(0,r.Lk)("span",{innerHTML:e.renderedMarkdown},null,8,s)],32))])}]])},49326:(e,t,n)=>{var r=n(31769),o=n(72428),i=n(56449),a=n(30361),s=n(30294),l=n(77797);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var p=l(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(p,u)&&(i(e)||o(e))}},49653:(e,t,n)=>{var r=n(37828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},49698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},49881:(e,t,n)=>{var r=n(74149);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("38f2b2b4",r,!0,{sourceMap:!1,shadowMode:!1})},50002:(e,t,n)=>{var r=n(82199),o=n(4664),i=n(95950);e.exports=function(e){return r(e,i,o)}},50104:(e,t,n)=>{var r=n(53661);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},50449:(e,t,n)=>{var r=n(17853);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("2ea04825",r,!0,{sourceMap:!1,shadowMode:!1})},50565:(e,t,n)=>{var r=n(9721);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("7b7c0ef1",r,!0,{sourceMap:!1,shadowMode:!1})},50583:(e,t,n)=>{var r=n(47237),o=n(17255),i=n(28586),a=n(77797);e.exports=function(e){return i(e)?r(a(e)):o(e)}},50689:(e,t,n)=>{var r=n(50002),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in t:o.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[p=c[d]],y=t[p];if(i)var b=l?i(y,v,p,t,e,s):i(v,y,p,e,t,s);if(!(void 0===b?v===y||a(v,y,n,i,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},50953:(e,t,n)=>{"use strict";n.d(t,{C4:()=>S,EW:()=>We,Gc:()=>ge,IG:()=>Se,IJ:()=>Me,KR:()=>Ae,Kh:()=>me,Pr:()=>Le,QW:()=>$e,R1:()=>Ie,Tm:()=>xe,X2:()=>u,a1:()=>Pe,bl:()=>E,fE:()=>_e,g8:()=>we,hV:()=>Xe,hZ:()=>D,i9:()=>Te,jr:()=>l,ju:()=>ke,lJ:()=>Ee,lW:()=>Fe,nD:()=>ye,o5:()=>s,qA:()=>B,rY:()=>De,u4:()=>j,ux:()=>Ce,wB:()=>Ge,yC:()=>a});var r=n(90033);let o,i;class a{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=o,!e&&o&&(this.index=(o.scopes||(o.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=o;try{return o=this,e()}finally{o=t}}}on(){1==++this._on&&(this.prevScope=o,o=this)}off(){this._on>0&&0==--this._on&&(o=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function s(){return o}function l(e,t=!1){o&&o.cleanups.push(e)}const c=new WeakSet;class u{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,o&&o.active&&o.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,c.has(this)&&(c.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||f(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,P(this),v(this);const e=i,t=k;i=this,k=!0;try{return this.fn()}finally{y(this),i=e,k=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)x(e);this.deps=this.depsTail=void 0,P(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?c.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){b(this)&&this.run()}get dirty(){return b(this)}}let d,p,h=0;function f(e,t=!1){if(e.flags|=8,t)return e.next=p,void(p=e);e.next=d,d=e}function m(){h++}function g(){if(--h>0)return;if(p){let e=p;for(p=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;d;){let t=d;for(d=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(t){e||(e=t)}t=n}}if(e)throw e}function v(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function y(e){let t,n=e.depsTail,r=n;for(;r;){const e=r.prevDep;-1===r.version?(r===n&&(n=e),x(r),_(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function b(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(w(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function w(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===T)return;if(e.globalVersion=T,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!b(e)))return;e.flags|=2;const t=e.dep,n=i,o=k;i=e,k=!0;try{v(e);const n=e.fn(e._value);(0===t.version||(0,r.$H)(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{i=n,k=o,y(e),e.flags&=-3}}function x(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)x(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function _(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let k=!0;const C=[];function S(){C.push(k),k=!1}function E(){const e=C.pop();k=void 0===e||e}function P(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=i;i=void 0;try{t()}finally{i=e}}}let T=0;class A{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class M{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!i||!k||i===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==i)t=this.activeLink=new A(i,this),i.deps?(t.prevDep=i.depsTail,i.depsTail.nextDep=t,i.depsTail=t):i.deps=i.depsTail=t,N(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=i.depsTail,t.nextDep=void 0,i.depsTail.nextDep=t,i.depsTail=t,i.deps===t&&(i.deps=e)}return t}trigger(e){this.version++,T++,this.notify(e)}notify(e){m();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{g()}}}function N(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)N(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const O=new WeakMap,I=Symbol(""),R=Symbol(""),L=Symbol("");function j(e,t,n){if(k&&i){let t=O.get(e);t||O.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new M),r.map=t,r.key=n),r.track()}}function D(e,t,n,o,i,a){const s=O.get(e);if(!s)return void T++;const l=e=>{e&&e.trigger()};if(m(),"clear"===t)s.forEach(l);else{const i=(0,r.cy)(e),a=i&&(0,r.yI)(n);if(i&&"length"===n){const e=Number(o);s.forEach(((t,n)=>{("length"===n||n===L||!(0,r.Bm)(n)&&n>=e)&&l(t)}))}else switch((void 0!==n||s.has(void 0))&&l(s.get(n)),a&&l(s.get(L)),t){case"add":i?a&&l(s.get("length")):(l(s.get(I)),(0,r.CE)(e)&&l(s.get(R)));break;case"delete":i||(l(s.get(I)),(0,r.CE)(e)&&l(s.get(R)));break;case"set":(0,r.CE)(e)&&l(s.get(I))}}g()}function $(e){const t=Ce(e);return t===e?t:(j(t,0,L),_e(e)?t:t.map(Ee))}function B(e){return j(e=Ce(e),0,L),e}const V={__proto__:null,[Symbol.iterator](){return F(this,Symbol.iterator,Ee)},concat(...e){return $(this).concat(...e.map((e=>(0,r.cy)(e)?$(e):e)))},entries(){return F(this,"entries",(e=>(e[1]=Ee(e[1]),e)))},every(e,t){return U(this,"every",e,t,void 0,arguments)},filter(e,t){return U(this,"filter",e,t,(e=>e.map(Ee)),arguments)},find(e,t){return U(this,"find",e,t,Ee,arguments)},findIndex(e,t){return U(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return U(this,"findLast",e,t,Ee,arguments)},findLastIndex(e,t){return U(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return U(this,"forEach",e,t,void 0,arguments)},includes(...e){return K(this,"includes",e)},indexOf(...e){return K(this,"indexOf",e)},join(e){return $(this).join(e)},lastIndexOf(...e){return K(this,"lastIndexOf",e)},map(e,t){return U(this,"map",e,t,void 0,arguments)},pop(){return H(this,"pop")},push(...e){return H(this,"push",e)},reduce(e,...t){return W(this,"reduce",e,t)},reduceRight(e,...t){return W(this,"reduceRight",e,t)},shift(){return H(this,"shift")},some(e,t){return U(this,"some",e,t,void 0,arguments)},splice(...e){return H(this,"splice",e)},toReversed(){return $(this).toReversed()},toSorted(e){return $(this).toSorted(e)},toSpliced(...e){return $(this).toSpliced(...e)},unshift(...e){return H(this,"unshift",e)},values(){return F(this,"values",Ee)}};function F(e,t,n){const r=B(e),o=r[t]();return r===e||_e(e)||(o._next=o.next,o.next=()=>{const e=o._next();return e.value&&(e.value=n(e.value)),e}),o}const z=Array.prototype;function U(e,t,n,r,o,i){const a=B(e),s=a!==e&&!_e(e),l=a[t];if(l!==z[t]){const t=l.apply(e,i);return s?Ee(t):t}let c=n;a!==e&&(s?c=function(t,r){return n.call(this,Ee(t),r,e)}:n.length>2&&(c=function(t,r){return n.call(this,t,r,e)}));const u=l.call(a,c,r);return s&&o?o(u):u}function W(e,t,n,r){const o=B(e);let i=n;return o!==e&&(_e(e)?n.length>3&&(i=function(t,r,o){return n.call(this,t,r,o,e)}):i=function(t,r,o){return n.call(this,t,Ee(r),o,e)}),o[t](i,...r)}function K(e,t,n){const r=Ce(e);j(r,0,L);const o=r[t](...n);return-1!==o&&!1!==o||!ke(n[0])?o:(n[0]=Ce(n[0]),r[t](...n))}function H(e,t,n=[]){S(),m();const r=Ce(e)[t].apply(e,n);return g(),E(),r}const q=(0,r.pD)("__proto__,__v_isRef,__isVue"),G=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.Bm));function X(e){(0,r.Bm)(e)||(e=String(e));const t=Ce(this);return j(t,0,e),t.hasOwnProperty(e)}class Y{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!o;if("__v_isReadonly"===t)return o;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(o?i?fe:he:i?pe:de).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=(0,r.cy)(e);if(!o){let e;if(a&&(e=V[t]))return e;if("hasOwnProperty"===t)return X}const s=Reflect.get(e,t,Te(e)?e:n);return((0,r.Bm)(t)?G.has(t):q(t))?s:(o||j(e,0,t),i?s:Te(s)?a&&(0,r.yI)(t)?s:s.value:(0,r.Gv)(s)?o?ve(s):me(s):s)}}class J extends Y{constructor(e=!1){super(!1,e)}set(e,t,n,o){let i=e[t];if(!this._isShallow){const t=xe(i);if(_e(n)||xe(n)||(i=Ce(i),n=Ce(n)),!(0,r.cy)(e)&&Te(i)&&!Te(n))return!t&&(i.value=n,!0)}const a=(0,r.cy)(e)&&(0,r.yI)(t)?Number(t)<e.length:(0,r.$3)(e,t),s=Reflect.set(e,t,n,Te(e)?e:o);return e===Ce(o)&&(a?(0,r.$H)(n,i)&&D(e,"set",t,n):D(e,"add",t,n)),s}deleteProperty(e,t){const n=(0,r.$3)(e,t),o=(e[t],Reflect.deleteProperty(e,t));return o&&n&&D(e,"delete",t,void 0),o}has(e,t){const n=Reflect.has(e,t);return(0,r.Bm)(t)&&G.has(t)||j(e,0,t),n}ownKeys(e){return j(e,0,(0,r.cy)(e)?"length":I),Reflect.ownKeys(e)}}class Z extends Y{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Q=new J,ee=new Z,te=new J(!0),ne=new Z(!0),re=e=>e,oe=e=>Reflect.getPrototypeOf(e);function ie(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function ae(e,t){const n=function(e,t){const n={get(n){const o=this.__v_raw,i=Ce(o),a=Ce(n);e||((0,r.$H)(n,a)&&j(i,0,n),j(i,0,a));const{has:s}=oe(i),l=t?re:e?Pe:Ee;return s.call(i,n)?l(o.get(n)):s.call(i,a)?l(o.get(a)):void(o!==i&&o.get(n))},get size(){const t=this.__v_raw;return!e&&j(Ce(t),0,I),Reflect.get(t,"size",t)},has(t){const n=this.__v_raw,o=Ce(n),i=Ce(t);return e||((0,r.$H)(t,i)&&j(o,0,t),j(o,0,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){const o=this,i=o.__v_raw,a=Ce(i),s=t?re:e?Pe:Ee;return!e&&j(a,0,I),i.forEach(((e,t)=>n.call(r,s(e),s(t),o)))}};return(0,r.X$)(n,e?{add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear")}:{add(e){t||_e(e)||xe(e)||(e=Ce(e));const n=Ce(this);return oe(n).has.call(n,e)||(n.add(e),D(n,"add",e,e)),this},set(e,n){t||_e(n)||xe(n)||(n=Ce(n));const o=Ce(this),{has:i,get:a}=oe(o);let s=i.call(o,e);s||(e=Ce(e),s=i.call(o,e));const l=a.call(o,e);return o.set(e,n),s?(0,r.$H)(n,l)&&D(o,"set",e,n):D(o,"add",e,n),this},delete(e){const t=Ce(this),{has:n,get:r}=oe(t);let o=n.call(t,e);o||(e=Ce(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&D(t,"delete",e,void 0),i},clear(){const e=Ce(this),t=0!==e.size,n=e.clear();return t&&D(e,"clear",void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach((o=>{n[o]=function(e,t,n){return function(...o){const i=this.__v_raw,a=Ce(i),s=(0,r.CE)(a),l="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=i[e](...o),d=n?re:t?Pe:Ee;return!t&&j(a,0,c?R:I),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}(o,e,t)})),n}(e,t);return(t,o,i)=>"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?t:Reflect.get((0,r.$3)(n,o)&&o in t?n:t,o,i)}const se={get:ae(!1,!1)},le={get:ae(!1,!0)},ce={get:ae(!0,!1)},ue={get:ae(!0,!0)},de=new WeakMap,pe=new WeakMap,he=new WeakMap,fe=new WeakMap;function me(e){return xe(e)?e:be(e,!1,Q,se,de)}function ge(e){return be(e,!1,te,le,pe)}function ve(e){return be(e,!0,ee,ce,he)}function ye(e){return be(e,!0,ne,ue,fe)}function be(e,t,n,o,i){if(!(0,r.Gv)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=(s=e).__v_skip||!Object.isExtensible(s)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,r.Zf)(s));var s;if(0===a)return e;const l=i.get(e);if(l)return l;const c=new Proxy(e,2===a?o:n);return i.set(e,c),c}function we(e){return xe(e)?we(e.__v_raw):!(!e||!e.__v_isReactive)}function xe(e){return!(!e||!e.__v_isReadonly)}function _e(e){return!(!e||!e.__v_isShallow)}function ke(e){return!!e&&!!e.__v_raw}function Ce(e){const t=e&&e.__v_raw;return t?Ce(t):e}function Se(e){return!(0,r.$3)(e,"__v_skip")&&Object.isExtensible(e)&&(0,r.yQ)(e,"__v_skip",!0),e}const Ee=e=>(0,r.Gv)(e)?me(e):e,Pe=e=>(0,r.Gv)(e)?ve(e):e;function Te(e){return!!e&&!0===e.__v_isRef}function Ae(e){return Ne(e,!1)}function Me(e){return Ne(e,!0)}function Ne(e,t){return Te(e)?e:new Oe(e,t)}class Oe{constructor(e,t){this.dep=new M,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Ce(e),this._value=t?e:Ee(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||_e(e)||xe(e);e=n?e:Ce(e),(0,r.$H)(e,t)&&(this._rawValue=e,this._value=n?e:Ee(e),this.dep.trigger())}}function Ie(e){return Te(e)?e.value:e}const Re={get:(e,t,n)=>"__v_raw"===t?e:Ie(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Te(o)&&!Te(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Le(e){return we(e)?e:new Proxy(e,Re)}class je{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new M,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function De(e){return new je(e)}function $e(e){const t=(0,r.cy)(e)?new Array(e.length):{};for(const n in e)t[n]=ze(e,n);return t}class Be{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const n=O.get(e);return n&&n.get(t)}(Ce(this._object),this._key)}}class Ve{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Fe(e,t,n){return Te(e)?e:(0,r.Tn)(e)?new Ve(e):(0,r.Gv)(e)&&arguments.length>1?ze(e,t,n):Ae(e)}function ze(e,t,n){const r=e[t];return Te(r)?r:new Be(e,t,n)}class Ue{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new M(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=T-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags||i===this))return f(this,!0),!0}get value(){const e=this.dep.track();return w(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function We(e,t,n=!1){let o,i;return(0,r.Tn)(e)?o=e:(o=e.get,i=e.set),new Ue(o,i,n)}const Ke={},He=new WeakMap;let qe;function Ge(e,t,n=r.MZ){const{immediate:o,deep:i,once:a,scheduler:l,augmentJob:c,call:d}=n,p=e=>i?e:_e(e)||!1===i||0===i?Xe(e,1):Xe(e);let h,f,m,g,v=!1,y=!1;if(Te(e)?(f=()=>e.value,v=_e(e)):we(e)?(f=()=>p(e),v=!0):(0,r.cy)(e)?(y=!0,v=e.some((e=>we(e)||_e(e))),f=()=>e.map((e=>Te(e)?e.value:we(e)?p(e):(0,r.Tn)(e)?d?d(e,2):e():void 0))):f=(0,r.Tn)(e)?t?d?()=>d(e,2):e:()=>{if(m){S();try{m()}finally{E()}}const t=qe;qe=h;try{return d?d(e,3,[g]):e(g)}finally{qe=t}}:r.tE,t&&i){const e=f,t=!0===i?1/0:i;f=()=>Xe(e(),t)}const b=s(),w=()=>{h.stop(),b&&b.active&&(0,r.TF)(b.effects,h)};if(a&&t){const e=t;t=(...t)=>{e(...t),w()}}let x=y?new Array(e.length).fill(Ke):Ke;const _=e=>{if(1&h.flags&&(h.dirty||e))if(t){const e=h.run();if(i||v||(y?e.some(((e,t)=>(0,r.$H)(e,x[t]))):(0,r.$H)(e,x))){m&&m();const n=qe;qe=h;try{const n=[e,x===Ke?void 0:y&&x[0]===Ke?[]:x,g];x=e,d?d(t,3,n):t(...n)}finally{qe=n}}}else h.run()};return c&&c(_),h=new u(f),h.scheduler=l?()=>l(_,!1):_,g=e=>function(e,t=!1,n=qe){if(n){let t=He.get(n);t||He.set(n,t=[]),t.push(e)}}(e,!1,h),m=h.onStop=()=>{const e=He.get(h);if(e){if(d)d(e,4);else for(const t of e)t();He.delete(h)}},t?o?_(!0):x=h.run():l?l(_.bind(null,!0),!0):h.run(),w.pause=h.pause.bind(h),w.resume=h.resume.bind(h),w.stop=w,w}function Xe(e,t=1/0,n){if(t<=0||!(0,r.Gv)(e)||e.__v_skip)return e;if((n=n||new Set).has(e))return e;if(n.add(e),t--,Te(e))Xe(e.value,t,n);else if((0,r.cy)(e))for(let r=0;r<e.length;r++)Xe(e[r],t,n);else if((0,r.vM)(e)||(0,r.CE)(e))e.forEach((e=>{Xe(e,t,n)}));else if((0,r.Qd)(e)){for(const r in e)Xe(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Xe(e[r],t,n)}return e}},51234:e=>{e.exports=function(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}},51287:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.createJSONRPCNotification=t.createJSONRPCRequest=t.createJSONRPCSuccessResponse=t.createJSONRPCErrorResponse=t.JSONRPCErrorCode=t.JSONRPCErrorException=t.isJSONRPCResponses=t.isJSONRPCResponse=t.isJSONRPCRequests=t.isJSONRPCRequest=t.isJSONRPCID=t.JSONRPC=void 0,t.JSONRPC="2.0",t.isJSONRPCID=function(e){return"string"==typeof e||"number"==typeof e||null===e},t.isJSONRPCRequest=function(e){return e.jsonrpc===t.JSONRPC&&void 0!==e.method&&void 0===e.result&&void 0===e.error},t.isJSONRPCRequests=function(e){return Array.isArray(e)&&e.every(t.isJSONRPCRequest)},t.isJSONRPCResponse=function(e){return e.jsonrpc===t.JSONRPC&&void 0!==e.id&&(void 0!==e.result||void 0!==e.error)},t.isJSONRPCResponses=function(e){return Array.isArray(e)&&e.every(t.isJSONRPCResponse)};var o,i=function(e,t,n){var r={code:e,message:t};return null!=n&&(r.data=n),r},a=function(e){function t(n,r,o){var i=e.call(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i.code=r,i.data=o,i}return r(t,e),t.prototype.toObject=function(){return i(this.code,this.message,this.data)},t}(Error);t.JSONRPCErrorException=a,(o=t.JSONRPCErrorCode||(t.JSONRPCErrorCode={}))[o.ParseError=-32700]="ParseError",o[o.InvalidRequest=-32600]="InvalidRequest",o[o.MethodNotFound=-32601]="MethodNotFound",o[o.InvalidParams=-32602]="InvalidParams",o[o.InternalError=-32603]="InternalError",t.createJSONRPCErrorResponse=function(e,n,r,o){return{jsonrpc:t.JSONRPC,id:e,error:i(n,r,o)}},t.createJSONRPCSuccessResponse=function(e,n){return{jsonrpc:t.JSONRPC,id:e,result:null!=n?n:null}},t.createJSONRPCRequest=function(e,n,r){return{jsonrpc:t.JSONRPC,id:e,method:n,params:r}},t.createJSONRPCNotification=function(e,n){return{jsonrpc:t.JSONRPC,method:e,params:n}}},51420:(e,t,n)=>{var r=n(80079);e.exports=function(){this.__data__=new r,this.size=0}},51453:(e,t,n)=>{"use strict";var r=n(56857),o=n(98918),i=n(36639),a=n(14520),s=n(97860),l=n(94384),c=n(68191).Graph,u=n(3988);function d(e,t,n){return r.map(t,(function(t){return s(e,t,n)}))}function p(e,t){var n=new c;r.forEach(e,(function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,(function(t,n){e.node(t).order=n})),l(e,n,i.vs)}))}function h(e,t){r.forEach(t,(function(t){r.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=u.maxRank(e),n=d(e,r.range(1,t+1),"inEdges"),a=d(e,r.range(t-1,-1,-1),"outEdges"),s=o(e);h(e,s);for(var l,c=Number.POSITIVE_INFINITY,f=0,m=0;m<4;++f,++m){p(f%2?n:a,f%4>=2),s=u.buildLayerMatrix(e);var g=i(e,s);g<c&&(m=0,l=r.cloneDeep(s),c=g)}h(e,l)}},51459:e=>{e.exports=function(e){return this.__data__.has(e)}},51545:(e,t,n)=>{var r=n(52381);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("7e5eb428",r,!0,{sourceMap:!1,shadowMode:!1})},51811:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},51873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},52128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(89965),i=n(68581),a=n(23210),s=n(12893),l=n(95542),c=n(61810),u=n(1795);function d(e){return void 0!==e.leaves||void 0!==e.groups}!function(e){e[e.start=0]="start",e[e.tick=1]="tick",e[e.end=2]="end"}(r=t.EventType||(t.EventType={}));var p=function(){function e(){var t=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:e.getSourceIndex,getTargetIndex:e.getTargetIndex,setLength:e.setLinkLength,getType:function(e){return"function"==typeof t._linkType?t._linkType(e):0}}}return e.prototype.on=function(e,t){return this.event||(this.event={}),"string"==typeof e?this.event[r[e]]=t:this.event[e]=t,this},e.prototype.trigger=function(e){this.event&&void 0!==this.event[e.type]&&this.event[e.type](e)},e.prototype.kick=function(){for(;!this.tick(););},e.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:r.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var e,t,n=this._nodes.length;for(this._links.length,this._descent.locks.clear(),t=0;t<n;++t)if((e=this._nodes[t]).fixed){void 0!==e.px&&void 0!==e.py||(e.px=e.x,e.py=e.y);var o=[e.px,e.py];this._descent.locks.add(t,o)}var i=this._descent.rungeKutta();return 0===i?this._alpha=0:void 0!==this._lastStress&&(this._alpha=i),this._lastStress=i,this.updateNodePositions(),this.trigger({type:r.tick,alpha:this._alpha,stress:this._lastStress}),!1},e.prototype.updateNodePositions=function(){for(var e,t=this._descent.x[0],n=this._descent.x[1],r=this._nodes.length;r--;)(e=this._nodes[r]).x=t[r],e.y=n[r]},e.prototype.nodes=function(e){if(!e){if(0===this._nodes.length&&this._links.length>0){var t=0;this._links.forEach((function(e){t=Math.max(t,e.source,e.target)})),this._nodes=new Array(++t);for(var n=0;n<t;++n)this._nodes[n]={}}return this._nodes}return this._nodes=e,this},e.prototype.groups=function(e){var t=this;return e?(this._groups=e,this._rootGroup={},this._groups.forEach((function(e){void 0===e.padding&&(e.padding=1),void 0!==e.leaves&&e.leaves.forEach((function(n,r){"number"==typeof n&&((e.leaves[r]=t._nodes[n]).parent=e)})),void 0!==e.groups&&e.groups.forEach((function(n,r){"number"==typeof n&&((e.groups[r]=t._groups[n]).parent=e)}))})),this._rootGroup.leaves=this._nodes.filter((function(e){return void 0===e.parent})),this._rootGroup.groups=this._groups.filter((function(e){return void 0===e.parent})),this):this._groups},e.prototype.powerGraphGroups=function(e){var t=o.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(t.groups),e(t),this},e.prototype.avoidOverlaps=function(e){return arguments.length?(this._avoidOverlaps=e,this):this._avoidOverlaps},e.prototype.handleDisconnected=function(e){return arguments.length?(this._handleDisconnected=e,this):this._handleDisconnected},e.prototype.flowLayout=function(e,t){return arguments.length||(e="y"),this._directedLinkConstraints={axis:e,getMinSeparation:"number"==typeof t?function(){return t}:t},this},e.prototype.links=function(e){return arguments.length?(this._links=e,this):this._links},e.prototype.constraints=function(e){return arguments.length?(this._constraints=e,this):this._constraints},e.prototype.distanceMatrix=function(e){return arguments.length?(this._distanceMatrix=e,this):this._distanceMatrix},e.prototype.size=function(e){return e?(this._canvasSize=e,this):this._canvasSize},e.prototype.defaultNodeSize=function(e){return e?(this._defaultNodeSize=e,this):this._defaultNodeSize},e.prototype.groupCompactness=function(e){return e?(this._groupCompactness=e,this):this._groupCompactness},e.prototype.linkDistance=function(e){return e?(this._linkDistance="function"==typeof e?e:+e,this._linkLengthCalculator=null,this):this._linkDistance},e.prototype.linkType=function(e){return this._linkType=e,this},e.prototype.convergenceThreshold=function(e){return e?(this._threshold="function"==typeof e?e:+e,this):this._threshold},e.prototype.alpha=function(e){return arguments.length?(e=+e,this._alpha?this._alpha=e>0?e:0:e>0&&(this._running||(this._running=!0,this.trigger({type:r.start,alpha:this._alpha=e}),this.kick())),this):this._alpha},e.prototype.getLinkLength=function(e){return"function"==typeof this._linkDistance?+this._linkDistance(e):this._linkDistance},e.setLinkLength=function(e,t){e.length=t},e.prototype.getLinkType=function(e){return"function"==typeof this._linkType?this._linkType(e):0},e.prototype.symmetricDiffLinkLengths=function(e,t){var n=this;return void 0===t&&(t=1),this.linkDistance((function(t){return e*t.length})),this._linkLengthCalculator=function(){return i.symmetricDiffLinkLengths(n._links,n.linkAccessor,t)},this},e.prototype.jaccardLinkLengths=function(e,t){var n=this;return void 0===t&&(t=1),this.linkDistance((function(t){return e*t.length})),this._linkLengthCalculator=function(){return i.jaccardLinkLengths(n._links,n.linkAccessor,t)},this},e.prototype.start=function(t,n,r,o,c,u){var d=this;void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===c&&(c=!0),void 0===u&&(u=!0);var p,h=this.nodes().length,f=h+2*this._groups.length,m=(this._links.length,this._canvasSize[0]),g=this._canvasSize[1],v=new Array(f),y=new Array(f),b=null,w=this._avoidOverlaps;this._nodes.forEach((function(e,t){e.index=t,void 0===e.x&&(e.x=m/2,e.y=g/2),v[t]=e.x,y[t]=e.y})),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?p=this._distanceMatrix:(p=new l.Calculator(f,this._links,e.getSourceIndex,e.getTargetIndex,(function(e){return d.getLinkLength(e)})).DistanceMatrix(),b=a.Descent.createSquareMatrix(f,(function(){return 2})),this._links.forEach((function(e){"number"==typeof e.source&&(e.source=d._nodes[e.source]),"number"==typeof e.target&&(e.target=d._nodes[e.target])})),this._links.forEach((function(t){var n=e.getSourceIndex(t),r=e.getTargetIndex(t);b[n][r]=b[r][n]=t.weight||1})));var x=a.Descent.createSquareMatrix(f,(function(e,t){return p[e][t]}));if(this._rootGroup&&void 0!==this._rootGroup.groups){var _=h;this._groups.forEach((function(e){!function(e,t,n){b[e][t]=b[t][e]=n,x[e][t]=x[t][e]=.1}(_,_+1,d._groupCompactness),v[_]=0,y[_++]=0,v[_]=0,y[_++]=0}))}else this._rootGroup={leaves:this._nodes,groups:[]};var k=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,k=k.concat(i.generateDirectedEdgeConstraints(h,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new a.Descent([v,y],x),this._descent.locks.clear(),_=0;_<h;++_){var C=this._nodes[_];if(C.fixed){C.px=C.x,C.py=C.y;var S=[C.x,C.y];this._descent.locks.add(_,S)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,v,y),k.length>0&&(this._descent.project=new s.Projection(this._nodes,this._groups,this._rootGroup,k).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(m,g,u),this.avoidOverlaps(w),w&&(this._nodes.forEach((function(e,t){e.x=v[t],e.y=y[t]})),this._descent.project=new s.Projection(this._nodes,this._groups,this._rootGroup,k,!0).projectFunctions(),this._nodes.forEach((function(e,t){v[t]=e.x,y[t]=e.y}))),this._descent.G=b,this._descent.run(r),o){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=h,this._descent.scaleSnapByMaxH=h!=f;var E=a.Descent.createSquareMatrix(f,(function(e,t){return e>=h||t>=h?b[e][t]:0}));this._descent.G=E,this._descent.run(o)}return this.updateNodePositions(),this.separateOverlappingComponents(m,g,u),c?this.resume():this},e.prototype.initialLayout=function(t,n,r){if(this._groups.length>0&&t>0){var o=this._nodes.length,i=this._links.map((function(e){return{source:e.source.index,target:e.target.index}})),a=this._nodes.map((function(e){return{index:e.index}}));this._groups.forEach((function(e,t){a.push({index:e.index=o+t})})),this._groups.forEach((function(e,t){void 0!==e.leaves&&e.leaves.forEach((function(t){return i.push({source:e.index,target:t.index})})),void 0!==e.groups&&e.groups.forEach((function(t){return i.push({source:e.index,target:t.index})}))})),(new e).size(this.size()).nodes(a).links(i).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach((function(e){n[e.index]=a[e.index].x,r[e.index]=a[e.index].y}))}else this._descent.run(t)},e.prototype.separateOverlappingComponents=function(e,t,n){var r=this;if(void 0===n&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var o=this._descent.x[0],i=this._descent.x[1];this._nodes.forEach((function(e,t){e.x=o[t],e.y=i[t]}));var a=u.separateGraphs(this._nodes,this._links);u.applyPacking(a,e,t,this._defaultNodeSize,1,n),this._nodes.forEach((function(e,t){r._descent.x[0][t]=e.x,r._descent.x[1][t]=e.y,e.bounds&&(e.bounds.setXCentre(e.x),e.bounds.setYCentre(e.y))}))}},e.prototype.resume=function(){return this.alpha(.1)},e.prototype.stop=function(){return this.alpha(0)},e.prototype.prepareEdgeRouting=function(e){void 0===e&&(e=0),this._visibilityGraph=new c.TangentVisibilityGraph(this._nodes.map((function(t){return t.bounds.inflate(-e).vertices()})))},e.prototype.routeEdge=function(e,t,n){void 0===t&&(t=5);var r=[],o=new c.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),i={x:e.source.x,y:e.source.y},a={x:e.target.x,y:e.target.y},u=o.addPoint(i,e.source.index),d=o.addPoint(a,e.target.index);o.addEdgeIfVisible(i,a,e.source.index,e.target.index),void 0!==n&&n(o);var p=new l.Calculator(o.V.length,o.E,(function(e){return e.source.id}),(function(e){return e.target.id}),(function(e){return e.length()})).PathFromNodeToNode(u.id,d.id);if(1===p.length||p.length===o.V.length){var h=s.makeEdgeBetween(e.source.innerBounds,e.target.innerBounds,t);r=[h.sourceIntersection,h.arrowStart]}else{for(var f=p.length-2,m=o.V[p[f]].p,g=o.V[p[0]].p,v=(r=[e.source.innerBounds.rayIntersection(m.x,m.y)],f);v>=0;--v)r.push(o.V[p[v]].p);r.push(s.makeEdgeTo(g,e.target.innerBounds,t))}return r},e.getSourceIndex=function(e){return"number"==typeof e.source?e.source:e.source.index},e.getTargetIndex=function(e){return"number"==typeof e.target?e.target:e.target.index},e.linkId=function(t){return e.getSourceIndex(t)+"-"+e.getTargetIndex(t)},e.dragStart=function(t){d(t)?e.storeOffset(t,e.dragOrigin(t)):(e.stopNode(t),t.fixed|=2)},e.stopNode=function(e){e.px=e.x,e.py=e.y},e.storeOffset=function(t,n){void 0!==t.leaves&&t.leaves.forEach((function(t){t.fixed|=2,e.stopNode(t),t._dragGroupOffsetX=t.x-n.x,t._dragGroupOffsetY=t.y-n.y})),void 0!==t.groups&&t.groups.forEach((function(t){return e.storeOffset(t,n)}))},e.dragOrigin=function(e){return d(e)?{x:e.bounds.cx(),y:e.bounds.cy()}:e},e.drag=function(t,n){d(t)?(void 0!==t.leaves&&t.leaves.forEach((function(e){t.bounds.setXCentre(n.x),t.bounds.setYCentre(n.y),e.px=e._dragGroupOffsetX+n.x,e.py=e._dragGroupOffsetY+n.y})),void 0!==t.groups&&t.groups.forEach((function(t){return e.drag(t,n)}))):(t.px=n.x,t.py=n.y)},e.dragEnd=function(t){d(t)?(void 0!==t.leaves&&t.leaves.forEach((function(t){e.dragEnd(t),delete t._dragGroupOffsetX,delete t._dragGroupOffsetY})),void 0!==t.groups&&t.groups.forEach(e.dragEnd)):t.fixed&=-7},e.mouseOver=function(e){e.fixed|=4,e.px=e.x,e.py=e.y},e.mouseOut=function(e){e.fixed&=-5},e}();t.Layout=p},52381:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".__active>.highlighted[data-v-05d4af55]{fill:#00e58d}.__active:hover>.highlighted[data-v-05d4af55]{fill:#80f2c6}.__inactive>.highlighted[data-v-05d4af55],.__inactive>.normal[data-v-05d4af55]{fill:#fff}.__inactive:hover>.highlighted[data-v-05d4af55],.__inactive>.hovered[data-v-05d4af55],.connected[data-v-05d4af55]{fill:#00e58d}.disconnected[data-v-05d4af55]{fill:#cc4747}.normal[data-v-05d4af55]{fill:#fff}",""]);const s=a},52420:(e,t,n)=>{var r=n(86649),o=n(24066),i=n(37241);e.exports=function(e,t){return null==e?e:r(e,o(t),i)}},52797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-4a72b5ad]{stroke:#fff}.hovered[data-v-4a72b5ad]{stroke:#00e58d}",""]);const s=a},52842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".popup-menu{position:absolute;background-color:#1d1d1de6;border:1px solid #00e58d;border-radius:10px;color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none;left:50vw;top:50vh;transform:translate(-50%,-50%);padding:1em;display:flex;flex-direction:column;gap:1em;height:-moz-max-content;height:max-content}.popup-menu>.__header{display:flex;align-items:center;gap:2em}.popup-menu>.__header>.__header-title{font-size:12px;flex-grow:1}.popup-menu>.__header>.__close{flex-grow:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer}",""]);const s=a},53100:(e,t,n)=>{var r=n(61904);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("293ab998",r,!0,{sourceMap:!1,shadowMode:!1})},53661:(e,t,n)=>{var r=n(63040),o=n(17670),i=n(90289),a=n(4509),s=n(72949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},53730:(e,t,n)=>{var r=n(44394);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,a=r(e),s=void 0!==t,l=null===t,c=t==t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||o&&s&&c||!n&&c||!i)return 1;if(!o&&!a&&!u&&e<t||u&&n&&i&&!o&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}},53751:(e,t,n)=>{"use strict";n.d(t,{$9:()=>j,D$:()=>me,Ef:()=>we,F:()=>oe,Jo:()=>pe,aG:()=>I,eB:()=>v,jR:()=>ve});var r=n(20641),o=n(90033),i=n(50953);let a;const s="undefined"!=typeof window&&window.trustedTypes;if(s)try{a=s.createPolicy("vue",{createHTML:e=>e})}catch(e){}const l=a?e=>a.createHTML(e):e=>e,c="undefined"!=typeof document?document:null,u=c&&c.createElement("template"),d={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o="svg"===t?c.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?c.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?c.createElement(e,{is:n}):c.createElement(e);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>c.createTextNode(e),createComment:e=>c.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>c.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const a=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),o!==i&&(o=o.nextSibling););else{u.innerHTML=l("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);const o=u.content;if("svg"===r||"mathml"===r){const e=o.firstChild;for(;e.firstChild;)o.appendChild(e.firstChild);o.removeChild(e)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},p="transition",h="animation",f=Symbol("_vtc"),m={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},g=(0,o.X$)({},r.QP,m),v=(e=>(e.displayName="Transition",e.props=g,e))(((e,{slots:t})=>(0,r.h)(r.pR,w(e),t))),y=(e,t=[])=>{(0,o.cy)(e)?e.forEach((e=>e(...t))):e&&e(...t)},b=e=>!!e&&((0,o.cy)(e)?e.some((e=>e.length>1)):e.length>1);function w(e){const t={};for(const n in e)n in m||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,g=function(e){if(null==e)return null;if((0,o.Gv)(e))return[x(e.enter),x(e.leave)];{const t=x(e);return[t,t]}}(i),v=g&&g[0],w=g&&g[1],{onBeforeEnter:S,onEnter:P,onEnterCancelled:T,onLeave:A,onLeaveCancelled:N,onBeforeAppear:O=S,onAppear:I=P,onAppearCancelled:R=T}=t,L=(e,t,n,r)=>{e._enterCancelled=r,k(e,t?d:l),k(e,t?u:s),n&&n()},j=(e,t)=>{e._isLeaving=!1,k(e,p),k(e,f),k(e,h),t&&t()},D=e=>(t,n)=>{const o=e?I:P,i=()=>L(t,e,n);y(o,[t,i]),C((()=>{k(t,e?c:a),_(t,e?d:l),b(o)||E(t,r,v,i)}))};return(0,o.X$)(t,{onBeforeEnter(e){y(S,[e]),_(e,a),_(e,s)},onBeforeAppear(e){y(O,[e]),_(e,c),_(e,u)},onEnter:D(!1),onAppear:D(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>j(e,t);_(e,p),e._enterCancelled?(_(e,h),M()):(M(),_(e,h)),C((()=>{e._isLeaving&&(k(e,p),_(e,f),b(A)||E(e,r,w,n))})),y(A,[e,n])},onEnterCancelled(e){L(e,!1,void 0,!0),y(T,[e])},onAppearCancelled(e){L(e,!0,void 0,!0),y(R,[e])},onLeaveCancelled(e){j(e),y(N,[e])}})}function x(e){return(0,o.Ro)(e)}function _(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[f]||(e[f]=new Set)).add(t)}function k(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[f];n&&(n.delete(t),n.size||(e[f]=void 0))}function C(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let S=0;function E(e,t,n,r){const o=e._endId=++S,i=()=>{o===e._endId&&r()};if(null!=n)return setTimeout(i,n);const{type:a,timeout:s,propCount:l}=P(e,t);if(!a)return r();const c=a+"end";let u=0;const d=()=>{e.removeEventListener(c,p),i()},p=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),s+1),e.addEventListener(c,p)}function P(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r(`${p}Delay`),i=r(`${p}Duration`),a=T(o,i),s=r(`${h}Delay`),l=r(`${h}Duration`),c=T(s,l);let u=null,d=0,f=0;return t===p?a>0&&(u=p,d=a,f=i.length):t===h?c>0&&(u=h,d=c,f=l.length):(d=Math.max(a,c),u=d>0?a>c?p:h:null,f=u?u===p?i.length:l.length:0),{type:u,timeout:d,propCount:f,hasTransform:u===p&&/\b(transform|all)(,|$)/.test(r(`${p}Property`).toString())}}function T(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>A(t)+A(e[n]))))}function A(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function M(){return document.body.offsetHeight}const N=Symbol("_vod"),O=Symbol("_vsh"),I={beforeMount(e,{value:t},{transition:n}){e[N]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):R(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),R(e,!0),r.enter(e)):r.leave(e,(()=>{R(e,!1)})):R(e,t))},beforeUnmount(e,{value:t}){R(e,t)}};function R(e,t){e.style.display=t?e[N]:"none",e[O]=!t}const L=Symbol("");function j(e){const t=(0,r.nI)();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>$(e,n)))},i=()=>{const r=e(t.proxy);t.ce?$(t.ce,r):D(t.subTree,r),n(r)};(0,r.Ic)((()=>{(0,r.Dl)(i)})),(0,r.sV)((()=>{(0,r.wB)(i,o.tE,{flush:"post"});const e=new MutationObserver(i);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,r.hi)((()=>e.disconnect()))}))}function D(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{D(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)$(e.el,t);else if(e.type===r.FK)e.children.forEach((e=>D(e,t)));else if(e.type===r.jC){let{el:n,anchor:r}=e;for(;n&&($(n,t),n!==r);)n=n.nextSibling}}function $(e,t){if(1===e.nodeType){const n=e.style;let r="";for(const e in t)n.setProperty(`--${e}`,t[e]),r+=`--${e}: ${t[e]};`;n[L]=r}}const B=/(^|;)\s*display\s*:/,V=/\s*!important$/;function F(e,t,n){if((0,o.cy)(n))n.forEach((n=>F(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=U[t];if(n)return n;let r=(0,o.PT)(t);if("filter"!==r&&r in e)return U[t]=r;r=(0,o.ZH)(r);for(let n=0;n<z.length;n++){const o=z[n]+r;if(o in e)return U[t]=o}return t}(e,t);V.test(n)?e.setProperty((0,o.Tg)(r),n.replace(V,""),"important"):e[r]=n}}const z=["Webkit","Moz","ms"],U={},W="http://www.w3.org/1999/xlink";function K(e,t,n,r,i,a=(0,o.J$)(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(W,t.slice(6,t.length)):e.setAttributeNS(W,t,n):null==n||a&&!(0,o.Y2)(n)?e.removeAttribute(t):e.setAttribute(t,a?"":(0,o.Bm)(n)?String(n):n)}function H(e,t,n,r,i){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?l(n):n));const a=e.tagName;if("value"===t&&"PROGRESS"!==a&&!a.includes("-")){const r="OPTION"===a?e.getAttribute("value")||"":e.value,o=null==n?"checkbox"===e.type?"on":"":String(n);return r===o&&"_value"in e||(e.value=o),null==n&&e.removeAttribute(t),void(e._value=n)}let s=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,o.Y2)(n):null==n&&"string"===r?(n="",s=!0):"number"===r&&(n=0,s=!0)}try{e[t]=n}catch(e){}s&&e.removeAttribute(i||t)}function q(e,t,n,r){e.addEventListener(t,n,r)}const G=Symbol("_vei");const X=/(?:Once|Passive|Capture)$/;let Y=0;const J=Promise.resolve(),Z=()=>Y||(J.then((()=>Y=0)),Y=Date.now()),Q=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;"undefined"!=typeof HTMLElement&&HTMLElement;const ee=new WeakMap,te=new WeakMap,ne=Symbol("_moveCb"),re=Symbol("_enterCb"),oe=(e=>(delete e.props.mode,e))({name:"TransitionGroup",props:(0,o.X$)({},g,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.nI)(),o=(0,r.Gy)();let a,s;return(0,r.$u)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const r=e.cloneNode(),o=e[f];o&&o.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=P(r);return i.removeChild(r),a}(a[0].el,n.vnode.el,t))return void(a=[]);a.forEach(ie),a.forEach(ae);const r=a.filter(se);M(),r.forEach((e=>{const n=e.el,r=n.style;_(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const o=n[ne]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",o),n[ne]=null,k(n,t))};n.addEventListener("transitionend",o)})),a=[]})),()=>{const l=(0,i.ux)(e),c=w(l);let u=l.tag||r.FK;if(a=[],s)for(let e=0;e<s.length;e++){const t=s[e];t.el&&t.el instanceof Element&&(a.push(t),(0,r.MZ)(t,(0,r.OW)(t,c,o,n)),ee.set(t,t.el.getBoundingClientRect()))}s=t.default?(0,r.Df)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,r.MZ)(t,(0,r.OW)(t,c,o,n))}return(0,r.bF)(u,null,s)}}});function ie(e){const t=e.el;t[ne]&&t[ne](),t[re]&&t[re]()}function ae(e){te.set(e,e.el.getBoundingClientRect())}function se(e){const t=ee.get(e),n=te.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${o}px)`,t.transitionDuration="0s",e}}const le=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,o.cy)(t)?e=>(0,o.DY)(t,e):t};function ce(e){e.target.composing=!0}function ue(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const de=Symbol("_assign"),pe={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[de]=le(i);const a=r||i.props&&"number"===i.props.type;q(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),a&&(r=(0,o.bB)(r)),e[de](r)})),n&&q(e,"change",(()=>{e.value=e.value.trim()})),t||(q(e,"compositionstart",ce),q(e,"compositionend",ue),q(e,"change",ue))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},s){if(e[de]=le(s),e.composing)return;const l=null==t?"":t;if((!a&&"number"!==e.type||/^0\d/.test(e.value)?e.value:(0,o.bB)(e.value))!==l){if(document.activeElement===e&&"range"!==e.type){if(r&&t===n)return;if(i&&e.value.trim()===l)return}e.value=l}}},he=["ctrl","shift","alt","meta"],fe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>he.some((n=>e[`${n}Key`]&&!t.includes(n)))},me=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=fe[t[e]];if(r&&r(n,t))return}return e(n,...r)})},ge={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ve=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=(0,o.Tg)(n.key);return t.some((e=>e===r||ge[e]===r))?e(n):void 0})},ye=(0,o.X$)({patchProp:(e,t,n,i,a,s)=>{const l="svg"===a;"class"===t?function(e,t,n){const r=e[f];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,l):"style"===t?function(e,t,n){const r=e.style,i=(0,o.Kg)(n);let a=!1;if(n&&!i){if(t)if((0,o.Kg)(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&F(r,t,"")}else for(const e in t)null==n[e]&&F(r,e,"");for(const e in n)"display"===e&&(a=!0),F(r,e,n[e])}else if(i){if(t!==n){const e=r[L];e&&(n+=";"+e),r.cssText=n,a=B.test(n)}}else t&&e.removeAttribute("style");N in e&&(e[N]=a?r.display:"",e[O]&&(r.display="none"))}(e,n,i):(0,o.Mp)(t)?(0,o.CP)(t)||function(e,t,n,i,a=null){const s=e[G]||(e[G]={}),l=s[t];if(i&&l)l.value=i;else{const[n,c]=function(e){let t;if(X.test(e)){let n;for(t={};n=e.match(X);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):(0,o.Tg)(e.slice(2)),t]}(t);if(i){const l=s[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,r.qL)(function(e,t){if((0,o.cy)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Z(),n}(i,a);q(e,n,l,c)}else l&&(function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,l,c),s[t]=void 0)}}(e,t,0,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&Q(t)&&(0,o.Tn)(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!Q(t)||!(0,o.Kg)(n))&&t in e}(e,t,i,l))?(H(e,t,i),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||K(e,t,i,l,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&(0,o.Kg)(i)?("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),K(e,t,i,l)):H(e,(0,o.PT)(t),i,0,t)}},d);let be;const we=(...e)=>{const t=(be||(be=(0,r.K9)(ye))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if((0,o.Kg)(e))return document.querySelector(e);return e}(e);if(!r)return;const i=t._component;(0,o.Tn)(i)||i.render||i.template||(i.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const a=n(r,!1,function(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t}},53853:(e,t)=>{"use strict";function n(e){const t=e.length;let n,r=0,o=0;for(;o<t;)r++,n=e.charCodeAt(o++),n>=55296&&n<=56319&&o<t&&(n=e.charCodeAt(o),56320==(64512&n)&&o++);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},54083:(e,t,n)=>{var r=n(95983);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("204b64e0",r,!0,{sourceMap:!1,shadowMode:!1})},54128:(e,t,n)=>{var r=n(31800),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},54808:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".__title-icon circle[data-v-75ab5d68]{fill:#6f6f6f}",""]);const s=a},55364:(e,t,n)=>{var r=n(85250),o=n(20999)((function(e,t,n){r(e,t,n)}));e.exports=o},55378:(e,t,n)=>{var r=n(34932),o=n(15389),i=n(5128),a=n(56449);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},55481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},55527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},55580:(e,t,n)=>{var r=n(56110)(n(9325),"DataView");e.exports=r},55765:(e,t,n)=>{var r=n(38859),o=n(15325),i=n(29905),a=n(19219),s=n(44517),l=n(84247);e.exports=function(e,t,n){var c=-1,u=o,d=e.length,p=!0,h=[],f=h;if(n)p=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);p=!1,u=a,f=new r}else f=t?[]:h;e:for(;++c<d;){var g=e[c],v=t?t(g):g;if(g=n||0!==g?g:0,p&&v==v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),h.push(g)}else u(f,v,n)||(f!==h&&f.push(v),h.push(g))}return h}},55825:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=55825,e.exports=t},55944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48343);r.code='require("ajv/dist/runtime/uri").default',t.default=r},56091:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(20641),o=n(90033),i=n(53751);const a=["title"],s={class:"__selected"},l={class:"__text"},c={class:"__icon"},u={class:"item --header"},d=["onClick"];var p=n(63491);const h=(0,r.pM)({extends:p.JZ,setup:e=>({...p.JZ.setup(e),setSelected:t=>{e.intf.readonly||(e.intf.value="string"==typeof t?t:t.value)}})});n(2046);const f=(0,n(66262).A)(h,[["render",function(e,t,n,p,h,f){const m=(0,r.g2)("i-arrow");return(0,r.uX)(),(0,r.CE)("div",{ref:"el",class:(0,o.C4)(["baklava-select",{"--open":e.open}]),title:e.intf.name,onClick:t[0]||(t[0]=t=>e.open=!e.open)},[(0,r.Lk)("div",s,[(0,r.Lk)("div",l,(0,o.v_)(e.selectedText),1),(0,r.Lk)("div",c,[(0,r.bF)(m)])]),(0,r.bF)(i.eB,{name:"slide-fade"},{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",{class:(0,o.C4)(["__dropdown",{readonly:e.intf.readonly}])},[(0,r.Lk)("div",u,(0,o.v_)(e.intf.name),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.intf.items,((t,n)=>((0,r.uX)(),(0,r.CE)("div",{key:n,class:(0,o.C4)(["item",{"--active":t===e.selectedItem}]),onClick:n=>e.setSelected(t)},(0,o.v_)("string"==typeof t?t:t.text),11,d)))),128))],2),[[i.aG,e.open]])])),_:1})],10,a)}]])},56110:(e,t,n)=>{var r=n(45083),o=n(10392);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},56176:e=>{e.exports=function(e,t){return e<t}},56353:(e,t,n)=>{var r=n(56857),o=n(3988);function i(e,t,n,a,s,l,c){var u=e.children(c);if(u.length){var d=o.addBorderNode(e,"_bt"),p=o.addBorderNode(e,"_bb"),h=e.node(c);e.setParent(d,c),h.borderTop=d,e.setParent(p,c),h.borderBottom=p,r.forEach(u,(function(r){i(e,t,n,a,s,l,r);var o=e.node(r),u=o.borderTop?o.borderTop:r,h=o.borderBottom?o.borderBottom:r,f=o.borderTop?a:2*a,m=u!==h?1:s-l[c]+1;e.setEdge(d,u,{weight:f,minlen:m,nestingEdge:!0}),e.setEdge(h,p,{weight:f,minlen:m,nestingEdge:!0})})),e.parent(c)||e.setEdge(t,d,{weight:0,minlen:s+l[c]})}else c!==t&&e.setEdge(t,c,{weight:0,minlen:n})}e.exports={run:function(e){var t=o.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(o,i){var a=e.children(o);a&&a.length&&r.forEach(a,(function(e){n(e,i+1)})),t[o]=i}return r.forEach(e.children(),(function(e){n(e,1)})),t}(e),a=r.max(r.values(n))-1,s=2*a+1;e.graph().nestingRoot=t,r.forEach(e.edges(),(function(t){e.edge(t).minlen*=s}));var l=function(e){return r.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;r.forEach(e.children(),(function(r){i(e,t,s,l,a,n,r)})),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},56378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15457),o=n(65354),i=n(20494),a=n(93966),s=n(12661),l=n(83025),c=n(19713),u=n(38660),d=n(40117),p=n(45333),h=n(57923),f=n(16505),m=n(96163),g=n(15844),v=n(1239),y=n(14426);t.default=function(e=!1){const t=[h.default,f.default,m.default,g.default,v.default,y.default,c.default,u.default,l.default,d.default,p.default];return e?t.push(o.default,a.default):t.push(r.default,i.default),t.push(s.default),t}},56449:e=>{var t=Array.isArray;e.exports=t},56755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95542),o=n(23210),i=n(12893),a=n(68581),s=function(){function e(e,t){this.source=e,this.target=t}return e.prototype.actualLength=function(e){var t=this;return Math.sqrt(e.reduce((function(e,n){var r=n[t.target]-n[t.source];return e+r*r}),0))},e}();t.Link3D=s;t.Node3D=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=n};var l=function(){function e(t,n,r){var o=this;void 0===r&&(r=1),this.nodes=t,this.links=n,this.idealLinkLength=r,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(e.k);for(var i=0;i<e.k;++i)this.result[i]=new Array(t.length);t.forEach((function(t,n){for(var r=0,i=e.dims;r<i.length;r++){var a=i[r];void 0===t[a]&&(t[a]=Math.random())}o.result[0][n]=t.x,o.result[1][n]=t.y,o.result[2][n]=t.z}))}return e.prototype.linkLength=function(e){return e.actualLength(this.result)},e.prototype.start=function(e){var t=this;void 0===e&&(e=100);var n=this.nodes.length,s=new c;this.useJaccardLinkLengths&&a.jaccardLinkLengths(this.links,s,1.5),this.links.forEach((function(e){return e.length*=t.idealLinkLength}));var l=new r.Calculator(n,this.links,(function(e){return e.source}),(function(e){return e.target}),(function(e){return e.length})).DistanceMatrix(),u=o.Descent.createSquareMatrix(n,(function(e,t){return l[e][t]})),d=o.Descent.createSquareMatrix(n,(function(){return 2}));this.links.forEach((function(e){var t=e.source,n=e.target;return d[t][n]=d[n][t]=1})),this.descent=new o.Descent(this.result,u),this.descent.threshold=.001,this.descent.G=d,this.constraints&&(this.descent.project=new i.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var p=0;p<this.nodes.length;p++){var h=this.nodes[p];h.fixed&&this.descent.locks.add(p,[h.x,h.y,h.z])}return this.descent.run(e),this},e.prototype.tick=function(){this.descent.locks.clear();for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.fixed&&this.descent.locks.add(e,[t.x,t.y,t.z])}return this.descent.rungeKutta()},e.dims=["x","y","z"],e.k=e.dims.length,e}();t.Layout3D=l;var c=function(){function e(){}return e.prototype.getSourceIndex=function(e){return e.source},e.prototype.getTargetIndex=function(e){return e.target},e.prototype.getLength=function(e){return e.length},e.prototype.setLength=function(e,t){e.length=t},e}()},56757:(e,t,n)=>{var r=n(91033),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(l),r(e,this,c)}}},56857:(e,t,n)=>{var r;try{r={cloneDeep:n(88055),constant:n(37334),defaults:n(84684),each:n(76135),filter:n(87612),find:n(7309),flatten:n(35970),forEach:n(39754),forIn:n(52420),has:n(61448),isUndefined:n(62216),last:n(68090),map:n(55378),mapValues:n(73916),max:n(94506),merge:n(55364),min:n(31684),minBy:n(36533),now:n(10124),pick:n(44383),range:n(23181),reduce:n(40860),sortBy:n(33031),uniqueId:n(97200),values:n(35880),zipObject:n(47248)}}catch(e){}r||(r=window._),e.exports=r},57494:(e,t,n)=>{var r=n(10117),o=n(66454);function i(e){return r.map(e.nodes(),(function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};return r.isUndefined(e.graph())||(t.value=r.clone(e.graph())),t},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},57845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(41520);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i||(t.UsedValueState=i={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class a{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=a;class s extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}t.ValueScopeName=s;const l=r._`\n`;t.ValueScope=class extends a{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:r.nil}}get(){return this._scope}name(e){return new s(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:o}=r,i=null!==(n=t.key)&&void 0!==n?n:t.ref;let a=this._values[o];if(a){const e=a.get(i);if(e)return e}else a=this._values[o]=new Map;a.set(i,r);const s=this._scope[o]||(this._scope[o]=[]),l=s.length;return s[l]=t.ref,r.setValue(t,{property:o,itemIndex:l}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,a={},s){let l=r.nil;for(const c in e){const u=e[c];if(!u)continue;const d=a[c]=a[c]||new Map;u.forEach((e=>{if(d.has(e))return;d.set(e,i.Started);let a=n(e);if(a){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;l=r._`${l}${n} ${e} = ${a};${this.opts._n}`}else{if(!(a=null==s?void 0:s(e)))throw new o(e);l=r._`${l}${a}${this.opts._n}`}d.set(e,i.Completed)}))}return l}}},57890:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19915),o=n(91924);t.d3adaptor=function(e){return!e||function(e){return e.version&&null!==e.version.match(/^3\./)}(e)?new r.D3StyleLayoutAdaptor:new o.D3StyleLayoutAdaptor(e)}},57923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(94227),o={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,r.alwaysValidSchema)(o,n))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=o},58156:(e,t,n)=>{var r=n(47422);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},58648:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(20641),o=n(90033),i=n(53751);const a={key:0,class:"__content"},s={class:"__label"},l={class:"__value"},c={key:1,class:"__content"};var u=n(50953),d=n(63491);const p=(0,r.pM)({extends:d.G9,setup(e){const t=(0,u.lW)(e,"intf"),n=d.G9.setup(e),o=t=>{let n=t;return void 0!==e.intf.step&&(n=Math.round((t-e.intf.min)/e.intf.step),n=n*e.intf.step+e.intf.min),n<=e.intf.min?e.intf.min:n>=e.intf.max?e.intf.max:n},i=(0,r.EW)((()=>{const t=o(e.intf.value),n=e.intf.max-e.intf.min;return Math.min(100,Math.max(0,100*(t-e.intf.min)/n))})),a=(0,r.EW)((()=>{const n=e.intf.value.toFixed(3);return n.length>9?t.value.value.toExponential(4):n}));return{...n,percentageFixed:i,leaveEditMode:()=>{const e=parseFloat(n.tempValue.value);n.validate(e)?(t.value.value=o(e),n.editMode.value=!1):n.invalid.value=!0},stringRepresentation:a}}}),h=(0,n(66262).A)(p,[["render",function(e,t,n,u,d,p){return(0,r.uX)(),(0,r.CE)("div",{ref:"el",class:(0,o.C4)(["baklava-slider",{"baklava-ignore-mouse":!e.editMode}]),style:(0,o.Tr)({cursor:e.intf.readonly?"default":null}),onPointerdown:t[3]||(t[3]=(...t)=>e.mousedown&&e.mousedown(...t)),onPointerup:t[4]||(t[4]=(...t)=>e.mouseup&&e.mouseup(...t)),onPointermove:t[5]||(t[5]=(...t)=>e.mousemove&&e.mousemove(...t)),onPointerleave:t[6]||(t[6]=(...t)=>e.mouseleave&&e.mouseleave(...t))},[(0,r.Lk)("div",{class:"__slider",style:(0,o.Tr)({width:e.percentageFixed+"%"})},null,4),!e.editMode||e.intf.readonly?((0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("div",s,(0,o.v_)(e.intf.name),1),(0,r.Lk)("div",l,(0,o.v_)(e.stringRepresentation),1)])):((0,r.uX)(),(0,r.CE)("div",c,[(0,r.bo)((0,r.Lk)("input",{ref:"inputEl","onUpdate:modelValue":t[0]||(t[0]=t=>e.tempValue=t),type:"number",class:(0,o.C4)(["baklava-input",{"--invalid":e.invalid}]),style:{"text-align":"right"},onBlur:t[1]||(t[1]=(...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),onKeydown:t[2]||(t[2]=(0,i.jR)(((...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),["enter"])),tabindex:"-1"},null,34),[[i.Jo,e.tempValue]])]))],38)}]])},59350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},59363:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"a[data-v-28f02260]{color:#fff;text-decoration:none;word-wrap:normal;width:100%}a>.link_item[data-v-28f02260]{border:1px solid #737373;border-bottom:0 solid}a>.link_item>img[data-v-28f02260]{display:inline-block;vertical-align:middle;margin:1em 1em 1em 1em;width:auto;height:100%;max-height:1.75em}a>.link_item>span[data-v-28f02260]{vertical-align:middle;font-size:12px}a>.link_item:hover>span[data-v-28f02260]{color:#00e58d}",""]);const s=a},59662:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{connections_change:()=>Sa,frontend_specification_get:()=>wa,frontend_status_get:()=>ba,graph_change:()=>Ea,graph_get:()=>xa,metadata_change:()=>Ma,node_get:()=>Ta,nodes_change:()=>Ca,nodes_highlight:()=>Ka,notification_send:()=>Va,position_change:()=>ka,progress_change:()=>Aa,properties_change:()=>_a,properties_get:()=>Pa,register_external_frontend:()=>Ha,return_from_subgraph:()=>qa,specification_change:()=>Fa,specification_expand:()=>Wa,specification_graph_change:()=>za,specification_preprocess:()=>Ua,terminal_add:()=>Oa,terminal_clear:()=>La,terminal_get_instances:()=>Ba,terminal_hide:()=>ja,terminal_remove:()=>Ia,terminal_show:()=>Da,terminal_view:()=>$a,terminal_write:()=>Ra,viewport_center:()=>Na});var o={};n.r(o),n.d(o,{Decoder:()=>kl,Encoder:()=>xl,PacketType:()=>wl,protocol:()=>bl});var i=n(20641),a=n(53751),s=n(50953),l=n(90033),c=Object.defineProperty,u=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&h(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&h(e,n,t[n]);return e},m=e=>"function"==typeof e,g=e=>"string"==typeof e,v=e=>g(e)&&e.trim().length>0,y=e=>void 0===e,b=e=>"object"==typeof e&&null!==e,w=e=>window.TouchEvent&&e instanceof TouchEvent,x=e=>C(e,"component")&&_(e.component),_=e=>{return!y(e)&&(g(e)||m(t=e)||b(t)||x(e));var t},k=e=>b(e)&&["height","width","right","left","top","bottom"].every((t=>(e=>"number"==typeof e)(e[t]))),C=(e,t)=>(b(e)||m(e))&&t in e,S=(e=>()=>e++)(0);function E(e){return w(e)?e.targetTouches[0].clientX:e.clientX}function P(e){return w(e)?e.targetTouches[0].clientY:e.clientY}var T,A,M,N,O,I,R=e=>x(e)?R(e.component):(e=>C(e,"tag")&&v(e.tag))(e)?(0,i.pM)({render:()=>e}):"string"==typeof e?e:(0,s.ux)((0,s.R1)(e)),L=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach((e=>e(t)))}};(A=T||(T={})).SUCCESS="success",A.ERROR="error",A.WARNING="warning",A.INFO="info",A.DEFAULT="default",(N=M||(M={})).TOP_LEFT="top-left",N.TOP_CENTER="top-center",N.TOP_RIGHT="top-right",N.BOTTOM_LEFT="bottom-left",N.BOTTOM_CENTER="bottom-center",N.BOTTOM_RIGHT="bottom-right",(I=O||(O={})).ADD="add",I.DISMISS="dismiss",I.UPDATE="update",I.CLEAR="clear",I.UPDATE_DEFAULTS="update_defaults";var j="Vue-Toastification",D={type:{type:String,default:T.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},$={type:D.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},B={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:D.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},V={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},F={transition:{type:[Object,String],default:`${j}__bounce`}},z={position:{type:String,default:M.TOP_RIGHT},draggable:D.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:D.trueBoolean,pauseOnHover:D.trueBoolean,closeOnClick:D.trueBoolean,timeout:V.timeout,hideProgressBar:V.hideProgressBar,toastClassName:D.classNames,bodyClassName:D.classNames,icon:$.customIcon,closeButton:B.component,closeButtonClassName:B.classNames,showCloseButtonOnHover:B.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new L}},U={container:{type:[Object,Function],default:()=>document.body},newestOnTop:D.trueBoolean,maxToasts:{type:Number,default:20},transition:F.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:D.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},W={CORE_TOAST:z,TOAST:{id:{type:[String,Number],required:!0,default:0},type:D.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},CONTAINER:U,PROGRESS_BAR:V,ICON:$,TRANSITION:F,CLOSE_BUTTON:B},K=(0,i.pM)({name:"VtProgressBar",props:W.PROGRESS_BAR,data:()=>({hasClass:!0}),computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${j}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick((()=>this.hasClass=!0))}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});K.render=function(e,t){return(0,i.uX)(),(0,i.CE)("div",{style:(0,l.Tr)(e.style),class:(0,l.C4)(e.cpClass)},null,6)};var H=K,q=(0,i.pM)({name:"VtCloseButton",props:W.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?R(this.component):"button"},classes(){const e=[`${j}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),G=(0,i.eW)("  ");q.render=function(e,t){return(0,i.uX)(),(0,i.Wv)((0,i.$y)(e.buttonComponent),(0,i.v6)({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:(0,i.k6)((()=>[G])),_:1},16,["aria-label","class"])};var X=q,Y={},J={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Z=[(0,i.Lk)("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1)];Y.render=function(e,t){return(0,i.uX)(),(0,i.CE)("svg",J,Z)};var Q=Y,ee={},te={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ne=[(0,i.Lk)("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1)];ee.render=function(e,t){return(0,i.uX)(),(0,i.CE)("svg",te,ne)};var re=ee,oe={},ie={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ae=[(0,i.Lk)("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];oe.render=function(e,t){return(0,i.uX)(),(0,i.CE)("svg",ie,ae)};var se=oe,le={},ce={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ue=[(0,i.Lk)("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];le.render=function(e,t){return(0,i.uX)(),(0,i.CE)("svg",ce,ue)};var de=le,pe=(0,i.pM)({name:"VtIcon",props:W.ICON,computed:{customIconChildren(){return C(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return g(this.customIcon)?this.trimValue(this.customIcon):C(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return C(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:_(this.customIcon)?R(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[T.DEFAULT]:re,[T.INFO]:re,[T.SUCCESS]:Q,[T.ERROR]:de,[T.WARNING]:se}[this.type]},iconClasses(){const e=[`${j}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue:(e,t="")=>v(e)?e.trim():t}});pe.render=function(e,t){return(0,i.uX)(),(0,i.Wv)((0,i.$y)(e.component),{class:(0,l.C4)(e.iconClasses)},{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(e.customIconChildren),1)])),_:1},8,["class"])};var he=pe,fe=(0,i.pM)({name:"VtToast",components:{ProgressBar:H,CloseButton:X,Icon:he},inheritAttrs:!1,props:Object.assign({},W.CORE_TOAST,W.TOAST),data:()=>({isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}),computed:{classes(){const e=[`${j}__toast`,`${j}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${j}__toast--rtl`),e},bodyClasses(){return[`${j}__toast-${g(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return k(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:C,getVueComponentFromObj:R,closeToast(){this.eventBus.emit(O.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:E(e),y:P(e)},this.dragStart=E(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:E(e),y:P(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick((()=>this.closeToast()))):setTimeout((()=>{this.beingDragged=!1,k(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0})))}}}),me=["role"];fe.render=function(e,t){const n=(0,i.g2)("Icon"),r=(0,i.g2)("CloseButton"),o=(0,i.g2)("ProgressBar");return(0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)(e.classes),style:(0,l.Tr)(e.draggableStyle),onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.hoverPause&&e.hoverPause(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.hoverPlay&&e.hoverPlay(...t))},[e.icon?((0,i.uX)(),(0,i.Wv)(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",{role:e.accessibility.toastRole||"alert",class:(0,l.C4)(e.bodyClasses)},["string"==typeof e.content?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,l.v_)(e.content),1)],2112)):((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.getVueComponentFromObj(e.content)),(0,i.v6)({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},(0,i.Tb)(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,me),e.closeButton?((0,i.uX)(),(0,i.Wv)(r,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:(0,a.D$)(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):(0,i.Q3)("v-if",!0),e.timeout?((0,i.uX)(),(0,i.Wv)(o,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):(0,i.Q3)("v-if",!0)],38)};var ge=fe,ve=(0,i.pM)({name:"VtTransition",props:W.TRANSITION,emits:["leave"],methods:{hasProp:C,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});ve.render=function(e,t){return(0,i.uX)(),(0,i.Wv)(a.F,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:(0,i.k6)((()=>[(0,i.RG)(e.$slots,"default")])),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])};var ye=ve,be=(0,i.pM)({name:"VueToastification",devtools:{hide:!0},components:{Toast:ge,VtTransition:ye},props:Object.assign({},W.CORE_TOAST,W.CONTAINER,W.TRANSITION),data:()=>({count:0,positions:Object.values(M),toasts:{},defaults:{}}),computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(O.ADD,this.addToast),e.on(O.CLEAR,this.clearToasts),e.on(O.DISMISS,this.dismissToast),e.on(O.UPDATE,this.updateToast),e.on(O.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){var t;m(e)&&(e=await e()),t=this.$el,y(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove(),e.appendChild(this.$el)},setToast(e){y(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=(e=>{if("string"==typeof e)return e;const t=C(e,"props")&&b(e.props)?e.props:{},n=C(e,"listeners")&&b(e.listeners)?e.listeners:{};return{component:R(e),props:t,listeners:n}})(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];y(t)||y(t.onClose)||t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach((e=>{this.dismissToast(e)}))},getPositionToasts(e){const t=this.filteredToasts.filter((t=>t.position===e)).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){y(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${j}__container`,e].concat(this.defaults.containerClassName)}}});be.render=function(e,t){const n=(0,i.g2)("Toast"),r=(0,i.g2)("VtTransition");return(0,i.uX)(),(0,i.CE)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.positions,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.bF)(r,{transition:e.defaults.transition,class:(0,l.C4)(e.getClasses(t))},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.getPositionToasts(t),(e=>((0,i.uX)(),(0,i.Wv)(n,(0,i.v6)({key:e.id},e),null,16)))),128))])),_:2},1032,["transition","class"])])))),128))])};var we=be,xe=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new L;t&&(0,i.dY)((()=>{const t=(0,a.Ef)(we,f({},e)),n=t.mount(document.createElement("div")),r=e.onMounted;if(y(r)||r(n,t),e.shareAppContext){const n=e.shareAppContext;!0===n?console.warn(`[${j}] App to share context with was not provided.`):(t._context.components=n._context.components,t._context.directives=n._context.directives,t._context.mixins=n._context.mixins,t._context.provides=n._context.provides,t.config.globalProperties=n.config.globalProperties)}}));const r=(e,t)=>{const r=Object.assign({},{id:S(),type:T.DEFAULT},t,{content:e});return n.emit(O.ADD,r),r.id};return r.clear=()=>n.emit(O.CLEAR,void 0),r.updateDefaults=e=>{n.emit(O.UPDATE_DEFAULTS,e)},r.dismiss=e=>{n.emit(O.DISMISS,e)},r.update=function(e,{content:t,options:r},o=!1){const i=Object.assign({},r,{content:t});n.emit(O.UPDATE,{id:e,options:i,create:o})},r.success=(e,t)=>r(e,Object.assign({},t,{type:T.SUCCESS})),r.info=(e,t)=>r(e,Object.assign({},t,{type:T.INFO})),r.error=(e,t)=>r(e,Object.assign({},t,{type:T.ERROR})),r.warning=(e,t)=>r(e,Object.assign({},t,{type:T.WARNING})),r};function _e(e){return"undefined"==typeof window?(()=>{const e=()=>console.warn(`[${j}] This plugin does not support SSR!`);return new Proxy(e,{get:()=>e})})():(t=e,["on","off","emit"].every((e=>C(t,e)&&m(t[e])))?xe({eventBus:e},!1):xe(e,!0));var t}var ke=Symbol("VueToastification"),Ce=new L,Se=n(94647);const Ee={id:"app"};var Pe=n(66262);const Te={},Ae=(0,Pe.A)(Te,[["render",function(e,t){const n=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",Ee,[(0,i.bF)(n)])}]]),Me="undefined"!=typeof window;const Ne=Object.assign;function Oe(e,t){const n={};for(const r in t){const o=t[r];n[r]=Re(o)?o.map(e):e(o)}return n}const Ie=()=>{},Re=Array.isArray,Le=/\/$/;function je(e,t,n="/"){let r,o={},i="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,s>-1?s:t.length),o=e(i)),s>-1&&(r=r||t.slice(0,s),a=t.slice(s,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o,i,a=n.length-1;for(o=0;o<r.length;o++)if(i=r[o],"."!==i){if(".."!==i)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:o,hash:a}}function De(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function $e(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Be(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ve(e[n],t[n]))return!1;return!0}function Ve(e,t){return Re(e)?Fe(e,t):Re(t)?Fe(t,e):e===t}function Fe(e,t){return Re(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var ze,Ue;!function(e){e.pop="pop",e.push="push"}(ze||(ze={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(Ue||(Ue={}));const We=/^[^#]+#/;function Ke(e,t){return e.replace(We,"#")+t}const He=()=>({left:window.pageXOffset,top:window.pageYOffset});function qe(e,t){return(history.state?history.state.position-t:-1)+e}const Ge=new Map;let Xe=()=>location.protocol+"//"+location.host;function Ye(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let t=o.includes(e.slice(i))?e.slice(i).length:1,n=o.slice(t);return"/"!==n[0]&&(n="/"+n),De(n,"")}return De(n,e)+r+o}function Je(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?He():null}}function Ze(e){return"string"==typeof e||"symbol"==typeof e}const Qe={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},et=Symbol("");var tt;function nt(e,t){return Ne(new Error,{type:e,[et]:!0},t)}function rt(e,t){return e instanceof Error&&et in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(tt||(tt={}));const ot="[^/]+?",it={sensitive:!1,strict:!1,start:!0,end:!0},at=/[.+*?^${}()[\]/\\]/g;function st(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function lt(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=st(r[n],o[n]);if(e)return e;n++}if(1===Math.abs(o.length-r.length)){if(ct(r))return 1;if(ct(o))return-1}return o.length-r.length}function ct(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ut={type:0,value:""},dt=/[a-zA-Z0-9_]/;function pt(e,t,n){const r=function(e,t){const n=Ne({},it,t),r=[];let o=n.start?"^":"";const i=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(o+="/");for(let r=0;r<t.length;r++){const a=t[r];let s=40+(n.sensitive?.25:0);if(0===a.type)r||(o+="/"),o+=a.value.replace(at,"\\$&"),s+=40;else if(1===a.type){const{value:e,repeatable:n,optional:l,regexp:c}=a;i.push({name:e,repeatable:n,optional:l});const u=c||ot;if(u!==ot){s+=10;try{new RegExp(`(${u})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;r||(d=l&&t.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),o+=d,s+=20,l&&(s+=-8),n&&(s+=-20),".*"===u&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");return{re:a,score:r,keys:i,parse:function(e){const t=e.match(a),n={};if(!t)return null;for(let e=1;e<t.length;e++){const r=t[e]||"",o=i[e-1];n[o.name]=r&&o.repeatable?r.split("/"):r}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:a,optional:s}=e,l=i in t?t[i]:"";if(Re(l)&&!a)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Re(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[ut]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const o=[];let i;function a(){i&&o.push(i),i=[]}let s,l=0,c="",u="";function d(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function p(){c+=s}for(;l<e.length;)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&d(),a()):":"===s?(d(),n=1):p();break;case 4:p(),n=r;break;case 1:"("===s?n=2:dt.test(s)?p():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),o}(e.path),n),o=Ne(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function ht(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ft(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function mt(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function gt(e){return e.reduce(((e,t)=>Ne(e,t.meta)),{})}function vt(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function yt(e,t){return t.children.some((t=>t===e||yt(e,t)))}const bt=/#/g,wt=/&/g,xt=/\//g,_t=/=/g,kt=/\?/g,Ct=/\+/g,St=/%5B/g,Et=/%5D/g,Pt=/%5E/g,Tt=/%60/g,At=/%7B/g,Mt=/%7C/g,Nt=/%7D/g,Ot=/%20/g;function It(e){return encodeURI(""+e).replace(Mt,"|").replace(St,"[").replace(Et,"]")}function Rt(e){return It(e).replace(Ct,"%2B").replace(Ot,"+").replace(bt,"%23").replace(wt,"%26").replace(Tt,"`").replace(At,"{").replace(Nt,"}").replace(Pt,"^")}function Lt(e){return null==e?"":function(e){return It(e).replace(bt,"%23").replace(kt,"%3F")}(e).replace(xt,"%2F")}function jt(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function Dt(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const r=n[e].replace(Ct," "),o=r.indexOf("="),i=jt(o<0?r:r.slice(0,o)),a=o<0?null:jt(r.slice(o+1));if(i in t){let e=t[i];Re(e)||(e=t[i]=[e]),e.push(a)}else t[i]=a}return t}function $t(e){let t="";for(let n in e){const r=e[n];(n=Rt(n).replace(_t,"%3D"),null!=r)?(Re(r)?r.map((e=>e&&Rt(e))):[r&&Rt(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})):void 0!==r&&(t+=(t.length?"&":"")+n)}return t}function Bt(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Re(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Vt=Symbol(""),Ft=Symbol(""),zt=Symbol(""),Ut=Symbol(""),Wt=Symbol("");function Kt(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function Ht(e,t,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((a,s)=>{const l=e=>{var l;!1===e?s(nt(4,{from:n,to:t})):e instanceof Error?s(e):"string"==typeof(l=e)||l&&"object"==typeof l?s(nt(2,{from:t,to:e})):(i&&r.enterCallbacks[o]===i&&"function"==typeof e&&i.push(e),a())},c=e.call(r&&r.instances[o],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>s(e)))}))}function qt(e,t,n,r){const o=[];for(const a of e)for(const e in a.components){let s=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if("object"==typeof(i=s)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(s.__vccOpts||s)[t];i&&o.push(Ht(i,n,r,a,e))}else{let i=s();o.push((()=>i.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${a.path}"`));const i=(s=o).__esModule||"Module"===s[Symbol.toStringTag]?o.default:o;var s;a.components[e]=i;const l=(i.__vccOpts||i)[t];return l&&Ht(l,n,r,a,e)()}))))}}var i;return o}function Gt(e){const t=(0,i.WQ)(zt),n=(0,i.WQ)(Ut),r=(0,i.EW)((()=>t.resolve((0,s.R1)(e.to)))),o=(0,i.EW)((()=>{const{matched:e}=r.value,{length:t}=e,o=e[t-1],i=n.matched;if(!o||!i.length)return-1;const a=i.findIndex($e.bind(null,o));if(a>-1)return a;const s=Jt(e[t-2]);return t>1&&Jt(o)===s&&i[i.length-1].path!==s?i.findIndex($e.bind(null,e[t-2])):a})),a=(0,i.EW)((()=>o.value>-1&&function(e,t){for(const n in t){const r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!Re(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),l=(0,i.EW)((()=>o.value>-1&&o.value===n.matched.length-1&&Be(n.params,r.value.params)));return{route:r,href:(0,i.EW)((()=>r.value.href)),isActive:a,isExactActive:l,navigate:function(n={}){return function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(n)?t[(0,s.R1)(e.replace)?"replace":"push"]((0,s.R1)(e.to)).catch(Ie):Promise.resolve()}}}const Xt=(0,i.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gt,setup(e,{slots:t}){const n=(0,s.Kh)(Gt(e)),{options:r}=(0,i.WQ)(zt),o=(0,i.EW)((()=>({[Zt(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Zt(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:(0,i.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Yt=Xt;function Jt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Zt=(e,t,n)=>null!=e?e:null!=t?t:n;function Qt(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const en=(0,i.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=(0,i.WQ)(Wt),o=(0,i.EW)((()=>e.route||r.value)),a=(0,i.WQ)(Ft,0),l=(0,i.EW)((()=>{let e=(0,s.R1)(a);const{matched:t}=o.value;let n;for(;(n=t[e])&&!n.components;)e++;return e})),c=(0,i.EW)((()=>o.value.matched[l.value]));(0,i.Gt)(Ft,(0,i.EW)((()=>l.value+1))),(0,i.Gt)(Vt,c),(0,i.Gt)(Wt,o);const u=(0,s.KR)();return(0,i.wB)((()=>[u.value,c.value,e.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&$e(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,a=e.name,s=c.value,l=s&&s.components[a];if(!l)return Qt(n.default,{Component:l,route:r});const d=s.props[a],p=d?!0===d?r.params:"function"==typeof d?d(r):d:null,h=(0,i.h)(l,Ne({},p,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(s.instances[a]=null)},ref:u}));return Qt(n.default,{Component:h,route:r})||h}}});function tn(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}const nn={id:"container"},rn={class:"wrapper"},on={class:"container"},an={class:"dropdown-wrapper"},sn={key:0},ln={key:1},cn=["id","onClick","onPointerover","onPointerleave"],un={key:0},dn={key:1},pn={key:0},hn={key:1},fn={key:0},mn={key:1},gn={key:0},vn={key:1},yn={class:"external-app-status"},bn={key:0,class:"connected"},wn={key:1,class:"disconnected"},xn=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${e}`)})();function _n(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function kn(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function Cn(e,t={}){return{width:t.width||function(e){const t=kn(e,"border-left-width"),n=kn(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=kn(e,"border-top-width"),n=kn(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}const Sn=16384;function En(e){return new Promise(((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e}))}const Pn=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return null!==n&&(n.constructor.name===t.name||Pn(n,t))};function Tn(e,t,n){const r=window.getComputedStyle(e,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;const i=xn();try{t.className=`${t.className} ${i}`}catch(e){return}const a=document.createElement("style");a.appendChild(function(e,t,n){const r=`.${e}:${t}`,o=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return _n(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${r}{${o}}`)}(i,n,r)),t.appendChild(a)}const An="application/font-woff",Mn="image/jpeg",Nn={woff:An,woff2:An,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Mn,jpeg:Mn,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function On(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return Nn[t]||""}function In(e){return-1!==e.search(/^(data:)/)}function Rn(e,t){return`data:${t};base64,${e}`}async function Ln(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)}))}const jn={};async function Dn(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=jn[r])return jn[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await Ln(e,n.fetchRequestInit,(({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(n))));o=Rn(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message),r&&console.warn(r)}return jn[r]=o,o}const $n=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();async function Bn(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>async function(e,t){return Pn(e,HTMLCanvasElement)?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):En(t)}(e):Pn(e,HTMLVideoElement)?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height),En(t.toDataURL())}const n=e.poster,r=On(n);return En(await Dn(n,r,t))}(e,t):Pn(e,HTMLIFrameElement)?async function(e){var t;try{if(null===(t=null==e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await Bn(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}(e):e.cloneNode(!1)}(e,t))).then((n=>async function(e,t,n){var r,o;let i=[];return i=$n(e)&&e.assignedNodes?_n(e.assignedNodes()):Pn(e,HTMLIFrameElement)&&(null===(r=e.contentDocument)||void 0===r?void 0:r.body)?_n(e.contentDocument.body.childNodes):_n((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes),0===i.length||Pn(e,HTMLVideoElement)||await i.reduce(((e,r)=>e.then((()=>Bn(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,n,t))).then((t=>function(e,t){return Pn(t,Element)&&(function(e,t){const n=t.style;if(!n)return;const r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):_n(r).forEach((o=>{let i=r.getPropertyValue(o);if("font-size"===o&&i.endsWith("px")){const e=Math.floor(parseFloat(i.substring(0,i.length-2)))-.1;i=`${e}px`}Pn(e,HTMLIFrameElement)&&"display"===o&&"inline"===i&&(i="block"),"d"===o&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(o,i,r.getPropertyPriority(o))}))}(e,t),function(e,t){Tn(e,t,":before"),Tn(e,t,":after")}(e,t),function(e,t){Pn(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Pn(e,HTMLInputElement)&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(Pn(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find((t=>e.value===t.getAttribute("value")));r&&r.setAttribute("selected","")}}(e,t)),t}(e,t))).then((e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await Bn(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t))):null}const Vn=/url\((['"]?)([^'"]+?)\1\)/g,Fn=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,zn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Un(e){return-1!==e.search(Vn)}async function Wn(e,t,n){if(!Un(e))return e;const r=function(e,{preferredFontFormat:t}){return t?e.replace(zn,(e=>{for(;;){const[n,,r]=Fn.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}})):e}(e,n),o=function(e){const t=[];return e.replace(Vn,((e,n,r)=>(t.push(r),e))),t.filter((e=>!In(e)))}(r);return o.reduce(((e,r)=>e.then((e=>async function(e,t,n,r,o){try{const i=n?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}(t,n):t,a=On(t);let s;return s=o?Rn(await o(i),a):await Dn(i,a,r),e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${s}$3`)}catch(e){}return e}(e,r,t,n)))),Promise.resolve(r))}async function Kn(e,t,n){var r;const o=null===(r=t.style)||void 0===r?void 0:r.getPropertyValue(e);if(o){const r=await Wn(o,null,n);return t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0}return!1}async function Hn(e,t){Pn(e,Element)&&(await async function(e,t){await Kn("background",e,t)||await Kn("background-image",e,t),await Kn("mask",e,t)||await Kn("mask-image",e,t)}(e,t),await async function(e,t){const n=Pn(e,HTMLImageElement);if((!n||In(e.src))&&(!Pn(e,SVGImageElement)||In(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await Dn(r,On(r),t);await new Promise(((t,r)=>{e.onload=t,e.onerror=r;const i=e;i.decode&&(i.decode=t),"lazy"===i.loading&&(i.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o}))}(e,t),await async function(e,t){const n=_n(e.childNodes).map((e=>Hn(e,t)));await Promise.all(n).then((()=>e))}(e,t))}const qn={};async function Gn(e){let t=qn[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},qn[e]=t,t}async function Xn(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),Ln(i,t.fetchRequestInit,(({result:e})=>(n=n.replace(o,`url(${e})`),[o,e])))}));return Promise.all(o).then((()=>n))}function Yn(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function Jn(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await async function(e,t){const n=await async function(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=_n(e.ownerDocument.styleSheets),r=await async function(e,t){const n=[],r=[];return e.forEach((n=>{if("cssRules"in n)try{_n(n.cssRules||[]).forEach(((e,o)=>{if(e.type===CSSRule.IMPORT_RULE){let i=o+1;const a=Gn(e.href).then((e=>Xn(e,t))).then((e=>Yn(e).forEach((e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})))).catch((e=>{console.error("Error loading remote css",e.toString())}));r.push(a)}}))}catch(o){const i=e.find((e=>null==e.href))||document.styleSheets[0];null!=n.href&&r.push(Gn(n.href).then((e=>Xn(e,t))).then((e=>Yn(e).forEach((e=>{i.insertRule(e,n.cssRules.length)})))).catch((e=>{console.error("Error loading remote stylesheet",e)}))),console.error("Error inlining remote css file",o)}})),Promise.all(r).then((()=>(e.forEach((e=>{if("cssRules"in e)try{_n(e.cssRules||[]).forEach((e=>{n.push(e)}))}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t)}})),n)))}(n,t);return function(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>Un(e.style.getPropertyValue("src"))))}(r)}(e,t);return(await Promise.all(n.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return Wn(e.cssText,n,t)})))).join("\n")}(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function Zn(e,t={}){const{width:n,height:r}=Cn(e,t),o=await Bn(e,t,!0);return await Jn(o,t),await Hn(o,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]}))}(o,t),await async function(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(o)}(o,n,r)}var Qn=n(9459),er=n.n(Qn),tr=n(63491),nr=n(12206);const rr={width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"active"},or={props:{active:{type:Boolean,default:!1},hover:{type:Boolean,default:!1}},setup:e=>({classes:(0,i.EW)((()=>({__active:e.active,__inactive:!e.active}))),computeHighlight:(0,i.EW)((()=>({highlighted:!e.hover,hovered:e.hover}))),computeLineHighlight:(0,i.EW)((()=>({highlighted_line:!e.hover,hovered_line:e.hover})))})};n(15054);const ir=(0,Pe.A)(or,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",rr,[(0,i.Lk)("path",{d:"M15.5181 13.5741C14.0965 13.5741 12.9441 12.4217 12.9441 11.0001C12.9441 9.57847 14.0965 8.42603 15.5181 8.42603C16.9397 8.42603 18.0922 9.57847 18.0922 11.0001C18.0922 12.4217 16.9397 13.5741 15.5181 13.5741Z",class:(0,l.C4)(r.computeHighlight)},null,2),(0,i.Lk)("path",{d:"M7.14384 6.1481C5.72223 6.1481 4.56979 4.99566 4.56979 3.57405C4.56979 2.15244 5.72223 1 7.14384 1C8.56545 1 9.7179 2.15244 9.7179 3.57405C9.7179 4.99566 8.56545 6.1481 7.14384 6.1481Z",class:(0,l.C4)(r.computeHighlight)},null,2),(0,i.Lk)("path",{d:"M7.14384 21.0002C5.72223 21.0002 4.56979 19.8477 4.56979 18.4261C4.56979 17.0045 5.72223 15.8521 7.14384 15.8521C8.56545 15.8521 9.7179 17.0045 9.7179 18.4261C9.7179 19.8477 8.56545 21.0002 7.14384 21.0002Z",class:(0,l.C4)(r.computeHighlight)},null,2),(0,i.Lk)("line",{y1:"-0.499486",x2:"11.201",y2:"-0.499486",transform:"matrix(-0.747629 -0.664117 -0.664117 0.747629 15.5085 11.9131)",class:(0,l.C4)(r.computeLineHighlight)},null,2),(0,i.Lk)("line",{x1:"15.8403",y1:"10.5492",x2:"7.46608",y2:"17.988",class:(0,l.C4)(r.computeLineHighlight)},null,2)])}],["__scopeId","data-v-7a759b63"]]),ar=(0,i.pM)({props:{color:{type:String,required:!1},rotate:{type:String,required:!1},scale:{type:String,required:!1},hover:{type:Boolean,default:!1},noninteractable:{type:Boolean,default:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})});n(98937);const sr=(0,Pe.A)(ar,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",{class:(0,l.C4)(["arrow",[e.rotate,e.scale,{noninteractable:e.noninteractable}]]),width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i.Lk)("path",{class:(0,l.C4)(["highlighted",[e.color,e.hoverStatus,{noninteractable:e.noninteractable}]]),d:"M16 18L7.33664 9.00005L16 4.78745e-05L8.65202 4.77869e-05L1.07327e-07 9.00005L8.65202 18L16 18Z",fill:"#6F6F6F","stroke-width":"0"},null,2)],2)}],["__scopeId","data-v-ef71f1c4"]]),lr={class:"expand",width:"26",height:"26",viewBox:"3 3 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cr=(0,i.pM)({props:{color:{type:String,required:!1},hover:{type:Boolean,default:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})});n(82112);const ur=(0,Pe.A)(cr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",lr,[(0,i.Lk)("path",{class:(0,l.C4)(["highlighted",[e.color,e.hoverStatus]]),d:"M4 5H10V7H6V19H20V17H22V21H4V5ZM12 6C12 5.44772 12.4477 5 13 5H22V14C22 14.5523 21.5523 15 21 15C20.4477 15 20 14.5523 20 14V8.20377L12.5156 14.7526C12.1 15.1163 11.4682 15.0741 11.1046 14.6585C10.7409 14.2429 10.783 13.6111 11.1986 13.2474L18.3386 7H13C12.4477 7 12 6.55228 12 6Z",fill:"#6F6F6F","stroke-width":"0"},null,2)])}],["__scopeId","data-v-78309d1e"]]),dr={class:"expand",width:"26",height:"26",viewBox:"3 3 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pr=(0,i.pM)({props:{color:{type:String,required:!1},hover:{type:Boolean,default:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})});n(30239);const hr=(0,Pe.A)(pr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",dr,[(0,i.Lk)("path",{class:(0,l.C4)(["highlighted",[e.color,e.hoverStatus]]),d:"M4 5H9V7H6V19H20V18H22V21H4V5Z",fill:"#6F6F6F","stroke-width":"0"},null,2),(0,i.Lk)("path",{class:(0,l.C4)(["highlighted",[e.color,e.hoverStatus]]),d:"M20.8532 14C20.8532 14.5523 20.4055 15 19.8532 15H10.8532V6C10.8532 5.44771 11.3009 5 11.8532 5C12.4055 5 12.8532 5.44771 12.8532 6V11.7962L20.3376 5.24742C20.7532 4.88374 21.385 4.92586 21.7487 5.3415C22.1123 5.75713 22.0702 6.38889 21.6546 6.75258L14.5147 13H19.8532C20.4055 13 20.8532 13.4477 20.8532 14Z",fill:"#6F6F6F","stroke-width":"0"},null,2)])}],["__scopeId","data-v-e991a23a"]]),fr={width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"run"},mr={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(86229);const gr=(0,Pe.A)(mr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",fr,[(0,i.Lk)("path",{d:"M4 18.1192V3.29872C4 2.27117 5.10801 1.65193 5.94778 2.21014L17.1651 9.66657C18.2783 10.4065 18.2783 12.0796 17.1651 12.8196L6.82085 19.6957C5.60466 20.5041 4 19.6073 4 18.1192Z",fill:"#6F6F6F",class:(0,l.C4)([r.hoverStatus,"highlighted"]),"stroke-width":"0"},null,2)])}],["__scopeId","data-v-5307c3a1"]]),vr={width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"validate"},yr={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(28420);const br=(0,Pe.A)(yr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",vr,[(0,i.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 9.65333L18.6092 8.80333C18.4442 8.23083 18.2158 7.685 17.9333 7.17417L19.0233 4.88167L17.1192 2.9775L14.8267 4.06667C14.3158 3.78417 13.7692 3.55583 13.1975 3.39083L12.3467 1H9.65333L8.8025 3.39083C8.23083 3.55583 7.68417 3.78333 7.17333 4.06667L4.88083 2.97667L2.97667 4.88083L4.06667 7.17417C3.78417 7.685 3.555 8.23083 3.39083 8.80333L1 9.65333V12.3467L3.39083 13.1967C3.555 13.7692 3.78417 14.315 4.06667 14.8258L2.97667 17.1183L4.88083 19.0233L7.17333 17.9333C7.68417 18.2158 8.23083 18.4442 8.8025 18.6092L9.65333 21H12.3467L13.1975 18.6092C13.77 18.4442 14.3158 18.2158 14.8267 17.9333L17.1192 19.0233L19.0233 17.1183L17.9333 14.8258C18.2158 14.315 18.4442 13.7692 18.6092 13.1967L21 12.3467V9.65333ZM9.96774 15.9859L16.7856 9.16803L15.2143 7.59668L9.96774 12.8432L7.34118 10.2166L5.76983 11.788L9.96774 15.9859Z",fill:"#6F6F6F",class:(0,l.C4)([r.hoverStatus,"highlighted"]),"stroke-width":"0"},null,2)])}],["__scopeId","data-v-653cba30"]]),wr={props:{color:{type:String,required:!1,default:"normal"},active:{type:Boolean,required:!1,default:!1},hover:{type:Boolean,required:!1}},setup:e=>({classes:(0,i.EW)((()=>({__active:e.active,__inactive:!e.active}))),hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(51545);const xr=(0,Pe.A)(wr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:(0,l.C4)(["backend",r.classes])},[(0,i.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 18.5C12 19.4002 12.2163 20.2499 12.5997 21H0V14.875H13.3636C12.5146 15.8429 12 17.1114 12 18.5ZM1.81818 19.25L2.60273 16.625H3.76182L2.97727 19.25H1.81818ZM3.69636 19.25L4.48091 16.625H5.64L4.85545 19.25H3.69636ZM5.57545 19.25L6.36 16.625H7.51909L6.73364 19.25H5.57545ZM7.45364 19.25L8.23818 16.625H9.39636L8.61182 19.25H7.45364ZM10.4909 19.25H9.33273L10.1173 16.625H11.2764L10.4909 19.25Z",fill:"#6F6F6F",class:(0,l.C4)([r.hoverStatus,"highlighted"])},null,2),(0,i.Lk)("path",{d:"M8.18182 6.5625L5.85182 4.375L5.15091 5.03212L6.78182 6.5625L5.15091 8.09287L5.85182 8.75L8.18182 6.5625Z",fill:"#6F6F6F",class:(0,l.C4)([r.hoverStatus,"highlighted"])},null,2),(0,i.Lk)("path",{d:"M14.5455 7.875H10V8.75H14.5455V7.875Z",fill:"#6F6F6F",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.5 13C17.902 13 18.2939 13.0431 18.6714 13.125H20V0H0V13.125H16.3286C16.7061 13.0431 17.098 13 17.5 13ZM18.1818 1.75V11.375H1.81818V1.75H18.1818Z",fill:"#6F6F6F",class:(0,l.C4)(["highlighted",r.hoverStatus])},null,2),(0,i.Lk)("path",{class:(0,l.C4)([n.color]),d:"M21 18.5C21 20.433 19.433 22 17.5 22C15.567 22 14 20.433 14 18.5C14 16.567 15.567 15 17.5 15C19.433 15 21 16.567 21 18.5Z",fill:"#6F6F6F"},null,2)],2)}],["__scopeId","data-v-05d4af55"]]),_r={width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},kr={props:{color:{type:String,required:!1},hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(50449);const Cr=(0,Pe.A)(kr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",_r,[(0,i.Lk)("path",{class:(0,l.C4)(["indicator",[n.color]]),d:"M21 18.5C21 20.433 19.433 22 17.5 22C15.567 22 14 20.433 14 18.5C14 16.567 15.567 15 17.5 15C19.433 15 21 16.567 21 18.5Z",fill:"#6F6F6F"},null,2),(0,i.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1665 4.2875C11.6191 3.97583 11.2808 3.39583 11.2816 2.77083V2.76833C11.2824 1.79167 10.4843 1 9.5 1C8.5157 1 7.71755 1.79167 7.71755 2.76833V2.77083C7.7184 3.39667 7.38095 3.97583 6.8327 4.2875C4.89686 5.39036 4.44857 7.74165 4.01527 10.0144C3.56064 12.3989 3.1225 14.697 1 15.3758V16.8333H12.2571C12.796 15.1365 14.1359 13.7964 15.8326 13.2573C15.4233 12.3146 15.2059 11.1749 14.9847 10.0148C14.5513 7.74193 14.1028 5.39043 12.1665 4.2875ZM9.5 1.83333C9.9692 1.83333 10.35 2.2075 10.35 2.66667C10.35 3.12667 9.9692 3.5 9.5 3.5C9.0308 3.5 8.65 3.12667 8.65 2.66667C8.65 2.2075 9.0308 1.83333 9.5 1.83333Z",fill:"#6F6F6F",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("path",{d:"M6.95 18.5H12C12 18.6346 12.0048 18.7681 12.0143 18.9003C11.8076 20.0573 10.7303 21 9.52465 21C8.1825 21 6.95 19.8317 6.95 18.5Z",fill:"#6F6F6F",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-410f3ef8"]]),Sr={width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Er={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(93325);const Pr=(0,Pe.A)(Er,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",Sr,[(0,i.Lk)("path",{d:"M0.791504 5.42584L10.0009 0L19.2787 5.43356L10.0694 10.8594L0.791504 5.42584Z",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("path",{d:"M10.8307 12.1946L20.0325 6.77649L20.002 17.5664L10.8003 22.9923L10.8307 12.1946Z",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("path",{d:"M0 17.5665L0.0304442 6.76111L9.3083 12.1947L9.27786 23L0 17.5665Z",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-41e945d3"]]),Tr={width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ar=(0,i.pM)({props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,white:!e.hover})))})});n(60520);const Mr=(0,Pe.A)(Ar,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",Tr,[(0,i.Lk)("path",{d:"M21.6004 6.47844C21.6004 5.88197 21.1169 5.39844 20.5204 5.39844L6.48039 5.39844C5.88392 5.39844 5.40039 5.88197 5.40039 6.47844V20.5184C5.40039 21.1149 5.88392 21.5984 6.48039 21.5984H20.5204C21.1169 21.5984 21.6004 21.1149 21.6004 20.5184V6.47844Z",fill:"white",class:(0,l.C4)([e.hoverStatus])},null,2)])}],["__scopeId","data-v-f95c2bf4"]]),Nr=["for"],Or=["id"],Ir=["id","value"],Rr={props:{text:{type:String,required:!0},id:{type:String},type:{type:String,default:"file"},eventFunction:{type:Function,required:!0}}};n(27047);const Lr=(0,Pe.A)(Rr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",null,["file"===n.type?((0,i.uX)(),(0,i.CE)("label",{key:0,for:n.id},(0,l.v_)(n.text),9,Nr)):(0,i.Q3)("",!0),"file"===n.type?((0,i.uX)(),(0,i.CE)("input",{key:1,id:n.id,type:"file",onChange:t[0]||(t[0]=(...e)=>n.eventFunction&&n.eventFunction(...e))},null,40,Or)):((0,i.uX)(),(0,i.CE)("input",{key:2,id:n.id,type:"button",onClick:t[1]||(t[1]=(...e)=>n.eventFunction&&n.eventFunction(...e)),value:n.text},null,8,Ir))])}],["__scopeId","data-v-74c292ef"]]),jr={width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Dr={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(98297);const $r=(0,Pe.A)(Dr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",jr,[(0,i.Lk)("path",{d:"M25.7593 14.6141V11.1452L22.68 10.0504C22.4674 9.31305 22.1734 8.61003 21.8095 7.9521L23.2134 4.99944L20.7609 2.54695L17.8082 3.94975C17.1503 3.5859 16.4462 3.29182 15.7099 3.0793L14.6141 0H11.1452L10.0493 3.0793C9.31305 3.29182 8.60896 3.58483 7.95102 3.94975L4.99837 2.54587L2.54587 4.99837L3.94975 7.9521C3.5859 8.61003 3.29075 9.31305 3.0793 10.0504L0 11.1452V14.6141L3.0793 15.7089C3.29075 16.4462 3.5859 17.1492 3.94975 17.8072L2.54587 20.7598L4.99837 23.2134L7.95102 21.8095C8.60896 22.1734 9.31305 22.4674 10.0493 22.68L11.1452 25.7593H14.6141L15.7099 22.68C16.4473 22.4674 17.1503 22.1734 17.8082 21.8095L20.7609 23.2134L23.2134 20.7598L21.8095 17.8072C22.1734 17.1492 22.4674 16.4462 22.68 15.7089L25.7593 14.6141ZM12.8796 17.1728C10.5087 17.1728 8.58642 15.2506 8.58642 12.8796C8.58642 10.5087 10.5087 8.58642 12.8796 8.58642C15.2506 8.58642 17.1728 10.5087 17.1728 12.8796C17.1728 15.2506 15.2506 17.1728 12.8796 17.1728Z",fill:"#6F6F6F",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-5707e051"]]),Br={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vr={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(15624);const Fr=(0,Pe.A)(Vr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",Br,[(0,i.Lk)("circle",{class:(0,l.C4)(r.hoverStatus),id:"magnifier-ellipse",cx:"8.94758",cy:"8.93587",r:"5.85598",stroke:"#E5E5E5","stroke-width":"2.28477"},null,2),(0,i.Lk)("rect",{class:(0,l.C4)(r.hoverStatus),id:"magnifier-rectangle",x:"13.0214",y:"13.7031",width:"0.969325",height:"5.11707",rx:"0.484663",transform:"rotate(-45 13.0214 13.7031)",stroke:"#E5E5E5","stroke-width":"0.969325"},null,2)])}],["__scopeId","data-v-a4021e88"]]),zr={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ur={"clip-path":"url(#clip0_1450_188)"},Wr={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(14596);const Kr=(0,Pe.A)(Wr,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",zr,[(0,i.Lk)("g",Ur,[(0,i.Lk)("path",{d:"M9 19V13H11V15H19V17H11V19H9ZM1 17V15H7V17H1ZM5 13V11H1V9H5V7H7V13H5ZM9 11V9H19V11H9ZM13 7V1H15V3H19V5H15V7H13ZM1 5V3H11V5H1Z",fill:"#E5E5E5",class:(0,l.C4)(r.hoverStatus)},null,2)]),t[0]||(t[0]=(0,i.Lk)("defs",null,[(0,i.Lk)("clipPath",{id:"clip0_1450_188"},[(0,i.Lk)("rect",{width:"20",height:"20",fill:"white"})])],-1))])}],["__scopeId","data-v-1fe6e8c5"]]);var Hr=n(94541),qr=n.n(Hr),Gr=n(26061),Xr=n(46171),Yr=n(42302);const Jr=(0,s.Kh)({configurationMenu:{visible:!1,addNode:!1,placeNode:!1},propertyMenu:!1,interfaceMenu:!1,propertyListMenu:!1,interfaceListMenu:!1,layerMenu:!1}),Zr=(0,s.Kh)({nodeData:{name:"Custom Node",category:"Default category",layer:"",description:"",color:""},properties:[],interfaces:[],success:!1}),Qr=(0,s.KR)(!1),eo=(0,s.KR)("");class to{constructor(e,t,n=(0,Yr.A)()){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transactionId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topic",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=e,this.topic=t,this.transactionId=n}add(e){throw new Error(`Method add has thrown an error for topic: ${this.topic}`)}remove(e){throw new Error(`Method remove has thrown an error for topic: ${this.topic}`)}edit(e){throw new Error(`Method edit has thrown an error for topic: ${this.topic}`)}}class no extends to{constructor(e,t,n=(0,Yr.A)()){""===n&&(n=(0,Yr.A)()),super(e,t,n),Object.defineProperty(this,"nodeTuple",{enumerable:!0,configurable:!0,writable:!0,value:[]})}add(e){void 0!==this.nodeTuple[0]&&e.value.addNode(this.nodeTuple[0]).load(this.nodeTuple[1])}remove(e){const t=e.value.nodes.find((e=>e.id===this.topic));void 0!==t&&(this.nodeTuple=[t,t.save()],e.value.removeNode(t))}edit(e){if(void 0!==this.nodeTuple[0]){const t=[...Object.values(this.nodeTuple[0].inputs),...Object.values(this.nodeTuple[0].outputs)],n=e.value.connections.filter((e=>t.includes(e.from)||t.includes(e.to)));e.value.removeNode(this.nodeTuple[0]);const r=e.value.addNode(this.nodeTuple[0]),o=this.nodeTuple[1];this.nodeTuple=[this.nodeTuple[0],this.nodeTuple[0].save()],r.load(o),n.forEach((t=>{e.value.addConnection(t.from,t.to)}))}}}class ro extends to{constructor(e,t,n=(0,Yr.A)()){""===n&&(n=(0,Yr.A)()),super(e,t,n),Object.defineProperty(this,"conn",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}add(e){if(void 0!==this.conn){const t=e.value.findNodeById(this.conn.from.nodeId),n=e.value.findNodeById(this.conn.to.nodeId);if(!t||!n)return;const r=[...Object.values(t.inputs),...Object.values(t.outputs)].filter((e=>e.port)).find((e=>e.id===this.conn.from.id)),o=[...Object.values(n.inputs),...Object.values(n.outputs)].filter((e=>e.port)).find((e=>e.id===this.conn.to.id));if(!r||!o)return;const i=e.value.addConnection(r,o);if(void 0===i)return;i.id=this.conn.id}}remove(e){const t=e.value.connections.find((e=>e.id===this.topic));void 0!==t&&(this.conn=t,e.value.removeConnection(t))}}class oo extends to{constructor(e,t,n=(0,Yr.A)()){""===n&&(n=(0,Yr.A)()),super(e,t,n),Object.defineProperty(this,"anchor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}add(e){if(void 0!==this.anchor){const t=e.value.connections.find((e=>e.from.id===this.anchor[0].from.id&&e.to.id===this.anchor[0].to.id&&e.id===this.anchor[0].id));void 0!==t&&void 0===t.anchors&&(t.anchors=[]),t.anchors.splice(this.anchor[2],0,this.anchor[1])}}remove(e){if(void 0!==this.anchor){const t=e.value.connections.find((e=>e.from===this.anchor[0].from&&e.to===this.anchor[0].to));void 0!==t&&t.anchors.splice(this.anchor[2],1)}}}function io(e){Qr.value=e}function ao(e=(0,Yr.A)()){if(""===eo.value)return eo.value=e,e}function so(){eo.value=""}function lo(e){switch(e){case"InputInterface":case"TextAreaInterface":case"SelectInterface":case"ListInterface":case"TextInterface":case"HexInterface":return!0;default:return!1}}function co(e,t,n,r=void 0,o=!1,i=!0){if(i){const{graph:t}=(0,tr.uU)();t.value.editNode(e)}const a=t.sidePosition;t.side=n,void 0!==r&&(t.sidePosition=r);const s=[...Object.values(e.inputs),...Object.values(e.outputs)].find((e=>e.id!==t.id&&e.sidePosition===t.sidePosition&&e.side===t.side));if(void 0!==s)if(void 0!==r&&o)s.sidePosition=a;else{const n=void 0===r?t:s,o=[...Object.values(e.inputs),...Object.values(e.outputs)].filter((e=>e.side===n.side&&!e.hidden)).map((e=>e.sidePosition));let i=0;for(;o.includes(i);)i+=1;n.sidePosition=i}}function uo(e,t=!1){const{viewModel:n}=(0,tr.if)();if(n.value.editor.isGraphNode(e.type)&&t)n.value.editor.unwrapSubgraph(e);else{const{graph:t}=(0,tr.uU)();t.value.removeNode(e)}}const po="COPY",ho="DELETE",fo="UNHIGHLIGHT",mo="PASTE";var go=n(34250);class vo extends Xr.b1{_name="";constructor(e,t){super(e,t),e.name&&(this.name=e.name)}}var yo=n(44726),bo=n(71095),wo=n(65111);class xo{availableAlgorithms=[];constructor(){if(this.constructor===xo)throw new Error("Can't initialize base class instance")}chooseAlgorithm(e){if(!this.availableAlgorithms.includes(e))throw new Error(`Could not find ${e} in ${this.constructor.name} engine.\n                Available algorithms: ${this.availableAlgorithms}`);this.activeAlgorithm=e}async calculate(e){throw new Error("Method calculate() must be implemented by layout engine")}}class _o extends xo{constructor(){if(super(),this.availableAlgorithms=[this.constructor.name],this.activeAlgorithm=this.constructor.name,this.chooseAlgorithm=void 0,this.constructor===_o)throw new Error("Can't initialize base class instance")}}yo.use(wo),yo.use(bo);class ko extends xo{availableAlgorithms=["cola","dagre-network-simplex","dagre-tight-tree","dagre-longest-path","random","grid","circle","concentric","breadthfirst","cose"];async calculate(e){const t=yo({elements:{nodes:e.nodes.map((e=>({data:{id:e.id,width:e.width,height:e.height}}))),edges:e.connections.map((e=>({data:{id:e.id,source:e.from,target:e.to}})))},style:[{selector:"node",style:{shape:"rectangle",width:"data(width)",height:"data(height)"}}],styleEnabled:!0}),n={name:this.activeAlgorithm};switch(this.activeAlgorithm){case"random":n.boundingBox={x1:0,y1:0,w:2e3,h:2e3};break;case"grid":n.avoidOverlapPadding=150;break;case"cose":n.nodeOverlap=1e3,n.idealEdgeLength=e=>300;break;case"cola":n.nodeSpacing=e=>150;break;case"dagre-network-simplex":case"dagre-tight-tree":case"dagre-longest-path":{const[e,...t]=this.activeAlgorithm.split("-");n.nodeSep=50,n.rankSep=100,n.ranker=t.join("-"),n.name=e;break}}const r=t.layout(n);return r.run(),["cose","cola"].includes(this.activeAlgorithm)&&await r.promiseOn("layoutstop"),{...e,nodes:t.nodes().map((e=>({id:e.id(),position:{x:e.position().x-e.width()/2,y:e.position().y-e.height()/2}})))}}}class Co extends _o{availableAlgorithms=["NoLayout"];activeAlgorithm="NoLayout";calculate(e){const t=e.nodes.map((e=>({...e,position:{x:0,y:0}})));return{...e,nodes:t}}}class So{layoutEngine=void 0;usedAlgorithm=void 0;graph=void 0;availableEngines={NoLayout:new Co,CytoscapeEngine:new ko};constructor(){this.useAlgorithm("NoLayout")}useAlgorithm(e){const[t,n]=e.split(" - "),r=this.availableEngines[t];if(void 0===r)throw new Error(`Could not parse the ${e} autolayout algorithm`);this.layoutEngine=r,void 0!==n&&this.layoutEngine.chooseAlgorithm(n),this.usedAlgorithm=e}getAvailableAlgorithms(){return Object.entries(this.availableEngines).map((([e,t])=>1!==t.availableAlgorithms.length?t.availableAlgorithms.map((t=>`${e} - ${t}`)):e)).flat()}registerGraph(e){this.graph=function(e){const t=new Map;e.nodes.forEach((e=>{e.interfaces.forEach((n=>t.set(n.id,e.id)))}));const n=e.nodes.filter((e=>void 0===e.position)).map((e=>({id:e.id}))),r=e.connections.filter((e=>n.filter((n=>n.id===t.get(e.from))).length>0&&n.filter((n=>n.id===t.get(e.to))).length>0)).map((e=>({id:e.id,from:t.get(e.from),to:t.get(e.to)})));return{nodes:n,connections:r}}(e)}async computeLayout(e){return this.updateDimensions(),function(e,t){const n=new Map;return e.nodes.forEach((e=>n.set(e.id,e.position))),t.nodes=t.nodes.map((e=>({...e,position:n.has(e.id)?n.get(e.id):e.position}))),t}(await this.runEngine(this.graph),e)}async runEngine(e){return this.layoutEngine.calculate(e)}updateDimensions(){this.graph.nodes=this.graph.nodes.map((e=>{const t=document.getElementById(e.id);return{...e,width:t.offsetWidth,height:t.offsetHeight}}))}}const Eo="inout",Po="count";function To(e,t,n=void 0){const r={};return Object.assign(r,e),r.name=n??e.name,void 0!==r.type&&(r.type="string"==typeof e.type||e.type instanceof String?[e.type]:e.type),r.componentName="NodeInterface",r.hidden=t,r.originalSide=r.side,r.originalSidePosition=r.sidePosition,r}function Ao(e,t=!1){const n=[],r={input:{},inout:{},output:{}};e.forEach((e=>{if(Object.prototype.hasOwnProperty.call(e,"dynamic"))return;const o=JSON.parse(JSON.stringify(e)),i=e.direction??Eo;if(o.direction=i,void 0!==e.array){const[t,a]=e.array;for(let s=t;s<a;s+=1){const t=`${e.name}[${s}]`;void 0!==r[i][t]&&n.push(`Interface named '${t}' of direction '${i}' is a duplicate.`),o.externalName=e.externalName?`${e.externalName}[${s}]`:void 0,r[i][t]=JSON.parse(JSON.stringify(o))}}else void 0!==r[i][e.name]&&n.push(`Interface named '${e.name}' of direction '${i}' is a duplicate.`),r[i][e.name]=o;if(t){const e=[];o.interfaces.forEach((t=>{const n=t.direction??Eo;if(void 0!==t.array){const[r,o]=t.array;for(let i=r;i<o;i+=1){const r=`${n}_${t.name}[${i}]`;e.push(r)}}else{const r=`${n}_${t.name}`;e.push(r)}})),o.interfaces=e}}));const o=Object.fromEntries(Object.entries(r.inout).filter((([e,t])=>{const o=t.direction??Eo,i=Object.keys(r.output).includes(e)||Object.keys(r.input).includes(e);return i&&n.push(`Interface named '${e}' of direction '${o}' is a duplicate. There already exists an input or output of this name.`),!i})));return r.inout=o,r.input={...r.input,...r.inout},delete r.inout,r.input=Object.fromEntries(Object.entries(r.input).map((([e,t])=>[`${t.direction}_${e}`,t]))),r.output=Object.fromEntries(Object.entries(r.output).map((([e,t])=>[`${t.direction}_${e}`,t]))),n.length?n:r}function Mo(e,t,n){const r=[],o=new Set;return e.forEach((e=>{const i=t[e]?.interfaces??n[e]?.interfaces,a=e.slice(0,e.indexOf("_")),s=e.slice(e.indexOf("_")+1);i.forEach((e=>{if(o.has(e)){const t=e.slice(0,e.indexOf("_")),n=e.slice(e.indexOf("_")+1);r.push([n,t,s,a])}else o.add(e)}))})),r}function No(e,t,n){const r=Mo(e,t,n),o=[];return r.forEach((([e,t,n,r])=>{o.push(`Interface of name '${e}' and direction '${t}' has been reused by interface group named '${n}' of direction '${r}'. Make sure your interface groups are disjoint.`)})),o}function Oo(e,t){const n={left:{},right:{}},r=[];Object.entries({...e,...t}).forEach((([e,t])=>{"right"===t.side||void 0===t.side&&"output"===t.direction?(n.right[e]={...t},n.right[e].side="right"):("left"===t.side||void 0===t.side&&"output"!==t.direction)&&(n.left[e]={...t},n.left[e].side="left")}));const o=e=>e.slice(e.indexOf("_")+1),i=new Set,a=new Set;if(Object.entries(n.left).forEach((([e,t])=>{void 0!==t.sidePosition&&(i.has(t.sidePosition)&&r.push(`Interface named '${o(e)}' of direction '${t.direction}' has invalid sidePosition value '${t.sidePosition}'. There already exists an input or output with this sidePosition.`),i.add(t.sidePosition))})),Object.entries(n.right).forEach((([e,t])=>{void 0!==t.sidePosition&&(a.has(t.sidePosition)&&r.push(`Interface named '${o(e)}' of direction '${t.direction}' has invalid sidePosition value '${t.sidePosition}'. There already exists an input or output with this sidePosition.`),a.add(t.sidePosition))})),r.length)return r;let s=0,l=0;return Object.entries(n.left).forEach((([,e])=>{e.sidePosition=(e=>{if(void 0===e.sidePosition){for(;i.has(s);)s+=1;return i.add(s),s}return e.sidePosition})(e)})),Object.entries(n.right).forEach((([,e])=>{e.sidePosition=(e=>{if(void 0===e.sidePosition){for(;a.has(l);)l+=1;return a.add(l),l}return e.sidePosition})(e)})),{inputs:Object.fromEntries(Object.entries({...n.left,...n.right}).filter((([,e])=>"output"!==e.direction))),outputs:Object.fromEntries(Object.entries({...n.left,...n.right}).filter((([,e])=>"output"===e.direction)))}}function Io(e,t,n){let r=[];const o=Ao(e);if(Array.isArray(o)&&o.length)return o;if(t.forEach((e=>{const t=e.direction??Eo;e.interfaces.forEach((n=>{const i=n.direction??Eo;if(void 0!==n.array){const[a,s]=n.array;for(let l=a;l<s;l+=1){const a=`${i}_${n.name}[${l}]`;Object.keys({...o.input,...o.output}).includes(a)||r.push(`Interface named '${n.name}[${l}]' of direction '${i}' used for interface group '${e.name}' of direction '${t}' does not exist.`)}}else{const a=`${i}_${n.name}`;Object.keys({...o.input,...o.output}).includes(a)||r.push(`Interface named '${n.name}' of direction '${i}' used for interface group '${e.name}' of direction '${t}' does not exist.`)}}))})),r.length)return r;const i=Ao(t,!0);if(Array.isArray(i)&&i.length)return i;const a=new Set;Object.values({...i.input,...i.output}).forEach((e=>{e.interfaces.forEach((e=>a.add(e)))}));const s=n.map((e=>`${e.direction??Eo}_${e.name}`));if(r=No(s,{...i.input,...o.input},{...i.output,...o.output}),r.length)return r;o.input=Object.fromEntries(Object.entries(o.input).filter((([e])=>!a.has(e)))),o.output=Object.fromEntries(Object.entries(o.output).filter((([e])=>!a.has(e))));const l=Oo({...o.input,...i.input},{...o.output,...i.output});if(Array.isArray(l)&&l.length)return l;const c=e=>e.slice(e.indexOf("_")+1),u={inputs:{},outputs:{}};return Object.entries(l.inputs).forEach((([e,t])=>{void 0!==t.interfaces?u.inputs[e]=To(t,!s.includes(e),c(e)):u.inputs[e]=To(t,!1,c(e))})),Object.entries(l.outputs).forEach((([e,t])=>{void 0!==t.interfaces?u.outputs[e]=To(t,!s.includes(e),c(e)):u.outputs[e]=To(t,!1,c(e))})),u}const Ro={setDefaultComponent(){this.lazyComponent().then((e=>{this.setComponent((0,s.IG)(e.default))}))}};class Lo extends tr.b{lazyComponent=()=>Promise.resolve().then(n.bind(n,28768));componentName="CheckboxInterface";constructor(e,t,n=!1){super(e,t),this.setPort(!1),this.readonly=n}}Object.assign(Lo.prototype,Ro);class jo extends Xr.gZ{lazyComponent=()=>Promise.resolve().then(n.bind(n,11924));componentName="HexInterface";constructor(e,t,n,r,o=!1){super(e,t),this.min=n,this.max=r,this.readonly=o,this.setPort(!1)}}Object.assign(jo.prototype,Ro);class Do extends Xr.gZ{lazyComponent=()=>Promise.resolve().then(n.bind(n,93149));componentName="InputInterface";constructor(e,t,n=!1){super(e,t),this.readonly=n,this.setPort(!1)}}Object.assign(Do.prototype,Ro);class $o extends tr.qO{lazyComponent=()=>Promise.resolve().then(n.bind(n,67084));componentName="IntegerInterface";constructor(e,t,n,r,o=!1){super(e,t,n,r),this.readonly=o,this.setPort(!1)}}Object.assign($o.prototype,Ro);class Bo extends Xr.gZ{lazyComponent=()=>Promise.resolve().then(n.bind(n,96237));componentName="ListInterface";constructor(e,t,n,r=!1){super(e,t),this.dtype=n,this.readonly=r,this.setPort(!1)}}Object.assign(Bo.prototype,Ro);class Vo extends tr.jW{lazyComponent=()=>Promise.resolve().then(n.bind(n,80376));componentName="NumberInterface";constructor(e,t,n,r,o=!1){super(e,t,n,r),this.readonly=o,this.setPort(!1)}}Object.assign(Vo.prototype,Ro);class Fo extends tr.mk{lazyComponent=()=>Promise.resolve().then(n.bind(n,56091));componentName="SelectInterface";constructor(e,t,n,r=!1){super(e,t,n),this.readonly=r,this.setPort(!1)}}Object.assign(Fo.prototype,Ro);class zo extends Xr.gZ{lazyComponent=()=>Promise.resolve().then(n.bind(n,58648));componentName="SliderInterface";constructor(e,t,n,r,o,i=!1){super(e,t),this.min=n,this.max=r,this.step=o,this.readonly=i,this.setPort(!1)}}Object.assign(zo.prototype,Ro);class Uo extends Xr.gZ{lazyComponent=()=>Promise.resolve().then(n.bind(n,49098));componentName="TextAreaInterface";constructor(e,t,n=!1){super(e,t),this.readonly=n,this.setPort(!1)}}Object.assign(Uo.prototype,Ro);class Wo extends tr.lo{componentName="TextInterface"}class Ko extends tr.aw{componentName="ButtonInterface";constructor(e,t,n,r){super(e,t),this.value=n,this.type=r}}const Ho=new class{constructor(){Object.defineProperty(this,"exposedInterfaces",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}clearRegistry(){this.exposedInterfaces.clear()}pushGraphIdToRegistry(e,t){const n=this.exposedInterfaces.get(e);if(!n)throw new Error(`Interface with id ${e} not found in the register.`);n.graphIds.push(t)}createSharedInterface(e){const t=this.exposedInterfaces.get(e.id);if(!t)throw new Error(`'Interface with id ${e.id} not found in the register.`);Object.defineProperty(e,"maxConnectionsCount",{get:()=>t.sharedInterface.maxConnectionsCount,set(e){t.sharedInterface.maxConnectionsCount=e}}),Object.defineProperty(e,"connectionCount",{get:()=>t.sharedInterface.connectionCount,set(e){t.sharedInterface.connectionCount=e}}),Object.defineProperty(e,"type",{get:()=>t.sharedInterface.type})}isRegistered(e){return this.exposedInterfaces.has(e)}getRegisteredInterface(e){if(!this.exposedInterfaces.has(e))throw new Error(`Interface of id ${e} is not registered.`);return this.exposedInterfaces.get(e)}deleteRegisteredInterface(e){if(!this.exposedInterfaces.has(e))throw new Error(`Interface of id ${e} is not registered.`);return this.exposedInterfaces.delete(e)}registerInterface(e,t){if(this.exposedInterfaces.has(e.id))throw new Error(`Trying to register an interface of id ${e.id}, but it is already registered.`);this.exposedInterfaces.set(e.id,{sharedInterface:e,sharedInterfaceGraphId:t,graphIds:[]})}};function qo(e){const t={},n=new Set,r=[];return e.forEach((e=>{if(void 0!==e.group&&Array.isArray(e.group)){const t=qo(e.group);Array.isArray(t)&&t.length&&r.push(...t),Object.entries(t).forEach((([t])=>{if(n.has(t)){const n=t.slice(t.indexOf("_")+1);r.push(`Property named '${n}' in a group property '${e.name}' is a duplicate.`)}n.add(t)})),e.group=t}n.has(`property_${e.name}`)&&r.push(`Property named '${e.name}' is a duplicate.`),t[`property_${e.name}`]={...e},n.add(`property_${e.name}`)})),r.length?r:t}function Go(e,t=!1){const n=e.name,r=e.type;let o,i=e.default;switch(r){case"constant":o=new Wo(n,i);break;case"text":o=new Do(n,i,e.readonly);break;case"multiline":o=new Uo(n,i,e.readonly);break;case"number":o=new Vo(n,i,e.min,e.max,e.readonly);break;case"integer":o=new $o(n,i,e.min,e.max,e.readonly);break;case"hex":o=new jo(n,i.toLowerCase(),e.min?BigInt(e.min):NaN,e.max?BigInt(e.max):NaN,e.readonly);break;case"select":{const t=e.values.map((e=>e.toString()));o=new Fo(n,i,t,e.readonly)}break;case"bool":o=new Lo(n,i,e.readonly);break;case"slider":void 0===i&&(i=e.min),o=new zo(n,i,e.min,e.max,e.step,e.readonly);break;case"list":null===i&&(i=[]),o=new Bo(n,i,e.dtype,e.readonly);break;case"button-url":o=new Ko(n,(()=>window.open(o.value,"_blank")),i,"button-url");break;case"button-api":o=new Ko(n,(()=>o.events.updated.emit(["button_click",{id:o.id,value:o.value}])),i,"button-api");break;case"button-graph":o=new Ko(n,(()=>o.events.updated.emit(o.value)),i,"button-graph");break;default:console.error(r," input type is not recognized.")}return void 0!==o&&(o.hidden=t,o.type=r,o.default=i,o.hideOnDefault=e.hideOnDefault,void 0!==e.interfaceMaxConnectionsCount&&(o.interfaceMaxConnectionsCount=e.interfaceMaxConnectionsCount),void 0!==e.interfaceType&&(o.interfaceType=e.interfaceType)),o}function Xo(e){const t={};return Object.entries(e).forEach((([e,n])=>{void 0!==n.group?(t[e]=()=>{const e=Go(n);return e.group=Object.keys(n.group),e},Object.entries(n.group).forEach((([e,n])=>{t[e]=()=>Go(n)}))):t[e]=()=>Go(n)})),t}function Yo(e){const t=JSON.parse(JSON.stringify(e));if(void 0!==t.interfaces){const e=Io(t.interfaces,[],[]);if(Array.isArray(e)&&e.length)return e;const{inputs:n,outputs:r}=e;t.inputs=n,t.outputs=r,delete t.interfaces}if(void 0!==t.properties){const e=qo(t.properties);if(Array.isArray(e)&&e.length)return e;t.inputs={...t.inputs,...e},delete t.properties}if(void 0!==t.enabledInterfaceGroups){const e={};t.enabledInterfaceGroups.forEach((t=>{e[`${t.direction}_${t.name}`]={...t}})),t.enabledInterfaceGroups=e}else t.enabledInterfaceGroups={};return t.title=t.instanceName??"",delete t.instanceName,t.parsed=!0,t}class Jo extends Xr.bP{inputs={};outputs={};type=void 0;constructor(e,t,n,r,o,i="",a=[],s=[],l=[],c=300,u=void 0){super(),this.description=i,this.extends=a,this.extending=s,this.siblings=l,this.layer=t,this.title=e,this.twoColumn=o,this.type=e,this.width=c,this.relatedGraphs=u,Object.keys(n).forEach((e=>{const t=n[e]();this.addInput(e,t)})),Object.keys(r).forEach((e=>{const t=r[e]();this.addOutput(e,t)}))}updateDynamicInterfaces(e){const t=[],{value:n}=e;if("string"!=typeof e.name)throw new Error("Property 'name' is undefined or not a string in updateDynamicInterfaces.");const r=this.inputs[`property_${e.name}`],o=r?.interfaceType,i=r?.interfaceMaxConnectionsCount,a=e.name.split(" ");if(a.length<2)throw new Error(`Property name is too short to extract direction in updateDynamicInterfaces.Property name: ${e.name}`);const s=a[a.length-2],l=e.name.slice(0,-1*(7+s.length)),c={left:[],right:[]},u={...this.inputs,...this.outputs};Object.entries(u).forEach((([e,t])=>{e.startsWith("property_")||c[t.side].push(t.sidePosition)}));for(let e=0;e<n;e+=1){const n=`${l}[${e}]`,r=`${s}_${n}`,a={name:n,direction:s},u="output"===s?this.outputs:this.inputs;if(r in u&&(a.externalName=u[r].externalName,a.side=u[r].side,a.sidePosition=u[r].sidePosition),!Object.prototype.hasOwnProperty.call(a,"sidePosition")&&!Object.prototype.hasOwnProperty.call(a,"side")){const e="output"===s?"right":"left";let t=c[e].sort(((e,t)=>e-t)).findIndex(((e,t)=>e!==t));-1===t&&(t=0===c[e].length?0:Math.max(...c[e])+1),a.sidePosition=t,a.side=e,a.type=o,a.maxConnectionCount=i,c[a.side].push(t)}t.push(a)}const d="output"===s?this.outputs:this.inputs;Object.keys(d).forEach((e=>{if(!e.startsWith(`${s}_${l}[`))return;const t=e.match(/\[(\d+)\]$/);t&&(parseInt(t[1],10)<n||("output"===s?this.removeOutput(e):this.removeInput(e)))}));const p=Io(t,[],[]);if(Array.isArray(p)&&p.length)throw new Error(`Internal error, node ${this.type} invalid. Reason: ${p.join(" ")}`);const{inputs:h,outputs:f}=p;Object.entries("output"===s?f:h).forEach((([e,t])=>{if(e in d)return;const n=new Xr.gZ(e);Object.assign(n,t),"output"===s?this.addOutput(e,n):this.addInput(e,n)}));const m=this.graph.nodes.find((e=>e.id===this.id));this.updateInterfaces.bind(m)(h,f,!1,[`${s}_${l}`])}toggleInterfaceGroup(e,t){e.hidden||t||this.graphInstance.connections.filter((t=>t.from===e||t.to===e)).forEach((e=>{this.graphInstance.removeConnection(e)})),t&&co(this,e,e.side),e.hidden=!t}save(){const e=super.save(),t=[],n=[],r=[];return Object.entries({...this.inputs,...this.outputs}).forEach((e=>{const[o,i]=e;i.port?i.hidden||(i.interfaces&&r.push({name:o.slice(i.direction.length+1),direction:i.direction}),n.push({name:o.slice(i.direction.length+1),externalName:i.externalName,id:i.id,direction:i.direction,side:i.side,sidePosition:i.sidePosition})):t.push({name:o.slice(9),externalName:i.externalName,id:i.id,value:void 0===i.value?null:i.value})})),delete e.inputs,delete e.outputs,e.interfaces=n,e.properties=t,e.enabledInterfaceGroups=r,e.relatedGraphs=this.relatedGraphs,e.name=e.type,delete e.type,e.instanceName=""===e.title?void 0:e.title,delete e.title,e}updateInterfaces(e,t,n=!0,r=void 0){const o=[];return Object.entries(this.inputs).forEach((([t,n])=>{void 0!==n.direction&&(Object.keys(e).includes(t)||void 0!==r&&!r.some((e=>t.startsWith(e)))||(o.push(`Interface '${n.name}' of direction '${n.direction}' removed as it was not found in the dataflow.`),this.graph.editor.privatizeInterface(this.graph.id,n),this.removeInput(t)))})),Object.entries(e).forEach((([e,t])=>{if(void 0===t.direction)return;const r=Object.entries(this.inputs).find((([n,r])=>n===e&&r.direction===t.direction));if(void 0===r){const n=new Xr.gZ(e);o.push(`Interface '${t.name}' of direction '${t.direction}' created as it was not found in the specification.`),Object.assign(n,t),this.addInterface(n.direction,e,n)}else n&&Object.assign(r[1],t)})),Object.entries(this.outputs).forEach((([e,n])=>{void 0!==n.direction&&(Object.keys(t).includes(e)||void 0!==r&&!r.some((t=>e.startsWith(t)))||(o.push(`Interface '${n.name}' of direction '${n.direction}' removed as it was not found in the dataflow.`),this.graph.editor.privatizeInterface(this.graph.id,n),this.removeOutput(e)))})),Object.entries(t).forEach((([e,t])=>{const r=Object.entries(this.outputs).find((([n,r])=>n===e&&r.direction===t.direction));if(void 0===r){const n=new Xr.gZ(e);o.push(`Interface '${t.name}' of direction '${t.direction}' created as it was not found in the specification.`),Object.assign(n,t),this.addInterface(n.direction,e,n)}else n&&Object.assign(r[1],t)})),o}updateProperties(e){const t=[];return Object.entries(this.inputs).forEach((([n,r])=>{void 0===r.direction&&(Object.keys(e).includes(n)||(t.push(`Property '${r.name}' removed as it was not found in the dataflow.`),this.removeInput(n)))})),Object.entries(e).forEach((([e,n])=>{if(void 0===n.direction&&void 0===Object.entries(this.inputs).find((([t])=>t===e))){const r=new Do(n.name,n.value);t.push(`Property '${n.name}' created as it was not found in the specification.`),Object.assign(r,n),this.addInput(e,r)}})),t}load(e){let t;if(Object.prototype.hasOwnProperty.call(e,"parsed")&&e.parsed)t=e;else if(t=Yo(e),Array.isArray(t)&&t.length)return t;let n=!0;try{n=window.isWebpack}catch{n=!1}let r=[];if(Object.entries(t.inputs).forEach((([e,t])=>{e.startsWith("property_")&&e.startsWith("property_")&&e.endsWith(`${Po}`)&&this.updateDynamicInterfaces(t)})),r=function(e,t,n){let r=[];return Object.keys({...e.inputs,...e.outputs}).forEach((o=>{const i=o.slice(o.indexOf("_")+1),a=o.slice(0,o.indexOf("_"));if(Object.prototype.hasOwnProperty.call(t,o)||Object.prototype.hasOwnProperty.call(n,o)){if("property"===a){const n=e.inputs[o].value,a=t[o].type;if(((e,t)=>{switch(e){case"constant":case"select":return!0;case"text":case"multiline":case"button-url":case"button-graph":case"hex":return"string"==typeof t;case"number":case"integer":case"slider":return"number"==typeof t;case"bool":return"boolean"==typeof t;case"list":return Array.isArray(t);case"button-api":return"object"==typeof t;default:return!1}})(a,n)){if("select"===a){const{items:e}=t[o];Array.isArray(e)?e.map(String).includes(String(n))||r.push(`Property '${i}' value mismatch. ${n} (type: ${typeof n}) not found in ${JSON.stringify(e)}`):String(n)!==String(e)&&r.push(`Property '${i}' value mismatch. Expected '${e}' (type: ${typeof e}), found '${n}' (type: ${typeof n}).`)}else if("list"===a){const{dtype:e}=t[o],a=n.filter((t=>"integer"===e?"number"!=typeof t||!Number.isInteger(t):typeof t!==e));a.length>0&&r.push(`Property '${i}' value mismatch. Items: '${a.join(" ")}' are not of '${e}' dtype.Items are of type: ${a.map((e=>typeof e)).join(", ")}`)}}else r.push(`Property '${i}' type mismatch. ${a} expected, ${typeof n} found.`)}}else"property"===a?r.push(`Property named '${i}' not found in specification!`):r.push(`Interface named '${i}' of direction '${a}' not found in specification!`)})),Object.keys(e.enabledInterfaceGroups).forEach((e=>{if(!Object.prototype.hasOwnProperty.call(t,e)&&!Object.prototype.hasOwnProperty.call(n,e)){const t=e.slice(0,e.indexOf("_")),n=e.slice(e.indexOf("_")+1);r.push(`Interface group named '${n}' of direction '${t}' not found in specification!`)}})),r&&r.length||(r=No(Object.keys(e.enabledInterfaceGroups),t,n)),r}(t,this.inputs,this.outputs),Array.isArray(r)&&r.length)return r;super.load(t),Object.keys(t.enabledInterfaceGroups).length&&Object.entries({...this.inputs,...this.outputs}).forEach((([,e])=>{void 0!==e.interfaces&&(e.hidden=!0)})),Object.entries(t.enabledInterfaceGroups).forEach((([e,t])=>{"input"===t.direction||"inout"===t.direction?this.inputs[e].hidden=!1:"output"===t.direction&&(this.outputs[e].hidden=!1)}));const o={left:[],right:[]},i={...t.inputs,...t.outputs};Object.entries(i).forEach((([e,t])=>{if("input"===t.direction||"inout"===t.direction){if(!(e in this.inputs)){const n=new Xr.gZ(e);Object.assign(n,t),this.addInput(e,n)}this.inputs[e].side=t.side,this.inputs[e].sidePosition=t.sidePosition,this.inputs[e].externalName=t.externalName,this.inputs[e].direction=t.direction,o[t.side].push(t.sidePosition)}else if("output"===t.direction){if(!(e in this.outputs)){const n=new Xr.gZ(e);Object.assign(n,t),this.addOutput(e,n)}this.outputs[e].side=t.side,this.outputs[e].sidePosition=t.sidePosition,this.outputs[e].externalName=t.externalName,this.outputs[e].direction=t.direction,o[t.side].push(t.sidePosition)}else{if(!(e in this.inputs)){const n=new Do(e);Object.assign(n,t),this.addInput(e,n)}this.inputs[e].externalName=t.externalName}}));const a=e=>{Object.entries(e).forEach((([e,t])=>{if(e.startsWith("property_"))return;if(e in i)return;if(!o[t.side].includes(t.sidePosition))return;const n=Math.max(...o[t.side]);t.sidePosition=n+1,o[t.side].push(n+1)}))};return a(this.inputs),a(this.outputs),void 0===e.position&&(this.position=void 0),this.relatedGraphs=e.relatedGraphs,r}onPlaced(){super.onPlaced();const e=([e,t])=>this.graphInstance?.editor?.editorManager?.externalApplicationManager?.request(e,t),t=e=>this.graphInstance?.editor.switchToRelatedGraph(e);Object.entries(this.inputs).filter((([e,t])=>e.startsWith("property_"))).filter((([e,t])=>"ButtonInterface"===t.componentName)).forEach((([n,r])=>"button-graph"===r.type?r.events.updated.subscribe(this,t):r.events.updated.subscribe(this,e)))}onDestroy(){[...Object.values(this.inputs),...Object.values(this.outputs)].forEach((e=>{Object.values(e.events).forEach((t=>{t.unsubscribe(this),t.unsubscribe(e)}))}))}}const Zo=e=>{function t(e){return()=>{const t=new Xr.gZ(e.name);return Object.assign(t,e),t}}return[Object.fromEntries(Object.entries(e.inputs).map((([e,n])=>[e,t(n)]))),Object.fromEntries(Object.entries(e.outputs).map((([e,n])=>[e,t(n)])))]};function Qo(e){const t=Object.create(null),n=[];return e?.forEach((([,e])=>{t[e.externalName]=(t[e.externalName]??0)+1,1===t[e.externalName]?n.push(e):n.push(`Interface '${e.externalName}' is repeated ${t[e.externalName]} times.`)})),n}function ei(e,t){Ho.isRegistered(e.id)&&Ho.getRegisteredInterface(e.id).sharedInterface!==e&&Ho.getRegisteredInterface(e.id).sharedInterface.id===e.id&&Ho.getRegisteredInterface(e.id).sharedInterfaceGraphId===t&&Ho.deleteRegisteredInterface(e.id),Ho.isRegistered(e.id)||Ho.registerInterface(e,t)}function ti(e,t,n,r){const o=e.map((e=>Yo(e))),i=o.filter((e=>"string"==typeof e));return i.length?i:new vo({name:n,nodes:o,connections:t,inputs:[],outputs:[]},r)}function ni(e,{graphLoadingState:t,newSubgraphNodeId:n,mode:r}={}){r??="resolved";const o=[];if(e.nodes.some((e=>void 0!==e.subgraph&&void 0===e.id))&&o.push("Node defining a nested graph in a subgraph template should have their own ID"),o.length)return{errors:o};const i=void 0===t;t??={newToSpecNodeIds:new Map,newInterfaceIds:new Map,newToSpecConnIds:new Map,newToSpecIntfIds:new Map};const{newToSpecNodeIds:a}=t,s=a.get(n),l=e=>{const t=(0,Yr.A)();return e.id&&a.set(t,e.id),t},c=e.connections.map((e=>{const n=(0,Yr.A)();return e.id&&t.newToSpecConnIds.set(n,e.id),{...e,id:n}})),{newInterfaceIds:u}=t,d=(e,t,n=Yr.A)=>(e.has(t)||e.set(t,n()),e.get(t)),p=(e,n)=>{const o=("resolved"===r?Object.values(n.inputs).concat(Object.values(n.outputs)):n.interfaces).find((t=>t.id===e)),a=((e,t)=>{const n=void 0!==e.subgraph?e.id:s,r=d(u,n,(()=>new Map)),o=void 0===e.subgraph&&void 0===t.externalName,a=!(i||void 0===t.externalName||void 0!==s&&r.has(t.externalName));return o||a?(0,Yr.A)():d(r,t.externalName??t.name)})(n,o);return o.id&&t.newToSpecIntfIds.set(a,o.id),c.filter((t=>t.from===e)).forEach((e=>{e.from=a})),c.filter((t=>t.to===e)).forEach((e=>{e.to=a})),a},h=(e,t)=>({...e,id:p(e.id,t)}),f=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:h(r,t)})),{}),m="resolved"===r?e=>({...e,inputs:f(e.inputs,e),outputs:f(e.outputs,e)}):e=>({...e,interfaces:e.interfaces.map((t=>h(t,e)))});return{state:{id:(0,Yr.A)(),name:e.name,nodes:e.nodes.map(m).map((e=>({...e,id:l(e)}))),connections:c,graphLoadingState:t},errors:o}}class ri extends Xr.KE{preview=!1;_hideHud=!1;get hideHud(){return this._hideHud||this.preview}set hideHud(e){this._hideHud=e}_readonly=!1;get readonly(){return this._readonly||this.preview}set readonly(e){this._readonly=e}allowLoopbacks=!1;nodeIcons=new Map;nodeColors=new Map;baseURLs=new Map;baseIconUrls=new Map;nodeURLs=new Map;nodeStyles=new Map;layoutManager=new So;subgraphStack=[];parentNodes=new Map;additionalNodeTypes=new Set;subgraphStackGraphTypeEnum={SUBGRAPH:"subgraph",RELATEDGRAPH:"relatedGraph"};editorManager=null;newRootGraph=void 0;registerGraph(e){const t=function(e){return e.events.addAnchor=new go.Hx,e.events.removeAnchor=new go.Hx,e.events.editNode=new go.Hx,e.graphNode=void 0,e.checkConnection=function(e,t){if(!e||!t)return{connectionAllowed:!1,error:"Invalid from and to references."};const n=this.findNodeById(e.nodeId),r=this.findNodeById(t.nodeId);if(n&&r&&n===r&&!this.editor.allowLoopbacks)return{connectionAllowed:!1,error:"Loopbacks are not allowed."};if("input"===e.direction&&"output"===t.direction||"input"===e.direction&&"inout"===t.direction||"inout"===e.direction&&"output"===t.direction){const n=e;e=t,t=n}if(e.isInput&&"inout"!==e.direction)return{connectionAllowed:!1,error:"Connections are only allowed from output or inout interfaces."};if(!t.isInput)return{connectionAllowed:!1,error:"Connections are only allowed to input or inout interfaces."};if(this.connections.some((n=>n.from===e&&n.to===t)))return{connectionAllowed:!1,error:"Duplicate connections are not allowed."};if(e.maxConnectionsCount>0&&e.connectionCount+1>e.maxConnectionsCount)return{connectionAllowed:!1,error:`Too many connections from an input interface '${e.id}', maximum of '${e.maxConnectionsCount}' are allowed.`};if((0===t.maxConnectionsCount||void 0===t.maxConnectionsCount)&&t.connectionCount>0)return{connectionAllowed:!1,error:`By default only one connection to an input interface '${t.id}' allowed.`};if(t.maxConnectionsCount>0&&t.connectionCount+1>t.maxConnectionsCount)return{connectionAllowed:!1,error:`Too many connections to an output interface '${t.id}', maximum of '${t.maxConnectionsCount}' are allowed.`};if(e.type&&t.type){const n="string"==typeof e.type||e.type instanceof String?[e.type]:e.type,r="string"==typeof t.type||t.type instanceof String?[t.type]:t.type;if(void 0===n.find((e=>r.includes(e))))return{connectionAllowed:!1,error:`No common types between interfaces. Interface '${e.id}' supports types '${n}' and interface '${t.id}' supports types '${r}'.`}}return this.events.checkConnection.emit({from:e,to:t}).prevented?{connectionAllowed:!1,error:`Connection between an input interface '${e.id}' and an output interface '${t.id}' was prevented`}:this.hooks.checkConnection.execute({from:e,to:t}).some((e=>!e.connectionAllowed))?{connectionAllowed:!1,errors:`Connection between an input interface '${e.id}' and an output interface '${t.id}' was prevented`}:{connectionAllowed:!0,dummyConnection:new Xr.pB(e,t),connectionsInDanger:[]}},e.addAnchor=function(t,n,r){const o={x:t.x,y:t.y,id:(0,Yr.A)()};void 0===n.anchors&&(n.anchors=[]),n.anchors.splice(r,0,o),e.events.addAnchor.emit([n,3*r+1])},e.replaceNode=function(e,t){const n=e.position,r=new(this.editor.nodeTypes.get(t).type);e.title!==e.type&&(r.title=e.title),Object.entries({...e.inputs,...e.outputs}).forEach((([e,t])=>{void 0!==t.direction?(Object.prototype.hasOwnProperty.call(r.inputs,e)&&co(r,r.inputs[e],t.side,t.sidePosition,!1,!1),Object.prototype.hasOwnProperty.call(r.outputs,e)&&co(r,r.outputs[e],t.side,t.sidePosition,!1,!1)):Object.prototype.hasOwnProperty.call(r.inputs,e)&&r.inputs[e].componentName===t.componentName&&(r.inputs[e].value=t.value)}));const o=[...Object.values(e.inputs),...Object.values(e.outputs)],i=this.connections.filter((e=>o.includes(e.from)||o.includes(e.to))),a=[];return Object.entries({...e.inputs,...e.outputs}).forEach((([e,t])=>{void 0!==t.direction&&i.forEach((n=>{if(Object.prototype.hasOwnProperty.call(r.inputs,e))if(n.from===t){const t=new Xr.Ng(r.inputs[e],n.to);t.anchors=n.anchors,a.push(t)}else if(n.to===t){const t=new Xr.Ng(n.from,r.inputs[e]);t.anchors=n.anchors,a.push(t)}if(Object.prototype.hasOwnProperty.call(r.outputs,e))if(n.from===t){const t=new Xr.Ng(r.outputs[e],n.to);t.anchors=n.anchors,a.push(t)}else if(n.to===t){const t=new Xr.Ng(n.from,r.outputs[e]);t.anchors=n.anchors,a.push(t)}}))})),r.position=n,ao(),this.removeNode(e),this.addNode(r),a.forEach((e=>this.internalAddConnection(e))),so(),r},e.addNode=function(e,t,n){if(!this.events.beforeAddNode.emit(e).prevented){if(this.nodeEvents.addTarget(e.events),this.nodeHooks.addTarget(e.hooks),e.registerGraph(this),void 0!==e.template){const t=JSON.parse(JSON.stringify(e.template.save()));t.id??=(0,Yr.A)(),e.template=new vo(t,this.editor)}return this._nodes.push(e),(e=this.nodes.find((t=>t.id===e.id))).onPlaced(t,n),this.events.addNode.emit(e),e}},e.destroy=function(){},e.load=function(t){const n=[];for(let e=this.connections.length-1;e>=0;e-=1)this.removeConnection(this.connections[e]);for(let e=this.nodes.length-1;e>=0;e-=1)this.removeNode(this.nodes[e]);this.id=t.id??(0,Yr.A)(),this.name=t.name??void 0;const r=(e,t)=>e?e.has(t)?`'${e.get(t)}'`:`'${t}' (generated)`:t,o=[];t.nodes.forEach((e=>{const n=this.editor.nodeTypes.get(e.name);if(n){const i=new n.type;if(e.id??=(0,Yr.A)(),e.subgraph&&e.graphState){const n=new Set([...this.editor.graphs].map(s.ux));this.addNode(i,t.graphLoadingState,e.id),[...this.editor.graphs].map(s.ux).filter((e=>!n.has(e))).filter((e=>e!==i.subgraph)).forEach((e=>this.editor.unregisterGraph(e)))}else if(e.subgraph&&!t.graphLoadingState){const t=e.interfaces.filter((e=>e.id)).map((e=>[e.name,e.id])),n={newToSpecNodeIds:new Map([[e.id,e.id]]),newInterfaceIds:new Map([[e.id,new Map(t)]]),newToSpecConnIds:new Map,newToSpecIntfIds:new Map};this.addNode(i,n,e.id)}else this.addNode(i,t.graphLoadingState,e.id);const a=i.load(e);Array.isArray(a)&&a.length&&o.push(`Node '${i.type}' with id ${r(t.graphLoadingState?.newToSpecNodeIds,e.id)} is invalid:`,...a.map((e=>`    ${e}`)))}else o.push(`Node type ${e.name} is not registered`)})),o.length&&n.push("Node errors:",...o.map((e=>`    ${e}`))),t.connections.forEach((e=>{e.id??=(0,Yr.A)()}));const i=[];return t.connections.forEach((o=>{const a=[],s=this.findNodeInterface(o.from),l=this.findNodeInterface(o.to);t.connections.some((e=>e.id===o.id&&(e.from!==o.from||e.to!==o.to)))&&a.push("ID is already taken.");const c=(e,n,o)=>{n||a.push(`Missing ${e} ${r(t.graphLoadingState?.newToSpecIntfIds,o)}`)};if(c("src",s,o.from),c("dst",l,o.to),a.length){const e=(e,n)=>{if(!n)return;const o=this.nodes.find((({id:e})=>e===n.nodeId)),i=r(t.graphLoadingState?.newToSpecIntfIds,n.id),s=r(t.graphLoadingState?.newToSpecNodeIds,o.id);a.push(`Found   ${e} ${i} '${n.name}' in node '${o.type}' with id ${s}`)};e("src",s),e("dst",l);const n=r(t.graphLoadingState?.newToSpecConnIds,o.id);i.push(`Connection ${n} is invalid:`,...a.map((e=>`    ${e}`)))}else{const t=this.checkConnection(s,l);if(t.connectionAllowed){t.connectionsInDanger.forEach((e=>{const t=this.connections.find((t=>t.id===e.id));t&&this.removeConnection(t)}));const n=new Xr.Ng(t.dummyConnection.from,t.dummyConnection.to);o.anchors?.forEach(((t,r)=>{e.addAnchor(t,n,r)})),this.internalAddConnection(n)}else n.push(`Could not create connection of id '${o.id}'. ${t.error}`)}})),i.length&&n.push("Connection errors:",...i.map((e=>`    ${e}`))),this.hooks.load.execute(t),n},e.size=function(){const e=this.nodes.map((e=>{const t=document.getElementById(e.id);return{width:t.offsetWidth,height:t.offsetHeight,position:e.position}})),t=100,n=Math.max(...e.map((e=>e.position.x+e.width)))+t,r=Math.min(...e.map((e=>e.position.x)))-t,o=Math.max(...e.map((e=>e.position.y+e.height)))+t,i=Math.min(...e.map((e=>e.position.y)))-t;return{graphHeight:o-i,graphWidth:n-r,rightmostX:n,leftmostX:r,bottommostY:o,topmostY:i}},e.save=function(){const e={id:this.id,name:""!==this.name?this.name:void 0,nodes:this.nodes.map((e=>e.save())),connections:this.connections.map((e=>({id:e.id,from:e.from.id,to:e.to.id,anchors:e.anchors?.map((e=>({x:e.x,y:e.y})))}))),scaling:this.scaling,panning:this.panning};return this.hooks.save.execute(e)},e.removeSelectedNodes=function(){for(let e=this.selectedNodes.length-1;e>=0;e-=1)this.removeNode(this.selectedNodes[e])},e.removeNode=function(e){if(this.nodes.includes(e)){if(this.events.beforeRemoveNode.emit(e).prevented)return;const t=[...Object.values(e.inputs),...Object.values(e.outputs)];this.connections.filter((e=>t.includes(e.from)||t.includes(e.to))).forEach((e=>this.removeConnection(e))),this._nodes.splice(this.nodes.indexOf(e),1),this.events.removeNode.emit(e),e.onDestroy(),this.nodeEvents.removeTarget(e.events),this.nodeHooks.removeTarget(e.hooks)}},e.removeNodeOnly=function(e){this._nodes.splice(this.nodes.indexOf(e),1),this.events.removeNode.emit(e),e.onDestroy(),this.nodeEvents.removeTarget(e),this.nodeHooks.removeTarget(e)},e.editNode=function(e){this.events.editNode.emit(e)},e.obtainExposedNames=function(){const e=[];return this._nodes.forEach((t=>{Object.values({...t.inputs,...t.outputs}).forEach((t=>{void 0!==t.externalName&&e.push(t.externalName)}))})),e},e.isIncorrectExternalName=function(e,t){if(void 0===this.graphNode)return!1;const n=t.filter((t=>t===e)).length,r=[...Object.keys(this.graphNode.inputs),...Object.keys(this.graphNode.outputs)].map((e=>e.split("_"))).filter((e=>"property"!==e[0])).map((e=>e[1])).filter((t=>t===e)).length;return 0===e.length||0!==n||0!==r},e.resolveNewExposedName=function(e){const t=this.obtainExposedNames();let n=1,r=e;for(;this.isIncorrectExternalName(r,t);)r=`${e}_${n}`,n+=1;return r},e}(e);super.registerGraph(t)}save(){const e=[];for(;this.isInSubgraph();)void 0===this._graph.graphNode?e.push({type:this.subgraphStackGraphTypeEnum.RELATEDGRAPH,frame:this._graph.id}):e.push({type:this.subgraphStackGraphTypeEnum.SUBGRAPH,frame:this._graph.graphNode}),this.backFromSubgraph();let t=this._graph.id,n=this.graph.save();n.panning=this._graph.panning,n.scaling=this._graph.scaling,void 0!==this.newRootGraph&&(t=this.newRootGraph.id,n=this.newRootGraph.save());const r={graphs:[]},o=e=>{void 0!==e.subgraph&&(r.graphs.push(e.graphState),e.graphState.nodes.forEach(o)),delete e.graphState};return n.nodes.forEach(o),this.nodeTypes.forEach(((e,t)=>{e.relatedGraphs?.forEach((({id:e})=>{const t=Array.from(this.graphs).find((t=>e===t.id));t&&!r.graphs.find((e=>e.id===t.id))&&r.graphs.push(t.save())}))})),n.nodes.forEach((e=>{e.color=this.getNodeColor(e)})),r.graphs.length&&(r.entryGraph=t),r.graphs=[n,...r.graphs],e.reverse().forEach((({frame:e,type:t})=>{switch(t){case this.subgraphStackGraphTypeEnum.RELATEDGRAPH:this.switchToRelatedGraph(e);break;case this.subgraphStackGraphTypeEnum.SUBGRAPH:this.switchToSubgraph(e)}})),r}deepCleanEditor(e=!0){this.subgraphStack.forEach(this.backFromSubgraph.bind(this)),this.cleanEditor(e),this.graphName=void 0}cleanEditor(e=!0){for(;this.isInSubgraph();)this.backFromSubgraph();const t=this._graph;io(e);for(let e=t.connections.length-1;e>=0;e-=1)t.removeConnection(t.connections[e]);for(let e=t.nodes.length-1;e>=0;e-=1)t.removeNode(t.nodes[e]);io(!1)}unregisterGraphs(){[...this.graphs].filter((e=>e!==this._graph)).forEach((e=>this.unregisterGraph(e))),this.subgraphStack=[]}unregisterNodes(){this.nodeTypes.forEach(((e,t)=>{this.unregisterNodeType(t)}))}registerNodeType(e,t){if(this.events.beforeRegisterNodeType.emit({type:e,options:t}).prevented)return;const n=new e;this._nodeTypes.set(n.type,{type:e,category:t?.category??"default",title:t?.title??n.title,isCategory:t?.isCategory??!1,color:t?.color,subgraphId:t?.subgraphId,relatedGraphs:t?.relatedGraphs,style:t?.style,pill:t?.pill}),this.events.registerNodeType.emit({type:e,options:t})}async load(e,t=!1,n=!1,r=null){this.unregisterGraphs(),Ho.clearRegistry();const o=this.readonly;this.readonly=!0;const a=[];if(!e.graphs.length)return["No graphs found"];let s;if(e.entryGraph){if(s=e.graphs.find((t=>t.id===e.entryGraph)),!s)return[`No entry graph found of id '${e.entryGraph}'`]}else s=e.graphs[0];const{panning:l,scaling:c}=s,u=new Set;this.nodeColors.clear(),e.graphs.forEach((t=>{t.nodes.forEach((t=>{if(void 0!==t.subgraph){const n=e.graphs.filter((e=>e.id===t.subgraph));1!==n.length&&a.push([`Expected exactly one template with ID ${t.name}, got ${n.length}`]),u.add(t.subgraph);const{subgraphId:r}=this.nodeTypes.get(t.name)??{};(t.subgraph!==r||void 0===r)&&([t.graphState]=n)}t.relatedGraphs?.filter((({id:t})=>void 0===e.graphs.find((e=>e.id===t)))).forEach((({id:e})=>a.push([`The related graph of id ${e} is not defined`]))),this.setNodeColor(t.id,t.color)}))}));try{if(a.length)return a;if(e.graphs?.forEach((e=>{if(!u.has(e.id)&&s.id!==e.id){const t=new Xr.TS(this);a.push(...t.load(e)),this.registerGraph(t)}})),!a.length){let t;if(r){const e=new(this._nodeTypes.get(r).type),{state:n,errors:o}=ni(e.template);a.push(...o),t=n}else e=this.hooks.load.execute(e),t=s;a.length||a.push(...this._graph.load(t))}}catch(e){return this.cleanEditor(),this.readonly=o,[e.toString()]}if(Array.isArray(a)&&a.length)return this.cleanEditor(),this.readonly=o,a;if(this.events.loaded.emit(),this.graphName=s.name,this.readonly=o,"undefined"==typeof window||n)return a;const d=(e,t)=>{if(void 0!==e?.nodes)for(let n=0;n<e.nodes.length;n+=1)if(void 0!==e.nodes[n].subgraph){if(e.nodes[n].subgraph.id===s.id)return[...t,e.nodes[n]];const r=d(e.nodes[n].subgraph,[...t,e.nodes[n]]);if(r.length)return r}return[]},p=d(this._graph,[]);try{p.forEach((e=>{this.switchToSubgraph(e)}))}catch(e){a.push(e.toString())}return"NoLayout"!==this.layoutManager.layoutEngine.activeAlgorithm&&(await(0,i.dY)(),await this.applyAutolayout(!1)),await(0,i.dY)(),void 0!==l&&(this._graph.panning=l),void 0!==c&&(this._graph.scaling=c),t||void 0!==c||void 0!==l||this.centerZoom(),a}privatizeInterface(e,t){if(void 0===t.externalName)return;let n=[...this.graphs].find((t=>t.id===e)),r=n.graphNode;if(t.externalName=void 0,void 0===r)return;const{graphIds:o,sharedInterface:i}=Ho.getRegisteredInterface(t.id),a=o.findIndex((e=>e===r.graph.id));o.splice(a,o.length-a),r.updateExposedInterfaces(void 0,void 0,!0);for(let e=a+1;e<o.length;e+=1)n=[...this.graphs].find((e=>e.id===o[a])),r=n.graphNode,r.updateExposedInterfaces(void 0,void 0,!0);i===t&&Ho.deleteRegisteredInterface(t.id)}exposeInterface(e,t,n=void 0){const r=[...this.graphs].find((t=>t.id===e)),o=r.graphNode;t.externalName=n??r.resolveNewExposedName(t.name),void 0!==o&&o.updateExposedInterfaces()}getExposedProperties(){return this._graph.nodes.map((e=>Object.values(e.inputs))).flat().filter((e=>!e.port&&e.externalName))}static editorSize(){if("undefined"==typeof document)throw new Error("The editor is in browserless mode. Cannot obtain editor size.");const e=document.getElementsByClassName("terminal-wrapper")[0]?.offsetHeight??0,t=document.getElementsByClassName("wrapper")[0]?.offsetHeight??0,n=document.getElementsByClassName("baklava-node-palette");let r=0;if(0!==n.length){const e=n[0].getBoundingClientRect();r=Math.max(e.right,0)}const o=window.innerHeight-e-t;return{editorWidth:window.innerWidth-r,editorHeight:o,sideBarWidth:r}}centerZoom(){if(!Array.isArray(this._graph.nodes)||0===this._graph.nodes.length)return;if("undefined"==typeof document)throw new Error("The editor is in browserless mode. Cannot obtain editor size.");const{editorWidth:e,editorHeight:t,sideBarWidth:n}=ri.editorSize(),{graphHeight:r,graphWidth:o,leftmostX:i,topmostY:a}=this._graph.size(),s=100,l=t/(r+200),c=e/(o+200);if(c>l){const t=e/2*(1/l)-(o+200)/2;this._graph.panning={x:-(i-s-t-n/l),y:-(a-s)},this._graph.scaling=l}else{const e=t/2*(1/c)-(r+200)/2;this._graph.panning={x:-(i-s-n/c),y:-(a-s-e)},this._graph.scaling=c}}nodeURLsEmpty(){return 0===this.nodeURLs.size}getNodeURLs(e){const t=this.nodeURLs.get(e)||{},n=[];return Object.entries(t).forEach((([e,t])=>{const r={...this.baseURLs.get(e)};r.url+=t,n.push(r)})),n}getNodeIconPath(e){return this.nodeIcons.get(e)||void 0}getPillText(e){const t=this.nodeTypes.get(e);return void 0!==t?.pill?t.pill?.text:void 0!==t?.style?this.getNodeStyle(t.style)?.pill?.text:void 0}getNodeCategory(e){return this.nodeTypes.get(e).category||void 0}getNodeColor(e){const t=this.nodeColors.get(e.id);if(void 0!==t)return t;const n=this.nodeTypes.get(e.type);return void 0!==n?.color?n.color:void 0!==n?.style?this.getNodeStyle(n.style)?.color:void 0}setNodeColor(e,t){void 0!==t&&this.nodeColors.set(e,t)}getStyleIcon(e){const t=this.nodeTypes.get(e);if(void 0!==t?.style)return this.getNodeStyle(t.style)?.icon}getNodeStyle(e){return Array.isArray(e)||(e=[e]),Object.assign({},...e.map((e=>this.nodeStyles.get(e))).filter((e=>void 0!==e)))}getPillColor(e){const t=this.nodeTypes.get(e),n=void 0!==t?.pill?t.pill:this.getNodeStyle(t.style).pill;if(void 0!==n)return n.color??"#ffffff"}getTextColor(e){if(!e)return"white";const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(t[1],16)/255,r=parseInt(t[2],16)/255,o=parseInt(t[3],16)/255;return(Math.max(n,r,o)+Math.min(n,r,o))/2>.5?"black":"white"}isGraphNode(e){return!!this.nodeTypes.has(e)&&void 0!==this.nodeTypes.get(e).subgraphId}nodeHasRelatedGraphs(e){return void 0!==(e.relatedGraphs??this.nodeTypes.get(e.type)?.relatedGraphs)}addGraphTemplate(e,t){if(this.events.beforeAddGraphTemplate.emit(e).prevented)return;this._graphTemplates.push(e),this.graphTemplateEvents.addTarget(e.events),this.graphTemplateHooks.addTarget(e.hooks);const n=function(e,t){const[n,r]=function(e){const t=Io(e.interfaces??[],[],[]);return Array.isArray(t)&&t.length?t.map((t=>`Node ${e.name} invalid. ${t}`)):Zo(t)}(t),o=function(e){const t=qo(e.properties??[]);return Array.isArray(t)&&t.length?t.map((t=>`Node ${e.name} invalid. ${t}`)):Xo(t)}(t),i={...n,...o};return class extends Jo{type=t.name;title=t.name;template=e;nodeInterfaces={...i,...r};constructor(){super(t.name,t.layer,i,r,t.twoColumn??e.editor.editorManager.baklavaView.twoColumn??!1,t.description??"",t.extends??[],t.extending??[],t.siblings??[],t.width??300,t.relatedGraphs)}save(){const e=super.save();return e.subgraph=this.subgraph.id,e.graphState=this.subgraph.save(),e}load(e){this.hooks.beforeLoad.execute(e);const t=Io(e.interfaces??[],[],[]);if(Array.isArray(t)&&t.length)return t;let{inputs:n,outputs:r}=t;if(n=Object.values(n),r=Object.values(r),void 0!==e.graphState){delete e.graphState.interfaces,delete e.subgraph;const t=this.subgraph.load(e.graphState);if(t.length)return t}this.updateExposedInterfaces(n,r),this.position=e.position,this.title=e.instanceName??"";const o=super.load(e);return this.events.loaded.emit(this),o}updateExposedInterfaces(e=void 0,t=void 0,n=!1){const r=function(e,t=[],n=[]){const r=["input_","inout_","output_"],o=Qo([...e.map((e=>Object.entries({...e.inputs,...e.outputs}))).flat()].filter((([e])=>r.some((t=>e.startsWith(t))))).filter((([,e])=>e.externalName))),i=o.filter((e=>"string"==typeof e));if(i.length)return i;const a=[];o.forEach((r=>{const o=e[0].graph.id;ei(r,o);const i="output"===r.direction?n:t,s=i.findIndex((e=>e.id===r.id));-1===s?a.push({name:r.externalName,id:r.id,externalName:void 0,side:r.side,direction:r.direction,sidePosition:void 0}):(i[s].name=r.externalName,a.push(i[s]))}));const s=Oo(a,{});return Array.isArray(s)&&s.length?s:{inputs:Object.values(s.inputs),outputs:Object.values(s.outputs)}}(this.subgraph.nodes,e??Object.values(this.inputs),t??Object.values(this.outputs));if(Array.isArray(r)&&r.length)throw new Error(`Internal error occurred while exposing an interface.\nReason: ${r.join(". ")}`);const o=function(e){const t=Qo(e.map((e=>Object.entries(e.inputs))).flat().filter((([e])=>e.startsWith("property_"))).filter((([,e])=>e.externalName))),n=t?.filter((e=>"string"==typeof e));if(n.length)return n;const r=[];return t.forEach((t=>{ei(t,e[0].graph.id),r.push({name:t.externalName,id:t.id,externalName:void 0,type:t.type,value:t.value,description:t.description,default:t.default,min:t.min,max:t.max,step:t.step,values:t.items,dtype:t.dtype,override:t.override,readonly:t.readonly})})),r}(this.subgraph.nodes,e??Object.values(this.inputs));this.updateInterfaces(r.inputs,r.outputs,n),this.updateProperties(o)}onPlaced(e,t){this.initialize(e,t)}initialize(e,t){this.subgraph&&this.subgraph.destroy();const n=new Xr.TS(this.template.editor),{state:r,errors:o}=ni(this.template,{graphLoadingState:e,newSubgraphNodeId:t});if(o.length||o.push(...n.load(r)),o.length)throw new Error(`Internal error occurred while initializing ${n.type} graph. Reason: ${o.join(". ")}`);n.template=this.template,this.subgraph=n,n.graphNode=this,this.updateExposedInterfaces([],[]),this._title=this.template.name,this.events.update.emit(null)}privatizeInterfaces(e,t){Object.entries(t).forEach((([t,n])=>{if(void 0===e.find((e=>e.id===n.id))&&!Object.keys(this.nodeInterfaces).some((e=>e===t))){const e="output"===n.direction?"output":"input";this.removeInterface(e,t)}}))}updateInterfaces(e,t,n=!1){const r=[...e,...t],o={...this.inputs,...this.outputs};n&&this.privatizeInterfaces(r,o),r.forEach((e=>{const t=Object.values(o).find((t=>t.id===e.id));if(void 0===t){const t=new Xr.gZ(e.name);Object.assign(t,e),Ho.pushGraphIdToRegistry(t.id,this.subgraph.id),Ho.createSharedInterface(t);const n="output"===e.direction?"output":"input";this.addInterface(n,`${e.direction}_${e.name}`,t)}else Object.assign(t,e)})),Object.values(o).forEach((e=>{co(this,e,e.side,void 0,!1,!1)}))}updateProperties(e,t=!1){t&&this.privatizeInterfaces(e,this.inputs),e.forEach((e=>{const t=Object.values(this.inputs).find((t=>t.id===e.id));if(void 0===t){const t=Go(e);Object.assign(t,e),this.addInput(`property_${e.name}`,t)}else Object.assign(t,e)}))}}}(e,t);this.registerNodeType(n,{category:t.category,title:t.title,isCategory:t.isCategory,color:t.color,style:t.style,pill:t.pill,subgraphId:t.subgraphId,relatedGraphs:t?.relatedGraphs}),this.events.addGraphTemplate.emit(e)}switchGraph(e){if(void 0===this._switchGraph){const{switchGraph:e}=(0,tr.uU)();this._switchGraph=e}if(io(!0),void 0===e.subgraph)throw Error(`Node "${e.name}" does contain a subgraph.`);this._graph=e.subgraph,this._switchGraph(e.subgraph),this.graphName=this._graph.name,io(!1),(0,i.dY)().then((()=>{const e=this.graph.save();this.layoutManager.registerGraph(e),this.layoutManager.computeLayout(e).then(this.updateNodesPosition.bind(this)).then((()=>{(0,i.dY)().then((()=>{this._graph.wasCentered||(this.centerZoom(),this._graph.wasCentered=!0)}))}))}))}switchToSubgraph(e){e&&e.subgraph&&(this.subgraphStack.push(e.graph),this.switchGraph(e))}switchToGraph(e,t=!1){if(e){if(void 0===this._switchGraph){const{switchGraph:e}=(0,tr.uU)();this._switchGraph=e}io(!0),t?this.subgraphStack.push(this._graph):this.subgraphStack.length>0&&this.subgraphStack.pop(),this._graph=e,this._switchGraph(this._graph),this.graphName=this._graph.name,(0,i.dY)().then((()=>{const e=this.graph.save();this.layoutManager.registerGraph(e),this.layoutManager.computeLayout(e).then(this.updateNodesPosition.bind(this)).then((()=>{(0,i.dY)().then((()=>{this._graph.wasCentered||(this.centerZoom(),this._graph.wasCentered=!0)}))}))})),io(!1)}}switchToRelatedGraph(e){if(this.editorManager?.baklavaView.displayedGraph.id===e)return;const t=Array.from(this.graphs).find((t=>t.id===e));this.switchToGraph(t,!0)}backFromSubgraph(){const e=this.subgraphStack.pop();io(!0),this._graph=e,this._switchGraph(this._graph),this.graphName=this._graph.name,io(!1)}changeTopLevelGraph(e){const t=Array.from(this.graphs).find((t=>t.id===e));this.newRootGraph=t}findInterface(e){for(let t=0;t<this.graph.nodes.length;t+=1){const n=Object.values(this.graph.nodes[t].inputs).concat(Object.values(this.graph.nodes[t].outputs)).find((t=>t.id===e));if(n)return n}return null}unwrapSubgraph(e){const t=Object.values(e.subgraph._nodes),n=t.map((e=>e.position.x)).reduce(((e,t)=>e+t),0)/t.length,r=t.map((e=>e.position.y)).reduce(((e,t)=>e+t),0)/t.length;this.graph.selectedNodes=[],t.forEach((t=>{const o=t.save(),i=this.graph.addNode(t);i&&(i.position.x+=e.position.x-n,i.position.y+=e.position.y-r,this.graph.selectedNodes.push(i),Object.values(i.inputs).concat(Object.values(i.outputs)).forEach((e=>{e.connectionCount=0})),i.load(o))}));const o=this.graph.connections.filter((t=>t.from.nodeId===e.id||t.to.nodeId===e.id));this.graph.removeNode(e),Object.values(e.subgraph.connections).concat(o).forEach((t=>{if("Connection"===t.from.name||"Connection"===t.to.name)return;const o=this.findInterface(t.from.id),i=this.findInterface(t.to.id);if(o&&i){const a=this.graph.addConnection(o,i);(t.anchors??[]).forEach(((o,i)=>{let s;s=e.subgraph.connections.includes(t)?{x:o.x+e.position.x-n,y:o.y+e.position.y-r}:{x:o.x,y:o.y},this.graph.addAnchor(s,a,i)}))}}))}isInSubgraph(){return this.subgraphStack.length>0}async applyAutolayout(e=!0){const t=this.graph.save();e&&t.nodes.forEach((e=>{e.position=void 0})),this.layoutManager.registerGraph(t);const n=await this.layoutManager.computeLayout(t);this.updateNodesPosition(n)}updateNodesPosition(e){e.nodes.forEach((e=>{this.graph.nodes.filter((t=>e.id===t.id))[0].position=e.position}))}updateCurrentSubgraphName(e){this._graph.name=e}}class oi{types=new Map;defaultStyle={interfaceConnectionPattern:"solid",interfaceConnectionColor:"#FFFFFF",interfaceColor:"#00E58D"};constructor(e){e.hooks.renderInterface.subscribe(this,(({intf:e,el:t})=>{if(e.type){const n=this.normalizeType(e.type).find((e=>void 0!==this.types[e]?.interfaceColor));if(void 0!==n){const e=this.types[n].interfaceColor,r=t.querySelector(".__port:not(.greyedout_arrow)");if(null!==r)r.style.backgroundColor=e;else{const e=t.querySelector(".__port");null!==e&&(e.style.backgroundColor=getComputedStyle(e).getPropertyValue("$gray-500"))}}}return{intf:e,el:t}}))}normalizeType(e){return"string"==typeof e||e instanceof String?[e]:e}getConnectionStyle(e,t){const n=this.normalizeType(e?.type),r=this.normalizeType(t?.type);if(void 0===e?.type)return this.defaultStyle;if(void 0===t?.type){const e=n.find((e=>void 0!==this.types[e]));return{...this.defaultStyle,...this.types[e]}}const o=n.filter((e=>r.includes(e)));if(Array.isArray(o)&&o.length>1)return this.defaultStyle;const i=o.find((e=>void 0!==this.types[e]));return{...this.defaultStyle,...this.types[i]}}readInterfaceTypes(e){this.types={},e?.interfaces&&Object.entries(e.interfaces).forEach((([e,t])=>{this.types[e]={...t,name:e}}))}}const ii=JSON.parse('{"version":"20250623.14","$id":"unresolved_specification_schema.json","description":"Schema used to validate specification that hasn\'t resolved inheritance","type":"object","properties":{"version":{"description":"Version of the specification.","type":"string"},"metadata":{"$ref":"metadata_schema.json"},"include":{"description":"List of paths to other specifications that should be included","type":"array","items":{"anyOf":[{"description":"Path to the specification","type":"string"},{"type":"object","properties":{"url":{"description":"Path to the specification","type":"string"},"style":{"$ref":"#/$defs/style"}},"required":["url"],"additionalProperties":false}]}},"urloverrides":{"description":"Mapping for string replacement","type":"object","patternProperties":{".*":{"type":"string"}}},"includeGraphs":{"description":"List of paths to dataflow files that should be included as graphs","type":"array","items":{"description":"Definition of the graphs included from the dataflow file","type":"object","properties":{"name":{"description":"Name of the subgraph","type":["string","null"]},"url":{"description":"URL of the dataflow file","type":"string"}},"required":["url"],"additionalProperties":false}},"nodes":{"description":"Definition of the available nodes","type":"array","items":{"$ref":"#/$defs/node"}},"graphs":{"description":"Definition of the available graphs","type":"array","items":{"$ref":"graph_schema.json"}},"entryGraph":{"description":"ID of the graph from \'graphs\' property that specifies default dataflow of the specification","type":"string"}},"$defs":{"interfacesRangeArray":{"type":"array","minItems":2,"maxItems":2,"items":{"type":"number"}},"style":{"description":"A style or an array of non-repeating styles defined by \'styles\' in metadata","type":["string","array"]},"node":{"type":"object","allOf":[{"type":"object","properties":{"name":{"description":"Name displayed in a node","type":"string"},"subgraphId":{"description":"Graph ID that the subgraph node corresponds to","type":"string"},"relatedGraphs":{"description":"Map containing name and ID of a related graph","type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string"}},"required":["name","id"],"additionalProperties":false}},"includeName":{"type":"string","description":"Name of the included node to override"},"abstract":{"description":"Tells if the given node type is abstract or not","type":"boolean","default":false},"layer":{"description":"Layer that defines styling of a node","type":"string"},"category":{"description":"Category of a node in a side bar","type":["string","null"]},"isCategory":{"description":"Determines whether the nodes defines a category","type":"boolean","default":false},"icon":{"description":"Icon of a node. Can be a string with relative path, URL, or tuple {\'icon_type\': \'url_suffix\'}","type":["object","string"]},"color":{"$ref":"metadata_schema.json#/$defs/color"},"twoColumn":{"description":"Determines whether sockets should be rendered in the top part of the node and properties below them","type":"boolean"},"style":{"$ref":"#/$defs/style"},"pill":{"$ref":"metadata_schema.json#/$defs/pill"},"defaultInterfaceGroups":{"description":"List of names of chosen interface groups that are enabled by default","type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"direction":{"enum":["input","output","inout"]}},"required":["name"],"additionalProperties":false}},"interfaces":{"description":"Definition of available interfaces of the node","type":"array","items":{"type":"object","allOf":[{"$ref":"#/$defs/interface"},{"type":"object","properties":{"array":{"description":"Used to define multiple similar interfaces using only one entry","$ref":"#/$defs/interfacesRangeArray"}}},{"properties":{"dynamic":{"description":"Determines whether the interface should have a property assigned to it that determines the number of interfaces created","oneOf":[{"const":true},{"$ref":"#/$defs/interfacesRangeArray"}]}}}],"unevaluatedProperties":false}},"interfaceGroups":{"description":"Defines groups of interfaces that use multiple interfaces","type":"array","items":{"type":"object","allOf":[{"$ref":"#/$defs/interface"},{"properties":{"interfaces":{"description":"Describes interfaces that create the interface group","type":"array","items":{"type":"object","allOf":[{"properties":{"array":{"description":"Used to define multiple similar interfaces using only one entry","$ref":"#/$defs/interfacesRangeArray"}}},{"properties":{"name":{"description":"Name of the the group of interfaces","type":"string"},"direction":{"description":"Tells whether the connector is input, output, or both","enum":["input","output","inout"]}},"required":["name"]}],"unevaluatedProperties":false}}}}],"unevaluatedProperties":false}},"properties":{"description":"Definition of the properties of the node","type":"array","items":{"type":"object","allOf":[{"$ref":"#/$defs/property"},{"properties":{"group":{"description":"Definition of the group properties","type":"array","items":{"$ref":"#/$defs/property"}}}}],"unevaluatedProperties":false}},"urls":{"type":"object","description":"Map containing URL group in key and URL suffix in value","patternProperties":{"^.*$":{"type":"string"}}},"extends":{"type":"array","description":"Node names to extend","items":{"type":"string"}},"description":{"type":"string","description":"Description of the node in markdown"},"additionalData":{"description":"Any JSON data that provides additional information regarding the specification","type":["number","string","boolean","object","array","null"]},"width":{"description":"Width, in pixels, of the node in the visual editor. The minimum value is 300.","type":"number"}},"additionalProperties":false},{"anyOf":[{"properties":{"isCategory":{"const":true}},"required":["isCategory"]},{"properties":{"isCategory":{"const":[null,false]}},"required":["name"]}]}]},"interface":{"type":"object","properties":{"name":{"description":"Name of the socket displayed in the node","type":"string"},"type":{"description":"Type that defines styling of the input socket. It is also used for validation purposes","type":["string","array"]},"direction":{"description":"Tells whether the connector is input, output, or both","enum":["input","output","inout"]},"side":{"description":"Determines the side on which the socket is rendered","enum":["left","right"]},"maxConnectionsCount":{"description":"Tells how many connections can be established with given interface, <= 0 value for unlimited","type":"number","default":0},"sidePosition":{"description":"Determines the order of interfaces rendered","type":"number"},"override":{"description":"Determines whether this interface can should overridden","type":"boolean","default":false}},"required":["name"]},"property":{"type":"object","allOf":[{"type":"object","properties":{"name":{"description":"Name of the property. Can be displayed for some types of properties","type":"string"},"type":{"description":"Type of the property","enum":["text","multiline","number","integer","select","bool","slider","list","constant","hex","button-url","button-api","button-graph"]},"description":{"description":"Description of the property. Can be displayed to the user","type":"string"},"default":{"description":"Default value of the property","type":["number","string","boolean","object","array","null"]},"min":{"description":"Minimum value of a range for slider, number, integer and hex type","type":["number","string"]},"max":{"description":"Maximum value of a range for slider, number, integer and hex type","type":["number","string"]},"step":{"description":"Step value for slider type","type":["number","string"]},"values":{"description":"Range of values for the select type","type":"array"},"dtype":{"description":"Data types of elements in a list type","type":"string","enum":["integer","number","string","boolean"]},"override":{"description":"Determines whether this property should be overridden","type":"boolean","default":false},"readonly":{"description":"Determines whether this property should be readonly","type":"boolean","default":false},"hideOnDefault":{"description":"Determines whether this property should be kept hidden if it has default or no value assigned","type":"boolean","default":false}}},{"anyOf":[{"properties":{"type":{"const":"slider"},"default":{"type":"number"}},"required":["default","min","max"]},{"properties":{"type":{"const":"bool"},"default":{"type":"boolean"}},"required":["default"]},{"properties":{"type":{"const":"select"},"values":{"type":"array"}},"required":["values"]},{"properties":{"type":{"enum":["integer","number"]},"default":{"type":"number"},"min":{"type":"number"},"max":{"type":"number"}}},{"properties":{"type":{"const":"text"},"default":{"type":["string","null"]}}},{"properties":{"type":{"const":"multiline"},"default":{"type":["string","null"]}}},{"properties":{"type":{"const":"constant"},"default":{"type":"string"}},"required":["default"]},{"properties":{"type":{"const":"hex"},"default":{"type":"string","format":"hex"},"min":{"type":"string","format":"hex"},"max":{"type":"string","format":"hex"}}},{"properties":{"type":{"const":"list"},"default":{"type":["array","null"]}},"required":["dtype"]},{"properties":{"type":{"const":"button-url"},"default":{"type":"string"}}},{"properties":{"type":{"const":"button-graph"},"default":{"type":"string"}}},{"properties":{"type":{"const":"button-api"},"default":{"type":["object","null"]}}}]}],"required":["name","type","default"],"unevaluatedProperties":true}},"additionalProperties":false}'),ai=JSON.parse('{"$id":"specification_schema.json","type":"object","description":"Schema used to validate specification that has resolved inheritance","allOf":[{"$ref":"unresolved_specification_schema.json"},{"properties":{"nodes":{"type":"array","minItems":1,"items":{"type":"object","properties":{"category":{"description":"Category of a node in a side bar","type":"string"}}}}},"required":["nodes"]}],"unevaluatedProperties":false}'),si=JSON.parse('{"$id":"metadata_schema.json","description":"Schema used to validate specification metadata","type":"object","properties":{"interfaces":{"description":"Styling of the nodes","type":"object","patternProperties":{"^.*$":{"type":"object","properties":{"interfaceColor":{"type":"string","description":"Color of the interface instance"},"interfaceConnectionPattern":{"description":"Pattern of the connection going from the interface","enum":["solid","dashed","dotted"],"default":"solid"},"interfaceConnectionColor":{"description":"Color of the connection going from the interface","type":"string","default":"#FFFFFF"}},"additionalProperties":false}},"default":{}},"navbarItems":{"type":"array","description":"List of buttons displayed in the application navbar","items":{"type":"object","description":"Description of a single button.","properties":{"name":{"description":"Name displayed in the tooltip","type":"string"},"stopName":{"description":"Name displayed in the tooltip when the corresponding procedure is running and is stoppable. If not specified simply Stop is added as a prefix to the name","type":"string"},"iconName":{"description":"Name of the icon displayed in the navbar. Name should correspond to a file in the asset directory or to an icon in `frontend/src/icons`","type":"string"},"procedureName":{"description":"Name of the procedure used when button is pressed. The currently displayed graph is used as an argument","type":"string"},"allowToRunInParallelWith":{"description":"List of procedures which can be run when this `navbarItem` is still running","type":"array","items":{"type":"string","description":"`procedureName` of `navbarItem`"},"default":[]},"requireResponse":{"description":"Flag determining whether response from external application should be awaited when running the procedure","type":"boolean","default":true}},"required":["name","iconName","procedureName"],"additionalProperties":false},"default":[]},"allowLoopbacks":{"type":"boolean","description":"Flag allowing connections with endpoints at the same node","default":false},"readonly":{"type":"boolean","description":"Flag determining whether the editor is in readonly mode","default":false},"twoColumn":{"type":"boolean","description":"Flag determining whether displaying nodes as two columns","default":false},"connectionStyle":{"enum":["curved","orthogonal","alternativeOrthogonal","straight"],"description":"Defines connection style","default":"curved"},"hideHud":{"type":"boolean","description":"Hides HUD elements, such as popup notifications, navbar or terminal","default":false},"layers":{"type":"array","default":[],"description":"Layers of interfaces and nodes that can be ignored using settings.","items":{"type":"object","description":"Description of a single layer.","properties":{"name":{"description":"Name of the layer","type":"string"},"nodeLayers":{"type":"array","description":"Types of nodes that are ignored in this layer","items":{"type":"string"}},"nodeInterfaces":{"type":"array","description":"Types of interfaces that are ignored in this layer","items":{"type":"string"}}},"required":["name"],"additionalProperties":false}},"urls":{"type":"object","description":"URL description put in node palette and nodes","patternProperties":{"^.*$":{"type":"object","description":"A single entry representing an URL group","properties":{"name":{"type":"string","description":"Name of the url group, appearing in hints"},"icon":{"type":"string","description":"Path of the icon in assets"},"url":{"type":"string","description":"Base of URL for group"}},"required":["name","icon","url"],"additionalProperties":false}},"default":{}},"collapseSidebar":{"type":"boolean","description":"Defines whether nodes sidebar should be collapsed by default","default":true},"movementStep":{"type":"number","description":"Defines offset to which nodes snap in the grid","default":1},"backgroundSize":{"type":"number","description":"Defines size of the background grid","default":100},"layout":{"type":"string","description":"Defines the default autolayout algorithm","default":"CytoscapeEngine - dagre-longest-path"},"randomizedOffset":{"type":"boolean","description":"Determines whether connections should have randomized, but deterministic offset","default":false},"editableTypes":{"type":"boolean","description":"Determines whether the user can edit existing and add new node types","default":false},"toggleableEditableTypes":{"type":"boolean","description":"Determines whether node editibility can be toggled from the UI.","default":true},"hideAnchors":{"type":"boolean","description":"Hides anchors in all connections. The anchors are still visible on hover","default":false},"showIds":{"type":"boolean","description":"Displays node ID in the node details view","default":false},"newGraphNode":{"type":"boolean","description":"Displays new graph node button in the node palette","default":true},"icons":{"type":"object","description":"Mapping from icon URL class to URL prefix","patternProperties":{"^.*$":{"type":"string","description":"URL prefix for a given icon class"}},"default":{}},"styles":{"type":"object","description":"Defines node styles","patternProperties":{"^.*$":{"type":"object","properties":{"color":{"$ref":"#/$defs/color"},"icon":{"description":"Icon of a node. Can be a string with predefined icon name, relative path, URL, or tuple {\'icon_type\': \'url_suffix\'}","type":["object","string","null"]},"pill":{"$ref":"#/$defs/pill"}}}}},"welcome":{"type":"boolean","description":"Determines whether a welcome text should appear on empty editor","default":true},"notifyWhenChanged":{"type":"boolean","description":"Determines whether external application should be informed about changes in dataflow. Works only when Pipeline Manager is run in server-app mode","default":false},"showHiddenProperties":{"type":"boolean","description":"Determines whether properties marked with \'hideOnDefault\' should be visible regardless of their value","default":false},"logLevel":{"description":"Verbosity of pop-up notifications","enum":["INFO","WARNING","ERROR"],"default":"WARNING"}},"$defs":{"pill":{"description":"Pill displayed in the top right corner of a node","type":["object","null"],"properties":{"color":{"type":"string","description":"Color of the pill"},"text":{"type":"string","description":"Text of the pill"}},"required":["text"],"additionalProperties":false},"color":{"description":"Node color in hexadecimal representation","type":["string","null"]}},"additionalProperties":false}'),li=JSON.parse('{"$id":"dataflow_schema.json","description":"Schema used to validate dataflows","type":"object","properties":{"version":{"description":"Version of the dataflow","type":"string"},"metadata":{"$ref":"metadata_schema.json"},"graphs":{"type":"array","minItems":1,"items":{"type":"object","allOf":[{"$ref":"graph_schema.json"}],"unevaluatedProperties":false}},"entryGraph":{"description":"Id of a graph that is displayed when a dataflow is loaded","type":"string"}},"required":["graphs"],"unevaluatedProperties":false}'),ci=JSON.parse('{"$id":"graph_schema.json","description":"Schema used to validate a single subgraph","type":"object","properties":{"id":{"description":"Unique identifier of a graph","type":"string"},"nodes":{"type":"array","items":{"type":"object","properties":{"name":{"description":"Name of the node type as defined in the specification","type":"string"},"id":{"description":"Unique identifier of a node","type":"string"},"instanceName":{"description":"Optional field defining a node name rendered to the user","type":"string"},"title":{"description":"Optional field defining an instance name rendered to the user","type":"string"},"color":{"description":"Optional field defining the color of the node rendered to the user","type":"string"},"properties":{"description":"List describing the node parameterized values","type":"array","items":{"type":"object","properties":{"id":{"description":"Unique value assigned to the property","type":"string"},"name":{"description":"Name of the property","type":"string"},"value":{"description":"Actual value of the property","type":["number","string","boolean","object","array","null"]},"externalName":{"description":"Name of the external property displayed in the node","type":["string","null"]}},"required":["id","name","value"],"additionalProperties":false}},"interfaces":{"description":"List describing the node interfaces","type":"array","items":{"type":"object","properties":{"id":{"description":"Unique value assigned to the interface","type":"string"},"name":{"description":"name of the interface","type":"string"},"direction":{"description":"Determines the type of the interfaces","enum":["input","output","inout"]},"side":{"description":"Determines side of the node the interface that the interface is placed on","enum":["left","right"]},"sidePosition":{"description":"Determines the order of interfaces rendered","type":"number"},"externalName":{"description":"Name of the external socket displayed in the node","type":["string","null"]}},"required":["id","name","direction"],"additionalProperties":false}},"enabledInterfaceGroups":{"description":"List of names of chosen interface groups","type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"direction":{"enum":["input","output","inout"]}},"required":["name","direction"],"additionalProperties":false}},"width":{"description":"Width of the node","type":"number"},"twoColumn":{"description":"Determines whether sockets should be rendered in the top part of the node and properties below them","type":"boolean"},"subgraph":{"description":"Optional field defining the id of the subgraph that this node represents","type":"string"},"relatedGraphs":{"description":"Map containing name and ID of a related graph","type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string"}},"required":["name","id"],"additionalProperties":false}},"position":{"description":"Position of a node in an editor","allOf":[{"$ref":"#/$defs/coordinates"}]}},"required":["name","interfaces"],"additionalProperties":false}},"connections":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier of a connection"},"from":{"type":"string","description":"Identifier of a from interface"},"to":{"type":"string","description":"Identifier of a to interface"},"anchors":{"type":"array","description":"Definition of anchor points that are used for orthogonal connections","items":{"$ref":"#/$defs/coordinates"}}},"required":["from","to"],"additionalProperties":false}},"panning":{"description":"Defines the position of the top-left corner in the rendered editor","allOf":[{"$ref":"#/$defs/coordinates"}]},"scaling":{"description":"Floating-point number that defines the zoom level in the editor","type":"number"},"name":{"type":"string","description":"Name of the graph"},"additionalData":{"description":"Any JSON data that provides additional information regarding the graph","type":["number","string","boolean","object","array","null"]}},"$defs":{"coordinates":{"type":"object","properties":{"x":{"description":"x coordinate of the corner","type":"number"},"y":{"description":"y coordinate of the corner","type":"number"}},"required":["x","y"],"additionalProperties":false}},"required":["nodes","connections"]}'),ui=JSON.parse('{"$id":"message_schema.json","type":"object","description":"Schema used to validate messages coming from \'window.postMessage\'","anyOf":[{"required":["specification"]},{"required":["dataflow"]}],"properties":{"specification":{"type":["string","object"]},"dataflow":{"type":["string","object"]}},"unevaluatedProperties":false}');function di(e,t,n){const r=document.getElementById(e.nodeId);return((r?r.offsetTop:0)+n.y)*t}function pi(e,t,n){const r=document.getElementById(e.nodeId);return((r?r.offsetTop+r.offsetHeight:0)+n.y)*t}function hi(e,t,n,r,o){return[Math.sqrt(Math.abs((e-n)*(e-n)+(e-n)*(t-r)/o)),Math.sqrt(Math.abs((t-r)*(t-r)+(t-r)*(e-n)*o))]}class fi{constructor(e,t,n,r,o){this.x1=e,this.y1=t,this.x2=n,this.y2=r,this.from=o.from,o.to&&(this.to=o.to,("input"===this.from.direction&&"output"===this.to.direction||"input"===this.from.direction&&"inout"===this.to.direction||"inout"===this.from.direction&&"output"===this.to.direction)&&([this.x1,this.x2,this.y1,this.y2]=[this.x2,this.x1,this.y2,this.y1],[this.from,this.to]=[this.to,this.from]))}}class mi{style="curved";viewModel=null;randomizedOffset=!1;shiftDistance=15;getShift(e,t,n,r){const o=(e.sidePosition+t.sidePosition)/2;if(this.randomizedOffset){const i=this.getInterfaceNeighbors(e,n),a=this.getInterfaceNeighbors(t,n);let s=[...t.id].reduce(((e,t)=>e+t.charCodeAt(0)),0)??0,l=[...e.id].reduce(((e,t)=>e+t.charCodeAt(0)),0)??0;const c=s^l;l=c%i.length,s=c%a.length;const u=(l+s)/2;return this.shiftDistance*(u/2+o/2)*r}return this.shiftDistance*o*r}getMaxShift(e,t,n,r){const o=this.getInterfaceNeighbors(e,n).length-1,i=this.getInterfaceNeighbors(t,n).length-1;return this.shiftDistance*((o+i)/2)*r}getInterfaceNeighbors(e,t){const n=t.findNodeById(e.nodeId);return[...Object.values(n.inputs),...Object.values(n.outputs)].filter((t=>t.side===e.side&&t.port))}someAboveOrBelow(e,t,n){const r=di(e,n.scaling,n.panning),o=di(t,n.scaling,n.panning),i=pi(e,n.scaling,n.panning),a=pi(t,n.scaling,n.panning);return i<o||r>a}curvedRender(e,t,n,r,o){const i=new fi(e,t,n,r,o),a=.3*Math.abs(i.x1-i.x2);if(i.to){if("right"===i.from.side&&"left"===i.to.side)return`M ${i.x1} ${i.y1} C ${i.x1+a} ${i.y1}, ${i.x2-a} ${i.y2}, ${i.x2} ${i.y2}`;if("left"===i.from.side&&"right"===i.to.side)return`M ${i.x1} ${i.y1} C ${i.x1-a} ${i.y1}, ${i.x2+a} ${i.y2}, ${i.x2} ${i.y2}`;if("right"===i.from.side&&"right"===i.to.side){const e=Math.max(i.x1+a,i.x2+a);return`M ${i.x1} ${i.y1} C ${e} ${i.y1}, ${e} ${i.y2}, ${i.x2} ${i.y2}`}if("left"===i.from.side&&"left"===i.to.side){const e=Math.min(i.x1-a,i.x2-a);return`M ${i.x1} ${i.y1} C ${e} ${i.y1}, ${e} ${i.y2}, ${i.x2} ${i.y2}`}}return"right"===i.from.side?`M ${i.x1} ${i.y1} C ${i.x1+a} ${i.y1}, ${i.x2-a} ${i.y2}, ${i.x2} ${i.y2}`:"left"===i.from.side?`M ${i.x1} ${i.y1} C ${i.x1-a} ${i.y1}, ${i.x2+a} ${i.y2}, ${i.x2} ${i.y2}`:void 0}curvedRenderLoopback(e,t,n,r,o){const i=this.viewModel.displayedGraph,a=new fi(e,t,n,r,o),s=10*i.scaling;if(a.from.id===a.to.id){const e=this.getShift(a.from,a.to,i,i.scaling)+30*i.scaling,t="right"===a.from.side?a.x1+e:a.x1-e;return`M ${a.x1} ${a.y1}\n            A ${s} ${s/2} 0 0 0 ${t} ${a.y1}\n            A ${s} ${s/2} 0 0 0 ${a.x1} ${a.y1}`}if("left"===a.from.side&&"left"===a.to.side){const e=s,t=Math.abs(a.y1-a.y2)/2,n=a.y1>a.y2?1:0;return`M ${a.x1} ${a.y1}\n            A ${e} ${t} 0 0 ${n} ${a.x2} ${a.y2}`}if("right"===a.from.side&&"right"===a.to.side){const e=s,t=Math.abs(a.y1-a.y2)/2,n=a.y1>a.y2?0:1;return`M ${a.x1} ${a.y1}\n            A ${e} ${t} 0 0 ${n} ${a.x2} ${a.y2}`}const l=this.getShift(a.from,a.to,i,i.scaling)+30*i.scaling,c="left"===a.from.side?a.x1:a.x2,u="right"===a.to.side?a.x2:a.x1,d="left"===a.from.side?a.y1:a.y2,p="right"===a.to.side?a.y2:a.y1,h=pi(a.from,i.scaling,i.panning),f=h+l,m=u-l,g=(f+p)/2,[v,y]=hi(u,f,m,g,1),b=(u+c)/2,w=h,[x,_]=hi(u,f,b,w,1),k=c+l,C=(f+d)/2,[S,E]=hi(c,f,k,C,-1);return`M ${u} ${p}\n        A ${v} ${y} 0 0 1 ${u} ${f}\n        A ${x} ${_} 0 0 1 ${c} ${f}\n        A ${S} ${E} 0 0 1 ${c} ${d}`}orthogonalAnchorsPath(e,t,n){const r=e.map((e=>{return{x:((t=e).x+n.panning.x)*n.scaling,y:(t.y+n.panning.y)*n.scaling};var t})),o=[{x:t.x1,y:t.y1}];let i=t.from.side,a=0;return a="left"===i?-20:20,o.push({x:t.x1+a*n.scaling,y:t.y1}),i="horizontal",r.forEach((e=>{"vertical"===i?(o.push({x:o[o.length-1].x+(e.x-o[o.length-1].x)/2,y:o[o.length-1].y}),o.push({x:o[o.length-2].x+(e.x-o[o.length-2].x)/2,y:e.y}),o.push({x:e.x,y:e.y}),i="horizontal"):(o.push({x:o[o.length-1].x,y:o[o.length-1].y+(e.y-o[o.length-1].y)/2}),o.push({x:e.x,y:o[o.length-2].y+(e.y-o[o.length-2].y)/2}),o.push({x:e.x,y:e.y}),i="vertical")})),"vertical"===i?(o.push({x:o[o.length-1].x+(t.x2-o[o.length-1].x)/2,y:o[o.length-1].y}),o.push({x:o[o.length-2].x+(t.x2-o[o.length-2].x)/2,y:t.y2}),o.push({x:t.x2,y:t.y2})):(o.push({x:o[o.length-1].x,y:o[o.length-1].y+(t.y2-o[o.length-1].y)/2}),a="left"===t.to.side?10:-10,o.push({x:t.x2-a,y:o[o.length-2].y+(t.y2-o[o.length-2].y)/2}),o.push({x:t.x2-a,y:t.y2}),o.push({x:t.x2,y:t.y2})),o}orthogonalRender(e,t,n,r,o){const i=this.viewModel.displayedGraph,a=new fi(e,t,n,r,o);if(void 0!==o.anchors&&o.anchors.length)return this.orthogonalAnchorsPath(o.anchors,a,i);const s=30*i.scaling,l=(a.x1+a.x2)/2;if(o.to){const e=this.getShift(a.from,a.to,i,i.scaling);if("right"===a.from.side&&"left"===a.to.side){const t=Math.max(a.x1,l)+e+s,n=t<a.x2-e-s?a.x1+e+s:t,r=a.x2-e-s;return t>=a.x2-e-s&&(n>a.x2-s||r<a.x1-s)?`M ${a.x1} ${a.y1}\n                    H ${n}\n                    V ${(a.y1+a.y2)/2}\n                    H ${r}\n                    V ${a.y2}\n                    H ${a.x2}`:`M ${a.x1} ${a.y1} H ${t} V ${a.y2} H ${a.x2}`}if("left"===a.from.side&&"right"===a.to.side){const t=Math.max(a.x2,l)+e+s,n=t<a.x1-e-s?a.x2+e+s:t,r=a.x1-e-s;return t>=a.x1-e-s&&(n>a.x1-s||r<a.x2-s)?`M ${a.x2} ${a.y2}\n                    H ${n}\n                    V ${(a.y1+a.y2)/2}\n                    H ${r}\n                    V ${a.y1}\n                    H ${a.x1}`:`M ${a.x2} ${a.y2} H ${t} V ${a.y1} H ${a.x1}`}if("right"===a.from.side&&"right"===a.to.side)return`M ${a.x1} ${a.y1} H ${Math.max(a.x1,a.x2,l)+e+s} V ${a.y2} H ${a.x2}`;if("left"===a.from.side&&"left"===a.to.side)return`M ${a.x1} ${a.y1} H ${Math.min(a.x1,a.x2,l)-e-s} V ${a.y2} H ${a.x2}`}return`M ${a.x1} ${a.y1} H ${l} V ${a.y2} H ${a.x2}`}orthogonalRenderLoopback(e,t,n,r,o){const i=this.viewModel.displayedGraph,a=new fi(e,t,n,r,o),s=this.getShift(a.from,a.to,i,i.scaling)+30*i.scaling;if(void 0!==o.anchors&&o.anchors.length){const e=o.anchors.map((e=>({x:(e.x+i.panning.x)*i.scaling,y:(e.y+i.panning.y)*i.scaling}))),t=[{x:a.x1,y:a.y1}],n="right"===a.from.side?s:-s;return t.push({x:a.x1+n,y:a.y1}),e.forEach((e=>{t.push({x:t[t.length-1].x,y:e.y}),t.push({x:e.x,y:e.y}),t.push({x:e.x,y:e.y})})),t.push({x:t[t.length-1].x,y:a.y2}),t.push({x:a.x2+n,y:a.y2}),t.push({x:a.x2,y:a.y2}),t}const l=pi(a.from,i.scaling,i.panning)+s;return"right"===a.from.side&&"left"===a.to.side?`M ${a.x1} ${a.y1}\n            h ${s}\n            V ${l} H ${a.x2-s} V ${a.y2} H ${a.x2}`:"left"===a.from.side&&"right"===a.to.side?`M ${a.x2} ${a.y2}\n            h ${s}\n            V ${l} H ${a.x1-s} V ${a.y1} H ${a.x1}`:"right"===a.from.side&&"right"===a.to.side?`M ${a.x2} ${a.y2}\n            h ${s}\n            V ${a.y1} H ${a.x1}`:"left"===a.from.side&&"left"===a.to.side?`M ${a.x2} ${a.y2}\n            h ${-s}\n            V ${a.y1} H ${a.x1}`:void 0}alternativeOrthogonalRender(e,t,n,r,o){const i=this.viewModel.displayedGraph,a=new fi(e,t,n,r,o);if(void 0!==o.anchors&&o.anchors.length)return this.orthogonalAnchorsPath(o.anchors,a,i);const s=30*i.scaling,l=(a.x1+a.x2)/2;if(o.to){const e=this.getShift(a.from,a.to,i,i.scaling),t=this.getMaxShift(a.from,a.to,i,i.scaling)||1,n=Math.abs(a.x1-a.x2)-2*s,r=s*(2+t/i.scaling/30),o=n<r,c=2*r;let u;u=n<c?e/t*n:e/t*c+(n-c)/2;const d=this.someAboveOrBelow(a.from,a.to,i);if("right"===a.from.side&&"left"===a.to.side){const n=a.x1>a.x2;if(d&&o||n){const n=a.x1+s+e/t*r,o=a.x2-s+(e/t-1)*r;return`M ${a.x1} ${a.y1}\n                    H ${n}\n                    V ${(a.y1+a.y2)/2}\n                    H ${o}\n                    V ${a.y2}\n                    H ${a.x2}`}const i=a.x1+s+u;return`M ${a.x1} ${a.y1} H ${i} V ${a.y2} H ${a.x2}`}if("left"===a.from.side&&"right"===a.to.side){const n=a.x2>a.x1;if(d&&o||n){const n=a.x2+s+e/t*r,o=a.x1-s+(e/t-1)*r;return`M ${a.x2} ${a.y2}\n                    H ${n}\n                    V ${(a.y1+a.y2)/2}\n                    H ${o}\n                    V ${a.y1}\n                    H ${a.x1}`}const i=a.x2+s+u;return`M ${a.x2} ${a.y2} H ${i} V ${a.y1} H ${a.x1}`}if("right"===a.from.side&&"right"===a.to.side)return`M ${a.x1} ${a.y1} H ${Math.max(a.x1,a.x2,l)+e+s} V ${a.y2} H ${a.x2}`;if("left"===a.from.side&&"left"===a.to.side)return`M ${a.x1} ${a.y1} H ${Math.min(a.x1,a.x2,l)-e-s} V ${a.y2} H ${a.x2}`}return`M ${a.x1} ${a.y1} H ${l} V ${a.y2} H ${a.x2}`}alternativeOrthogonalRenderLoopback(e,t,n,r,o){return this.orthogonalRenderLoopback(e,t,n,r,o)}straightRender(e,t,n,r,o){const i=this.viewModel.displayedGraph;return[{x:e,y:t}].concat((o.anchors??[]).map((e=>({x:(e.x+i.panning.x)*i.scaling,y:(e.y+i.panning.y)*i.scaling})))).concat([{x:n,y:r}])}straightRenderLoopback(e,t,n,r,o){return this.curvedRenderLoopback(e,t,n,r,o)}constructor(e,t,n=!1){this.viewModel=e,this.style=t,this.randomizedOffset=n}render(e,t,n,r,o){const i=this.isLoopback(o)?"Loopback":"";return this[`${this.style}Render${i}`](e,t,n,r,o)}isLoopback(e){return!!e.to&&e.from.nodeId===e.to.nodeId}supportsAnchors(){return["orthogonal","alternativeOrthogonal","straight"].includes(this.style)}}class gi{static instance=void 0;currentSpecification=void 0;includedSpecification=void 0;unresolvedSpecification=void 0;constructor(){if(void 0!==gi.instance)throw new Error("Error - use Specification.getInstance()")}static getInstance(){return gi.instance||(gi.instance=new gi),gi.instance}getNodeSpecification(e){if(void 0!==this.currentSpecification)return this.currentSpecification.nodes.find((t=>t.name===e))}}var vi=n(63282),yi=n(25504);function bi(e,t,n,r=""){e.removeSchema("root").removeSchema(t.$id).addSchema(t,"root");const o=e.getSchema(`root${r}`);if(void 0===o)return[`Invalid value of "reference" parameter: ${r}`];const i="string"==typeof n;let a;try{a=i?Qn.parse(n):n}catch(e){return[`Not a proper JSON file: ${e.toString()}`]}return o(a)?[]:(o.errors?.map((e=>{const r=`${t.$id.replace(/((_params)|(_returns))?(_schema)?(.json)?$/,"")}${e.instancePath}`;let o="";if(i){const t=yi.parse(n),r=t.pointers[e.instancePath].value.line+1,i=t.pointers[e.instancePath].valueEnd.line+1;o=r===i?`Line ${r} -`:`Lines ${r}-${i} -`}switch(e.keyword){case"enum":return`${o} ${r} ${e.message} - ${(0,vi.stringify)(e.params.allowedValues)}`;case"additionalProperties":return`${o} ${r} ${e.message} - ${(0,vi.stringify)(e.params.additionalProperty)}`;case"const":return`${o} ${r} ${e.message} - ${(0,vi.stringify)(e.params.allowedValue)}`;case"unevaluatedProperties":return`${o} ${r} ${e.message} - ${(0,vi.stringify)(e.params.unevaluatedProperty)}`;case"not":case"oneOf":return"";default:return`${o} ${r} ${e.message}`}}))??[]).filter((e=>""!==e))}class wi{constructor(){Object.entries(si.properties).forEach((([e,t])=>{this[e]=t.default}))}}const xi="New Node Type",_i="New Node Type",ki="New Graph Node",Ci="New Graph Node",Si="__new",Ei="__edited";async function Pi(e){const t=function(e){if(e.startsWith("data:application/json"))return e;let t,n="{}";"undefined"!=typeof document&&(n=`${document.location.href.split("/").slice(0,-1).join("/")}/{}`,t=new URLSearchParams(window.location.search));const r=e=>(e&&JSON.parse(e))??{},o={https:"https://{}",http:"http://{}",relative:`${n}`,...r(t?.get("jsonsubs")),...r({VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_JSON_URL_SUBSTITUTES)},i=e.split("//");if(i.length<2)return;const a=i[0].substring(0,i[0].length-1),s=i.slice(1).join("");return Object.keys(o).includes(a)?o[a].replace("{}",s):void 0}(e);if(void 0===t)return[!1,`Could not download the resource from:  ${e}.`];let n;try{n=await fetch(t,{mode:"cors"})}catch(e){return[!1,e.message]}try{return[!0,await n.json()]}catch(e){return[!1,e.message]}}class Ti{static instance;defaultMetadata=new wi;editor=new ri;baklavaView=(0,tr.AP)(this.editor);specificationLoaded=(0,s.KR)(!1);validating=(0,s.KR)(!1);specification=gi.getInstance();updatedMetadata={};relatedGraphsStore=[];externalApplicationManager;constructor(){this.editor.editorManager=this,this.editor.unregisterNodes(),this.baklavaView.connectionRenderer=new mi(this.baklavaView,this.defaultMetadata.connectionStyle,this.defaultMetadata.randomizedOffset),this.baklavaView.editor.layoutManager.useAlgorithm(this.defaultMetadata.layout),this.baklavaView.interfaceTypes=new oi(this.baklavaView),this.baklavaView.layers=this.defaultMetadata.layers,this.baklavaView.collapseSidebar=this.defaultMetadata.collapseSidebar,this.baklavaView.movementStep=this.defaultMetadata.movementStep,this.baklavaView.editor.allowLoopbacks=this.defaultMetadata.allowLoopbacks,this.baklavaView.navbarItems=this.defaultMetadata.navbarItems,this.baklavaView.cache={},this.baklavaView.logLevel=this.defaultMetadata.logLevel,this.baklavaView.settings.editableNodeTypes=this.defaultMetadata.editableNodeTypes,this.baklavaView.settings.hideAnchors=this.defaultMetadata.hideAnchors,this.baklavaView.settings.showIds=this.defaultMetadata.showIds,this.baklavaView.settings.newGraphNode=this.defaultMetadata.newGraphNode,this.baklavaView.settings.showHiddenProperties=this.defaultMetadata.showHiddenProperties,this.specificationVersion=ii.version,this.baklavaView.commandHandler=(0,tr.TE)(),this.baklavaView.history=null,this.baklavaView.history=function(e,t){const n=Symbol("CustomHistoryToken"),r=new Map,o=new Map;let a="ThisShouldNotAppearInHistoryMaps",l="ThisShouldNotAppearInHistoryMaps";const c=(e,t)=>{e.events.addNode.unsubscribe(t),e.events.removeNode.unsubscribe(t),e.events.editNode.unsubscribe(t),e.events.addConnection.unsubscribe(t),e.events.removeConnection.unsubscribe(t),e.events.addAnchor.unsubscribe(t),e.events.removeAnchor.unsubscribe(t)},u=(e,t,i=!1)=>{if(t&&c(t,n),e){if(l=a,a=e.id,void 0===r.get(a)&&r.set(a,[]),void 0===o.get(a)&&o.set(a,[]),i){const e=o.get(l);e&&o.set(a,e);const t=r.get(l);t&&r.set(a,t)}e.events.addNode.subscribe(n,(t=>{var n;if((null===(n=Zr.nodeData)||void 0===n?void 0:n.name)!==t.type&&!Qr.value){const n=r.get(e.id);if(!n)return;n.push(new no("add",t.id.toString(),eo.value)),o.set(e.id,[])}})),e.events.removeNode.subscribe(n,(t=>{var n;if(!Qr.value){if((null===(n=Zr.nodeData)||void 0===n?void 0:n.name)===t.type)return;const i=r.get(e.id);if(!i)return;const a=new no("rem",t.id.toString(),eo.value);i.push(a),a.nodeTuple=[t,t.save()],o.set(e.id,[])}})),e.events.editNode.subscribe(n,(t=>{if(!Qr.value){const n=r.get(e.id);if(!n)return;const i=new no("edit",t.id.toString(),eo.value);n.push(i),i.nodeTuple=[t,t.save()],o.set(e.id,[])}})),e.events.addConnection.subscribe(n,(t=>{if(!Qr.value){const n=r.get(e.id);if(!n)return;n.push(new ro("add",t.id.toString(),eo.value)),o.set(e.id,[])}})),e.events.removeConnection.subscribe(n,(t=>{var n;if(!Qr.value){const i=""!==eo.value;i||ao();const a=r.get(e.id);if(!a)return;(null!==(n=t.anchors)&&void 0!==n?n:[]).slice().reverse().forEach((n=>{e.events.removeAnchor.emit([t,t.anchors.indexOf(n)])}));const s=new ro("rem",t.id.toString(),eo.value);a.push(s),s.conn=t,o.set(e.id,[]),i||so()}})),e.events.addAnchor.subscribe(n,(t=>{if(!Qr.value){const n=r.get(e.id);if(!n)return;const i=Math.trunc((t[1]-1)/3),a=t[0],s=new oo("add",a.anchors[i].id.toString(),eo.value);n.push(s),s.anchor=[a,a.anchors[i],i],o.set(e.id,[])}})),e.events.removeAnchor.subscribe(n,(t=>{if(!Qr.value){const n=r.get(e.id);if(!n)return;const i=t[1],a=t[0],s=new oo("rem",a.anchors[i].id.toString(),eo.value);n.push(s),s.anchor=[a,a.anchors[i],i],o.set(e.id,[])}}))}};(0,i.wB)(e,((e,t)=>u(e,t)),{flush:"post",immediate:!0});const d=(t,n)=>{const r=t.pop();void 0!==r&&(Qr.value=!0,"add"===r.type?(r.type="rem",r.remove(e)):"rem"===r.type?(r.type="add",r.add(e)):"edit"===r.type&&(r.type="edit",r.edit(e)),n.push(r),t.length>0&&t[t.length-1].transactionId===r.transactionId&&d(t,n),Qr.value=!1,e.value.selectedNodes.splice(0,e.value.selectedNodes.length))};return t.registerCommand("undo",{canExecute:()=>!0,execute:()=>{const e=r.get(a);if(e&&0!==e.length){const t=o.get(a);e&&t&&d(e,t)}}}),t.registerCommand("redo",{canExecute:()=>!0,execute:()=>{const e=r.get(a),t=o.get(a);e&&t&&0!==t.length&&d(t,e)}}),t.registerCommand("START_TRANSACTION",{canExecute:()=>""===eo.value,execute:()=>ao}),t.registerCommand("COMMIT_TRANSACTION",{canExecute:()=>""!==eo.value,execute:()=>so}),t.registerHotkey(["Control","z"],"undo"),t.registerHotkey(["Control","y"],"redo"),(0,s.Kh)({max_steps:200,graphSwitch:u,unsubscribeFromGraphEvents:c})}((0,s.ux)(this.baklavaView).displayedGraph,this.baklavaView.commandHandler),this.baklavaView.clipboard=function(e,t,n){const r=Symbol("ClipboardToken"),o=(0,s.KR)(""),a=(0,s.KR)(""),l=(0,s.KR)(0),c=(0,i.EW)((()=>!o.value)),u=(e,t,n)=>{for(let r=0;r<e.length;r+=1){let o;if(n&&"input"!==n||(o=Object.values(e[r].inputs).find((e=>e.id===t))),o||n&&"output"!==n||(o=Object.values(e[r].outputs).find((e=>e.id===t))),o)return o}};return n.registerCommand(ho,{canExecute:()=>e.value.selectedNodes.length>0,execute:()=>{const{viewModel:t}=(0,tr.if)();t.value.editor.readonly||(ao(),e.value.selectedNodes.forEach((e=>{uo(e)})),so())}}),n.registerHotkey(["Delete"],ho),n.registerCommand(fo,{canExecute:()=>!0,execute:()=>{e.value.selectedNodes=[]}}),n.registerHotkey(["Escape"],fo),n.registerCommand(po,{canExecute:()=>!0,execute:()=>{const t=e.value.selectedNodes.flatMap((e=>[...Object.values(e.inputs),...Object.values(e.outputs)])),n=e.value.connections.filter((e=>t.includes(e.from)||t.includes(e.to))).map((e=>({from:e.from.id,to:e.to.id})));a.value=JSON.stringify(n),o.value=JSON.stringify(e.value.selectedNodes.map((e=>e.save()))),l.value=0}}),n.registerHotkey(["Control","c"],po),n.registerCommand(mo,{canExecute:()=>!c.value,execute:()=>{var i;const{viewModel:s}=(0,tr.if)();if(c.value||s.value.editor.readonly)return;ao();const d=null!==(i=s.value.movementStep)&&void 0!==i?i:1,p=new Map,h=JSON.parse(o.value),f=JSON.parse(a.value),m=[],g=[],v=e.value;n.executeCommand("START_TRANSACTION");for(let n=0;n<h.length;n+=1){const o=t.value.nodeTypes.get(h[n].name);if(!o)return;let i=new o.type;m.push(i),i.hooks.beforeLoad.subscribe(r,(e=>{const t=e;return t.position&&(l.value+=1,t.position.x+=l.value*Math.max(40,d),t.position.y+=l.value*Math.max(40,d)),void 0!==h[n].graphState&&h[n].graphState.nodes.forEach((e=>{void 0!==e.type&&(e.name=e.type)})),i.hooks.beforeLoad.unsubscribe(r),t})),i=v.addNode(i);const a=e=>{const t=(0,Yr.A)();p.set(e.id,t),e.id=t},s=e=>{a(e),void 0!==e.graphState?(a(e.graphState),e.graphState.nodes.forEach((e=>{s(e)})),e.interfaces.forEach((e=>{var t;e.id=null!==(t=p.get(e.id))&&void 0!==t?t:e.id,void 0!==e.externalName&&(e.externalName=v.resolveNewExposedName(e.externalName))})),e.graphState.connections.forEach((e=>{if(void 0===p.get(e.from)||void 0===p.get(e.to))throw new Error(`Error when executing copy and paste. Connection from interface ${e.from} to ${e.to} is invalid`);e.from=p.get(e.from),e.to=p.get(e.to)}))):e.interfaces.forEach((e=>{a(e),void 0!==e.externalName&&(e.externalName=v.resolveNewExposedName(e.externalName))}))};s(h[n]),i.load(Object.assign(Object.assign({},h[n]),{id:i.id})),void 0!==e.value.graphNode&&e.value.graphNode.updateExposedInterfaces()}for(let e=0;e<f.length;e+=1){const t=p.get(f[e].from),n=p.get(f[e].to);if(t&&n){const e=u(m,t,"output"),r=u(m,n,"input");if(e&&r){const t=v.addConnection(e,r);t&&g.push(t)}}}return so(),{newNodes:m,newConnections:g}}}),n.registerHotkey(["Control","v"],mo),n.registerCommand("CLEAR_CLIPBOARD",{canExecute:()=>!0,execute:()=>{o.value="",a.value=""}}),(0,s.Kh)({isEmpty:c})}((0,s.ux)(this.baklavaView).displayedGraph,(0,s.KR)(this.baklavaView.editor),this.baklavaView.commandHandler),this.modifiedNodeSpecificationRegistry={}}async preprocessSpecification(e,{unmarkNewNodes:t,urloverrides:n,tryMinify:r}){const o=[],i=[];this.globalVisitedSpecs=new Set;const a=Object.fromEntries(Object.entries({include:e.include,urloverrides:e.urloverrides}).filter((([e,t])=>void 0!==t))),{specification:s,errors:l,warnings:c}=await this.downloadNestedImports(a,void 0,n);if(o.push(...l),i.push(...c),o.length)return{errors:o,warnings:i};t&&i.push(...Ti.unmarkNewNodes(s));const{graphs:u,errors:d}=await Ti.includeGraphs([...s.includeGraphs??[],...e.includeGraphs??[]]);if(o.push(...d),o.length)return{errors:o,warnings:i};s.graphs=(s.graphs??[]).concat(u),this.specification.includedSpecification=JSON.parse(JSON.stringify(s));const{errors:p,warnings:h}=Ti.mergeObjects(e,s);if(o.push(...p),i.push(...h),o.length)return{errors:o,warnings:i};let f;if(delete e.include,delete e.includeGraphs,!0===r?f=e.graphs:r&&(f=r.graphs),f){const t=Ti.getUsedNames(f);e.nodes=Ti.minifySpecificationNodes(e.nodes,t)}const m=new Map((e.nodes??[]).filter((({subgraphId:e})=>e)).map((e=>[Ti.getNodeName(e),e])));return(e.graphs??[]).flatMap((e=>e.nodes)).filter((e=>!e.subgraph)).filter((e=>m.has(e.name))).forEach((e=>{e.subgraph=m.get(e.name).subgraphId})),{errors:o,warnings:i,specification:e}}async updateEditorSpecification(e,t=!1,n=!0,r=null,o=!1){if(!e)return{errors:["No specification passed"]};if("string"==typeof e||e instanceof String)try{e=Gr.parse(e)}catch(e){return{errors:[e],warnings:[]}}let i,a;this.isSpecificationLoaded()&&(i=this.saveDataflow(),a=this.baklavaView.displayedGraph.sidebar.nodeId,this.clearEditorManagerState());const l=[],c=[],u=[],{version:d}=e;if(this.specification.currentSpecification||(void 0===d?l.push(`Loaded specification has no version assigned. Please update the specification to version ${this.specificationVersion}.`):d!==this.specificationVersion&&u.push(`The specification format version (${d}) differs from the current specification format version (${this.specificationVersion}). It may result in unexpected behaviour.`)),n&&l.push(...Ti.unmarkNewNodes(e)),this.specification.unresolvedSpecification=(0,s.Kh)(JSON.parse(JSON.stringify(e))),this.specification.currentSpecification=e,!t){const{errors:t,specification:i}=await this.preprocessSpecification(e,{unmarkNewNodes:n,urloverrides:r,tryMinify:o});if(c.push(...t),c.length)return{errors:c,warnings:l,info:u};e=i;const{metadata:a}=e;if(c.push(...this.updateMetadata(a,!1,!0)),c.length)return{errors:c,warnings:l,info:u};const{errors:s,warnings:d}=await this.updateGraphSpecification(e);c.push(...s),l.push(...d)}if(0===c.length?this.setSpecificationLoaded(!0):this.clearEditorManagerState(),void 0!==i&&void 0===e.entryGraph&&(!(await this.loadDataflow(i)).errors.length&&a?(this.baklavaView.displayedGraph.sidebar.nodeId=a,this.baklavaView.displayedGraph.sidebar.visible=!0):this.relatedGraphsStore.forEach((e=>this.baklavaView.editor.registerGraph(e)))),this.externalApplicationManager){const e=this.specification.currentSpecification;await this.externalApplicationManager.notifyAboutChange("specification_on_change",{specification:e})}return{errors:c,warnings:l,info:u}}clearEditorManagerState(){this.baklavaView.editor.unregisterGraphs(),this.baklavaView.editor.deepCleanEditor(),this.baklavaView.editor.unregisterNodes(),this.baklavaView.editor.nodeStyles.clear(),this.setSpecificationLoaded(!1),this.specification.currentSpecification={},this.specification.includedSpecification={},this.specification.unresolvedSpecification=(0,s.Kh)({})}isSpecificationLoaded(){return"boolean"==typeof this.specificationLoaded?this.specificationLoaded:this.specificationLoaded.value}setSpecificationLoaded(e){"boolean"==typeof this.specificationLoaded?this.specificationLoaded=e:this.specificationLoaded.value=e}setValidating(e){"boolean"==typeof this.validating?this.validating=e:this.validating.value=e}async downloadNestedImports(e,t=new Set,n=null){const r=[],o=[],i=[],a=new Set,s=e.include??[];return await Promise.all(s.map((async e=>{let n;if("object"==typeof e&&null!==e&&({url:e,style:n}=e),a.has(e))o.push(`Specification is included multiple times, skipping ${e}`);else if(t.has(e))o.push(`Circular dependency detected in included specification ${e}`);else if(a.add(e),!this.globalVisitedSpecs.has(e)){this.globalVisitedSpecs.add(e);const[r,a]=await Pi(e);!1===r?o.push(`Could not load the included specification from ${e}. Reason: ${a}`):i.push({specification:a,trace:new Set([...t,e]),style:n})}}))),o.length||await Promise.all(i.map((async({specification:t,trace:i,style:a})=>{const{specification:s,errors:l,warnings:c}=await this.downloadNestedImports(t,i,n);o.push(...l),r.push(...c),void 0!==a&&Ti.includeWithStyle(s,a),Ti.applyUrlOverrides(s,{...e.urloverrides??{},...n??{}});const{errors:u,warnings:d}=Ti.mergeObjects(e,s);o.push(...u),r.push(...d)}))),{specification:e,errors:o,warnings:r}}static async includeGraphs(e){const t=[],n=[];if(0===e.length)return{graphs:n,errors:t};if(e.length!==new Set(e).size)return t.push("Duplicate subgraph includes detected. Aborting."),{graphs:n,errors:t};const r=[];if(await Promise.all(e.map((async e=>{const[n,o]=await Pi(e.url);!1!==n?r.push(o):t.push(`Could not load the included dataflow from '${e.url}'. Reason: ${o}`)}))),t.length)return{graphs:n,errors:t};for(let o=0;o<e.length;o+=1){const i=r[o],a=e[o];if(1!==i.graphs.length){t.push(`Only single graph dataflows are supported. Aborting loading subgraph include from ${a.url}.`);continue}const s=i.graphs[0];s.name=a.name??s.name,n.push(s)}return{graphs:n,errors:t}}registerDefaultNodes(){const e=[],t=[];if(this.editor.nodeTypes.has(Ci))return e.push(`Node name '${ki}' is reserved by the editor, but it was included in the specification. Please change the name of the graph node to avoid conflicts.`),{errors:e,warnings:t};if(this.editor.nodeTypes.has(_i))return e.push(`Node name '${xi}' is reserved by the editor, but it was included in the specification. Please change the name of the graph node to avoid conflicts.`),{errors:e,warnings:t};const n={name:xi,category:"Default"};this._registerNodeType(n);const r={name:ki,category:"Graphs"},o=ti([],[],ki,this.baklavaView.editor);return r.subgraphId=o.id,Array.isArray(o)&&o.length?e.push(...o):this.baklavaView.editor.addGraphTemplate(o,r),{errors:e,warnings:t}}updateExtendingNodes(e,t){const n=this.specification.unresolvedSpecification.nodes.filter((e=>e.extends?.includes(t)))??[],r=this.specification.currentSpecification.nodes.filter((e=>e.extends?.includes(t)))??[];[...n,...r].forEach((n=>{n.category=e.category,n.extends.forEach(((r,o)=>{r===t&&(n.extends[o]=Ti.getNodeName(e))}))})),new Map(r.map((e=>[e.name,e]))).forEach(((e,t)=>{this._unregisterNodeType(t);const{viewModel:n}=(0,tr.if)(),{editor:r}=n.value;Array.from(r.graphs).map((e=>e.nodes)).flat().filter((e=>e.type===t)).forEach((t=>{Object.entries(structuredClone((0,s.ux)(e))).forEach((([e,n])=>{void 0!==n&&"interfaces"!==e&&"properties"!==e&&(t[e]=structuredClone((0,s.ux)(n)))}))})),this._registerNodeType(structuredClone((0,s.ux)(e)))}))}updateParentNode(e,t,n=!1){e?.extends?.forEach((r=>{const o=this.baklavaView.editor.parentNodes.get(r);o.extending?.includes(t)&&(n?o.extending.splice(o.extending.indexOf(t),1):o.extending.splice(o.extending.indexOf(t),1,e.name))})),this.baklavaView.editor.parentNodes.has(t)&&this.baklavaView.editor.parentNodes.delete(t),n||this.baklavaView.editor.parentNodes.set(e.name,e)}refreshSubgraph(e){let t,n;if(this.specification.currentSpecification.graphs?.forEach((r=>{e.subgraphId===r.id&&(t=e,n=r)})),n){const e=ti(n.nodes,n.connections,n.name,this.baklavaView.editor);this.baklavaView.editor.addGraphTemplate(e,t)}}addNodeToEditorSpecification(e,t=void 0,n=!0){Object.entries(e.properties??{}).forEach((([e,t])=>{Object.keys(t).forEach((e=>{void 0===t[e]&&delete t[e]}))})),Object.entries(e.interfaces??{}).forEach((([e,t])=>{Object.keys(t).forEach((e=>{void 0===t[e]&&delete t[e]}))}));let r=this.validateNode(e);if(r.length)return{errors:r};if(void 0===this.specification.currentSpecification)return{errors:["Current specification cannot be empty"]};if(this.specification.unresolvedSpecification.nodes??=[],void 0!==t){const o=this.specification.unresolvedSpecification.nodes.find((e=>Ti.getNodeName(e)===t)),i=this.specification.currentSpecification.nodes.find((e=>Ti.getNodeName(e)===t));if(void 0===i){if(Object.entries(e).forEach((([e,t])=>{void 0!==t&&(o[e]=structuredClone((0,s.ux)(t)))})),r=this._registerNodeType(o),r.length)return{errors:r,warnings:[]}}else{void 0===o?(e.includeName=t,this.specification.unresolvedSpecification.nodes.push(e)):(n&&Object.keys(o).filter((t=>!(t in e))).forEach((e=>{delete o[e]})),Object.entries(e).forEach((([e,t])=>{void 0!==t&&(o[e]=JSON.parse(JSON.stringify(t)))}))),Object.entries(e).forEach((([e,t])=>{void 0!==t&&(i[e]=JSON.parse(JSON.stringify(t)))}));const a=Ti.getNodeName(e);i.name=a;const s=this.specification.currentSpecification.nodes.filter((e=>e.extends?.includes(t))).map((e=>Ti.getNodeName(e)));if(void 0!==s&&(i.extending=s),r=this._registerNodeType(i),r.length)return{errors:r,warnings:[]};this.baklavaView.editor.nodeTypes.get(a).isCategory&&this.updateExtendingNodes(JSON.parse(JSON.stringify(e)),t),e.name!==t&&(this.updateParentNode(i,t),[...this.specification.unresolvedSpecification.graphs??[],...this.specification.currentSpecification.graphs??[]].forEach((n=>{n.nodes.filter((e=>e.name===t)).forEach((t=>{t.name=e.name}))})),[...this.specification.unresolvedSpecification.nodes??[],...this.specification.currentSpecification.nodes??[]].forEach((e=>{this.refreshSubgraph(e)}))),void 0!==i.subgraphId&&this.refreshSubgraph(i)}}else{if(r=this._registerNodeType(e),r.length)return{errors:r,warnings:[]};this.specification.unresolvedSpecification.nodes.push(e)}if(this.externalApplicationManager){const e=this.specification.unresolvedSpecification;this.externalApplicationManager.notifyAboutChange("specification_on_change",{specification:e}).then()}return this.editor.additionalNodeTypes.add(e.name),{errors:[],warnings:[]}}removeNodeType(e){this._unregisterNodeType(e),this.baklavaView.editor.graphs.forEach((t=>{t.nodes.filter((t=>t.type===e)).forEach((e=>t.removeNode(e)))}));const t=this.specification.currentSpecification.nodes.find((t=>Ti.getNodeName(t)===e));if(this.specification.unresolvedSpecification.nodes=this.specification.unresolvedSpecification.nodes.filter((t=>Ti.getNodeName(t)!==e)),this.specification.currentSpecification.nodes=this.specification.currentSpecification.nodes.filter((t=>Ti.getNodeName(t)!==e)),this.specification.unresolvedSpecification.graphs?.forEach((t=>{t.nodes=t.nodes.filter((t=>t.name!==e))})),this.specification.currentSpecification.graphs?.forEach((t=>{t.nodes=t.nodes.filter((t=>t.name!==e))})),this.specification.unresolvedSpecification.nodes.filter((e=>void 0!==e.extends)).forEach((t=>{t.extends=t.extends.filter((t=>t!==e))})),this.specification.currentSpecification.nodes.filter((e=>void 0!==e.extends)).forEach((t=>{t.extends=t.extends.filter((t=>t!==e))})),void 0!==t&&this.updateParentNode(t,e,!0),this.externalApplicationManager){const e=this.specification.unresolvedSpecification;this.externalApplicationManager.notifyAboutChange("specification_on_change",{specification:e}).then()}this.editor.additionalNodeTypes.delete(e)}addSubgraphToNode(e,t=[],n=[]){this._unregisterNodeType(e.type);const r=ti(t,n,e.type,this.baklavaView.editor);if(Array.isArray(r)&&r.length)return r;const o=this.specification.unresolvedSpecification.nodes?.find((t=>Ti.getNodeName(t)===e.type)),i=this.specification.currentSpecification.nodes?.find((t=>Ti.getNodeName(t)===e.type));void 0===i?(o.subgraphId=r.id,this.baklavaView.editor.addGraphTemplate(r,o)):(i.subgraphId=r.id,void 0===o?(void 0===this.specification.unresolvedSpecification.nodes&&(this.specification.unresolvedSpecification.nodes=[]),this.specification.unresolvedSpecification.nodes.push(i)):o.subgraphId=r.id,this.baklavaView.editor.addGraphTemplate(r,i));const{viewModel:a}=(0,tr.if)(),{displayedGraph:s}=a.value;return s.nodes.filter((t=>t.type===e.type)).forEach((t=>{s.replaceNode(t,e.type)})),[]}_registerNodeType(e){if(this.baklavaView.editor.nodeTypes.has(e.name))return[`Node of type ${e.name} is already registered`];const t=function(e,t,n,r,o,i,a,s="",l=[],c=[],u=[],d=300){const p=function(e){const t=[],n=[];return e.forEach((e=>{Object.prototype.hasOwnProperty.call(e,"dynamic")&&(Array.isArray(e.dynamic)&&2===e.dynamic.length&&Number.isInteger(e.dynamic[0])&&Number.isInteger(e.dynamic[1])?n.push({name:`${e.name} ${e.direction} ${Po}`,type:"integer",min:e.dynamic[0],max:e.dynamic[1],default:e.dynamic[0],interfaceType:e.type,interfaceMaxConnectionCount:e.maxConnectionCount}):!0===e.dynamic?n.push({name:`${e.name} ${e.direction} ${Po}`,type:"integer",min:0,default:0,interfaceType:e.type,interfaceMaxConnectionCount:e.maxConnectionCount}):t.push(`Interface '${e.name}' has invalid 'dynamic' attribute. It should be either a boolean or an array with two integer elements.`))})),t.length?{success:!1,value:t}:{success:!0,value:n}}(n);if(!p.success)return p.value.map((t=>`Node ${e} invalid. ${t}`));const h=Io(n,o,i);if(Array.isArray(h)&&h.length)return h.map((t=>`Node ${e} invalid. ${t}`));const[f,m]=Zo(h),g=qo([...r,...p.value]);if(Array.isArray(g)&&g.length)return g.map((t=>`Node ${e} invalid. ${t}`));const v={...f,...Xo(g)};return class extends Jo{constructor(){super(e,t,v,m,a,s,l,c,u,d)}}}(e.name,e.layer,e.interfaces??[],e.properties??[],e.interfaceGroups??[],e.defaultInterfaceGroups??[],e.twoColumn??this.baklavaView.twoColumn??!1,e.description??"",e.extends??[],e.extending??[],e.siblings??[],e.width??300);if(Array.isArray(t)&&t.length)return t;if(this.baklavaView.editor.registerNodeType(t,{title:e.name,category:e.category,isCategory:e.isCategory??!1,color:e.color,style:e.style,pill:e.pill,subgraphId:e.subgraphId,relatedGraphs:e.relatedGraphs}),"icon"in e){const t="string"==typeof e.icon?e.icon:this.getMetadataIcon(e.icon);this.baklavaView.editor.nodeIcons.set(e.name,t)}return"urls"in e&&Object.entries(e.urls).forEach((([t,n])=>{this.baklavaView.editor.nodeURLs.has(e.name)||this.baklavaView.editor.nodeURLs.set(e.name,{}),this.baklavaView.editor.nodeURLs.get(e.name)[t]=n})),[]}getMetadataIcon(e){const[[t,n]]=Object.entries(e),r=this.baklavaView.editor.baseIconUrls.get(t);return`${r}${r.endsWith("/")?"":"/"}${n}`}_unregisterNodeType(e){return this.baklavaView.editor.nodeTypes.has(e)?(this.baklavaView.editor.unregisterNodeType(e),[]):[`Node of type ${e} is not registered`]}static getSubgraphs(e,t,n=!0){const r=t?.find((t=>t.id===e)),o=Object.fromEntries(t.map((e=>[e.id,e]))),i=[],a=e=>{if(i.includes(e.id))return;i.push(e.id);const t=e.nodes?.map((e=>e.subgraph))??[],n=e.nodes?.map((e=>e.relatedGraphs?.map((({id:e})=>e))??[])).flat()??[];t.concat(n).filter((e=>void 0!==e)).map((e=>o[e])).forEach(a)};return a(r),i.filter((t=>t!==e||n)).map((e=>o[e]))}async updateGraphSpecification(e){const t=[];if(!e)return{errors:["No specification passed"],warnings:t};const{nodes:n,graphs:r,metadata:o}=e;if(void 0===n&&void 0===r)return{errors:[],warnings:t};let i=[];n?.forEach((e=>{e.abstract&&this.baklavaView.editor.parentNodes.set(e.name,e)}));try{const e=Ti.preprocessNodes(n??[]);i=this.resolveInheritance(e)}catch(e){return{errors:[e.message],warnings:t}}i.forEach((e=>{e.isCategory&&this.baklavaView.editor.parentNodes.set(e.name,e)}));const a=[];if(a.push(...this.validateResolvedSpecification({graphs:r,nodes:i,metadata:o})),a.length)return{errors:a,warnings:t};if(this.specification.currentSpecification.nodes=JSON.parse(JSON.stringify(i)),this.specification.currentSpecification.graphs=JSON.parse(JSON.stringify(r)),i.forEach((e=>{(e.extends??[]).forEach((t=>{const n=i.find((e=>e.name===t));void 0!==n&&(void 0===n.extending&&(n.extending=[]),n.extending.push(e.name))}))})),i.forEach((e=>{const t=new Set;(e.extends??[]).forEach((e=>{const n=i.find((t=>t.name===e));void 0!==n&&n.extending.forEach((e=>t.add(e)))})),t.delete(e.name),e.siblings=Array.from(t)})),i.forEach((e=>{e.extends&&(e.extends=e.extends.filter((e=>void 0!==i.find((t=>t.name===e)))))})),i.forEach((e=>{a.push(...this.validateNodeStyle(e)),a.push(...this._registerNodeType(e))})),a.length)return{errors:a,warnings:t};if("boolean"==typeof this.validating?this.validating=!0:this.validating.value=!0,this.setValidating(!0),this.relatedGraphsStore=[],void 0!==r){const o=n.filter((({subgraphId:e})=>void 0!==e)),s=n.map((e=>e.relatedGraphs?.map((({id:e})=>e)))).filter((e=>void 0!==e)).flat(),l=async(n,o=[])=>{const i=Ti.getSubgraphs(n.id,r).map((e=>structuredClone(e))),{errors:s,warnings:l}=await this.loadDataflow({graphs:i,version:e.version},...o);this.baklavaView.editor.deepCleanEditor(),this.baklavaView.editor.unregisterGraphs(),l.length&&t.push(`Graph '${n.name??n.id}' is invalid:`,...l.map((e=>`    ${e}`))),s.length&&a.push(`Graph '${n.name??n.id}' is invalid:`,...s.map((e=>`    ${e}`)))};for(const e of o){const t=e.subgraphId,n=r.find((({id:e})=>e===t));if(void 0===n){a.push([`The subgraph with ID ${t} was not found`]);continue}const o=ti(n.nodes,n.connections,n.name,this.baklavaView.editor);if(Array.isArray(o)&&o.length){a.push(...o);continue}this.baklavaView.editor.addGraphTemplate(o,i.find((t=>t.name===e.name)));const s=[!0,!0,e.name];await l(n,s),this.baklavaView.editor.deepCleanEditor(),this.baklavaView.editor.unregisterGraphs()}for(const e of s){const t=r.find((({id:t})=>t===e));if(void 0===t){a.push([`The related graph with ID ${e} was not found`]);continue}const n=[!0,!0];if(await l(t,n),this.relatedGraphsStore.find((t=>e===t.id)))continue;const o=new Xr.TS(this.baklavaView.editor);o.load(t),this.relatedGraphsStore.push(o)}this.relatedGraphsStore.forEach((e=>this.baklavaView.editor.registerGraph(e))),this.editor._graph.id=(0,Yr.A)()}this.setValidating(!1);const s=[...new Set(t)],{errors:l,warnings:c}=this.registerDefaultNodes();a.push(...l),s.push(...c);const u=e.entryGraph;if(!a.length&&void 0!==u)if(r?.some((e=>e.id===u))){const{errors:t}=await this.loadDataflow({graphs:r,version:e.version,entryGraph:u});if(t&&0!==t.length){t.forEach((e=>a.push(e)));const e=new Xr.TS(this.baklavaView.editor);this.baklavaView.editor.displayedGraph=e,this.baklavaView.editor.deepCleanEditor(),this.baklavaView.editor.unregisterGraphs()}}else s.push(`'entryGraph' points to undefined graph: '${u}'`);return{errors:a,warnings:s}}static preprocessNodes(e){return e.filter((e=>e.isCategory)).forEach((e=>{e.name=Ti.getNodeName(e)})),e}updateMetadata(e=void 0,t=!1,n=!1){let r;if(n&&(this.updatedMetadata={}),void 0!==e&&(e={...this.updatedMetadata,...e},r=JSON.parse(JSON.stringify(e))),void 0===e&&this.specification.currentSpecification&&(e=this.specification.currentSpecification.metadata??{}),!e)return["No specification to load provided."];if(t){const t=e;e=JSON.parse(JSON.stringify(this.specification.currentSpecification?.metadata??{})),Ti.mergeObjects(e,t)}return this.baklavaView.interfaceTypes.readInterfaceTypes(e),e&&"urls"in e&&Object.entries(e.urls).forEach((([e,t])=>{this.baklavaView.editor.baseURLs.set(e,t)})),e&&"icons"in e&&Object.entries(e.icons).forEach((([e,t])=>{this.baklavaView.editor.baseIconUrls.set(e,t)})),e&&"navbarItems"in e&&(this.baklavaView.navbarItems=JSON.parse(JSON.stringify(e.navbarItems))),this.baklavaView.editor.readonly=e?.readonly??this.defaultMetadata.readonly,this.baklavaView.editor.hideHud=e?.hideHud??this.defaultMetadata.hideHud,this.baklavaView.editor.nodeStyles.set(Si,{icon:"NewNode"}),this.baklavaView.editor.nodeStyles.set(Ei,{icon:"EditedNode"}),Object.entries(e?.styles??{}).forEach((([e,t])=>{this.baklavaView.editor.nodeStyles.set(e,t)})),this.editor.allowLoopbacks=e?.allowLoopbacks??this.defaultMetadata.allowLoopbacks,this.baklavaView.twoColumn=e?.twoColumn??this.defaultMetadata.twoColumn,this.baklavaView.connectionRenderer.style=e?.connectionStyle??this.defaultMetadata.connectionStyle,this.baklavaView.movementStep=e?.movementStep??this.defaultMetadata.movementStep,this.baklavaView.settings.background.gridSize=e?.backgroundSize??this.defaultMetadata.backgroundSize,this.baklavaView.connectionRenderer.randomizedOffset=e?.randomizedOffset??this.defaultMetadata.randomizedOffset,this.baklavaView.settings.toggleableEditableTypes=e?.toggleableEditableTypes??this.defaultMetadata.toggleableEditableTypes,this.baklavaView.settings.editableNodeTypes=e?.editableTypes??this.defaultMetadata.editableNodeTypes,this.baklavaView.settings.hideAnchors=e?.hideAnchors??this.defaultMetadata.hideAnchors,this.baklavaView.settings.showIds=e?.showIds??this.defaultMetadata.showIds,this.baklavaView.settings.newGraphNode=e?.newGraphNode??this.defaultMetadata.newGraphNode,this.baklavaView.settings.showHiddenProperties=e?.showHiddenProperties??this.defaultMetadata.showHiddenProperties,this.baklavaView.ignoredLayers=new Set,this.baklavaView.layers=e?.layers??this.defaultMetadata.layers,this.baklavaView.collapseSidebar=e?.collapseSidebar??this.defaultMetadata.collapseSidebar,this.baklavaView.editor.layoutManager.useAlgorithm(e?.layout??this.defaultMetadata.layout),this.baklavaView.logLevel=e?.logLevel??this.defaultMetadata.logLevel,this.baklavaView.welcome=e?.welcome??this.defaultMetadata.welcome,r&&(this.updatedMetadata=r),[]}resolveInheritance(e){const t=JSON.parse(JSON.stringify(e)),n=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),r=e=>Array.isArray(e),o=(e,t)=>{const i={...structuredClone(t)};return["abstract","isCategory"].forEach((e=>{delete i[e]})),n(e)&&n(t)&&Object.keys(e).forEach((a=>{if("style"===a)i[a]=Ti.mergeStyles(t[a],e[a]);else if(n(e[a]))i[a]=a in i?o(e[a],t[a]):e[a];else if(r(e[a])&&r(t[a]))if("extends"===a)i[a]=e[a];else{const n=Object.fromEntries(t[a].map(((e,t)=>[e.name,t])));e[a].forEach((r=>{if(r.name&&r.name in n){const o=n[r.name];if(!r.override)throw new Error(`'${e.name}' node cannot override '${r.name}' property of '${t.name}' node`);i[a][o]={...t[a][o],...r},delete i[a][o].override}else i[a].push(r)}))}else i[a]=e[a]})),i},i={},a=t=>{if(t in i)return i[t];let n,r=e.find((e=>e.name===t));if(!r.extends)return i[t]=r,r;if(new Set(r.extends).size!==r.extends.length)throw new Error(`Repeated class in "extends" list of "${r.name}" node`);return r.extends.forEach((e=>{n=a(e),r=o(r,n)})),i[t]=r,r};return t.filter((e=>!e.abstract)).map((e=>a(e.name)))}validateNodeStyle(e){const t=[];if(void 0===e.style)return t;const n=Array.isArray(e.style)?e.style:[e.style],r=new Set(n);return r.size!==n.length&&t.push(`Repeated styles in "${Ti.getNodeName(e)}" node`),t.push(...Array.from(r).filter((e=>!this.baklavaView.editor.nodeStyles.has(e))).map((t=>`Non-existing style "${t}" in '${Ti.getNodeName(e)}' node`))),t}saveSpecification(){const e=JSON.parse(JSON.stringify(this.specification.unresolvedSpecification));return Ti.unmarkNewNodes(e),e}static unmarkNewNodes(e){const t=[],n=e=>{t.push(`Loaded node '${Ti.getNodeName(e)}' has '${Si}' style, removing it.`)};return e.nodes?.forEach((e=>{e.style===Si?(n(e),delete e.style):Array.isArray(e.style)&&e.style.includes(Si)&&(n(e),e.style.splice(e.style.indexOf(Si),1))})),t}getRootGraph(){return this.editor.subgraphStack.length?this.editor.subgraphStack[0]:this.editor.graph}saveDataflow({readonly:e,hideHud:t,position:n,graphName:r}={}){const o=this.baklavaView.editor.save();o.version=this.specificationVersion;const i=o.entryGraph?o.graphs.find((e=>e.id===o.entryGraph)):o.graphs[0];if(i&&null!=r){const e=this.getRootGraph();i.name=r,e.name=r,e===this.editor.graph&&(this.baklavaView.editor.graphName=r)}return n||o.graphs.forEach((e=>{delete e.panning,delete e.scaling})),void 0===o.metadata&&(o.metadata={}),[[e,"readonly"],[t,"hideHud"],[this.editor.allowLoopbacks,"allowLoopbacks"],[this.baklavaView.twoColumn,"twoColumn"],[this.baklavaView.connectionRenderer.style,"connectionStyle"],[this.baklavaView.movementStep,"movementStep"],[this.baklavaView.settings.background.gridSize,"backgroundSize"],[this.baklavaView.connectionRenderer.randomizedOffset,"randomizedOffset"],[this.baklavaView.settings.editableNodeTypes,"editableTypes"],[this.baklavaView.settings.toggleableEditableTypes,"toggleableEditableTypes"],[this.baklavaView.settings.hideAnchors,"hideAnchors"],[this.baklavaView.settings.showIds,"showIds"],[this.baklavaView.settings.newGraphNode,"newGraphNode"],[this.baklavaView.settings.showHiddenProperties,"showHiddenProperties"]].forEach((([e,t])=>{const n=this.specification.currentSpecification?.metadata??{},r=this.defaultMetadata;e!==(n[t]??r[t])&&(o.metadata[t]=e)})),0===Object.keys(o.metadata).length&&delete o.metadata,o}async loadDataflow(e,t=!1,n=!1,r=null){let{notifyWhenChanged:o}=this;this.updateMetadata({notifyWhenChanged:!1},!0,!0);try{const i=Ti.validateDataflow(e);if(i.length)return{errors:i,warnings:[]};try{("string"==typeof e||e instanceof String)&&(e=Gr.parse(e));const i=e.version,a=[],s=[];if(void 0===i?a.push(`Loaded dataflow has no version assigned. Please update the dataflow to version ${this.specificationVersion}.`):i!==this.specificationVersion&&s.push(`Dataflow version (${i}) differs from the current version (${this.specificationVersion}). It may result in unexpected behaviour.`),"metadata"in e&&void 0!==this.specification.currentSpecification){const t=Ti.validateMetadata(e.metadata);if(Array.isArray(t)&&t.length)return{errors:t,warnings:a};o=e.metadata.notifyWhenChanged??o,this.updateMetadata({...e.metadata,notifyWhenChanged:!1},!0,!0)}void 0!==this.baklavaView.displayedGraph&&this.baklavaView.history.unsubscribeFromGraphEvents(this.baklavaView.displayedGraph,Symbol("HistoryToken"));let l=!0;try{l=window.isWebpack}catch{l=!1}const c={};return l?Object.assign(c,{errors:[],warnings:[]}):(Object.assign(c,{errors:await this.baklavaView.editor.load(e,t,n,r),warnings:a,info:s}),this.baklavaView.history.graphSwitch(this.baklavaView.displayedGraph,this.baklavaView.displayedGraph)),this.verifyExposedInterfaceNamesMatchExternalNames(e),c}catch(e){return{errors:["Unrecognized format. Make sure that the passed dataflow is correct.",e.toString()],warnings:[],info:[]}}}finally{this.updateMetadata({notifyWhenChanged:o},!0)}}verifyExposedInterfaceNamesMatchExternalNames(e){const t=new Map;e.graphs.forEach((e=>{e.nodes.forEach((e=>{e.interfaces.forEach((e=>{t.has(e.id)?t.get(e.id).push(e):t.set(e.id,[e])}))}))})),t.forEach(((e,t)=>{if(e.length<2)return;const n=e.find((e=>void 0!==e.externalName));if(void 0===n)throw new Error(`The interface with id = ${t} seems to be exposed but lacks "externalName" property.`);e.forEach((e=>{if(e===n||n.externalName===e.name)return;const r=`Mismatch between "externalName" of the original interface and "name" of the exposed version of the interface, for the interface with id = ${t}\nExpected: ${n.externalName}\nGot: ${e.name}`;throw new Error(r)}))}))}static getEditorManagerInstance(){return Ti.instance||(Ti.instance=new Ti),Ti.instance}static applyUrlOverrides(e,t){Object.entries(t).forEach((([t,n])=>{Object.entries(e.metadata?.icons??{}).forEach((([r,o])=>{e.metadata.icons[r]=o.replaceAll(t,n)})),Object.values(e.metadata?.urls??{}).forEach((e=>{e.url=e.url.replaceAll(t,n)}))}))}static includeWithStyle(e,t){e.nodes?.forEach((e=>{const n=Ti.mergeStyles(e.style,t);void 0!==n&&(e.style=n)}))}static mergeStyles(e,t){return e===t?e:void 0===(e&&t)?e??t:([e,t]=[e,t].map((e=>Array.isArray(e)?e:[e])).map((e=>new Set(e))),e=e.difference(t),Array.from(e.union(t)))}static mergeObjects(e,t){const n=[],r=[];return t=t??{},void 0===e||0===Object.keys(e).length||Object.entries(t).forEach((([t,o])=>{if(Array.isArray(o)&&Array.isArray(e[t])){if("graphs"===t){const n=[o,e[t]].map((e=>e.map((e=>[e.id,e])))).map(Object.fromEntries);return void(e[t]=Object.values(Object.assign({},...n)))}if("nodes"!==t)return void e[t].push(...o);try{const r=Object.fromEntries(e[t].filter((e=>e.includeName)).map((e=>[e.includeName,Ti.getNodeName(e)]))),i=new Set,a=e=>{const t=Ti.getNodeName(e),n=r[t];return void 0!==n&&i.add(t),n??t},s=[o.map((e=>[a(e),e])),e[t].map((e=>[Ti.getNodeName(e),e]))].map(Object.fromEntries);e[t]=Object.values(Object.assign({},...s));const l=Object.keys(r).filter((e=>!i.has(e)));l.length&&n.push(`Unused include names: ${l}`)}catch(e){r.push(e)}}else if("object"==typeof o&&"object"==typeof e[t]){const{errors:i,warnings:a}=Ti.mergeObjects(e[t],o);r.push(...i),n.push(...a)}else void 0===e[t]&&(e[t]=o)})),{errors:r,warnings:n}}static getNodeName(e){if(!e.isCategory){if(void 0===e.name)throw new Error("Non-category node has to define field 'name'");return e.name}const t=e.category.split("/").at(-1);if(void 0!==e.name&&e.name!==t)throw new Error(`Node '${e.name}' is a category node and has a name defined different than ${t}`);return t}static validateJSONWithSchema(e,t,n="",r={}){const o=new Hr({allowUnionTypes:!0,addUsedSchema:!1,formats:{hex:/^0x[a-fA-F0-9]+$/},schemas:[ii,ai,si,li,ci],...r});return o.addKeyword("version"),bi(o,t,e,n)}validateResolvedSpecification(e){const t=Ti.validateSpecification(e,ai);if(t.length)return t;const{nodes:n}=e,r=n.filter((e=>e.isCategory)),o={},i=[];r.forEach((e=>{e.name in o?i.push(`Category '${e.category}' has multiple nodes defining it.`):o[e.name]=e.category.split("/").slice(0,-1).join("/")}));const a=new Set;return n.forEach((e=>{void 0===e.category&&(e.category="");const t=e.category.split("/");for(let n=t.length-1;n>=0;n-=1){const r=t[n],a=t.slice(0,n).join("/");if(r in o&&e.name!==r&&a===o[r]){void 0!==e.extends&&e.extends.includes(r)||i.push(`Node '${e.name}' does not extend its category node '${r}'.`);break}}for(let t=0;t<(e.extends??[]).length;t+=1){const n=e.extends[t];if(n in o){const t=""!==o[n]?`${o[n]}/${n}`:n;if(!e.category.includes(t)){i.push(`Node '${e.name}' extends from a category node '${n}' but is not in its category`);break}}}a.has(e.name)&&i.push(`Node '${e.name}' is defined multiple times`),a.add(e.name)})),i}validateNode(e,t=ii){return Ti.validateJSONWithSchema(e,t,"#/$defs/node")}validateNodeProperty(e,t=ii){return Ti.validateJSONWithSchema(e,t,"#/$defs/property")}validateNodeInterface(e,t=ii){return Ti.validateJSONWithSchema(e,t,"#/$defs/interface")}static validateSpecification(e,t=ii){return Ti.validateJSONWithSchema(e,t)}static validateMetadata(e){return Ti.validateJSONWithSchema(e,si)}static validateDataflow(e){return Ti.validateJSONWithSchema(e,li)}static validateMessage(e){return Ti.validateJSONWithSchema(e,ui)}returnFromSubgraph(){this.baklavaView.editor.backFromSubgraph(this.baklavaView.displayedGraph)}getParentGraph(){let e;return Array.from(this.baklavaView.editor.graphs).filter((e=>e.id!==this.baklavaView.displayedGraph.id)).forEach((t=>{t.nodes.forEach((n=>{n.subgraph?.id===this.baklavaView.displayedGraph.id&&(e=t)}))})),e}switchToGraph(e){this.baklavaView.editor.switchToGraph(e)}centerZoom(){this.baklavaView.editor.centerZoom()}updateSubgraphName(e){this.editor.updateCurrentSubgraphName(e)}get notifyWhenChanged(){return this.updatedMetadata.notifyWhenChanged??this.specification.currentSpecification?.metadata?.notifyWhenChanged??this.defaultMetadata.notifyWhenChanged}static getUsedNames(e){return e?.map((e=>e.nodes.map(this.getNodeName))).flat()??[]}static minifySpecificationNodes(e,t){const n=Object.fromEntries(e.map((e=>[this.getNodeName(e),e]))),r=e=>n[e],o=[],i=e=>{if(void 0===e)return;const t=this.getNodeName(e);o.includes(t)||(o.push(t),e.extends?.map(r).forEach(i))};return t.map(r).forEach(i),o.map(r).filter((e=>void 0!==e))}isInSubgraph(){return this.editor.isInSubgraph()}}const Ai=(()=>{try{const e=Math.random().toString(36),t=Math.random().toString(36);return localStorage.setItem(e,t),localStorage.removeItem(e),!0}catch{return!1}})(),Mi=new Map,Ni=e=>Ai?localStorage.getItem(e):Mi.get(e)??null,Oi=(e,t)=>{Ai?localStorage.setItem(e,t):Mi.set(e,t)},Ii=e=>{Ai?localStorage.removeItem(e):Mi.delete(e)},Ri=(0,s.Kh)({notifications:JSON.parse(Ni("notifications"))||[],add(e){this.notifications.push(e),Oi("notifications",JSON.stringify(this.notifications))},remove(){Ii("notifications"),this.notifications=[]},removeOne(e){const t=this.notifications.filter(((t,n)=>e!==n));Oi("notifications",JSON.stringify(t)),this.notifications=t}}),Li="Terminal",ji=(0,s.Kh)({logs:{Terminal:JSON.parse(Ni("logs"))||[]},readOnly:{Terminal:!0},add(e,t=Li){this.logs[t].push(e),t===Li&&Oi("logs",JSON.stringify(this.logs[t]))},isReadOnly(e=Li){return this.readOnly[e]},addParsed(e,t,n=Li){let r=e;t?(("string"==typeof t||t instanceof String)&&(t=[t]),r+=":",t.forEach((e=>{r+="\n",r+="    ",r+=e}))):r+=".",this.add(r,n)},clear(e=Li){e===Li&&Ii("logs"),this.logs[e]=[]},remove(e=Li){this.clear(e),delete this.logs[e],delete this.readOnly[e]},exists(e=Li){return e in this.logs},getInstances(){return Object.keys(this.logs)},createTerminalInstance(e,t=!0){return!Object.keys(this.logs).includes(e)&&(this.logs[e]=[],this.readOnly[e]=t,!0)},show:!1,manager:null}),Di={class:"notification-badge"},$i={class:"notification-message"},Bi={class:"message"},Vi={props:{color:{type:String,required:!1},rotate:{type:Number,default:0,required:!1}},setup:e=>({rotationStyle:{rotate:`${e.rotate}deg`}})};n(64673);const Fi=(0,Pe.A)(Vi,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",{style:(0,l.Tr)(r.rotationStyle),width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i.Lk)("path",{class:(0,l.C4)(n.color),d:"M1 1L8 8","stroke-width":"1.5"},null,2),(0,i.Lk)("path",{class:(0,l.C4)(n.color),d:"M8 1L1 8","stroke-width":"1.5"},null,2)],4)}],["__scopeId","data-v-0f26c012"]]),zi={props:{rotate:{type:String,required:!1}}};n(85851);const Ui=(0,Pe.A)(zi,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",{class:(0,l.C4)(n.rotate),width:"6",height:"20",viewBox:"0 0 6 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t[0]||(t[0]=[(0,i.Lk)("path",{d:"M4.60743 12.3272C4.60743 13.2085 3.89295 13.923 3.01159 13.923V13.923C2.13023 13.923 1.41574 13.2085 1.41574 12.3272L1.41575 1.88397C1.41575 1.00261 2.13023 0.288122 3.01159 0.288122V0.288122C3.89295 0.288122 4.60744 1.00261 4.60744 1.88397L4.60743 12.3272ZM2.99882 16.17C3.57758 16.17 4.06272 16.3487 4.45423 16.7062C4.84575 17.0807 5.0415 17.5403 5.0415 18.085C5.0415 18.6297 4.84575 19.0808 4.45423 19.4383C4.06272 19.8128 3.57758 20 2.99882 20C2.42006 20 1.93493 19.8213 1.54341 19.4638C1.1519 19.1233 0.956141 18.6893 0.956141 18.1616C0.956141 17.5998 1.1519 17.1232 1.54341 16.7317C1.9179 16.3572 2.40304 16.17 2.99882 16.17Z",fill:"white"},null,-1)]),2)}],["__scopeId","data-v-0f428cc6"]]),Wi={components:{ExclamationMark:Ui,Cross:Fi},props:{type:{type:String,required:!0}}};n(68022);const Ki={components:{Cross:Fi,NotificationBadge:(0,Pe.A)(Wi,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("ExclamationMark"),c=(0,i.g2)("Cross");return(0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)(n.type)},["info"===n.type?((0,i.uX)(),(0,i.Wv)(s,{key:0})):(0,i.Q3)("",!0),"warning"===n.type?((0,i.uX)(),(0,i.Wv)(s,{key:1,rotate:"flip"})):(0,i.Q3)("",!0),"error"===n.type?((0,i.uX)(),(0,i.Wv)(c,{key:2,color:"white"})):(0,i.Q3)("",!0)],2)}],["__scopeId","data-v-9ef0f814"]])},props:{message:{type:String,required:!0},type:{type:String,required:!0},border:{type:String,default:"none"},index:{type:Number,default:0}},data:()=>({notificationStore:Ri}),methods:{remove(){Ri.removeOne(this.index)}}};n(71743);const Hi=(0,Pe.A)(Ki,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("NotificationBadge"),c=(0,i.g2)("Cross");return(0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)([n.border,"notification-container"])},[(0,i.Lk)("div",Di,[(0,i.bF)(s,{type:n.type},null,8,["type"])]),(0,i.Lk)("div",$i,["info"===n.type?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,l.C4)(n.type)},"Info",2)):(0,i.Q3)("",!0),"warning"===n.type?((0,i.uX)(),(0,i.CE)("span",{key:1,class:(0,l.C4)(n.type)},"Warning",2)):(0,i.Q3)("",!0),"error"===n.type?((0,i.uX)(),(0,i.CE)("span",{key:2,class:(0,l.C4)(n.type)},"Error",2)):(0,i.Q3)("",!0),(0,i.Lk)("span",Bi,(0,l.v_)(n.message),1)]),(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.remove&&a.remove(...e)),tabindex:"-1"},[(0,i.bF)(c,{color:"white",tabindex:"-1"})])],2)}],["__scopeId","data-v-0512bfcb"]]),qi=_e({timeout:5e3,position:M.BOTTOM_RIGHT,icon:!1,closeButton:!1}),Gi={info:0,warning:1,error:2};class Xi{static NotificationHandler=!0;static defaultShowOption=!0;static setShowNotification(e){Xi.showNotifications=e}static setShowOption(e){Xi.defaultShowOption=e}static restoreShowNotification(){Xi.showNotifications=Xi.defaultShowOption}static showToast(e,t){const n={component:Hi,props:{type:e,message:t}};if(Gi[e]>=Gi[Ti.getEditorManagerInstance().baklavaView.logLevel?.toLowerCase()]&&Xi.showNotifications)qi(n);else{const e=document.querySelector("#navbar-bell>.indicator");e&&(e.classList.remove("animate"),setTimeout((()=>e.classList.add("animate")),300))}Ri.add({type:e,message:t})}static terminalLog(e,t,n){Xi.showToast(e,t),ji.addParsed(t,n)}}class Yi{constructor(e){Object.defineProperty(this,"procedureName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pr_inProgress",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.procedureName=e}get progressBar(){return document.querySelector(`#navbar-button-${this.procedureName} > .progress-bar`)}get inProgress(){return this.pr_inProgress}set inProgress(e){const{progressBar:t}=this;t&&(e||t.classList.remove("animate"),t.style.width="0%"),this.pr_inProgress=e,void 0!==this.hook&&this.hook()}}class Ji extends Map{constructor(e){super(),Object.defineProperty(this,"defaultFactory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.defaultFactory=e}get(e){return super.has(e)||super.set(e,this.defaultFactory(e)),super.get(e)}}const Zi=new class extends Ji{constructor(){super(...arguments),Object.defineProperty(this,"hook",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get(e){if(!super.has(e)){const t=this.defaultFactory(e);t.hook=this.hook,super.set(e,t)}return super.get(e)}setHook(e){this.hook=e,this.forEach((t=>{t.hook=e}))}}((e=>new Yi(e)));var Qi=n(13773),ea=n(86049);function ta(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}Object.create,Object.create;const na=(()=>{const e=new URLSearchParams(window.location.search).get("backend");return null!==e?e:(window.location.protocol,null)})(),ra=0,oa=1,ia=3,aa=(e,t,...n)=>ta(void 0,[e,t,...n],void 0,(function*(e,t,{show:n,log:r}={show:!0,log:!0}){n&&(t.emit(!0),yield(0,i.dY)());try{yield e()}catch(e){r&&Xi.terminalLog("error","Unexpected error",e.message)}finally{t.emit(!1),yield(0,i.dY)()}})),sa=JSON.parse('{"$id":"common_types","$defs":{"empty":{"description":"Empty object definition","type":"object","additionalProperties":false},"null_or_empty":{"description":"Empty or missing object definition","type":["object","null"],"additionalProperties":false},"node_object":{"description":"Schema that identifies a node in a graph","type":"object","properties":{"graph_id":{"description":"Id of the graph","type":"string"},"node_id":{"description":"Id of the node","type":"string"}},"required":["graph_id","node_id"]},"urloverrides":{"description":"Mapping for URL replacement","type":"object","patternProperties":{"^.*$":{"type":"string"}}},"loadingScreen":{"description":"Show loading screen","type":"boolean","default":false},"tryMinify":{"description":"Try to minify specification if a dataflow or entry graph is provided","type":"boolean","default":false},"dataflow_or_url":{"description":"JSON or link to the remote JSON with graph definition","type":["object","string"]},"dataflow_object":{"description":"Definition containing `dataflow` object","type":"object","properties":{"dataflow":{"description":"JSON with graph definition in PM format","type":"object"}},"additionalProperties":false},"specification":{"description":"JSON with specification definition in PM format","type":"object"},"specification_or_url":{"description":"JSON or link to the remote JSON with specification","type":["object","string"]},"specification_object":{"description":"Definition containing `specification` object","type":"object","properties":{"specification":{"$ref":"common_types#/$defs/specification"}},"additionalProperties":false},"properties_diff":{"description":"Schema that represents differences in properties of the node","allOf":[{"$ref":"common_types#/$defs/node_object"}],"type":"object","properties":{"properties":{"type":"array","description":"Properties to change specified by either a name or id","items":{"type":"object","oneOf":[{"type":"object","properties":{"id":{"description":"Id of the property to alter","type":"string"},"new_value":{"description":"New value of the property"}},"required":["id","new_value"],"additionalProperties":false},{"type":"object","properties":{"name":{"description":"Name of the property to alter","type":"string"},"new_value":{"description":"New value of the property"}},"required":["name","new_value"],"additionalProperties":false}]}}},"unevaluatedProperties":false,"required":["properties"]},"position_diff":{"description":"Schema that represent differences in position of the node","allOf":[{"$ref":"common_types#/$defs/node_object"}],"type":"object","properties":{"position":{"type":"object","description":"Position to change specified by either a name or id","properties":{"x":{"description":"X coordinate","type":"number"},"y":{"description":"Y coordinate","type":"number"}}}},"unevaluatedProperties":false,"required":["position"]},"nodes_diff":{"description":"Schema that represents nodes\' differences in a graph","type":"object","properties":{"graph_id":{"description":"Id of the graph","type":"string"},"nodes":{"description":"","type":"object","properties":{"added":{"description":"List with created nodes","type":"array","items":{"description":"JSON with node definition","type":"object"}},"deleted":{"description":"List with removed nodes","type":"array","items":{"description":"ID of node to delete","type":"string"}}}},"remove_with_connections":{"description":"Should node be removed with connections","type":"boolean"}},"required":["graph_id","nodes"]},"connections_diff":{"description":"Schema that represents connections\' differences in a graph","type":"object","properties":{"graph_id":{"description":"Id of the graph","type":"string"},"connections":{"description":"","type":"object","properties":{"added":{"description":"List with created connections","type":"array","items":{"description":"JSON with connection definition","type":"object"}},"deleted":{"description":"List with removed connections","type":"array","items":{"description":"Connection defined with its beginning and end","type":"object","properties":{"from":{"description":"ID of output interface","type":"string"},"to":{"description":"ID of input interface","type":"string"}}}}}}},"required":["graph_id","connections"]},"highlight_diff":{"description":"Schema that represents the difference in node selection in the editor","type":"object","properties":{"graph_id":{"description":"Id of the graph","type":"string"},"nodes":{"description":"","type":"object","properties":{"selected":{"description":"List with selected nodes","type":"array","items":{"description":"ID of selected node","type":"string"}},"unselected":{"description":"List with unselected nodes","type":"array","items":{"description":"ID of unselected node","type":"string"}}}}},"required":["graph_id","nodes"]},"metadata":{"description":"Type with PM metadata","type":"object","properties":{"metadata":{"description":"JSON with metadata description in PM format","type":"object"}},"required":["metadata"],"additionalProperties":false},"external_endpoint_return_type":{"description":"Common type returned by external app","type":"object","properties":{"type":{"description":"[MessageType](message-type) specifying success, error or progress","type":"number"},"content":{"description":"Additional information, either message or dataflow","type":["object","string"]}},"additionalProperties":false,"required":["type"]},"navbar_items":{"type":"array","description":"List of buttons displayed in the application navbar","items":{"type":"object","description":"Description of a single button.","properties":{"name":{"description":"Name displayed in the tooltip","type":"string"},"stopName":{"description":"Name displayed in the tooltip when the corresponding procedure is running and is stoppable. If not specified simply Stop is added as a prefix to the name","type":"string"},"iconName":{"description":"Name of the icon displayed in the navbar. Name should correspond to a file in the asset directory or to an icon in `frontend/src/icons`","type":"string"},"procedureName":{"description":"Name of the procedure used when button is pressed. The currently displayed graph is used as an argument","type":"string"},"allowToRunInParallelWith":{"description":"List of procedures which can be run when this `navbarItem` is still running","type":"array","items":{"type":"string","description":"`procedureName` of `navbarItem`"},"default":[]},"requireResponse":{"description":"Flag determining whether response from external application should be awaited when running the procedure","type":"boolean","default":true}},"required":["name","iconName","procedureName"],"additionalProperties":false},"default":[]}}}'),la=JSON.parse('{"frontend_endpoints":{"frontend_status_get":{"description":"Returns status of the frontend","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"description":"Description of frontend status","type":"object","properties":{"status":{"description":"Status","type":"string"}},"required":["status"],"additionalProperties":false}},"frontend_specification_get":{"description":"Returns specification used by frontend","params":{"description":"Parameters for specification request","type":"object","properties":{"graph":{"description":"Specifies whether graph should be returned along with the specification.","type":"boolean","default":false},"minify":{"description":"Specifies whether the returned specification should be minified","type":"boolean","default":false}},"additionalProperties":false},"returns":{"$ref":"common_types#/$defs/specification_object"}},"graph_get":{"description":"Returns dataflow used by frontend","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"$ref":"common_types#/$defs/dataflow_object"}},"node_get":{"description":"Procedure to read node state","params":{"allOf":[{"$ref":"common_types#/$defs/node_object"}]},"returns":{"type":"object","properties":{"node":{"description":"State of the node","type":"object"}},"additionalProperties":false,"required":["node"]}},"properties_get":{"description":"Procedure to alter values of a node","params":{"allOf":[{"$ref":"common_types#/$defs/node_object"}],"type":"object","properties":{"properties":{"type":["array","null"],"description":"Properties which values are going to be read specified by either a name of id. If undefined then all properties are returned","items":{"type":"object","oneOf":[{"type":"object","properties":{"id":{"description":"Id of the property to read","type":"string"}},"required":["id"],"additionalProperties":false},{"type":"object","properties":{"name":{"description":"Name of the property to read","type":"string"}},"required":["name"],"additionalProperties":false}]}}},"unevaluatedProperties":false},"returns":{"type":"array","items":{"type":"object","description":"Values of the searched properties","properties":{"id":{"description":"Id of the property","type":"string"},"name":{"description":"Name of the property","type":"string"},"value":{"description":"Value of the property. Its type depends on the property"}},"required":["id","name","value"],"additionalProperties":false}}},"properties_change":{"description":"Procedure to alter properties of a node","params":{"$ref":"common_types#/$defs/properties_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"position_change":{"description":"Procedure to alter position of a node","params":{"$ref":"common_types#/$defs/position_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"nodes_change":{"description":"Procedure to add and delete nodes","params":{"$ref":"common_types#/$defs/nodes_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"connections_change":{"description":"Procedure to add and delete connections","params":{"$ref":"common_types#/$defs/connections_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"graph_change":{"description":"Procedure to add and delete nodes","params":{"type":"object","properties":{"dataflow":{"$ref":"common_types#/$defs/dataflow_or_url"},"loadingScreen":{"$ref":"common_types#/$defs/loadingScreen"}},"required":["dataflow"],"additionalProperties":false},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"progress_change":{"description":"Notification with progress of job ran by external application","params":{"description":"Parameters for notification","type":"object","properties":{"method":{"description":"Name of the method used to run the job","type":"string"},"progress":{"description":"Progress of job ran be external application. If between 0 and 100 progress will be set and if -1, animation will ran.","type":"number"}},"required":["progress","method"],"additionalProperties":false},"returns":null},"metadata_change":{"description":"Updates the editor\'s metadata","params":{"$ref":"common_types#/$defs/metadata"},"returns":null},"viewport_center":{"description":"Center the editor","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":null},"terminal_add":{"description":"Create new terminal instance","params":{"description":"Parameters for request","type":"object","properties":{"name":{"description":"Unique name for the new terminal instance. This name is used for any communication.","type":"string"},"readonly":{"description":"Specifies whether the terminal should be read-only, or editable by user","type":"boolean","default":true}},"required":["name"]},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"terminal_remove":{"description":"Create new terminal instance","params":{"description":"Parameters for request","type":"object","properties":{"name":{"description":"Name of the terminal to remove","type":"string"}},"required":["name"]},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"terminal_write":{"description":"Writes a message line to a terminal instance. Allows to send both text and hterm\'s control sequences. For more details on available control sequences check [hterm Control Sequences](https://chromium.googlesource.com/apps/libapps/+/master/hterm/doc/ControlSequences.md).\\n\\n```{warning}\\nSince data is sent in JSON format, the hexadecimal values need to be escaped with `\\\\u`, not `\\\\x`, e.g. `\\\\u001b[38:2:238:178:17mexample`.\\n```","params":{"description":"Parameters for request","type":"object","properties":{"name":{"description":"Name of the terminal to which the message is written.","type":"string"},"message":{"description":"Message to be written to the terminal","type":"string"}},"required":["name","message"]},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"terminal_clear":{"description":"Clears a terminal with a given name","params":{"type":"object","properties":{"name":{"description":"Name of the terminal to clear. If the name is not provided, the main terminal is cleared.","type":"string"}}},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"terminal_hide":{"description":"Hides a terminal panel","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"terminal_show":{"params":{"type":"object","description":"Parameters for request","properties":{"name":{"description":"Name of the terminal to show. If the name is not provided, the main terminal is chosen.","type":"string"}}},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"terminal_view":{"description":"Configures the layout of the terminal panel","params":{"description":"Parameters for request","type":"object","properties":{"names":{"description":"Names of the terminal to show. If the parameter is empty, then the terminal view is unmodified","type":"array","items":{"description":"Name of the terminal","type":"string"}},"clearButton":{"description":"Specifies whether to \'Clear terminal\' button should be displayed. If not specified, the state of the clear button is not modified.","type":"boolean"}}},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"terminal_get_instances":{"description":"Configures the layout of the terminal panel","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"description":"Existing terminals","type":"array","items":{"description":"Name of the terminal","type":"string"}}},"notification_send":{"description":"Sends a notification to the frontend. It will display the message both in the notifications and in the default terminal","params":{"description":"Parameters for notification","type":"object","properties":{"type":{"description":"Type of the notification.","enum":["error","warning","info"]},"title":{"description":"Title of the notification, appearing both in the terminal and notification","type":"string"},"details":{"description":"Details of the notification, displayed only in the terminal","type":"string"}},"required":["type","title","details"]},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"specification_change":{"description":"Procedure to update specification","params":{"type":"object","properties":{"specification":{"$ref":"common_types#/$defs/specification_or_url"},"urloverrides":{"$ref":"common_types#/$defs/urloverrides"},"loadingScreen":{"$ref":"common_types#/$defs/loadingScreen"},"tryMinify":{"$ref":"common_types#/$defs/tryMinify"}},"required":["specification"]},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"specification_graph_change":{"description":"Procedure to update specification and dataflow","params":{"type":"object","properties":{"specification":{"$ref":"common_types#/$defs/specification_or_url"},"dataflow":{"$ref":"common_types#/$defs/dataflow_or_url"},"urloverrides":{"$ref":"common_types#/$defs/urloverrides"},"loadingScreen":{"$ref":"common_types#/$defs/loadingScreen"},"tryMinify":{"$ref":"common_types#/$defs/tryMinify"}},"required":["specification","dataflow"],"additionalProperties":false},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"specification_preprocess":{"description":"Handles preprocessor specification directives","params":{"type":"object","properties":{"specification":{"$ref":"common_types#/$defs/specification"},"unmarkNewNodes":{"type":"boolean","description":"Decides whether to remove built-in style of new nodes from specification"},"urloverrides":{"$ref":"common_types#/$defs/urloverrides"},"tryMinify":{"$ref":"common_types#/$defs/tryMinify"}}},"returns":{"anyOf":[{"$ref":"common_types#/$defs/specification_object"},{"$ref":"common_types#/$defs/null_or_empty"}]}},"specification_expand":{"description":"","params":{"type":"object","properties":{"specification":{"$ref":"common_types#/$defs/specification"}}},"returns":{"$ref":"common_types#/$defs/specification_object"}},"nodes_highlight":{"description":"Procedure to highlight specified nodes in the editor","params":{"$ref":"common_types#/$defs/highlight_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"register_external_frontend":{"description":"Register external frontend in the Pipeline Manager frontend, available only through \'postMessage\' interface","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"return_from_subgraph":{"description":"Returns from subgraph if currently in one","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"description":"Specifies whether the editor was in subgraph and returned","type":"object","properties":{"has_returned":{"description":"Has returned from subgraph","type":"boolean"}},"required":["has_returned"],"additionalProperties":false}}},"backend_endpoints":{"status_get":{"description":"Returns status of connection with external application","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"description":"Description of backend status","type":"object","properties":{"status":{"description":"Status","type":"object","properties":{"connected":{"description":"Connection with external application","type":"boolean"}},"required":["connected"],"additionalProperties":false}},"required":["status"],"additionalProperties":false}},"external_app_connect":{"description":"Request to wait till connection with external application is established","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"$ref":"common_types#/$defs/empty"}},"connected_frontends_get":{"description":"Request the number of connected fronteds","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"type":"object","properties":{"connections":{"type":"number","description":"Number of connections"}},"additionalProperties":false,"required":["connections"]}}},"external_endpoints":{"specification_get":{"description":"Request specification used by external application","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"$ref":"common_types#/$defs/external_endpoint_return_type"}},"app_capabilities_get":{"description":"Request external application capabilities","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"$ref":"common_types#/$defs/navbar_items"}},"dataflow_import":{"description":"Request to convert dataflow in external app to Pipeline Manager format and import it","params":{"description":"Parameters for request","type":"object","properties":{"external_application_dataflow":{"description":"Dataflow in external application format. If loaded file cannot be represented as text, it will be sent as base64 string. To make sure received data are in readable format `convert_message_to_string` from `pipeline_manager_backend_communication.utils` can be used. Optionally, for conversion to bytes `convert_message_to_bytes` function is available","type":"string"},"mime":{"description":"MIME type","type":"string"},"base64":{"description":"Specifies whether `external_application_dataflow` is in byte64 format","type":"boolean"}},"required":["external_application_dataflow","mime","base64"],"additionalProperties":false},"returns":{"$ref":"common_types#/$defs/external_endpoint_return_type"}},"dataflow_validate":{"description":"Request external application to validate dataflow","params":{"$ref":"common_types#/$defs/dataflow_object"},"returns":{"$ref":"common_types#/$defs/external_endpoint_return_type"}},"dataflow_run":{"description":"Request external application to run dataflow","params":{"$ref":"common_types#/$defs/dataflow_object"},"returns":{"$ref":"common_types#/$defs/external_endpoint_return_type"}},"dataflow_stop":{"description":"Request external application to run dataflow","params":{"description":"Parameters for stopping dataflow","type":"object","properties":{"method":{"description":"Name of the method used to start run","type":"string"}},"required":["method"],"additionalProperties":false},"returns":{"$ref":"common_types#/$defs/external_endpoint_return_type"}},"dataflow_export":{"description":"Request external application to export dataflow","params":{"$ref":"common_types#/$defs/dataflow_object"},"returns":{"description":"Common type returned by external app","type":"object","properties":{"type":{"description":"[MessageType](message-type) specifying success or error","type":"number"},"content":{"description":"Exported dataflow, which is then saved by the frontend user. Should be either a json object, or a base64 encoded string. If any error occurred then it should contain a proper message.","type":["object","string"]},"filename":{"description":"Suggested filename used to save the file","type":"string"}},"additionalProperties":false,"required":["type"]}},"frontend_on_connect":{"description":"Request sent when Pipeline Manager frontend connects to backend and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"properties_on_change":{"description":"Request sent when properties of any node change and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/properties_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"position_on_change":{"description":"Request sent when position of any node changes and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/position_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"nodes_on_change":{"description":"Request sent when node was added or deleted and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/nodes_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"connections_on_change":{"description":"Request sent when connection was added or deleted and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/connections_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"graph_on_change":{"description":"Request sent when whole dataflow changed, e.g. when dataflow is loaded, and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/dataflow_object"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"specification_on_change":{"description":"Request sent when whole specification changed, e.g. when node type is modified, and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/specification_object"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"metadata_on_change":{"description":"Request sent when metadata was changed, and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/metadata"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"viewport_on_center":{"description":"Request sent when editor was centered and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/null_or_empty"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"terminal_read":{"description":"Request sent by the frontend when terminal received an input","params":{"description":"Parameters for request","type":"object","properties":{"name":{"description":"Name of the terminal to which the message was written. Terminal has to be not read-only","type":"string"},"message":{"description":"Terminal input","type":"string"}},"required":["name","message"]},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"nodes_on_highlight":{"description":"Request sent when node was either selected or unselected and `notifyWhenChanged` option is enabled in the metadata section of specification.","params":{"$ref":"common_types#/$defs/highlight_diff"},"returns":{"$ref":"common_types#/$defs/null_or_empty"}},"button_click":{"description":"Request send when button node property was pressed","params":{"description":"Parameters for request","type":"object","properties":{"id":{"description":"ID of the property","type":"string"},"value":{"description":"Value of the property","type":["object","null"]}},"required":["id","value"]},"returns":{"$ref":"common_types#/$defs/null_or_empty"}}}}'),ca=" data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgVHJhbnNmb3JtZWQgYnk6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPgo8c3ZnIGZpbGw9IiNmZmZmZmYiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjgwMHB4IiBoZWlnaHQ9IjgwMHB4IiB2aWV3Qm94PSIwIDAgODcyIDg3MiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9Ii0tZGFya3JlYWRlci1pbmxpbmUtZmlsbDogIzE4MWExYjsiIGRhdGEtZGFya3JlYWRlci1pbmxpbmUtZmlsbD0iIj4KDTxnIGlkPSJTVkdSZXBvX2JnQ2FycmllciIgc3Ryb2tlLXdpZHRoPSIwIi8+Cg08ZyBpZD0iU1ZHUmVwb190cmFjZXJDYXJyaWVyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KDTxnIGlkPSJTVkdSZXBvX2ljb25DYXJyaWVyIj4gPGc+IDxnPiA8cGF0aCBkPSJNMjg5LjEsMzUxLjNoNjEuOGM3LjMwMSwwLDEzLjEwMS01LjksMTMuMTAxLTEzLjF2LTk3LjRjMC00LjUtMS44LTguOS01LTEyLjFjLTMuMi0zLjItNy41LTUtMTIuMTAxLTVIMTg4LjQgYy01MC4zLDAtOTcuNiwxOS42LTEzMy4yLDU1LjJTMCwzNjEuOCwwLDQxMi4xdjIuOWMwLDUwLjI5OSwxOS42LDk3LjYsNTUuMiwxMzMuMnM4Mi45LDU1LjE5OSwxMzMuMiw1NS4xOTlIMzQ3IGM0LjUsMCw4Ljg5OS0xLjc5OSwxMi4xLTVjMy4yLTMuMTk5LDUtNy41LDUtMTIuMXYtODQuMTk5YzAtNy4zMDEtNS44OTktMTMuMS0xMy4xLTEzLjFoLTYxLjhjLTcuMzAxLDAtMTMuMTAxLDUuODk4LTEzLjEwMSwxMy4xIHYxMy4xaC04Ny42Yy01NS40LDAtMTAwLjItNDQuOS0xMDAuMi0xMDAuMnYtMi45YzAtNTUuMzk5LDQ0LjktMTAwLjIsMTAwLjItMTAwLjJoODcuNnYyNi40QzI3NiwzNDUuNSwyODEuODk5LDM1MS4zLDI4OS4xLDM1MS4zIHoiLz4gPHBhdGggZD0iTTYwMi4xLDEwOS42Yy00LjMtMi4zLTkuMS0zLjUtMTMuODk5LTMuNWMtMTEuMiwwLTIxLjQsNi4xLTI2LjYwMSwxNmwtNTIuMSw5OWMtNy43LDE0LjYtMi4xMDEsMzIuOCwxMi42LDQwLjUgYzQuMywyLjMsOS4xMDEsMy41LDEzLjksMy41YzExLjIsMCwyMS4zOTktNi4xLDI2LjYtMTZsNTIuMTAxLTk5YzMuNjk5LTcuMSw0LjUtMTUuMiwyLjEtMjIuOSBDNjE0LjM5OSwxMTkuNiw2MDkuMiwxMTMuMyw2MDIuMSwxMDkuNnoiLz4gPHBhdGggZD0iTTQzMS44OTksOTcuM0M0MjgsODQuNyw0MTYuNSw3Ni4yLDQwMy4zLDc2LjJjLTMsMC02LDAuNS04LjksMS40Yy0xNS44LDQuOS0yNC42OTksMjEuOC0xOS44LDM3LjZMNDA3LjgsMjIyIGMzLjksMTIuNiwxNS40LDIxLjEsMjguNiwyMS4xYzMsMCw2LTAuNSw4LjktMS40YzcuNy0yLjQsMTMuOS03LjYsMTcuNy0xNC43YzMuNy03LjEsNC41LTE1LjIsMi4xLTIyLjlMNDMxLjg5OSw5Ny4zeiIvPiA8cGF0aCBkPSJNNTg0LjYsMzE1YzMuOSwxMi42LDE1LjQsMjEuMSwyOC42MDEsMjEuMWMzLDAsNi0wLjUsOC44OTktMS40bDEwNi44LTMzLjJjMTUuODAxLTQuOSwyNC43LTIxLjgsMTkuNy0zNy41IGMtMy44OTktMTIuNi0xNS4zOTktMjEuMS0yOC42LTIxLjFjLTMsMC02LDAuNS04LjksMS40bC0xMDYuOCwzMy4xQzU4OC41LDI4Mi4zLDU3OS43LDI5OS4yLDU4NC42LDMxNXoiLz4gPC9nPiA8cGF0aCBkPSJNNTY3LjMsNTc5LjEwMWwtNDMuNy00My43MDFjLTUuMS01LjEtMTMuNS01LjEtMTguNiwwbC02OC44LDY4LjljLTMuMiwzLjIwMS01LDcuNS01LDEyLjFjMCw0LjUsMS44LDguOSw1LDEyLjEwMiBsMTEyLjEsMTEyLjFjMzUuNiwzNS42LDgyLjksNTUuMTk5LDEzMy4yLDU1LjE5OXM5Ny42LTE5LjYsMTMzLjItNTUuMTk5bDIuMS0yLjFjMzUuNi0zNS42MDIsNTUuMi04Mi45LDU1LjItMTMzLjIwMSBjMC01MC4yOTktMTkuNjAxLTk3LjYtNTUuMi0xMzMuMTk5bC0xMTIuMi0xMTJjLTMuMi0zLjItNy41LTUtMTIuMS01Yy00LjUsMC04LjksMS44LTEyLjEwMSw1bC01OS41LDU5LjUgYy01LjEsNS4xMDEtNS4xLDEzLjUsMCwxOC42bDQzLjcsNDMuNjk5YzUuMTAxLDUuMTAyLDEzLjUsNS4xMDIsMTguNjAxLDBsOS4zLTkuMjk5bDYyLDYyYzM5LjEsMzkuMSwzOS4xLDEwMi42LDAsMTQxLjc5OSBsLTIuMTAxLDIuMTAyYy0zOS4xLDM5LjEtMTAyLjYsMzkuMS0xNDEuOCwwbC02Mi02MmwxOC43LTE4LjcwMUM1NzIuNSw1OTIuNjAxLDU3Mi41LDU4NC4zLDU2Ny4zLDU3OS4xMDF6Ii8+IDwvZz4gPC9nPgoNPC9zdmc+",ua=(e,t)=>{const n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t,n.click()},da={graph:!1,minify:!1,saveName:"specification",getSave(){var e,t;const n=Ti.getEditorManagerInstance(),r=n.saveSpecification(),o=n.saveDataflow();if(null!==(e=r.graphs)&&void 0!==e||(r.graphs=[]),o.graphs.forEach((e=>{o.graphs.forEach((t=>{var n;const o=e.id,i=t.nodes.find((e=>e.subgraph===o));if(void 0!==i){const t=null===(n=r.nodes)||void 0===n?void 0:n.find((e=>e.name===i.name));t&&(e.id=t.subgraphId,i.subgraph=t.subgraphId)}const a=t.nodes.find((e=>{var t;return null===(t=e.relatedGraphs)||void 0===t?void 0:t.some((e=>e.id===o))})),s=t.nodes.find((e=>{var t;return null===(t=e.properties)||void 0===t?void 0:t.some((e=>"button-graph"===e.type&&e.default===o))}));if(i||a||s)if(Array.isArray(e.nodes)&&e.nodes.length)r.graphs=r.graphs.filter((t=>t.id!==e.id)),r.graphs.push(e);else{if(i){const e=r.nodes.map((e=>e.name)).indexOf(i.name),n=t.nodes.map((e=>e.name)).indexOf(i.name);delete r.nodes[e].subgraphId,delete t.nodes[n].subgraph}if(a){const e=r.nodes.map((e=>e.name)).indexOf(a.name),n=t.nodes.map((e=>e.name)).indexOf(a.name);a.relatedGraphs.length>1?(r.nodes[e].relatedGraphs=a.relatedGraphs.filter((e=>e.id!==o)),t.nodes[n].relatedGraphs=a.relatedGraphs.filter((e=>e.id!==o))):(delete r.nodes[e].relatedGraphs,delete t.nodes[n].relatedGraphs)}if(s){const e=r.nodes.map((e=>e.name)).indexOf(s.name),n=t.nodes.map((e=>e.name)).indexOf(s.name);r.nodes[e].properties=s.properties.filter((e=>!("button-graph"===e.type&&e.default===o))),t.nodes[n].properties=s.properties.filter((e=>!("button-graph"===e.type&&e.default===o)))}}}))})),Object.entries(o.metadata).forEach((([e,t])=>{void 0!==t&&(r.metadata[e]=t)})),this.graph&&(r.entryGraph=null!==(t=o.entryGraph)&&void 0!==t?t:o.graphs[0].id,o.graphs.forEach((e=>{const t=r.graphs.map((e=>e.id)).indexOf(e.id),[n,o]=-1!==t?[t,1]:[r.graphs.length,0];r.graphs.splice(n,o,e)})),r.graphs=r.graphs.filter((e=>Array.isArray(e.nodes)&&e.nodes.length))),this.minify&&r.nodes){const e=Ti.getUsedNames([...o.graphs,...r.graphs]);r.nodes=Ti.minifySpecificationNodes(r.nodes,e),r.nodes.length||delete r.nodes}return r},saveCallback(){const e=this.getSave(),t=new Blob([JSON.stringify(e,null,this.minify?0:4)],{type:"application/json"});ua(t,this.saveName),Xi.showToast("info","Specification saved")},reset(){this.graph=!1,this.minify=!1,this.saveName="specification"}},pa={readonly:!1,hideHud:!1,position:!1,graphName:null,saveName:"save",getSave(){return Ti.getEditorManagerInstance().saveDataflow({readonly:!!this.readonly,hideHud:!!this.hideHud,position:!!this.position,graphName:this.graphName})},saveCallback(){const e=this.getSave(),t=new Blob([JSON.stringify(e,null,4)],{type:"application/json"});ua(t,this.saveName),Xi.showToast("info","Dataflow saved")},saveCallbackCustomFormat(e){const t=document.createElement("a");let n;"string"==typeof e?(n="application/octet-stream",t.href=`data:${n};base64,${e}`):(n="application/json",t.href=window.URL.createObjectURL(new Blob([JSON.stringify(e)],{type:n}))),t.download=this.saveName,t.click(),Xi.showToast("info",`File saved successfully: ${this.saveName}`)},reset(){var e,t,n;const r=Ti.getEditorManagerInstance().saveDataflow(),o=null!==(n=r.entryGraph?null===(e=r.graphs.find((e=>e.id===r.entryGraph)))||void 0===e?void 0:e.name:null===(t=r.graphs[0])||void 0===t?void 0:t.name)&&void 0!==n?n:null;this.readonly=!1,this.hideHud=!1,this.position=!1,this.graphName=o,this.saveName="save"}},ha={width:1920,height:1080,maxWidth:16384,maxHeight:16384,saveName:"dataflow",exportCallback(){const e=document.querySelector(".inner-editor");this.width<0?Xi.showToast("error","Negative width. The image could not be saved."):this.height<0?Xi.showToast("error","Negative height. The image could not be saved."):(this.width>this.maxWidth&&(Xi.showToast("warning",`Invalid width. The maximum value ${this.maxWidth} was used instead.`),this.width=this.maxWidth),this.height>this.maxHeight&&(Xi.showToast("warning",`Invalid height. The maximum value ${this.maxHeight} was used instead.`),this.height=this.maxHeight),async function(e,t={}){return(await async function(e,t={}){const{width:n,height:r}=Cn(e,t),o=await Zn(e,t),i=await En(o),a=document.createElement("canvas"),s=a.getContext("2d"),l=t.pixelRatio||function(){let e,t;try{t=process}catch(e){}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}(),c=t.canvasWidth||n,u=t.canvasHeight||r;return a.width=c*l,a.height=u*l,t.skipAutoScale||function(e){(e.width>Sn||e.height>Sn)&&(e.width>Sn&&e.height>Sn?e.width>e.height?(e.height*=Sn/e.width,e.width=Sn):(e.width*=Sn/e.height,e.height=Sn):e.width>Sn?(e.height*=Sn/e.width,e.width=Sn):(e.width*=Sn/e.height,e.height=Sn))}(a),a.style.width=`${c}`,a.style.height=`${u}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,a.width,a.height)),s.drawImage(i,0,0,a.width,a.height),a}(e,t)).toDataURL()}(e,{filter:e=>{var t;return!(null===(t=e.classList)||void 0===t?void 0:t.contains("baklava-node-palette"))},imagePlaceholder:ca,canvasWidth:this.width,canvasHeight:this.height}).then((e=>{const t=document.createElement("a");t.download=this.saveName,t.href=e,t.dataset.downloadurl=[e,t.download,t.href].join(":"),document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((e=>{Xi.showToast("error",`Export to PNG failed: ${e}`)})))},reset(){this.width=1920,this.height=1080,this.saveName="save"}};function fa(e,t=!0){if(ji.exists(e)!==t)throw new Error(`Terminal instance of name '${e} ${t?"does not exist":"already exists"}`)}const ma=Ti.getEditorManagerInstance();function ga(e){const{viewModel:t}=(0,tr.if)(),n=[...t.value.editor.graphs].find((t=>t.id===e));if(void 0===n)throw new Error(`Graph with id '${e}' does not exist.`);return n}function va(e,t){const n=ga(e).nodes.find((e=>e.id===t));if(void 0===n)throw new Error(`Node with id '${t}' does not exist.`);return n}function ya(e,t,n){let r;if(void 0!==t){if(r=Object.values(e.inputs).find((e=>e.id===t)),void 0===r||void 0!==r.side)throw new Error(`Property with id '${t}' does not exist.`)}else if(r=Object.values(e.inputs).find((e=>e.name===n)),void 0===r||void 0!==r.side)throw new Error(`Property with name '${n}' does not exist.`);return r}function ba(){return{status:"ready"}}function wa(e){const t=da;return t.graph=!!e&&e.graph,t.minify=!!e&&e.minify,{specification:t.getSave()}}function xa(){return{dataflow:ma.saveDataflow()}}function _a(e){const t=va(e.graph_id,e.node_id);for(const n of e.properties)ya(t,n.id,n.name);for(const n of e.properties)ya(t,n.id,n.name).value=n.new_value}function ka(e){const t=va(e.graph_id,e.node_id);t.position.x=e.position.x,t.position.y=e.position.y}function Ca(e){return ta(this,void 0,void 0,(function*(){const{viewModel:t}=(0,tr.if)(),n=ga(e.graph_id);e.nodes.added.forEach((e=>{const r=t.value.editor.nodeTypes.get(e.name);if(!r)throw new Error(`Node type not found for name ${e.name}`);{const o=new r.type;o.id=e.id,e.color&&t.value.editor.setNodeColor(e.id,e.color),n.addNode(o);const i=o.load(e);if(Array.isArray(i)&&i.length)throw new Error(i.join("\n"))}})),e.nodes.deleted.forEach((t=>{var r;const o=va(e.graph_id,t);null===(r=e.remove_with_connections)||void 0===r||r?n.removeNode(o):n.removeNodeOnly(o)}))}))}function Sa(e){return ta(this,void 0,void 0,(function*(){const t=ga(e.graph_id);e.connections.added.forEach((e=>{const n=t.findNodeInterface(e.from);if(!n)throw new Error(`Interface with id ${e.from} does not exist`);const r=t.findNodeInterface(e.to);if(!r)throw new Error(`Interface with id ${e.to} does not exist`);if(!t.addConnection(n,r))throw new Error(`Connection from ${e.from} to ${e.to} cannot be created`)})),e.connections.deleted.forEach((n=>{t.removeConnection(function(e,t,n){const r=ga(e).connections.find((e=>e.from.id===t&&e.to.id===n));if(void 0===r)throw new Error(`Connection from ${t} to ${n} does not exist.`);return r}(e.graph_id,n.from,n.to))}))}))}function Ea(e){return ta(this,void 0,void 0,(function*(){const t=Ul();yield t.conditionalLoadingScreen(e.loadingScreen,(()=>ta(this,void 0,void 0,(function*(){return t.updateDataflow(e.dataflow)}))))}))}function Pa(e){return ta(this,void 0,void 0,(function*(){const t=va(e.graph_id,e.node_id),n=[];if(void 0===e.properties){for(const e of Object.values(t.inputs))void 0===e.side&&n.push({id:e.id,name:e.name,value:e.value});return n}for(const r of e.properties){const e=ya(t,r.id,r.name);n.push({id:e.id,name:e.name,value:e.value})}return n}))}function Ta(e){return ta(this,void 0,void 0,(function*(){return{node:va(e.graph_id,e.node_id).save()}}))}function Aa(e){const t=Zi.get(e.method);if(!t.inProgress)throw new Error("No run in progress");if(!t.progressBar)throw new Error(`Progress bar does not exist for method: ${e.method}`);if(-1!==e.progress){if(e.progress>100||e.progress<0)throw new Error(`Progress has to be in [0, 100] or -1. Received: ${e.progress}`);t.progressBar.style.width=`${e.progress}%`,t.progressBar.classList.remove("animate")}else t.progressBar.classList.add("animate")}function Ma(e){ma.updateMetadata(e.metadata,!0)}function Na(){ma.baklavaView.editor.centerZoom()}function Oa(e){if(!1===ji.createTerminalInstance(e.name,e.readonly))throw new Error(`Terminal instance of name '${e.name}' already exists`)}function Ia(e){fa(e.name,!0),ji.remove(e.name)}function Ra(e){e.name in ji.logs||ji.createTerminalInstance(e.name),ji.add(e.message,e.name)}function La(e){var t;const n=null!==(t=null==e?void 0:e.name)&&void 0!==t?t:Li;fa(n,!0),ji.clear(n)}function ja(){var e;null===(e=ji.manager)||void 0===e||e.hide()}function Da(e){var t,n;const r=null!==(t=null==e?void 0:e.name)&&void 0!==t?t:Li;void 0!==r&&fa(r,!0),null===(n=ji.manager)||void 0===n||n.show(r)}function $a(e){var t,n;null===(t=e.names)||void 0===t||t.forEach((e=>fa(e,!0))),null===(n=ji.manager)||void 0===n||n.view(e)}function Ba(){return ji.getInstances()}function Va(e){Xi.terminalLog(e.type,e.title,e.details)}function Fa(e){return ta(this,void 0,void 0,(function*(){const t=Ul();yield t.conditionalLoadingScreen(e.loadingScreen,(()=>ta(this,void 0,void 0,(function*(){return t.updateSpecification(e.specification,e)}))))}))}function za(e){return ta(this,void 0,void 0,(function*(){const t=Ul(),n=e.tryMinify?e.dataflow:void 0;yield t.conditionalLoadingScreen(e.loadingScreen,(()=>ta(this,void 0,void 0,(function*(){(yield t.updateSpecification(e.specification,Object.assign(Object.assign({},e),{tryMinify:n})))||(yield t.updateDataflow(e.dataflow))}))))}))}function Ua(e){return ta(this,void 0,void 0,(function*(){const t=Ul(),n=e.tryMinify?e.dataflow:void 0,r=yield t.preprocessSpecification(e.specification,Object.assign(Object.assign({},e),{tryMinify:n}));return r?{specification:r}:void 0}))}function Wa(e){return ta(this,arguments,void 0,(function*({specification:e}){var t;const n=e=>{if(e.length>0)throw new Error(e.join("\n"))};n(Ti.validateSpecification(e));const r=null!==(t=e.graphs)&&void 0!==t?t:[],o=new Map(r.map((e=>[e.id,structuredClone(e)]))),i=e.nodes.map((e=>e.subgraphId)).filter(Boolean),a=r.filter((e=>!i.includes(e.id))),s=i.map((e=>({subgraphId:e,instanceId:e})));for(;s.length;){const{subgraphId:e,instanceId:t}=s.shift(),r=o.get(e),{state:l,errors:c}=ni(r,{mode:"spec"});n(c),l.nodes.filter((e=>e.subgraph&&i.includes(e.subgraph))).forEach((e=>{const t=e.subgraph,n=(0,Yr.A)();e.subgraph=n,s.push({subgraphId:t,instanceId:n})})),delete l.graphLoadingState,a.push(Object.assign(Object.assign({},l),{id:t}))}return{specification:Object.assign(Object.assign({},e),{graphs:a})}}))}function Ka(e){return ta(this,void 0,void 0,(function*(){const t=ga(e.graph_id);t.selectedNodes=t.selectedNodes.filter((t=>!e.nodes.unselected.includes(t.id))),e.nodes.selected.forEach((n=>{const r=va(e.graph_id,n);t.selectedNodes.includes(r)||t.selectedNodes.push(r)}))}))}function Ha(){throw new Error('Frontend registering available only through "postMessage" interface.')}function qa(){const e=ma.isInSubgraph();return e&&ma.returnFromSubgraph(),{has_returned:e}}class Ga extends Qi.JSONRPCServerAndClient{constructor(){super(...arguments),Object.defineProperty(this,"customMethodRegex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"customMethodReplace",{enumerable:!0,configurable:!0,writable:!0,value:null})}}class Xa extends Error{constructor(e,t){super(e),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:t})}}const Ya=/^custom_.*$/,Ja="dataflow_run",Za=new(qr())({schemas:[sa],allowUnionTypes:!0,strict:!0});function Qa(e){const t=la[e];return Object.entries(t).forEach((([e,t])=>{const n=t;n.params&&(n.params.$id=`${e}_params`),n.returns&&(n.returns.$id=`${e}_returns`)})),t}const es=Qa("frontend_endpoints"),ts=Qa("backend_endpoints"),ns=Qa("external_endpoints");let rs;try{[es,ts,ns].forEach((e=>{Object.entries(e).forEach((([e,t])=>{var n;rs=e,Za.compile(t.params),Za.compile(null!==(n=t.returns)&&void 0!==n?n:{})}))}))}catch(e){throw new Error(`Procedures specification schema '${rs}' is incorrect: ${e}`)}const os=(e,t,n)=>{const r=bi(Za,e,t);if(!r.length)return;const o="Request method does not match specification";if(void 0===n)throw new Xa(o,r);return(0,Qi.createJSONRPCErrorResponse)(n,1,o,r)},is=(e,t,n)=>ta(void 0,void 0,void 0,(function*(){var r;if(!(t.method in es)){if(void 0!==t.id)return(0,Qi.createJSONRPCErrorResponse)(t.id,1,"Requested method does not exist");throw new Error("Requested method does not exist")}const o=es[t.method],i=os(o.params,null!==(r=t.params)&&void 0!==r?r:{},t.id);if(i)return i;const a=yield e(t,n);if(void 0===t.id)return null;if(void 0!==(null==a?void 0:a.result)&&null!==o.returns){const e=os(o.returns,a.result,a.id);if(e)return e}return a}));let as=1;const ss=()=>as++,ls=new Map;let cs;const us=e=>{var t;if(e.result&&e.id&&(null===(t=ls.get(e.id))||void 0===t?void 0:t.returns)){const t=os(ls.get(e.id).returns,e.result,e.id);if(t)return t}return e};class ds extends Qi.JSONRPCClient{receive(e){e=Array.isArray(e)?e:[e],super.receive(e.map(us))}}const ps={get jsonRPC(){return cs||function(){cs=new Ga(new Qi.JSONRPCServer,new ds(((e,t)=>ta(this,[e,t],void 0,(function*(e,{externalApp:t}){var n;if(!t)throw new Error("Missing backend.");const r=Ya.test(e.method)?Ja:e.method;if(!(r in ns)&&!(r in ts))throw new Error("Requested method not known");const o=r in ns?ns:ts,i=o[r],a=os(i.params,null!==(n=e.params)&&void 0!==n?n:{},e.id);if(a)throw new Xa(a.error.message,a.error.data);e.id&&ls.set(e.id,i);const s=o===ts?"backend-api":"external-api";try{t.request(JSON.parse(JSON.stringify(e)),s)}catch(e){return Promise.reject(e)}return Promise.resolve()}))),ss)),cs.server.applyMiddleware(is),Object.entries(r).forEach((([e,t])=>{"function"==typeof t&&e in es?cs.addMethod(e,t):"function"==typeof t&&Xi.showToast("warning",`Function ${e} was not registered as RPC method`)})),cs.customMethodRegex=Ya,cs.customMethodReplace=Ja}(),cs}}.jsonRPC,hs=Object.create(null);hs.open="0",hs.close="1",hs.ping="2",hs.pong="3",hs.message="4",hs.upgrade="5",hs.noop="6";const fs=Object.create(null);Object.keys(hs).forEach((e=>{fs[hs[e]]=e}));const ms={type:"error",data:"parser error"},gs="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),vs="function"==typeof ArrayBuffer,ys=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,bs=({type:e,data:t},n,r)=>gs&&t instanceof Blob?n?r(t):ws(t,r):vs&&(t instanceof ArrayBuffer||ys(t))?n?r(t):ws(new Blob([t]),r):r(hs[e]+(t||"")),ws=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function xs(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let _s;const ks="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)ks["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(e)]=e;const Cs="function"==typeof ArrayBuffer,Ss=(e,t)=>{if("string"!=typeof e)return{type:"message",data:Ps(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:Es(e.substring(1),t)}:fs[n]?e.length>1?{type:fs[n],data:e.substring(1)}:{type:fs[n]}:ms},Es=(e,t)=>{if(Cs){const n=(e=>{let t,n,r,o,i,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=ks[e.charCodeAt(t)],r=ks[e.charCodeAt(t+1)],o=ks[e.charCodeAt(t+2)],i=ks[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c})(e);return Ps(n,t)}return{base64:!0,data:e}},Ps=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Ts=String.fromCharCode(30);let As;function Ms(e){return e.reduce(((e,t)=>e+t.length),0)}function Ns(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Os(e){if(e)return function(e){for(var t in Os.prototype)e[t]=Os.prototype[t];return e}(e)}Os.prototype.on=Os.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Os.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Os.prototype.off=Os.prototype.removeListener=Os.prototype.removeAllListeners=Os.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Os.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},Os.prototype.emitReserved=Os.prototype.emit,Os.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Os.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Is="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Rs(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Ls=Is.setTimeout,js=Is.clearTimeout;function Ds(e,t){t.useNativeTimers?(e.setTimeoutFn=Ls.bind(Is),e.clearTimeoutFn=js.bind(Is)):(e.setTimeoutFn=Is.setTimeout.bind(Is),e.clearTimeoutFn=Is.clearTimeout.bind(Is))}class $s extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Bs extends Os{constructor(e){super(),this.writable=!1,Ds(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new $s(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ss(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const Vs="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Fs={};let zs,Us=0,Ws=0;function Ks(e){let t="";do{t=Vs[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Hs(){const e=Ks(+new Date);return e!==zs?(Us=0,zs=e):e+"."+Ks(Us++)}for(;Ws<64;Ws++)Fs[Vs[Ws]]=Ws;let qs=!1;try{qs="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const Gs=qs;function Xs(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Gs))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Is[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function Ys(){}const Js=null!=new Xs({xdomain:!1}).responseType;class Zs extends Os{constructor(e,t){super(),Ds(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=Rs(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new Xs(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=Zs.requestsCount++,Zs.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Ys,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Zs.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function Qs(){for(let e in Zs.requests)Zs.requests.hasOwnProperty(e)&&Zs.requests[e].abort()}Zs.requestsCount=0,Zs.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Qs):"function"==typeof addEventListener&&addEventListener("onpagehide"in Is?"pagehide":"unload",Qs,!1));const el="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),tl=Is.WebSocket||Is.MozWebSocket,nl="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),rl={websocket:class extends Bs{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=nl?{}:Rs(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=nl?new tl(e,t,n):t?new tl(e,t):new tl(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;bs(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&el((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Hs()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!tl}},webtransport:class extends Bs{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){As||(As=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(0===r){if(Ms(n)<1)break;const e=Ns(n,1);i=!(128&~e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if(Ms(n)<2)break;const e=Ns(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Ms(n)<8)break;const e=Ns(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){s.enqueue(ms);break}o=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Ms(n)<o)break;const e=Ns(n,o);s.enqueue(Ss(i?e:As.decode(e),t)),r=0}if(0===o||o>e){s.enqueue(ms);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=new TransformStream({transform(e,t){!function(e,t){gs&&e.data instanceof Blob?e.data.arrayBuffer().then(xs).then(t):vs&&(e.data instanceof ArrayBuffer||ys(e.data))?t(xs(e.data)):bs(e,!1,(e=>{_s||(_s=new TextEncoder),t(_s.encode(e))}))}(e,(n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)}))}});r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const o=()=>{n.read().then((({done:e,value:t})=>{e||(this.onPacket(t),o())})).catch((e=>{}))};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&el((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends Bs{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=Js&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Ts),r=[];for(let e=0;e<n.length;e++){const o=Ss(n[e],t);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,i)=>{bs(e,!1,(e=>{r[i]=e,++o===n&&t(r.join(Ts))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Hs()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Zs(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},ol=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,il=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function al(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=ol.exec(e||""),i={},a=14;for(;a--;)i[il[a]]=o[a]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}class sl extends Os{constructor(e,t={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=al(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=al(t.host).host),Ds(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new rl[e](n)}open(){let e;if(this.opts.rememberUpgrade&&sl.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;sl.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;sl.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,c(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function a(){i("transport closed")}function s(){i("socket closed")}function l(e){t&&e.name!==t.name&&o()}const c=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",a),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",a),this.once("close",s),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",sl.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){sl.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}sl.protocol=4,sl.protocol;const ll="function"==typeof ArrayBuffer,cl=Object.prototype.toString,ul="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===cl.call(Blob),dl="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===cl.call(File);function pl(e){return ll&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||ul&&e instanceof Blob||dl&&e instanceof File}function hl(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(hl(e[t]))return!0;return!1}if(pl(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return hl(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&hl(e[t]))return!0;return!1}function fl(e){const t=[],n=e.data,r=e;return r.data=ml(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ml(e,t){if(!e)return e;if(pl(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ml(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ml(e[r],t));return n}return e}function gl(e,t){return e.data=vl(e.data,t),delete e.attachments,e}function vl(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=vl(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=vl(e[n],t));return e}const yl=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],bl=5;var wl;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(wl||(wl={}));class xl{constructor(e){this.replacer=e}encode(e){return e.type!==wl.EVENT&&e.type!==wl.ACK||!hl(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===wl.EVENT?wl.BINARY_EVENT:wl.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==wl.BINARY_EVENT&&e.type!==wl.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=fl(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function _l(e){return"[object Object]"===Object.prototype.toString.call(e)}class kl extends Os{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===wl.BINARY_EVENT;n||t.type===wl.BINARY_ACK?(t.type=n?wl.EVENT:wl.ACK,this.reconstructor=new Cl(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!pl(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===wl[n.type])throw new Error("unknown packet type "+n.type);if(n.type===wl.BINARY_EVENT||n.type===wl.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!kl.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case wl.CONNECT:return _l(t);case wl.DISCONNECT:return void 0===t;case wl.CONNECT_ERROR:return"string"==typeof t||_l(t);case wl.EVENT:case wl.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===yl.indexOf(t[0]));case wl.ACK:case wl.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Cl{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=gl(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Sl(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const El=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Pl extends Os{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Sl(e,"open",this.onopen.bind(this)),Sl(e,"packet",this.onpacket.bind(this)),Sl(e,"error",this.onerror.bind(this)),Sl(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(El.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:wl.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(o),t.apply(this,[null,...e])}}emitWithAck(e,...t){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((r,o)=>{t.push(((e,t)=>n?e?o(e):r(t):r(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...r)=>{if(n===this._queue[0])return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:wl.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case wl.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case wl.EVENT:case wl.BINARY_EVENT:this.onevent(e);break;case wl.ACK:case wl.BINARY_ACK:this.onack(e);break;case wl.DISCONNECT:this.ondisconnect();break;case wl.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:wl.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:wl.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Tl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Tl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},Tl.prototype.reset=function(){this.attempts=0},Tl.prototype.setMin=function(e){this.ms=e},Tl.prototype.setMax=function(e){this.max=e},Tl.prototype.setJitter=function(e){this.jitter=e};class Al extends Os{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Ds(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Tl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||o;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new sl(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Sl(t,"open",(function(){n.onopen(),e&&e()})),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=Sl(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Sl(e,"ping",this.onping.bind(this)),Sl(e,"data",this.ondata.bind(this)),Sl(e,"error",this.onerror.bind(this)),Sl(e,"close",this.onclose.bind(this)),Sl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){el((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Pl(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ml={};function Nl(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=al(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,a=Ml[o]&&i in Ml[o].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?s=new Al(r,t):(Ml[o]||(Ml[o]=new Al(r,t)),s=Ml[o]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(Nl,{Manager:Al,Socket:Pl,io:Nl,connect:Nl});class Ol{constructor(e,t,n=262144){Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"jsonRPC",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"maxMessageLength",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"socket",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.socket=Nl(e,{extraHeaders:Ol.commonHeaders}),this.socket.on("connect",(()=>Xi.terminalLog("info","Initialized connection with communication server",null))),this.socket.on("disconnect",(()=>{Xi.terminalLog("warning","Connection with communication server disrupted",null),this.jsonRPC.rejectAllPendingRequests("WebSocket disconnected")})),this.socket.on("api",(e=>ta(this,void 0,void 0,(function*(){const t=yield this.jsonRPC.server.receive(e);if(t)try{const e=yield this.socket.emitWithAck("external-api",t);void 0===e||e||Xi.terminalLog("error","Response to external app was not send",null)}catch(t){Xi.terminalLog("error",`Response to ${e.method} request cannot be send`,t)}})))),this.socket.on("api-response",(e=>{this.jsonRPC.client.receive(e)}))}isConnected(){return ta(this,void 0,void 0,(function*(){try{const{status:{connected:e}}=yield this.jsonRPC.request("status_get",void 0,{externalApp:this});return e}catch(e){return!1}}))}onConnect(){return ta(this,void 0,void 0,(function*(){var e;try{return yield this.jsonRPC.request("external_app_connect",void 0,{externalApp:this}),!0}catch(t){const n=t,r=-3!==(null!==(e=n.code)&&void 0!==e?e:-1)?"warning":"info";return Xi.terminalLog(r,n.message,void 0),!1}}))}request(e,t){var n;if(this.socket.disconnected)throw new Error("WebSocket is disconnected. Make sure the communication server is available.");const r=JSON.stringify(e);if(r.length>this.maxMessageLength){const o=null!==(n=e.id)&&void 0!==n?n:crypto.randomUUID();for(let e=0;e<r.length;e+=this.maxMessageLength)this.socket.emit(t,{id:o,chunk:r.substring(e,Math.min(e+this.maxMessageLength,r.length)),end:e+this.maxMessageLength>=r.length})}else this.socket.emit(t,e)}}Object.defineProperty(Ol,"commonHeaders",{enumerable:!0,configurable:!0,writable:!0,value:{"Access-Control-Allow-Origin":"http://localhost","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});const Il=Ol;class Rl{constructor(e,t){Object.defineProperty(this,"connectionHook",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"disconnectionHook",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"isRunning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"connected",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}add(e){this.connected.set(e,!1)}remove(e){return this.connected.delete(e)}poll(){return ta(this,arguments,void 0,(function*(e=1500){this.isRunning=!0;const t=new Set;for(;this.isRunning;)Array.from(this.connected.keys()).filter((e=>!t.has(e))).forEach((e=>{t.add(e),this.updateConnection(e).then((()=>t.delete(e)))})),yield new Promise((t=>{setTimeout(t,e)}))}))}updateConnection(e){return ta(this,void 0,void 0,(function*(){try{const t=this.connected.get(e);let n=yield e.isConnected();!n&&t&&(Xi.terminalLog("warning","External application was disconnected",void 0),this.disconnectionHook(e)),n&&!t&&((yield e.onConnect())?this.connectionHook(e):n=!1),this.connected.set(e,n)}catch(t){this.connected.set(e,!1)}}))}pollStop(){this.isRunning=!1}}class Ll{constructor(e){Object.defineProperty(this,"source",{enumerable:!0,configurable:!0,writable:!0,value:e})}isConnected(){return ta(this,void 0,void 0,(function*(){return!0}))}onConnect(){return ta(this,void 0,void 0,(function*(){return!0}))}request(e,t){if("backend-api"===t)throw new Error("Frontend external app does not support backend endpoints");this.source.postMessage(e,"*")}}const jl=[];function Dl(e){0===e.type?Xi.terminalLog("info",e.content):1===e.type?Xi.terminalLog("error",`Error occurred: ${e.content}`,e.content):3===e.type&&Xi.terminalLog("warning",`Warning: ${e.content}`,e.content)}function $l({errors:e,warnings:t,info:n},r,o,i){return Array.isArray(t)&&t.length&&Xi.terminalLog("warning",o,t),Array.isArray(e)&&e.length?(Xi.terminalLog("error",r,e),!0):(Array.isArray(n)&&n.length&&Xi.terminalLog("info",i,n),!1)}function Bl(e,t){let n;try{n=JSON.parse(t).version}catch{return}e!==n&&Xi.terminalLog("error","Mismatched specification version",`Specification version (${n}) differs from the current version (${e}). It may result in unexpected behaviour.Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`)}function Vl(e,t,n){const r=void 0!==n?[n,[t.message,...t.data??[]]]:[t.message,t.data];Xi.terminalLog(e,...r)}class Fl{editorManager=Ti.getEditorManagerInstance();appCapabilities=(0,s.KR)([]);externalApp=null;connectionHook=null;backend=!1;constructor(){this.editorManager.externalApplicationManager=this,this.connectionManager=new Rl((e=>this.initializeConnection(e)),(()=>Zi.forEach((e=>{e.inProgress=!1})))),this.connectionManager.poll()}isExternalAppAvailable(){return null!==this.externalApp}isConnected(){return Array.from(this.connectionManager.connected.values()).some(Boolean)}usesBackend(){return this.backend}async request(e,t){const{externalApp:n}=this;return ps.request(e,t,{externalApp:n})}async requestSpecification(){let e="Unknown error";try{const t=await this.request("specification_get");if(0===t.type){const e=t.content;await this.updateSpecification(e),Xi.terminalLog("info","Specification loaded successfully")}else 3===t.type?(e=t.content,Xi.terminalLog("warning",e)):1===t.type&&(e=t.content,Xi.terminalLog("error",e))}catch(e){Vl("error",e)}}async conditionalLoadingScreen(e,t){const{setLoad:n}=this.editorManager.baklavaView.editor.events;return aa(t,n,{show:e})}async validateSpecification(e){if("string"==typeof e||e instanceof String){const[t,n]=await Pi(e);if(!t)return Xi.terminalLog("error","Specification is invalid",n),Promise.resolve();e=n}return $l(Ti.validateSpecification(e),"Specification is invalid","Warnings when validating specification","Validated specification")?(Bl(this.editorManager.specificationVersion,e),Promise.resolve()):e}async preprocessSpecification(e,{urloverrides:t,tryMinify:n}={}){if(!(e=await this.validateSpecification(e)))return Promise.resolve();if("string"==typeof n||n instanceof String){const[e,t]=await Pi(n);if(!e)return Xi.terminalLog("error","Dataflow is invalid",t),Promise.resolve();n=t}const r=await this.editorManager.preprocessSpecification(e,{urloverrides:t,tryMinify:n});return $l(r,"Errors when preprocessing specification","Warnings when preprocessing specification","Specification preprocessed")?Promise.resolve():r.specification}async updateSpecification(e,{urloverrides:t,tryMinify:n}={}){if(!(e=await this.validateSpecification(e)))return Promise.resolve();if("string"==typeof n||n instanceof String){const[e,t]=await Pi(n);if(!e)return Xi.terminalLog("error","Dataflow is invalid",t),Promise.resolve();n=t}const r=$l(await this.editorManager.updateEditorSpecification(e,!1,!0,t,n),"Errors when loading specification","Warnings when loading specification","Loaded specification");return r&&Bl(this.editorManager.specificationVersion,e),r}async updateDataflow(e){if("string"==typeof e||e instanceof String){const[t,n]=await Pi(e);if(!t)return void Xi.terminalLog("error","Dataflow is invalid",n);e=n}const{errors:t,warnings:n,info:r}=await this.editorManager.loadDataflow(e);Array.isArray(t)&&t.length?(Xi.terminalLog("error","Dataflow is invalid",t),Array.isArray(r)&&r.length&&Xi.terminalLog("error","Mismatched specification version",`${r} Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`)):Array.isArray(n)&&n.length?Xi.terminalLog("warning","Dataflow loaded with warning",n):Array.isArray(r)&&r.length&&Xi.terminalLog("info","Dataflow loaded",r)}async requestAppCapabilities(){try{const e=await this.request("app_capabilities_get");this.appCapabilities.value=e}catch(e){this.appCapabilities.value=jl,Vl("warning",e,"Application capabilities cannot be retrieved, using defaults")}}async requestDataflowExport(){const e=this.editorManager.saveDataflow();if(!e)return!1;let t;try{t=await this.request("dataflow_export",{dataflow:e})}catch(e){return Vl("error",e),!1}return 0===t.type?t:(1===t.type?Xi.terminalLog("error",`Error occurred: ${t.content}`,t.content):3===t.type&&Xi.terminalLog("warning",`Warning: ${t.content}`,t.content),!1)}async requestDataflowAction(e,t){const n=this.editorManager.saveDataflow(),r=Zi.get(e);if(!n)return;const o=ps.customMethodRegex.test(e)?ps.customMethodReplace:e;if("dataflow_run"===o){if(r.inProgress)return void Xi.showToast("error","Previous run has not finished, cannot process this request");Xi.showToast("info","Running dataflow")}if(t){let t;r.inProgress=!0;try{t=o.startsWith("dataflow_")?await this.request(e,{dataflow:n}):await this.request(o)}catch(e){return Vl("error",e,"Cannot create a request"),void(r.inProgress=!1)}Dl(t),r.inProgress=!1}else o.startsWith("dataflow_")?this.request(e,{dataflow:n}):this.request(o)}async requestDataflowStop(e){if(Zi.get(e).inProgress)try{Dl(await this.request("dataflow_stop",{method:e}))}catch(e){Vl("error",e)}else Xi.showToast("error","Nothing to stop, no ongoing jobs running")}async importDataflow(){const e=document.getElementById("request-dataflow-button").files[0];if(!e)return;const t=new FileReader,n=(0,ea.charset)(e.type),r=new Promise((e=>{t.onloadend=()=>{e(n?t.result:t.result.replace(/data:.*;base64,/,""))}}));n?t.readAsText(e,n):t.readAsDataURL(e);const o=await r;if(o)try{const t=await this.request("dataflow_import",{external_application_dataflow:o,mime:e.type,base64:!n});if(0===t.type){const{errors:e,warnings:n}=await this.editorManager.loadDataflow(t.content);Array.isArray(e)&&e.length?Xi.terminalLog("error","Dataflow is invalid",e):Array.isArray(n)&&n.length?Xi.terminalLog("warning","Dataflow imported with warning",n):Xi.showToast("info","Imported dataflow")}else if(1===t.type){const e=t.content;Xi.terminalLog("error",`Error occurred: ${t.content}`,e)}else 3===t.type&&Xi.terminalLog("warning",`Warning: ${t.content}`,"Imported dataflow")}catch(e){Vl("error",e)}else Xi.showToast("error","File cannot be loaded")}async notifyAboutChange(e,t){if(this.isConnected()&&this.editorManager.notifyWhenChanged)try{await this.request(e,t)}catch(t){Vl("warning",t,`Notifying about change failed (${e})`)}}async requestTerminalRead(e,t){if(this.isConnected())try{await this.request("terminal_read",{name:e,message:t})}catch(e){Vl("warning",e,"Sending terminal input failed")}}async initializeConnection(e){this.backend&&Xi.terminalLog("info","External application connected successfully",void 0),await Promise.all([this.requestSpecification(),this.requestAppCapabilities()]);try{await this.request("frontend_on_connect")}catch(e){e.code!==Qi.JSONRPCErrorCode.MethodNotFound&&-2!==e.code&&Vl("error",e)}null!==this.connectionHook&&this.connectionHook()}registerConnectionHook(e){this.connectionHook=e}registerApplication(e){this.externalApp=e,this.connectionManager.add(e),null!==this.connectionHook&&this.connectionHook()}registerBackendApplication(e){this.registerApplication(new Il(e,ps)),this.backend=!0}registerFrontendApplication(e,t){const n=(e,n)=>{const[r,o]={[oa]:["error",(0,Qi.createJSONRPCErrorResponse)(t.id,e,n)],[ia]:["warning",(0,Qi.createJSONRPCSuccessResponse)(t.id,n)],[ra]:["info",(0,Qi.createJSONRPCSuccessResponse)(t.id,n)]}[e];return 0!==e&&Xi.terminalLog(r,n),o};return e===window?n(1,"External frontend cannot be a Pipeline Manager itself"):(null!==this.externalApp&&(this.connectionManager.remove(this.externalApp),n(3,"Replacing current external application.")),this.registerApplication(new Ll(e)),this.backend=!1,n(0,"Registered external frontend successfully"))}}let zl;function Ul(){return zl||(zl=new Fl,na&&zl.registerBackendApplication(na)),zl}const Wl={class:"notifications",tabindex:"-1"},Kl={class:"info"},Hl={class:"panel"},ql={components:{Cross:Fi,Notification:Hi},computed:{notifications:()=>Ri.notifications,notificationsLength:()=>Ri.notifications.length},data:()=>({notificationStore:Ri}),methods:{removeAll(){Ri.remove()}}};n(886);const Gl=(0,Pe.A)(ql,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("Cross"),c=(0,i.g2)("Notification");return(0,i.uX)(),(0,i.CE)("div",Wl,[(0,i.Lk)("div",Kl,[(0,i.Lk)("span",null,"Notifications ("+(0,l.v_)(o.notificationStore.notifications.length)+")",1),(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>this.removeAll&&this.removeAll(...e)),tabindex:"-1"},[(0,i.bF)(s),t[1]||(t[1]=(0,i.eW)(" Clear all "))])]),(0,i.Lk)("div",Hl,[(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.notificationsLength,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e},[(0,i.bF)(c,{type:a.notifications[a.notificationsLength-e].type,message:`${a.notifications[a.notificationsLength-e].message}`,index:a.notificationsLength-e,border:"border"},null,8,["type","message","index"])])))),128))])])])}],["__scopeId","data-v-69eabdd8"]]),Xl={class:"settings-panel"},Yl={class:"panel"},Jl={class:"option-label"},Zl={class:"__properties"},Ql={props:{viewModel:{required:!0}},setup(e){const t=Ul(),n=(e,n)=>{t.notifyAboutChange("metadata_on_change",{metadata:{[e]:n}})},r=(0,i.EW)((()=>{const t=new Fo("Connection style",e.viewModel.connectionRenderer.style,[{text:"Curved",value:"curved"},{text:"Orthogonal",value:"orthogonal"},{text:"Alternative orthogonal",value:"alternativeOrthogonal"},{text:"Straight",value:"straight"}]);return t.events.setValue.subscribe(this,(t=>{e.viewModel.connectionRenderer.style=t,n("connectionStyle",t)})),t})),o=(0,i.EW)((()=>{const t=new Lo("Randomized offset",e.viewModel.connectionRenderer.randomizedOffset);return t.events.setValue.subscribe(this,(t=>{e.viewModel.connectionRenderer.randomizedOffset=t,n("randomizedOffset",t)})),t})),a=(0,i.EW)((()=>{const t=new Lo("Modify node types",e.viewModel.settings.editableNodeTypes).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.editableNodeTypes=t,n("editableTypes",t)})),t.componentName="CheckboxInterface",t})),l=(0,i.EW)((()=>{const t=new Lo("Hide anchors",e.viewModel.settings.hideAnchors).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.hideAnchors=t,n("hideAnchors",t)})),t.componentName="CheckboxInterface",t})),c=(0,i.EW)((()=>{const t=new Lo("Show IDs",e.viewModel.settings.showIds).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.showIds=t,n("showIds",t)})),t.componentName="CheckboxInterface",t})),u=(0,i.EW)((()=>{const t=new Lo("Show hidden properties",e.viewModel.settings.showHiddenProperties).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.showHiddenProperties=t,n("showHiddenProperties",t)})),t.componentName="CheckboxInterface",t})),d=(0,i.EW)((()=>{const t=new $o("Background grid size",e.viewModel.settings.background.gridSize);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.background.gridSize=t,n("backgroundSize",t)})),t})),p=(0,i.EW)((()=>{const t=new $o("Node movement step",e.viewModel.movementStep);return t.events.setValue.subscribe(this,(t=>{e.viewModel.movementStep=t,n("movementStep",t)})),t})),h=(0,i.EW)((()=>{const{layoutManager:t}=e.viewModel.editor,r=t.getAvailableAlgorithms().map((e=>({text:e,value:e}))),o=new Fo("Autolayout algorithm",t.usedAlgorithm,r);return o.events.setValue.subscribe(this,(e=>{t.useAlgorithm(e),n("layout",e)})),o})),f=(0,i.EW)((()=>new Ko("Apply autolayout",(()=>{e.viewModel.editor.applyAutolayout()})))),m=(0,i.EW)((()=>new Ko("Clean editor",(()=>{e.viewModel.editor.deepCleanEditor()})))),g=(0,i.EW)((()=>{const t=(0,s.KR)([]);return e.viewModel.layers.forEach((n=>{const r=new Lo(n.name,!1);r.events.setValue.subscribe(this,(()=>{e.viewModel.ignoredLayers.has(n.name)?e.viewModel.ignoredLayers.delete(n.name):e.viewModel.ignoredLayers.add(n.name)})),t.value.push(r)})),t.value})),v=(0,i.EW)((()=>{const t=new Fo("Verbosity of notifications",e.viewModel.logLevel,Object.keys(Gi).map((e=>e.toUpperCase())));return t.events.setValue.subscribe(this,(t=>{e.viewModel.logLevel=t})),t})),y=(0,i.EW)((()=>{if(e.viewModel.editor.readonly)return[];const t=[v.value,r.value,h.value,f.value,d.value,m.value,p.value,o.value,l.value,c.value,u.value];return e.viewModel.settings.toggleableEditableTypes&&t.push(a.value),t}));return{getOptionName:lo,settingOptions:y,disableLayersOptions:g}}};n(30821);const ec=(0,Pe.A)(Ql,[["render",function(e,t,n,r,o,s){return(0,i.uX)(),(0,i.CE)("div",Xl,[t[1]||(t[1]=(0,i.Lk)("div",{class:"setting-header"},[(0,i.Lk)("span",null,"Settings")],-1)),(0,i.Lk)("div",Yl,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.settingOptions,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id},[(0,i.Lk)("div",Jl,(0,l.v_)(r.getOptionName(e.componentName)?`${e.name}:`:""),1),((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128)),(0,i.bo)((0,i.Lk)("div",Zl,[t[0]||(t[0]=(0,i.Lk)("div",{class:"option-label"},"Hide Layers:",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.disableLayersOptions,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128))],512),[[a.aG,0!==r.disableLayersOptions.length]])])])}]]),tc={class:"create-menu"},nc={key:0,class:"option-label"};var rc=n(93149);const oc=(0,i.pM)({props:{modelValue:{type:Boolean,default:!1},saveConfiguration:{required:!0,type:Object}},setup(e,{emit:t}){const n=(t,n)=>[(0,i.EW)((()=>{if(void 0===e.saveConfiguration[n])return;const r=new Lo(t,e.saveConfiguration[n]);return r.events.setValue.subscribe(this,(t=>{e.saveConfiguration[n]=t})),r.setDefaultComponent(),r})),n],r=(0,s.lW)(e,"saveConfiguration"),o=(e,t)=>{const n=()=>{const t=new Do(e);return t.componentName="InputInterface",t.setComponent((0,s.IG)(rc.default)),t},o=(0,i.EW)((()=>void 0!==r.value[t])),a=(0,s.KR)(o.value?n():void 0);return(0,i.wB)(o,((e,t)=>{t!==e&&(a.value=e?n():void 0)})),[a,t]},a=n("Make graph read only","readonly"),l=n("Disable HUD","hideHud"),c=n("Preserve current view location","position"),u=n("Save graph","graph"),d=n("Minify","minify"),p=o("Graph name","graphName"),h=o("File name","saveName"),f=[(0,i.EW)((()=>new Ko("Save",(()=>{e.saveConfiguration.saveCallback(),e.modelValue&&t("update:modelValue",!1)})))),void 0];return{options:(0,i.EW)((()=>[a,l,c,u,d,p,h,f].filter((([e,t])=>void 0!==e.value)).map((([e,t])=>[e.value,t])))),getOptionName:lo}}}),ic=(0,Pe.A)(oc,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",tc,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.options,(([t,n])=>((0,i.uX)(),(0,i.CE)("div",{key:t.id,class:"option"},[e.getOptionName(t.componentName)?((0,i.uX)(),(0,i.CE)("div",nc,(0,l.v_)(t.name),1)):(0,i.Q3)("",!0),((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.component),{intf:t,modelValue:e.saveConfiguration[n],"onUpdate:modelValue":t=>e.saveConfiguration[n]=t,class:(0,l.C4)({"__name-option":e.getOptionName(t.componentName)})},null,8,["intf","modelValue","onUpdate:modelValue","class"]))])))),128))])}]]),ac={class:"popup-menu"},sc={class:"__header"},lc={class:"__header-title"},cc=(0,i.pM)({props:{modelValue:{type:Boolean,default:!1},title:{type:String}},components:{Cross:Fi},setup:(e,{emit:t})=>({close:()=>{e.modelValue&&t("update:modelValue",!1)}})});n(64750);const uc=(0,Pe.A)(cc,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("Cross");return(0,i.uX)(),(0,i.CE)("div",ac,[(0,i.bo)((0,i.Lk)("div",sc,[(0,i.Lk)("div",lc,(0,l.v_)(e.title),1),(0,i.bF)(c,{tabindex:"-1",class:"__close",onClick:e.close},null,8,["onClick"])],512),[[a.aG,e.title]]),(0,i.RG)(e.$slots,"default")])}]]),dc={class:"create-menu"},pc={key:0,class:"option-label"},hc=(0,i.pM)({props:{modelValue:{type:Boolean,default:!1},exportGraph:{required:!0,type:Object}},setup(e,{emit:t}){const n=(t,n)=>[(0,i.EW)((()=>{if(void 0===e.exportGraph[n])return;const r=new $o(t,e.exportGraph[n]);return r.events.setValue.subscribe(this,(t=>{e.exportGraph[n]=t})),r.setDefaultComponent(),r})),n],r=n("Width","width"),o=n("Height","height"),a=[(0,i.EW)((()=>{const e=new Do("File name");return e.componentName="InputInterface",e.setComponent((0,s.IG)(rc.default)),e})),"saveName"],l=[(0,i.EW)((()=>new Ko("Export",(()=>{e.exportGraph.exportCallback(),e.modelValue&&t("update:modelValue",!1)})))),void 0];return{options:(0,i.EW)((()=>[r,o,a,l].filter((([e,t])=>void 0!==e.value)).map((([e,t])=>[e.value,t])))),getOptionName:lo}}}),fc=(0,Pe.A)(hc,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",dc,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.options,(([t,n])=>((0,i.uX)(),(0,i.CE)("div",{key:t.id,class:"option"},[e.getOptionName(t.componentName)?((0,i.uX)(),(0,i.CE)("div",pc,(0,l.v_)(t.name),1)):(0,i.Q3)("",!0),((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.component),{intf:t,modelValue:e.exportGraph[n],"onUpdate:modelValue":t=>e.exportGraph[n]=t,class:(0,l.C4)({"__name-option":e.getOptionName(t.componentName)})},null,8,["intf","modelValue","onUpdate:modelValue","class"]))])))),128))])}]]),mc={class:"create-menu"},gc={class:"option-label"};function vc(){io(!0);const e=Ti.getEditorManagerInstance(),t=Zr.nodeData,n=Zr.editedType;let r=Si;if(void 0!==n){const t=e._unregisterNodeType(n);if(t.length)return void Xi.terminalLog("error","Error when registering the node",t);r=Ei}const o=e.addNodeToEditorSpecification({name:t.name,layer:t.layer,category:t.category,color:t.color,description:t.description,interfaces:Zr.interfaces,properties:Zr.properties,style:r},n,!1);void 0!==o.errors&&o.errors.length?Xi.terminalLog("error","Error when registering the node",o.errors):io(!1)}function yc(e,t=!1){const{viewModel:n}=(0,tr.if)(),{editor:r}=n.value,o=Array.from(r.graphs).map((e=>e.nodes)).flat();return t?o.filter((t=>{var n;return null===(n=t.extends)||void 0===n?void 0:n.includes(e)})):o.filter((t=>t.type===e))}function bc(){io(!0);const e=Zr.nodeData;return yc(Zr.editedType).forEach((t=>{t.type===t.title?t.title=e.name:t.highlightedType=e.name,t.type=e.name,t.layer=e.layer,t.category=e.category,t.color=e.color,t.description=e.description})),vc(),io(!1),[]}function wc(e,t,n=!1){if(void 0===t)return[];let r=[];const o=qo(t);if(Array.isArray(o)&&o.length)return o;const i=Xo(o);return e.forEach((e=>{const t=e.save();Object.keys(i).forEach((t=>{const r=i[t]();n?e.removeInput(t,r):e.addInput(t,r),e.inputs=e.inputs}));const o=e.load(t);r=[...r,...o]})),r}function xc(e,t,n=!1){if(void 0===t)return[];let r=[];const o=Io(t,[],[]);if(Array.isArray(o)&&o.length)return o;const[i,a]=Zo(o);return e.forEach((e=>{const t=e.save();Object.keys(i).forEach((t=>{const r=i[t]();n?e.removeInput(t,r):e.addInput(t,r),e.inputs=e.inputs})),Object.keys(a).forEach((t=>{const r=a[t]();n?e.removeOutput(t,r):e.addOutput(t,r),e.outputs=e.outputs}));const o=e.load(t);r=[...r,...o]})),r}function _c(e){var t,n,r,o,i;const a=Zr.editedType,s=Ti.getEditorManagerInstance(),l=yc(a);if(void 0===l)return void Xi.terminalLog("error","Node not found",`Node of type ${a} not found`);function c(e,t,n){const r=[];return t.forEach((e=>{const t=e.properties.filter((e=>n.includes(e.name)));e.properties=e.properties.filter((e=>!t.includes(e))),r.push(...t.map((e=>e.externalName)).filter((e=>e)))})),r}Zr.properties=Zr.properties.filter((t=>!e.includes(t))),wc(l,e,!0),(null!==(t=s.specification.currentSpecification.nodes.filter((e=>{var t;return null===(t=e.extends)||void 0===t?void 0:t.includes(a)})))&&void 0!==t?t:[]).forEach((t=>{var n,r;t.properties=null!==(r=null===(n=t.properties)||void 0===n?void 0:n.filter((t=>!e.some((e=>e.name===t.name)))))&&void 0!==r?r:[],wc(yc(t.name),e,!0)}));const u=e.map((e=>e.name));[...null!==(n=s.specification.unresolvedSpecification.graphs)&&void 0!==n?n:[],...null!==(r=s.specification.currentSpecification.graphs)&&void 0!==r?r:[]].forEach((e=>{let t=c(0,e.nodes.filter((e=>e.name===a)),u);for(;t.length>0;)t=c(0,e.nodes,t)})),[...null!==(o=s.specification.unresolvedSpecification.nodes)&&void 0!==o?o:[],...null!==(i=s.specification.currentSpecification.nodes)&&void 0!==i?i:[]].forEach((e=>{s.refreshSubgraph(e)})),vc()}function kc(e){var t;const n=Zr.editedType,r=Ti.getEditorManagerInstance();let o=r.validateNodeInterface(e);if(o.length)return void Xi.terminalLog("error","Invalid interface",o);const i=yc(n);void 0!==i?(Zr.interfaces.push(e),o=xc(i,Zr.interfaces),o.length?Xi.terminalLog("error","Invalid interface",o):((null!==(t=r.specification.currentSpecification.nodes.filter((e=>{var t;return null===(t=e.extends)||void 0===t?void 0:t.includes(n)})))&&void 0!==t?t:[]).forEach((t=>{var n;t.interfaces=[...null!==(n=t.interfaces)&&void 0!==n?n:[],e],xc(yc(t.name),[e])})),vc())):Xi.terminalLog("error","Node not found",`Node of type ${n} not found`)}function Cc(e){var t,n,r,o,i;const a=Zr.editedType,s=Ti.getEditorManagerInstance(),l=yc(a);if(void 0===l)return void Xi.terminalLog("error","Node not found",`Node of type ${a} not found`);function c(e,t,n){const r=[];return t.forEach((t=>{const o=t.interfaces.filter((e=>n.includes(e.name))),i=o.map((e=>e.id));e.connections=e.connections.filter((e=>!i.includes(e.from)&&!i.includes(e.to))),t.interfaces=t.interfaces.filter((e=>!i.includes(e.id))),r.push(...o.map((e=>e.externalName)).filter((e=>e)))})),r}Zr.interfaces=Zr.interfaces.filter((t=>!e.includes(t))),xc(l,e,!0),(null!==(t=s.specification.currentSpecification.nodes.filter((e=>{var t;return null===(t=e.extends)||void 0===t?void 0:t.includes(a)})))&&void 0!==t?t:[]).forEach((t=>{var n,r;t.interfaces=null!==(r=null===(n=t.interfaces)||void 0===n?void 0:n.filter((t=>!e.some((e=>e.name===t.name)))))&&void 0!==r?r:[],xc(yc(t.name),e,!0)}));const u=e.map((e=>e.name));[...null!==(n=s.specification.unresolvedSpecification.graphs)&&void 0!==n?n:[],...null!==(r=s.specification.currentSpecification.graphs)&&void 0!==r?r:[]].forEach((e=>{const t=e.nodes.filter((e=>e.name===a));let n=c(e,t,u);for(;n.length>0;)n=c(e,e.nodes,n)})),[...null!==(o=s.specification.unresolvedSpecification.nodes)&&void 0!==o?o:[],...null!==(i=s.specification.currentSpecification.nodes)&&void 0!==i?i:[]].forEach((e=>{s.refreshSubgraph(e)})),vc()}const Sc=function(e,t,n){return(0,i.EW)((()=>{const r=new Do(e,t).setPort(!1);return r.componentName="InputInterface",r.configurationVModel=n,r.setComponent((0,s.IG)(rc.default)),r}))},Ec=(0,i.pM)({setup(){const e={name:"New interface",type:"",direction:(0,s.KR)("inout"),maxConnectionsCount:(0,s.KR)(0)},t=Sc("Interface name",e.name,"name"),n=Sc("Interface type",e.type,"type"),r=(0,i.EW)((()=>{const t=new tr.mk("Interface direction",e.direction.value,["input","output","inout"]).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.direction.value=t})),t.componentName="SelectInterface",t})),o=(0,i.EW)((()=>{const t=new $o("Max connection count",e.maxConnectionsCount.value,-1,100).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.maxConnectionsCount.value=t})),t.componentName="IntegerInterface",t})),a=(0,i.EW)((()=>{const t=new tr.aw("Add interface",(()=>{if(""===e.type)kc({name:e.name,direction:e.direction.value,maxConnectionsCount:e.maxConnectionsCount.value});else{const t=e.type.split(",");kc({name:e.name,type:1===t.length?e.type:t,direction:e.direction.value,maxConnectionsCount:e.maxConnectionsCount.value})}Jr.interfaceMenu=!1}));return t.componentName="ButtonInterface",t}));return{configurationOptions:(0,i.EW)((()=>[t.value,n.value,r.value,o.value])),addInterfaceMenu:a,getOptionName:lo,newInterface:e}}}),Pc=(0,Pe.A)(Ec,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",mc,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.configurationOptions,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.id},[(0,i.Lk)("div",gc,(0,l.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),"InputInterface"===t.componentName?((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.component),{key:0,intf:t,modelValue:e.newInterface[t.configurationVModel],"onUpdate:modelValue":n=>e.newInterface[t.configurationVModel]=n,class:"__name-option"},null,8,["intf","modelValue","onUpdate:modelValue"])):((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.component),{key:1,intf:t,class:"__name-option"},null,8,["intf"]))])))),128)),((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.addInterfaceMenu.component),{intf:e.addInterfaceMenu},null,8,["intf"]))])}]]),Tc={class:"create-menu"},Ac={class:"option-label"};var Mc=n(49098);const Nc=(0,i.pM)({setup(){Jr.configurationMenu.addNode&&(Zr.nodeData={name:"Custom Node",category:"Default category",layer:"",description:""},Zr.properties=[],Zr.interfaces=[],Zr.editedType=void 0,Zr.success=!1);const e=Zr.nodeData,t=()=>{Jr.configurationMenu.visible=!1},n=Sc("Node name","Custom Node","name"),r=Sc("Node category","Default","category");Zr.nodeData.description||(Zr.nodeData.description="");const o=(0,i.EW)((()=>{const e=new Uo("Node description","Description").setPort(!1);return e.componentName="TextAreaInterface",e.configurationVModel="description",e.setComponent((0,s.IG)(Mc.default)),e})),a=(0,i.EW)((()=>{let e;return e=!0===Jr.configurationMenu.addNode?new tr.aw("Create",(()=>{const e=function(){const e=Ti.getEditorManagerInstance(),t=Zr.nodeData,n=Zr.editedType;if(e.baklavaView.editor.nodeTypes.has(t.name)&&(void 0===n||n!==t.name)){const e=[`Node of type ${t.name} already exists. Please pick another type`];return Xi.terminalLog("error","Error when creating a node",e),e}return vc(),[]}();Zr.success=0===e.length,t()})):new tr.aw("Configure",(()=>{const e=bc();Zr.success=0===e.length,t()})),e.componentName="ButtonInterface",e}));return{configurationOptions:(0,i.EW)((()=>[n.value,r.value,o.value])),create:a,getOptionName:lo,newNode:e}}}),Oc=(0,Pe.A)(Nc,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",Tc,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.configurationOptions,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.id},[(0,i.Lk)("div",Ac,(0,l.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.component),{intf:t,modelValue:e.newNode[t.configurationVModel],"onUpdate:modelValue":n=>e.newNode[t.configurationVModel]=n,class:"__name-option"},null,8,["intf","modelValue","onUpdate:modelValue"]))])))),128)),((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.create.component),{intf:e.create},null,8,["intf"]))])}]]),Ic={class:"create-menu"},Rc={class:"option-label"},Lc=(0,i.pM)({setup(){const e={name:"New property",type:(0,s.KR)("text"),default:"Default",min:(0,s.KR)(0),max:(0,s.KR)(0)},t=(0,s.KR)(!1),n=Sc("Property name",e.name,"name"),r=(0,i.EW)((()=>{const n=new tr.mk("Property type",e.type.value,["text","number","integer","bool","slider","constant","hex","multiline"]).setPort(!1);return n.events.setValue.subscribe(this,(n=>{n!==e.type.value&&(["text","constant"].includes(n)?e.default=n:["number","integer","slider","hex"].includes(n)?(e.default=(0,s.KR)(0),["slider"].includes(n)?t.value=!0:t.value=!1):["bool"].includes(n)&&(e.default=(0,s.KR)(!0)),e.type.value=n)})),n.componentName="SelectInterface",n})),o=(0,i.EW)((()=>{if(["text","constant"].includes(e.type.value)){const t=new Do("Default value",e.default).setPort(!1);return t.componentName="InputInterface",t.configurationVModel="default",t.setComponent((0,s.IG)(rc.default)),t}if(["number","integer","slider","hex"].includes(e.type.value)){const t=new tr.qO("Default value",e.default.value).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.default.value=t})),t.componentName="IntegerInterface",t}const t=new tr.b("Default value",e.default.value).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.default.value=t})),t.componentName="CheckboxInterface",t})),a=(0,i.EW)((()=>{const n=new tr.aw("Add property",(()=>{!function(e){var t;const n=Zr.editedType,r=Ti.getEditorManagerInstance();let o=r.validateNodeProperty(e);if(o.length)return void Xi.terminalLog("error","Invalid property",o);const i=yc(n);void 0!==i?(Zr.properties.push(e),o=wc(i,Zr.properties),o.length?Xi.terminalLog("error","Invalid property",o):((null!==(t=r.specification.currentSpecification.nodes.filter((e=>{var t;return null===(t=e.extends)||void 0===t?void 0:t.includes(n)})))&&void 0!==t?t:[]).forEach((t=>{var n;t.properties=[...null!==(n=t.properties)&&void 0!==n?n:[],e],wc(yc(t.name),[e])})),vc())):Xi.terminalLog("error","Node not found",`Node of type ${n} not found`)}({name:e.name,type:e.type.value,default:"string"==typeof e.default?e.default:e.default.value,min:t.value?e.min.value:void 0,max:t.value?e.max.value:void 0}),Jr.propertyMenu=!1}));return n.componentName="ButtonInterface",n})),l=(0,i.EW)((()=>{const e=new tr.b("Use min / max",t.value).setPort(!1);return e.events.setValue.subscribe(this,(e=>{t.value=e})),e.componentName="CheckboxInterface",e})),c=(0,i.EW)((()=>{var t;const n=new tr.qO("Min",null!==(t=e.min.value)&&void 0!==t?t:0).setPort(!1);return n.events.setValue.subscribe(this,(t=>{e.min.value=t})),n.componentName="IntegerInterface",n})),u=(0,i.EW)((()=>{var t;const n=new tr.qO("Max",null!==(t=e.max.value)&&void 0!==t?t:1).setPort(!1);return n.events.setValue.subscribe(this,(t=>{e.max.value=t})),n.componentName="IntegerInterface",n})),d=(0,i.EW)((()=>{let i=[n.value,r.value,o.value];return["number","integer","slider","hex"].includes(e.type.value)&&(["slider"].includes(e.type.value)||i.push(l.value),t.value&&(i=i.concat([c.value,u.value]))),i}));return{configurationOptions:d,addPropertyMenu:a,getOptionName:lo,newProperty:e}}}),jc=(0,Pe.A)(Lc,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",Ic,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.configurationOptions,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.id},[(0,i.Lk)("div",Rc,(0,l.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),"InputInterface"===t.componentName?((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.component),{key:0,intf:t,modelValue:e.newProperty[t.configurationVModel],"onUpdate:modelValue":n=>e.newProperty[t.configurationVModel]=n,class:"__name-option"},null,8,["intf","modelValue","onUpdate:modelValue"])):((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.component),{key:1,intf:t,class:"__name-option"},null,8,["intf"]))])))),128)),((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.addPropertyMenu.component),{intf:e.addPropertyMenu},null,8,["intf"]))])}]]),Dc={class:"create-menu"},$c={class:"option-label"},Bc=(0,i.pM)({setup(){const e=Zr.nodeData,t=Sc("Node layer","Default layer","layer"),n=(0,i.EW)((()=>{const e=new tr.aw("Set layer",(()=>{bc(),Jr.layerMenu=!1}));return e.componentName="ButtonInterface",e}));return{configurationOptions:(0,i.EW)((()=>[t.value])),getOptionName:lo,newNodeData:e,setLayer:n}}}),Vc=(0,Pe.A)(Bc,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",Dc,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.configurationOptions,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.id},[(0,i.Lk)("div",$c,(0,l.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.component),{intf:t,modelValue:e.newNodeData[t.configurationVModel],"onUpdate:modelValue":n=>e.newNodeData[t.configurationVModel]=n,class:"__name-option"},null,8,["intf","modelValue","onUpdate:modelValue"]))])))),128)),((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.setLayer.component),{intf:e.setLayer},null,8,["intf"]))])}]]),Fc={class:"create-menu"},zc={class:"list"},Uc={class:"confirm"},Wc=(0,i.pM)({props:{componentName:{type:String,required:!0},items:{type:Array,required:!0},confirmAction:{type:Function,required:!0},confirmText:{type:String,required:!0}},setup(e){const t=(0,s.KR)([]),n=(0,i.EW)((()=>{const n=(0,s.KR)([]);return e.items.forEach((e=>{const r=new Lo(e.name,!1);r.events.setValue.subscribe(this,(()=>function(e){const n=t.value.indexOf(e);n>=0?t.value.splice(n,1):t.value.push(e)}(e))),n.value.push(r)})),n.value})),r=(0,i.EW)((()=>{const n=new tr.aw(e.confirmText,(()=>{e.confirmAction(t.value),Jr[e.componentName]=!1}));return n.componentName="ButtonInterface",n}));return{selectedItems:t,listedOptions:n,confirmButton:r}}});n(42308);const Kc=(0,Pe.A)(Wc,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",Fc,[(0,i.Lk)("div",zc,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.listedOptions,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128))]),(0,i.Lk)("div",Uc,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.confirmButton.component),{intf:e.confirmButton},null,8,["intf"]))])])}]]),Hc={class:"welcome-container"},qc={class:"subtitle"},Gc={key:0},Xc={class:"drop-text"},Yc={class:"footer-links"},Jc=["href"],Zc={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},Qc=["d"],eu=["points"],tu=[{text:"Documentation",url:"https://antmicro.github.io/kenning-pipeline-manager/introduction.html",icon:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",polyline:"14,2 14,8 20,8"}],nu=(0,i.pM)({props:{loadFiles:{type:Function,required:!0}},setup(e){const t=(0,s.KR)(!1),n=(0,i.EW)((()=>Ti.getEditorManagerInstance().specificationLoaded.value)),r=(0,i.EW)((()=>({VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_WELCOME_MESSAGE)));return{isDragging:t,specificationLoaded:n,welcomeMessage:r,links:tu,handleDrop:({dataTransfer:{files:n}})=>{t.value=!1,n.length&&e.loadFiles(n)}}}});n(17946),n(87792);const ru=(0,Pe.A)(nu,[["render",function(e,t,n,r,o,s){return(0,i.uX)(),(0,i.CE)("div",Hc,[(0,i.Lk)("p",qc,[e.welcomeMessage?((0,i.uX)(),(0,i.CE)("span",Gc,[(0,i.eW)((0,l.v_)(e.welcomeMessage)+" ",1),t[5]||(t[5]=(0,i.Lk)("br",null,null,-1)),t[6]||(t[6]=(0,i.Lk)("br",null,null,-1))])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",{class:(0,l.C4)(["drop-zone",{dragging:e.isDragging}]),onDragover:t[1]||(t[1]=(0,a.D$)((t=>e.isDragging=!0),["prevent"])),onDragleave:t[2]||(t[2]=t=>e.isDragging=!1),onDrop:t[3]||(t[3]=(0,a.D$)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["prevent"]))},[t[9]||(t[9]=(0,i.Lk)("svg",{class:"drop-icon",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none"},[(0,i.Lk)("path",{d:"M12 15V3m0 0l-4 4m4-4l4 4M2 17l.621 2.485A2 2 0 0 0 4.561 21h14.878a2 2 0 0 0\n                        1.94-1.515L22 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),(0,i.Lk)("h3",null,(0,l.v_)(e.specificationLoaded?"Drag & drop graph file or nodes":"Drag & drop specification of nodes"),1),(0,i.Lk)("p",Xc,(0,l.v_)(e.specificationLoaded?"Either upload an existing graph in JSON format or start a new graph by drag and dropping nodes specified in the left sidebar":"Load a specification file in JSON format to provide available node types. Optionally upload both specification and graph"),1),t[10]||(t[10]=(0,i.Lk)("div",{class:"or-divider"},[(0,i.Lk)("span",null,"OR")],-1)),(0,i.Lk)("button",{class:"browse-button",onClick:t[0]||(t[0]=t=>e.$refs.fileInput.click())},[((0,i.uX)(),(0,i.Wv)((0,i.$y)("svg"),{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{default:(0,i.k6)((()=>t[7]||(t[7]=[(0,i.Lk)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),(0,i.Lk)("polyline",{points:"14,2 14,8 20,8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))),_:1,__:[7]})),t[8]||(t[8]=(0,i.eW)(" Browse files "))])],34),(0,i.Lk)("nav",Yc,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.links,(({text:e,url:t,icon:n,polyline:r})=>((0,i.uX)(),(0,i.CE)("a",{key:e,href:t,target:"_blank",class:"footer-link"},[((0,i.uX)(),(0,i.CE)("svg",Zc,[(0,i.Lk)("path",{d:n,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Qc),r?((0,i.uX)(),(0,i.CE)("polyline",{key:0,points:r,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,eu)):(0,i.Q3)("",!0)])),(0,i.eW)(" "+(0,l.v_)(e),1)],8,Jc)))),128))]),(0,i.Lk)("input",{ref:"fileInput",type:"file",onChange:t[4]||(t[4]=t=>e.loadFiles(t.target.files)),multiple:"",accept:".json"},null,544)])}],["__scopeId","data-v-ad09295c"]]),ou={class:"blur-panel"},iu=(0,i.pM)({props:{blur:{type:Boolean,default:!0}},setup:e=>({backgroundColor:(0,i.EW)((()=>e.blur?"#{$gray-600}80":null)),backdropFilter:(0,i.EW)((()=>e.blur?"blur(10px)":null)),position:(0,i.EW)((()=>e.blur?"absolute":null))})}),au=()=>{(0,a.$9)((e=>({"09ab25c4":e.backgroundColor,"416482c2":e.backdropFilter,"5e37c91a":e.position})))},su=iu.setup;iu.setup=su?(e,t)=>(au(),su(e,t)):au;const lu=iu;n(10883);const cu=(0,Pe.A)(lu,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",ou,[(0,i.RG)(e.$slots,"default")])}]]),uu={key:0,class:"__content"},du={class:"__header"},pu=["src"],hu={class:"__node-name"},fu=["href","onPointerover"],mu=["src","alt"],gu={key:0,class:"__id"},vu={class:"__value"},yu={key:0,class:"__title"},bu={key:1,class:"__value"},wu={class:"__category"},xu={class:"__category-name"},_u={key:1,class:"__replace"},ku={key:0,class:"__replace_entry"},Cu={key:1,class:"__replace_entry"},Su={key:2,class:"__replace_entry"},Eu={key:2,class:"__properties"},Pu={class:"__property-name"},Tu={class:"__markdown-content"},Au=["innerHTML"],Mu={key:3,class:"__interface_groups"},Nu={class:"__group-assign"},Ou={class:"__error_outputs"};var Iu=n(41552),Ru=n.n(Iu);const Lu=["id"],ju={key:1},Du={key:2,class:"__property_name"};function $u(e,t){const n=e;let r=-n;return e=>{Date.now()-r<n&&t(e),r=Date.now()}}const Bu=(0,i.pM)({extends:tr.XF.NodeInterface,props:{highlighted:Boolean,picked:Boolean,switchSides:{},toggleGroup:{default:()=>{},required:!1},updateDynamicInterfaces:{default:()=>{},required:!1},sidebar:{default:!1,required:!1},tabindexValue:{default:-1,required:!1}},components:{Arrow:sr},setup(e){const{el:t,isConnected:n,showComponent:r,startHover:o,endHover:a,openSidebar:l}=tr.XF.NodeInterface.setup(e),{viewModel:c}=(0,tr.if)(),{graph:u}=(0,tr.uU)();e.intf.events.beforeSetValue.unsubscribe(e.intf),e.intf.events.beforeSetValue.subscribe(e.intf,((t,n)=>{c.value.editor.readonly&&n(),(void 0!==e.intf.min&&t<e.intf.min||void 0!==e.intf.max&&t>e.intf.max)&&n()})),e.intf.group&&(e.toggleGroup(e.intf),e.intf.events.setValue.unsubscribe(e.intf),e.intf.events.setValue.subscribe(e.intf,(()=>e.toggleGroup(e.intf)))),e.intf.name.endsWith(Po)&&(e.updateDynamicInterfaces(e.intf),e.intf.events.setValue.unsubscribe(e.intf),e.intf.events.setValue.subscribe(e.intf,(()=>e.updateDynamicInterfaces(e.intf))));const d=(0,s.KR)(!1),p=(0,s.KR)(!1),h=$u(700,(()=>{c.value.editor.readonly||(e.switchSides(e.intf),a())})),f=e.intf.port&&"inout"!==e.intf.direction,m=(0,i.EW)((()=>{if("input"===e.intf.direction){if("left"===e.intf.side)return"right";if("right"===e.intf.side)return"down"}if("output"===e.intf.direction){if("left"===e.intf.side)return"down";if("right"===e.intf.side)return"right"}return"down"})),g=(0,i.EW)((()=>({"--input":"left"===e.intf.side,"--output":"right"===e.intf.side,"--connected":n.value,__readonly:c.value.editor.readonly}))),v=(0,i.EW)((()=>void 0!==e.intf.externalName));new tr.lo("External name",e.intf.externalName).setPort(!1).componentName="TextInterface";const y=(0,s.KR)(!1),b=(0,s.KR)(!1),w=(0,s.KR)(null),x=[],_=(0,s.KR)(e.intf.externalName);return{arrowRotation:m,displayArrow:f,editExternalName:y,el:t,enableExternalNameEdit:t=>{x.splice(0,x.length),x.push(...u.value.obtainExposedNames()),x.splice(x.indexOf(e.intf.externalName),1),y.value=!0,t.preventDefault(),(0,i.dY)().then((()=>{w.value.focus(),w.value.select(),b.value=u.value.isIncorrectExternalName(e.intf.externalName,x)}))},endHover:a,endHoverWrapper:()=>{d.value=!1,c.value.editor.readonly||a()},externalNameInput:w,externalNameInputIncorrect:b,externalNameInputCallback:e=>{b.value=u.value.isIncorrectExternalName(e.target.value,x)},externalNameFocusOutCallback:()=>{if(y.value=!1,b.value=!1,_.value===e.intf.externalName)return;const t=u.value.resolveNewExposedName(_.value);_.value=t,c.value.editor.exposeInterface(u.value.id,e.intf,t)},hovered:d,isConnected:n,inputExternalName:_,newClasses:g,onMouseDown:h,openSidebar:l,showComponent:r,isExposed:v,startHover:o,startHoverWrapper:()=>{d.value=!0,c.value.editor.readonly||o()},propertyHovered:p,startPropertyHover:()=>{p.value=!0},endPropertyHover:()=>{p.value=!1},setValue:()=>{if(!e.intf.value)return;if(!v.value&&!Ho.isRegistered(e.intf.id))return;const{editor:t}=c.value,n=Array.from(t.graphs).map((e=>e.nodes)).flat().map((e=>Object.entries(e.inputs))).flat().filter((([e,t])=>e.startsWith("property_"))).map((([e,t])=>t)).filter((t=>t.id===e.intf.id));n.forEach((t=>t.value=e.intf.value))}}}}),Vu=(0,Pe.A)(Bu,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("Arrow");return(0,i.uX)(),(0,i.CE)("div",{id:e.intf.id,ref:"el",class:(0,l.C4)(["baklava-node-interface",e.newClasses])},[e.intf.port?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,l.C4)(["__port",{greyedout_arrow:e.highlighted,picked:e.picked,__square:e.isExposed}]),onMouseenter:t[8]||(t[8]=(...t)=>e.startHoverWrapper&&e.startHoverWrapper(...t)),onMouseleave:t[9]||(t[9]=(...t)=>e.endHoverWrapper&&e.endHoverWrapper(...t)),onPointerdown:t[10]||(t[10]=(0,a.D$)(((...t)=>e.onMouseDown&&e.onMouseDown(...t)),["left"]))},[e.isExposed&&(e.hovered||e.editExternalName)?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,l.C4)({__port_name_left:"left"===e.intf.side,__port_name_right:"right"===e.intf.side})},[e.editExternalName?(0,i.bo)(((0,i.uX)(),(0,i.CE)("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.inputExternalName=t),ref:"externalNameInput",type:"text",spellcheck:"false",autocomplete:"off",class:(0,l.C4)(["__port_input",{__error:e.externalNameInputIncorrect}]),placeholder:"External name",onFocusout:t[1]||(t[1]=(...t)=>e.externalNameFocusOutCallback&&e.externalNameFocusOutCallback(...t)),onKeydown:[t[2]||(t[2]=(0,a.jR)((0,a.D$)((e=>{e.target.blur()}),["exact","stop"]),["enter"])),t[5]||(t[5]=(0,a.D$)((e=>e.stopPropagation()),["ctrl","stop"]))],onInput:t[3]||(t[3]=(...t)=>e.externalNameInputCallback&&e.externalNameInputCallback(...t)),onPointerdown:t[4]||(t[4]=(0,a.D$)((e=>e.stopPropagation()),["left","stop"]))},null,34)),[[a.Jo,e.inputExternalName]]):((0,i.uX)(),(0,i.CE)("span",{key:1,onPointerdown:t[6]||(t[6]=(0,a.D$)(((...t)=>e.enableExternalNameEdit&&e.enableExternalNameEdit(...t)),["left","stop"])),onKeydown:t[7]||(t[7]=(0,a.D$)((()=>{}),["stop"]))},(0,l.v_)(e.intf.externalName),33))],2)):(0,i.Q3)("",!0),e.displayArrow?((0,i.uX)(),(0,i.Wv)(c,{key:1,noninteractable:!0,color:"black",scale:"big",rotate:e.arrowRotation},null,8,["rotate"])):(0,i.Q3)("",!0)],34)):(0,i.Q3)("",!0),(0,i.Lk)("div",{onMouseenter:t[21]||(t[21]=(...t)=>e.startPropertyHover&&e.startPropertyHover(...t)),onMouseleave:t[22]||(t[22]=(...t)=>e.endPropertyHover&&e.endPropertyHover(...t))},[e.showComponent?((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.intf.component),{key:0,modelValue:e.intf.value,"onUpdate:modelValue":t[11]||(t[11]=t=>e.intf.value=t),node:e.node,intf:e.intf,onKeydown:t[12]||(t[12]=(0,a.D$)((()=>{}),["stop"])),tabindex:e.tabindexValue,onClick:e.setValue,onInput:e.setValue},null,40,["modelValue","node","intf","tabindex","onClick","onInput"])):((0,i.uX)(),(0,i.CE)("span",ju,(0,l.v_)(e.intf.name),1)),!e.isExposed||!e.propertyHovered&&!e.editExternalName||e.intf.port||e.sidebar?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Du,[e.editExternalName?(0,i.bo)(((0,i.uX)(),(0,i.CE)("input",{key:0,"onUpdate:modelValue":t[13]||(t[13]=t=>e.inputExternalName=t),ref:"externalNameInput",type:"text",spellcheck:"false",autocomplete:"off",class:(0,l.C4)(["__property_input",{__error:e.externalNameInputIncorrect}]),placeholder:"External name",onFocusout:t[14]||(t[14]=(...t)=>e.externalNameFocusOutCallback&&e.externalNameFocusOutCallback(...t)),onKeydown:[t[15]||(t[15]=(0,a.jR)((0,a.D$)((e=>{e.target.blur()}),["exact","stop"]),["enter"])),t[18]||(t[18]=(0,a.D$)((e=>e.stopPropagation()),["ctrl","stop"]))],onInput:t[16]||(t[16]=(...t)=>e.externalNameInputCallback&&e.externalNameInputCallback(...t)),onPointerdown:t[17]||(t[17]=(0,a.D$)((e=>e.stopPropagation()),["left","stop"]))},null,34)),[[a.Jo,e.inputExternalName]]):((0,i.uX)(),(0,i.CE)("span",{key:1,onPointerdown:t[19]||(t[19]=(0,a.D$)(((...t)=>e.enableExternalNameEdit&&e.enableExternalNameEdit(...t)),["left","stop"])),onKeydown:t[20]||(t[20]=(0,a.D$)((()=>{}),["stop"]))},(0,l.v_)(e.intf.externalName),33))]))],32)],10,Lu)}]]),Fu=(0,i.pM)({props:{top:{type:Number,default:0},left:{type:Number,default:0},text:{type:String,required:!0}},setup:e=>({styles:(0,i.EW)((()=>{const t={};return t.top=`${e.top}px`,t.left=`${e.left}px`,t}))})});n(37832);const zu=(0,Pe.A)(Fu,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",{class:"__tooltip",style:(0,l.Tr)(e.styles)},(0,l.v_)(e.text),5)}]]),Uu={key:0,ref:"root",class:"__spec-editor-section"},Wu={class:"__spec-editor"},Ku=["disabled"],Hu={class:"__validation_errors"},qu={key:1,style:{color:"var(--baklava-control-color-primary)"}};var Gu=n(46670),Xu=n.n(Gu);const Yu=(0,i.pM)({props:{node:{required:!0,type:Object},scrollHandle:{required:!1,type:HTMLElement}},setup(e){const t=Ti.getEditorManagerInstance(),n=(0,s.lW)(e,"node"),r=(0,s.KR)(null),o=(0,s.KR)(null);let a;const l=e=>void 0!==e?Xu().stringify(e):"",c=e=>{const t=e.isCategory??!1,r=n.value?.type;return r===(t?e.category?.split("/").slice(-1)[0]:e.name)},u=(0,s.KR)(null);(0,i.wB)(t.specification.unresolvedSpecification,(()=>{const e=t.specification.unresolvedSpecification,n=t.specification.includedSpecification,r=JSON.parse(JSON.stringify(e));Ti.mergeObjects(r,n),u.value=r}),{immediate:!0});const d=(0,i.EW)((()=>u.value?.nodes?.find(c))),p=(0,s.KR)(l(d.value)),h=(e,t)=>{const n=new Map;return e.forEach((e=>{let r=1;n.has(e[t])&&(r=n.get(e[t])+1),n.set(e[t],r)})),Array.from(n.entries()).filter((([e,t])=>t>1)).map((([e])=>e))},f=e=>{if(!e?.interfaces)return;const t=h(e.interfaces,"name");if(t.length>0)throw new Error(`Conflicting interface names: ${t.join(", ")}`)},m=e=>{const n=t.validateNode(e);if(n.length)throw new Error(n)},g=e=>{if(!e?.properties)return;const t=h(e.properties,"name");if(t.length>0)throw new Error(`Conflicting property names: ${t.join(", ")}`)},v=e=>{const n=t.validateNodeStyle(e);if(n.length)throw new Error(n)},y=()=>{const e=[];try{const t=Xu().parse(p.value.replaceAll("\t","  "));if(JSON.stringify(d.value)===JSON.stringify(t))return[];try{m(t)}catch(t){e.push(t)}try{g(t)}catch(t){e.push(t)}try{f(t)}catch(t){e.push(t)}try{v(t)}catch(t){e.push(t)}}catch(t){e.push(t)}return e},b=(0,s.KR)([]),w=()=>{b.value=y()},x=(0,i.EW)((()=>!t.baklavaView.editor.readonly&&d.value&&t.baklavaView.settings.editableNodeTypes)),_=(0,i.EW)((()=>{try{const e=Xu().parse(p.value.replaceAll("\t","  "));if(JSON.stringify(d.value)===JSON.stringify(e))return!1;const t=Xu().parse(p.value.replaceAll("\t","  "));return m(t),g(t),f(t),!0}catch(e){return!1}})),k=()=>{if(!x.value)return;const{scrollHandle:r}=e;let i;e.scrollHandle&&(i=r.scrollTop),o.value.style.height="auto",o.value.style.height=`${o.value.scrollHeight}px`,void 0!==r&&r.scrollTop<i&&(r.scrollTop=i),t.modifiedNodeSpecificationRegistry[n.value.id]=p.value,o.value&&(o.value.removeEventListener("keyup",o.value.liveValidateListener),o.value.liveValidateListener=()=>{clearTimeout(a),a=setTimeout(w,500)},o.value.addEventListener("keyup",o.value.liveValidateListener))},C=()=>(0,i.dY)().then(k);(0,i.wB)(p,C),(0,i.wB)(x,C),C(),(0,i.wB)(d,(async()=>{p.value=t.modifiedNodeSpecificationRegistry[n.value.id]??l(d.value)}));const S=()=>{if(Jr.configurationMenu.addNode)return;if(n.value.type!==Zr.nodeData.name)return;const e=t.specification.unresolvedSpecification?.nodes?.find(c);d.value=e,p.value=l(e),t.modifiedNodeSpecificationRegistry[n.value.id]=p.value};return(0,i.wB)(Jr,(()=>(0,i.dY)().then(S))),(0,i.sV)((()=>{(0,i.dY)((()=>{k(),setTimeout((()=>{k()}),10)}))})),{el:o,root:r,handleInput:k,currentSpecification:p,specification:d,validate:y,updateSpecification:async()=>{try{const e=y();if(e.length>0)throw new Error(e);const r=Xu().parse(p.value.replaceAll("\t","  ")),{style:o}=r;Array.isArray(o)&&o.includes(Ei)||(r.style=Ti.mergeStyles(o,Ei));const i=n.value.type,a=yc(i);a.forEach((e=>{e.type===e.title?e.title=Ti.getNodeName(r):e.highlightedType=Ti.getNodeName(r),e.type=Ti.getNodeName(r),Object.entries(r).forEach((([t,n])=>{void 0!==n&&"name"!==t&&(e[t]=n)}))}));let s=t.specification.currentSpecification.nodes?.find((e=>Ti.getNodeName(e)===i));void 0===s&&(s=t.specification.currentSpecification.nodes?.find(c)),void 0===s&&(s=t.specification.unresolvedSpecification.nodes?.find(c)),void 0===s&&(s=t.specification.unresolvedSpecification.nodes?.find((e=>Ti.getNodeName(e)===i)));let l=s.properties??[],u=s.interfaces??[],d=[],h=[];r?.extends?.forEach((e=>{const n=t.baklavaView.editor.parentNodes.get(e);d=[...d,...n?.properties??[]],h=[...h,...n?.interfaces??[]]})),l=l.filter((e=>!d.some((t=>t.name===e.name)))),u=u.filter((e=>!h.some((t=>t.name===e.name))));const b=structuredClone(r.properties??[]),w=structuredClone(r.interfaces??[]),x=l.filter((e=>!b.some((t=>t.name===e.name))))??[],_=u.filter((e=>!w.some((t=>t.name===e.name&&t.array===e.array))))??[],k=b.filter((e=>!l.some((t=>t.name===e.name))))??[],C=w.filter((e=>!u.some((t=>t.name===e.name))))??[],S=yc(i,!0)??[];wc([...a,...S],x,!0),xc([...a,...S],_,!0),wc([...a,...S],b),xc([...a,...S],w),(t.specification.currentSpecification.nodes.filter((e=>e.extends?.includes(i)))??[]).forEach((e=>{e.interfaces=e.interfaces?.filter((e=>!_.some((t=>t.name===e.name))))??[],e.properties=e.properties?.filter((e=>!x.some((t=>t.name===e.name))))??[],e.interfaces=[...e.interfaces,...C],e.properties=[...e.properties,...k]}));const E=t._unregisterNodeType(i);if(E.length)return void Xi.terminalLog("error","Error when registering the node",E);const P=t.addNodeToEditorSpecification(r,i);if(void 0!==P.errors&&P.errors.length)throw new Error(P.errors);v(r),f(r),g(r),m(r);const T=Ti.validateSpecification(t.specification.unresolvedSpecification);if(T.length)throw new Error(T);p.value=Xu().stringify(r),t.modifiedNodeSpecificationRegistry[n.value.id]=p.value,Xi.showToast("info","Node validated")}catch(e){const t=Array.isArray(e)?e:[e];Xi.terminalLog("error","Validation failed",t)}},canApplyChanges:_,visible:x,handleTab:async e=>{e.preventDefault(),document.execCommand("insertText",!1,"\t")},formatError:e=>{let t=e&&e.message?e.message:String(e);t=t.replace(/^\s*unresolved_specification\//,"");try{const e=t.match(/\[.*\]/);if(e){const n=JSON.parse(e[0]);Array.isArray(n)&&(t=t.replace(e[0],n.join(", ")))}}catch(e){}return t},cachedValidationResult:b}}});n(43492);const Ju=(0,Pe.A)(Yu,[["render",function(e,t,n,r,o,s){return e.visible?((0,i.uX)(),(0,i.CE)("div",Uu,[t[6]||(t[6]=(0,i.Lk)("div",{class:"__title"},"Specification",-1)),(0,i.Lk)("div",Wu,[(0,i.Lk)("button",{class:"baklava-button __validate-button",disabled:!e.canApplyChanges,onClick:t[0]||(t[0]=(...t)=>e.updateSpecification&&e.updateSpecification(...t))}," Apply ",8,Ku),(0,i.bo)((0,i.Lk)("textarea",{ref:"el","onUpdate:modelValue":t[1]||(t[1]=t=>e.currentSpecification=t),class:"baklava-input __editor",spellcheck:"false",onInput:t[2]||(t[2]=(...t)=>e.handleInput&&e.handleInput(...t)),onKeydown:t[3]||(t[3]=(0,a.jR)(((...t)=>e.handleTab&&e.handleTab(...t)),["tab"]))},null,544),[[a.Jo,e.currentSpecification]]),(0,i.Lk)("p",Hu,[e.cachedValidationResult.length>0?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[t[4]||(t[4]=(0,i.eW)(" Problems:")),t[5]||(t[5]=(0,i.Lk)("br",null,null,-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.cachedValidationResult,((t,n)=>((0,i.uX)(),(0,i.CE)("span",{key:n,style:{color:"var(--baklava-control-color-error)"}},(0,l.v_)(e.formatError(t)),1)))),128))],64)):((0,i.uX)(),(0,i.CE)("span",qu," The specification is valid. "))])])],512)):(0,i.Q3)("",!0)}],["__scopeId","data-v-3d7e1cf0"]]),Zu=(0,i.pM)({components:{Cross:Fi,CustomInterface:Vu,CheckboxInterface:tr.b,NodeSpecificationEditor:Ju,Tooltip:zu},emits:["sidebar-open"],setup(e,{emit:t}){const n=Ti.getEditorManagerInstance(),r=(0,i.EW)((()=>n.baklavaView)),o=(0,i.EW)((()=>r.value.displayedGraph)),a=new(Ru().Converter)({smartIndentationFix:!0,simpleLineBreaks:!0}),l=(0,s.KR)(300),c=(0,i.EW)((()=>{const e=o.value.sidebar.nodeId;return o.value.nodes.find((t=>t.id===e))})),u=(0,i.EW)((()=>o.value.editor.nodeTypes.get(c.value.type).category)),d=(0,i.EW)((()=>`${u.value.split(/(?<!\\)\//).map((e=>e.replace("\\/","/"))).join(" / ")}`)),p=(0,i.EW)((()=>o.value.editor.nodeTypes.get(c.value.type).subgraphId)),h=(0,i.EW)((()=>{let e=a.makeHtml(c.value?.description??"");return e.match(/<a href="[a-zA-Z0-9-$_.+!*'()/&?=:%]+">/gm)?.forEach((t=>{const n=t.split('"'),r=` tabindex="-1" target="_blank"${n[2]}`,o=[n[0],n[1],r].join('"');e=e.replace(t,o)})),e})),f=(0,i.EW)((()=>r.value.editor.getNodeIconPath(c.value?.type))),m=(0,i.EW)((()=>r.value.editor.getNodeURLs(c.value?.type))),g=e=>r.value.cache[`./${e}`]??e,v=(0,i.EW)((()=>g(f.value))),y=(0,i.EW)((()=>o.value.sidebar.visible));(0,i.wB)(c,(()=>{void 0===c.value&&(o.value.sidebar.visible=!1)})),(0,i.wB)(y,(e=>{e&&t("sidebar-open")}));const b=(0,s.KR)(null),w=(0,s.KR)(null),x=(0,s.KR)(null);w.value={top:0,left:0,visible:!1,text:""};const _=(0,i.EW)((()=>({width:`${l.value}px`}))),k=e=>{e.preventDefault(),l.value-=e.movementX},C=(0,i.EW)((()=>Object.values(c.value.inputs).filter((e=>!e.port)))),S=(0,i.EW)((()=>Object.values({...c.value.inputs,...c.value.outputs}).filter((e=>void 0!==e.interfaces)))),E=(0,s.KR)(""),P=(0,i.EW)((()=>({"--disabled":""!==E.value}))),T=(0,i.EW)((()=>{const e=(0,s.KR)([]);return o.value.sidebar.visible,S.value.forEach((t=>{const n=new tr.b(t.name,!t.hidden).setPort(!1);n.events.setValue.subscribe(this,(()=>{const e=Mo(A.value,c.value.inputs,c.value.outputs);e.length?E.value=e.map((([e,t,n])=>`Reused ${t} - ${e} for interface group ${n}`)):E.value=""})),n.componentName="CheckboxInterface",n.intfG=t,e.value.push(n)})),e.value})),A=(0,i.EW)((()=>{const e=[];return T.value.forEach((t=>{t.value&&e.push(`${t.intfG.direction}_${t.intfG.name}`)})),e})),M=(0,i.EW)((()=>{const e=new tr.aw("Assign",(()=>{T.value.forEach((e=>{c.value.toggleInterfaceGroup(e.intfG,e.value)})),E.value=""}));return e.componentName="ButtonInterface",e})),N=e=>{const t=(0,s.KR)([]);return(e??[]).forEach((e=>{const r=new tr.aw(e,(()=>{if(n.baklavaView.editor.parentNodes.has(e)){const t=o.value.replaceNode(c.value,e);o.value.sidebar.nodeId=t.id}}));r.componentName="ButtonInterface",t.value.push(r)})),t.value},O=(0,i.EW)((()=>{const e=new Set;return(c.value.extends??[]).forEach((t=>{const r=n.baklavaView.editor.parentNodes.get(t);void 0!==r&&r.extending?.forEach((t=>e.add(t)))})),e.delete(c.value.type),Array.from(e)})),I=(0,i.EW)((()=>N(c.value.extends))),R=(0,i.EW)((()=>N(c.value.extending))),L=(0,i.EW)((()=>N(O.value))),j=(0,i.EW)((()=>""===c.value.title||void 0===c.value.title?c.value.type:c.value.title));return{graph:o,node:c,styles:_,startResize:()=>{l.value=x.value.offsetWidth,window.addEventListener("mousemove",k),window.addEventListener("mouseup",(e=>{e.preventDefault(),window.removeEventListener("mousemove",k)}),{once:!0})},close:()=>{o.value.sidebar.visible=!1},displayedProperties:C,interfaceGroups:S,interfaceGroupsCheckboxes:T,interfaceGroupsButton:M,interfaceGroupsOutput:E,interfaceGroupsButtonClasses:P,nodeIconPath:v,nodeURLs:m,getIconPath:g,desc:h,tooltip:w,onPointerOver:(e,t)=>{w.value.text=e,w.value.visible=!0,(0,i.dY)().then((()=>{const e=t.clientX-t.offsetX+t.currentTarget.offsetWidth/2+b.value.$el.clientWidth;w.value.top=t.clientY-t.offsetY+t.currentTarget.offsetHeight,e>window.innerWidth?w.value.left=t.clientX-t.offsetX+t.currentTarget.offsetWidth/2-b.value.$el.clientWidth/2:w.value.left=t.clientX-t.offsetX+t.currentTarget.offsetWidth/2}))},onPointerLeave:()=>{w.value.visible=!1},tooltipRef:b,sidebarRef:x,toggleGroup:e=>{e.group.forEach((t=>{c.value.inputs[t].hidden=!e.value}))},getOptionName:lo,prettyCategory:d,replacementParents:I,replacementChildren:R,replacementSiblings:L,editorManager:n,displayedName:j,updateDynamicInterfaces:e=>{c.value.updateDynamicInterfaces(e)},subgraphId:p}}});n(50565);const Qu=(0,Pe.A)(Zu,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("Tooltip"),u=(0,i.g2)("Cross"),d=(0,i.g2)("CustomInterface"),p=(0,i.g2)("NodeSpecificationEditor");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bo)((0,i.bF)(c,{ref:"tooltipRef",left:e.tooltip.left,top:e.tooltip.top,text:e.tooltip.text},null,8,["left","top","text"]),[[a.aG,e.tooltip.visible]]),(0,i.Lk)("div",{class:(0,l.C4)(["baklava-sidebar prevent-select",{"--open":e.graph.sidebar.visible,"--hidehud":e.editorManager.editor.hideHud,"--preview":e.editorManager.editor.preview,"hidden-navbar":e.$isMobile}]),ref:"sidebarRef",style:(0,l.Tr)(e.styles)},[(0,i.Lk)("div",{class:"__resizer",onMousedown:t[0]||(t[0]=(...t)=>e.startResize&&e.startResize(...t))},null,32),e.node?((0,i.uX)(),(0,i.CE)("div",uu,[(0,i.Lk)("div",du,[(0,i.bF)(u,{tabindex:"-1",class:"__close",onClick:e.close},null,8,["onClick"]),void 0!==e.nodeIconPath?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"__node-icon",src:e.nodeIconPath},null,8,pu)):(0,i.Q3)("",!0),(0,i.Lk)("div",hu,(0,l.v_)(e.displayedName),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.nodeURLs,(n=>((0,i.uX)(),(0,i.CE)("a",{key:n.name,href:n.url,class:"__url",target:"_blank",draggable:"false",onPointerover:t=>e.onPointerOver(n.name,t),onPointerleave:t[1]||(t[1]=(...t)=>e.onPointerLeave&&e.onPointerLeave(...t)),tabindex:"-1"},[void 0!==n.icon?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.getIconPath(n.icon),alt:n.name,draggable:"false"},null,8,mu)):(0,i.Q3)("",!0)],40,fu)))),128))]),e.editorManager.baklavaView.settings.showIds?((0,i.uX)(),(0,i.CE)("div",gu,[t[2]||(t[2]=(0,i.Lk)("div",{class:"__title"},"Node ID",-1)),(0,i.Lk)("div",vu,(0,l.v_)(e.node.id),1),e.subgraphId?((0,i.uX)(),(0,i.CE)("div",yu,"Subgraph ID")):(0,i.Q3)("",!0),e.subgraphId?((0,i.uX)(),(0,i.CE)("div",bu,(0,l.v_)(e.subgraphId),1)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("div",wu,[t[3]||(t[3]=(0,i.Lk)("div",{class:"__title"},"Category",-1)),(0,i.Lk)("div",xu,(0,l.v_)(e.prettyCategory),1)],512),[[a.aG,e.prettyCategory]]),e.editorManager.editor.readonly?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",_u,[e.replacementParents.length?((0,i.uX)(),(0,i.CE)("div",ku,[t[4]||(t[4]=(0,i.Lk)("div",{class:"__replace_title"},"Generalize:",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.replacementParents,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e,class:"__replace_button"},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128))])):(0,i.Q3)("",!0),e.replacementChildren.length?((0,i.uX)(),(0,i.CE)("div",Cu,[t[5]||(t[5]=(0,i.Lk)("div",{class:"__replace_title"},"Specialize:",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.replacementChildren,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e,class:"__replace_button"},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128))])):(0,i.Q3)("",!0),e.replacementSiblings.length?((0,i.uX)(),(0,i.CE)("div",Su,[t[6]||(t[6]=(0,i.Lk)("div",{class:"__replace_title"},"Choose other type:",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.replacementSiblings,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e,class:"__replace_button"},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128))])):(0,i.Q3)("",!0)])),e.displayedProperties.length?((0,i.uX)(),(0,i.CE)("div",Eu,[t[7]||(t[7]=(0,i.Lk)("div",{class:"__title"},"Properties",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.displayedProperties,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.id,class:"__property"},[(0,i.Lk)("div",Pu,(0,l.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),(0,i.bF)(d,{node:e.node,intf:t,toggleGroup:e.toggleGroup,updateDynamicInterfaces:e.updateDynamicInterfaces,sidebar:"true",tabindex:"-1"},null,8,["node","intf","toggleGroup","updateDynamicInterfaces"])])))),128))])):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("div",null,[t[8]||(t[8]=(0,i.Lk)("div",{class:"__title"}," Description ",-1)),(0,i.Lk)("div",Tu,[(0,i.Lk)("span",{innerHTML:e.desc,class:"node_description"},null,8,Au)])],512),[[a.aG,e.desc]]),e.interfaceGroupsCheckboxes.length>0&&!e.editorManager.editor.readonly?((0,i.uX)(),(0,i.CE)("div",Mu,[t[9]||(t[9]=(0,i.Lk)("div",{class:"__title"},"Interface Groups",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.interfaceGroupsCheckboxes,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"__group"},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.component),{intf:e},null,8,["intf"]))])))),128)),(0,i.Lk)("div",Nu,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.interfaceGroupsButton.component),{intf:e.interfaceGroupsButton,class:(0,l.C4)(e.interfaceGroupsButtonClasses),tabindex:"-1"},null,8,["intf","class"]))])])):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("div",Ou,[t[10]||(t[10]=(0,i.Lk)("div",{class:"__title"},"Conflicts:",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.interfaceGroupsOutput,(e=>((0,i.uX)(),(0,i.CE)("p",null,(0,l.v_)(e),1)))),256))],512),[[a.aG,e.interfaceGroupsOutput.length]]),(0,i.bF)(p,{node:e.node,scrollHandle:e.sidebarRef},null,8,["node","scrollHandle"])])):(0,i.Q3)("",!0)],6)],64)}],["__scopeId","data-v-f928b04a"]]),ed={class:"details-panel"},td={class:"__content"},nd={class:"=__header"},rd={class:"__title"},od={key:0,class:"__properties"},id={class:"__property-name"},ad={key:1,class:"__properties"},sd={components:{CustomInterface:Vu},setup(){const e=Ti.getEditorManagerInstance(),t=(0,i.EW)((()=>e.baklavaView)),n=(0,i.EW)((()=>t.value.editor.graph.graphNode)),r=(0,i.EW)((()=>void 0!==n.value)),o=(0,i.EW)((()=>n.value?""!==n.value.title?n.value.title:n.value.type:t.value.editor.graph.name)),a=(0,i.EW)((()=>n.value?Object.values(n.value.inputs).filter((e=>!e.port)):t.value.editor.getExposedProperties()));return{viewModel:t,node:n,graphNodeName:o,displayedProperties:a,getOptionName:lo,toggleGroup:e=>{e.group.forEach((t=>{n.value.inputs[t].hidden=!e.value}))},updateDynamicInterfaces:e=>{n.value.updateDynamicInterfaces(e)},addProperties:()=>{Zr.editedType=n.value.type;const e=a.value?.map((e=>({name:e?.name,type:e?.type,default:e?.value,min:e?.min,max:e?.max,values:e?.items,step:e?.step,readonly:e?.readonly,dtype:e?.dtype})));Zr.properties=e,Jr.propertyMenu=!0},inSubgraph:r}}};n(46312);const ld=(0,Pe.A)(sd,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("CustomInterface");return(0,i.uX)(),(0,i.CE)("div",ed,[(0,i.Lk)("div",td,[(0,i.Lk)("div",nd,[(0,i.Lk)("div",rd,(0,l.v_)(r.graphNodeName),1)]),r.displayedProperties.length?((0,i.uX)(),(0,i.CE)("div",od,[t[1]||(t[1]=(0,i.Lk)("div",{class:"__title"},"Properties",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.displayedProperties,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"__property"},[(0,i.Lk)("div",id,(0,l.v_)(r.getOptionName(e.componentName)?`${e.name}:`:""),1),(0,i.bF)(s,{node:r.node,intf:e,toggleGroup:r.toggleGroup,updateDynamicInterfaces:r.updateDynamicInterfaces,sidebar:"true",tabindex:"-1"},null,8,["node","intf","toggleGroup","updateDynamicInterfaces"])])))),128))])):(0,i.Q3)("",!0),r.viewModel.settings.editableNodeTypes&&r.inSubgraph?((0,i.uX)(),(0,i.CE)("div",ad,[(0,i.Lk)("button",{class:"baklava-button __validate-button",onClick:t[0]||(t[0]=(...e)=>r.addProperties&&r.addProperties(...e))}," Add properties ")])):(0,i.Q3)("",!0)])])}]]),cd={width:"12",height:"14",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ud={},dd=(0,Pe.A)(ud,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("svg",cd,t[0]||(t[0]=[(0,i.Lk)("path",{d:"M1.89375 13.625C1.58438 13.625 1.31953 13.5148 1.09922 13.2945C0.878906 13.0742 0.76875 12.8094 0.76875 12.5V1.8125H0V0.6875H3.525V0.125H8.475V0.6875H12V1.8125H11.2313V12.5C11.2313 12.8 11.1188 13.0625 10.8938 13.2875C10.6688 13.5125 10.4063 13.625 10.1063 13.625H1.89375ZM10.1063 1.8125H1.89375V12.5H10.1063V1.8125ZM3.88125 10.8875H5.00625V3.40625H3.88125V10.8875ZM6.99375 10.8875H8.11875V3.40625H6.99375V10.8875Z",fill:"#E5E5E5"},null,-1)]))}]]),pd={width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hd={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(72042);const fd=(0,Pe.A)(hd,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",pd,[(0,i.Lk)("path",{d:"M17 18C15.89 18 15 18.89 15 20C15 20.5304 15.2107 21.0391 15.5858 21.4142C15.9609 21.7893 16.4696 22 17 22C17.5304 22 18.0391 21.7893 18.4142 21.4142C18.7893 21.0391 19 20.5304 19 20C19 19.4696 18.7893 18.9609 18.4142 18.5858C18.0391 18.2107 17.5304 18 17 18ZM1 2V4H3L6.6 11.59L5.24 14.04C5.09 14.32 5 14.65 5 15C5 15.5304 5.21071 16.0391 5.58579 16.4142C5.96086 16.7893 6.46957 17 7 17H19V15H7.42C7.3537 15 7.29011 14.9737 7.24322 14.9268C7.19634 14.8799 7.17 14.8163 7.17 14.75C7.17 14.7 7.18 14.66 7.2 14.63L8.1 13H15.55C16.3 13 16.96 12.58 17.3 11.97L20.88 5.5C20.95 5.34 21 5.17 21 5C21 4.73478 20.8946 4.48043 20.7071 4.29289C20.5196 4.10536 20.2652 4 20 4H5.21L4.27 2M7 18C5.89 18 5 18.89 5 20C5 20.5304 5.21071 21.0391 5.58579 21.4142C5.96086 21.7893 6.46957 22 7 22C7.53043 22 8.03914 21.7893 8.41421 21.4142C8.78929 21.0391 9 20.5304 9 20C9 19.4696 8.78929 18.9609 8.41421 18.5858C8.03914 18.2107 7.53043 18 7 18Z",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-01af3b1e"]]),md={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},gd={},vd=(0,Pe.A)(gd,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("svg",md,t[0]||(t[0]=[(0,i.Lk)("g",{"clip-path":"url(#clip0_1486_1332)"},[(0,i.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.36204 3.63607L8.72565 9.99968L2.36204 16.3633L3.63483 17.6361L9.99844 11.2725L16.362 17.6361L17.6348 16.3633L11.2712 9.99968L17.6348 3.63607L16.362 2.36328L9.99844 8.72688L3.63483 2.36328L2.36204 3.63607ZM2.5 10.6993C2.8866 10.6993 3.2 10.3859 3.2 9.9993C3.2 9.6127 2.8866 9.2993 2.5 9.2993C2.1134 9.2993 1.8 9.6127 1.8 9.9993C1.8 10.3859 2.1134 10.6993 2.5 10.6993ZM4.8331 10.8993C4.47179 11.8353 3.56344 12.4993 2.5 12.4993C1.11929 12.4993 0 11.38 0 9.9993C0 8.61859 1.11929 7.4993 2.5 7.4993C3.56344 7.4993 4.47179 8.16329 4.8331 9.0993H6.5V10.8993H4.8331ZM17.5 10.6993C17.8866 10.6993 18.2 10.3859 18.2 9.9993C18.2 9.6127 17.8866 9.2993 17.5 9.2993C17.1134 9.2993 16.8 9.6127 16.8 9.9993C16.8 10.3859 17.1134 10.6993 17.5 10.6993ZM17.5 12.4993C18.8807 12.4993 20 11.38 20 9.9993C20 8.61859 18.8807 7.4993 17.5 7.4993C16.4366 7.4993 15.5282 8.16329 15.1669 9.0993H13.5V10.8993H15.1669C15.5282 11.8353 16.4366 12.4993 17.5 12.4993Z",fill:"white"})],-1),(0,i.Lk)("defs",null,[(0,i.Lk)("clipPath",{id:"clip0_1486_1332"},[(0,i.Lk)("rect",{width:"20",height:"20",fill:"white"})])],-1)]))}]]),yd={class:"__title-icon",width:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"};n(26164);const bd={},wd=(0,Pe.A)(bd,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("svg",yd,t[0]||(t[0]=[(0,i.Lk)("circle",{cx:"10",cy:"10",r:"4"},null,-1)]))}],["__scopeId","data-v-75ab5d68"]]),xd={width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_d={},kd=(0,Pe.A)(_d,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("svg",xd,t[0]||(t[0]=[(0,i.Lk)("path",{id:"Vector",d:"M6 21H18M12 3V17M12 17L17 12M12 17L7 12",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}]]),Cd={width:"7",height:"7",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Sd={props:{color:{type:String,required:!1}}};n(32133);const Ed=(0,Pe.A)(Sd,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",Cd,[(0,i.Lk)("path",{class:(0,l.C4)(["indicator",[n.color]]),d:"M 21.961621,11 C 21.961621,17.056769 17.053947,21.966731 11,21.966731 4.9460531,21.966731 0.03837869,17.056769 0.03837869,11 0.03837869,4.9432309 4.9460531,0.03326902 11,0.03326902 17.053947,0.03326902 21.961621,4.9432309 21.961621,11 Z",fill:"#6f6f6f"},null,2)])}]]),Pd={class:"__title-icon",width:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"};n(8157);const Td={},Ad=(0,Pe.A)(Td,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("svg",Pd,t[0]||(t[0]=[(0,i.Lk)("circle",{cx:"10",cy:"10",r:"4"},null,-1)]))}],["__scopeId","data-v-6e7ec49e"]]),Md={width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Nd={},Od=(0,Pe.A)(Nd,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("svg",Md,t[0]||(t[0]=[(0,i.Lk)("path",{d:"M0.839382 9.84241L0 14L4.15783 13.1617L14 3.3193L10.681 0L0.839382 9.84241ZM3.5821 12.0872L1.49269 12.5095L1.91325 10.4188L3.5821 12.0872ZM12.3498 3.31814L4.4069 11.2623L2.73864 9.59332L9.05296 3.27789L10.7131 4.93812L11.5379 4.11325L9.87776 2.45302L10.681 1.64974L12.3498 3.31814Z",fill:"#E5E5E5"},null,-1)]))}]]),Id={width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"stopdataflow"},Rd=(0,i.pM)({props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,white:!e.hover})))})});n(96080);const Ld=(0,Pe.A)(Rd,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",Id,[(0,i.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 11,20.553914 c 5.276436,0 9.553914,-4.277478 9.553914,-9.553914 0,-5.2764865 -4.277478,-9.553914 -9.553914,-9.553914 -5.2764865,0 -9.553914,4.2774275 -9.553914,9.553914 0,5.276436 4.2774275,9.553914 9.553914,9.553914 z M 15.458494,9.089217 H 6.5415069 v 3.821566 h 8.9169871 z",fill:"#6F6F6F",class:(0,l.C4)([[e.hoverStatus],"highlighted"]),"stroke-width":"0"},null,2)])}],["__scopeId","data-v-1fc3c03b"]]),jd={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Dd={},$d=(0,Pe.A)(Dd,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("svg",jd,t[0]||(t[0]=[(0,i.Lk)("path",{d:"M17.9982 2H14.2335H10.4688M17.9982 2V5.29412V9.52941M17.9982 2L14.2335 5.76471L12.3511 7.64706L11.4099 8.58824",stroke:"white","stroke-width":"2"},null,-1),(0,i.Lk)("path",{d:"M2.00184 18L5.76654 18L9.53125 18M2.00184 18L2.00184 14.7059L2.00184 10.4706M2.00184 18L5.76654 14.2353L7.6489 12.3529L8.59007 11.4118",stroke:"white","stroke-width":"2"},null,-1)]))}]]),Bd=["innerHTML"],Vd=["src"];var Fd=n(42838),zd=n.n(Fd);const Ud={props:{imgURI:{type:String,required:!0},hover:{type:Boolean,required:!1}},setup(e){const t=e.imgURI.startsWith("data:image");if(!t)return{isSvg:t};const n=document.createElement("div"),r=atob(e.imgURI.slice(26));n.innerHTML=zd().sanitize(r,{svg:!0});const o=n.firstElementChild;return(0,i.wB)((()=>e.hover),((e,t)=>{e?o.classList?o.classList.add("hovered"):o.className+=" hovered":o.classList?o.classList.remove("hovered"):o.className-=" hovered"})),{isSvg:t,svgElem:o}}};n(35189);const Wd=(0,Pe.A)(Ud,[["render",function(e,t,n,r,o,a){return r.isSvg?((0,i.uX)(),(0,i.CE)("div",{key:0,innerHTML:r.svgElem.outerHTML},null,8,Bd)):((0,i.uX)(),(0,i.CE)("img",{key:1,src:n.imgURI},null,8,Vd))}]]),Kd={width:"14",height:"14",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hd={},qd=(0,Pe.A)(Hd,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("svg",Kd,t[0]||(t[0]=[(0,i.Fv)('<g clip-path="url(#clip0_1726_192)"><path d="M14 1.5H19V6.5H14V1.5Z" stroke="white" stroke-width="2"></path><path d="M14 13.5H19V18.5H14V13.5Z" stroke="white" stroke-width="2"></path><path d="M1 7.5H6V12.5H1V7.5Z" stroke="white" stroke-width="2"></path><path d="M7 10V10C8.65685 10 10 8.65685 10 7V7C10 5.34315 11.3431 4 13 4V4" stroke="white" stroke-width="2"></path><path d="M13 16V16C11.3431 16 10 14.6569 10 13V13C10 11.3431 8.65685 10 7 10V10" stroke="white" stroke-width="2"></path></g>',1)]))}]]),Gd={width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Xd={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(45496);const Yd={Arrow:sr,Backend:xr,Bell:Cr,Bin:dd,Buy:fd,CassetteStop:Mr,Cogwheel:$r,Collapse:hr,Cross:Fi,Cube:Pr,Disconnect:vd,EditedNode:wd,ExclamationMark:Ui,Expand:ur,Import:kd,Indicator:Ed,Logo:ir,Magnifier:Fr,NewNode:Ad,Pencil:Od,Placeholder:Wd,Run:gr,Sidebar:Kr,StopDataflow:Ld,Subgraph:qd,Unwrap:$d,Validate:br,Save:(0,Pe.A)(Xd,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",Gd,[(0,i.Lk)("path",{d:"M19.3209 0L26 5.81598V23H0V0H19.3209ZM2.88889 20.125H5.77778V12.2188H20.2222V20.125H23.1111V7.12012L18.2347 2.875H2.88889V20.125ZM8.66667 20.125H17.3333V15.0938H8.66667V20.125ZM11.5556 5.75C12.3533 5.75 13 6.39359 13 7.1875C13 7.98141 12.3533 8.625 11.5556 8.625H7.22222C6.42448 8.625 5.77778 7.98141 5.77778 7.1875C5.77778 6.39359 6.42448 5.75 7.22222 5.75H11.5556Z",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-a55b147a"]])},Jd={components:{Logo:ir,Arrow:sr,Run:gr,CassetteStop:Mr,Validate:br,Backend:xr,Bell:Cr,DropdownItem:Lr,Expand:ur,Collapse:hr,Notifications:Gl,Magnifier:Fr,Cogwheel:$r,Sidebar:Kr,Settings:ec,Cube:Pr,ParentMenu:uc,SaveMenu:ic,ExportMenu:fc,NodeConfigurationMenu:Oc,PropertyConfigurationMenu:jc,InterfaceConfigurationMenu:Pc,Panel:cu,CustomSidebar:Qu,LayerConfigurationMenu:Vc,ListMenu:Kc,GraphDetails:ld},computed:{dataflowGraphName(){return this.editorManager.editor.graphName},graphId(){return this.editorManager.baklavaView.displayedGraph.id},editorTitle(){if(void 0===this.graphName)return this.appName;const e=this.graphName.trim();return""===e?this.appName:e},preview(){const e=new URLSearchParams(window.location.search);return!!e.has("preview")&&"true"===e.get("preview")},hideHud(){return this.editorManager.editor.hideHud},readonly(){return this.editorManager.editor.readonly},settingsOpen(){return this.panels.settings.isOpen},notificationsOpen(){return this.panels.notifications.isOpen},paletteOpen(){return this.panels.palette.isOpen},externalAppStatus(){return this.panels.externalAppStatus.isOpen},leftButtonsQuantity(){return this.$refs.leftButtons.children.length},rightButtonsQuantity(){return this.$refs.rightButtons.children.length},isNavBarCompressed(){return this.isMounted&&this.windowWidth<(this.leftButtonsQuantity+this.rightButtonsQuantity)*this.buttonWidth+this.searchbarWidthMultiplcity*this.buttonWidth+.5*this.buttonWidth},mobileClasses(){return{"compressed-mobile":this.isNavBarCompressed}},nodesearchInputStyles(){return{width:this.searchbarWidthMultiplcity*this.buttonWidth+"px"}},leftContainerStyles(){return this.isNavBarCompressed?{"flex-grow":this.leftButtonsQuantity}:{}},rightContainerStyles(){return this.isNavBarCompressed?{"flex-grow":this.rightButtonsQuantity,"justify-content":"right"}:{"justify-content":"right"}},activeNavbarItems(){return this.activeNavbarItemsNames},parentGraph(){return this.editorManager.getParentGraph()}},watch:{dataflowGraphName(e){this.graphName=e,da.reset(),pa.reset()},graphName(e){this.editorManager.updateSubgraphName(e),da.reset(),pa.reset()},searchEditorNodesQuery(e){const{viewModel:t}=(0,tr.if)();t.value.editor.searchQuery=""!==e?e.toLowerCase():void 0},navbarItems(e){e.forEach((e=>{void 0===Yd[e.iconName]?(e.icon=(0,s.IG)(Yd.Placeholder),e.iconName=this.editorManager.baklavaView.cache[`./${e.iconName}`]):e.icon=(0,s.IG)(Yd[e.iconName])})),this.activeNavbarItemsNames=e.map((e=>e.procedureName))}},data(){const e=Ti.getEditorManagerInstance(),t=e.baklavaView.editor.graphName??"",n={VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_EDITOR_TITLE??"Pipeline Manager",r=Ul(),o=(0,i.EW)((()=>[...e.baklavaView.navbarItems,...r.appCapabilities.value])),a=new Do("Graph name","");a.setDefaultComponent();const l=(0,s.KR)("");return Zi.setHook(this.updateActiveNavbarItems),(0,i.Gt)("hoveredOver",(()=>{})),{appName:n,graphName:t,editorManager:e,editorTitleInterface:a,menuState:Jr,configurationState:Zr,removeInterfaces:Cc,removeProperties:_c,externalApplicationManager:r,externalApp:{available:!1,connected:!1,backend:!1},navbarItems:o,activeNavbarItemsNames:[],saveConfiguration:pa,saveGraphConfiguration:pa,saveSpecificationConfiguration:da,exportGraph:ha,saveMenuShow:!1,exportMenuShow:!1,editTitle:!1,notificationStore:Ri,showSearch:!1,crossIcon:(0,s.IG)(Yd.Cross),searchEditorNodesQuery:l,navbarGuard:!1,isMounted:!1,windowWidth:0,buttonWidth:0,searchbarWidthMultiplcity:4,hoverInfo:{isHovered:!1,hoveredPanel:void 0},panels:{notifications:{isOpen:!1,class:".notifications",iconRef:"notifications",showTransform:"-495px, 0px",hideTransform:"0px, 0px"},palette:{isOpen:!this.$isMobile,class:".baklava-node-palette",iconRef:"palette",showTransform:"0px, 0px",hideTransform:"-450px, 0px"},externalAppStatus:{isOpen:!1,class:".external-app-status",iconRef:"backend",showTransform:"-89%, 0px",hideTransform:"-89%, -180px"},settings:{isOpen:!1,class:".settings-panel",iconRef:"settings",showTransform:"-495px, 0px",hideTransform:"0px, 0px"},nodesearch:{isOpen:!1},fullscreen:{isOpen:nr.api.isFullscreen},graphDetails:{isOpen:!1,class:".details-panel",iconRef:"graphDetails",showTransform:"-495px, 0px",hideTransform:"0px, 0px"}}}},methods:{async loadSpecification(e){const t=Ti.validateSpecification(e);if(Array.isArray(t)&&t.length){let n;Xi.terminalLog("error","Specification is invalid",t);try{n=JSON.parse(e).version}catch{return Promise.resolve()}return this.editorManager.specificationVersion!==n&&Xi.terminalLog("error","Mismatched specification version",`Specification version (${n}) differs from the current version (${this.editorManager.specificationVersion}). It may result in unexpected behaviour. Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`),Promise.resolve()}return this.editorManager.updateEditorSpecification(e).then((({errors:e,warnings:t,info:n})=>{Array.isArray(t)&&t.length&&Xi.terminalLog("warning","Issue when loading specification",t),Array.isArray(e)&&e.length?(Xi.terminalLog("error","Specification is invalid",e),Array.isArray(n)&&n.length&&Xi.terminalLog("error","Mismatched specification version",`${n} Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`)):Array.isArray(n)&&n.length&&Xi.terminalLog("info","Specification loaded",n)}))},createNewGraphCallback(){ao(),this.editorManager.editor.deepCleanEditor(!1),so()},async loadSpecificationCallback(){const e=document.getElementById("load-spec-button").files[0];e&&(await aa((async()=>{const t=await e.text();return this.loadSpecification(t)}),this.editorManager.baklavaView.editor.events.setLoad),document.getElementById("load-spec-button").value="")},togglePanel(e,t=!1){const n=document.querySelector(e.class),r=this.$refs[e.iconRef];e.isOpen=!t&&!e.isOpen;const o=e.isOpen;n&&(n.style.transition=`transform ${o?"0.4":"0.2"}s`,n.style.transform=`translate(${o?e.showTransform:e.hideTransform})`,r.classList.toggle("open",o))},toggleFullscreen(){nr.api.isEnabled?nr.api.toggle():Xi.showToast("error","Fullscreen is not supported")},clickOutside(e,t){const n=this.$refs[t.iconRef];if(!n)return;const r=e.target;r instanceof Node&&(n.contains(r)||n===r)||this.togglePanel(t,!0)},setEditTitle(){this.readonly||(this.editTitle=!0,this.$nextTick((()=>this.$refs.editorTitleInput._.refs.el.focus())))},async loadDataflow(e){return this.editorManager.loadDataflow(e).then((({errors:e,warnings:t,info:n})=>{if(Array.isArray(t)&&t.length&&Xi.terminalLog("warning","Issue when loading dataflow",t),Array.isArray(e)&&e.length){const t="Dataflow is invalid";Xi.terminalLog("error",t,e),Array.isArray(n)&&n.length&&Xi.terminalLog("error","Mismatched dataflow version",`${n} Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`)}else Array.isArray(n)&&n.length&&Xi.terminalLog("info","Dataflow loaded",n)}))},async loadDataflowCallback(){const e=document.getElementById("load-dataflow-button").files[0];e&&(await aa((async()=>{let t=null;try{t=er().parse(await e.text())}catch(e){return void(e instanceof SyntaxError?Xi.terminalLog("error","Not a proper JSON file",e.toString()):Xi.terminalLog("error","Unknown error",e.toString()))}await this.externalApplicationManager.notifyAboutChange("graph_on_change",{dataflow:t}),await this.loadDataflow(t)}),this.editorManager.baklavaView.editor.events.setLoad),document.getElementById("load-dataflow-button").value="")},async requestDataflowAction(e){if(!this.externalApp.available)return;if(this.isInProgress(e.procedureName)&&this.isStoppable(e.procedureName))return void await this.externalApplicationManager.requestDataflowStop(e.procedureName);const t=this.activeNavbarItemsNames.includes(e.procedureName);t&&!this.isInProgress(e.procedureName)?await this.externalApplicationManager.requestDataflowAction(e.procedureName,e.requireResponse):t&&Xi.terminalLog("warning",`${e.name} cannot be stopped`)},async requestDataflowExport(e=!0){if(!this.externalApp.available)return;const t=await this.externalApplicationManager.requestDataflowExport();!1!==t&&(this.saveConfiguration={...pa},this.saveConfiguration.saveName=t.filename??pa.saveName,e?(this.saveConfiguration.readonly=void 0,this.saveConfiguration.hideHud=void 0,this.saveConfiguration.position=void 0,this.saveConfiguration.saveCallback=()=>{this.saveConfiguration.saveCallbackCustomFormat(t.content),this.saveConfiguration=pa},this.saveMenuShow=!0):this.saveConfiguration.saveCallbackCustomFormat(t.content))},importDataflow(){if(!this.externalApp.available)return;const e=document.getElementById("request-dataflow-button").files[0];if(!e)return;const t=new FileReader;t.onload=async()=>{await this.externalApplicationManager.importDataflow(t.result)},t.readAsText(e)},exportToSvg(){Zn(document.querySelector(".inner-editor"),{filter:e=>!e.classList?.contains("export-hidden"),imagePlaceholder:ca}).then((e=>{const t=document.createElement("a");t.download="dataflow.svg",t.href=e,t.dataset.downloadurl=[e,t.download,t.href].join(":"),document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((e=>{Xi.showToast("error",`Export to SVG failed: ${e}`)}))},createGraphNodeTypeFromCurrentGraph(){Jr.configurationMenu.visible=!Jr.configurationMenu.visible,Jr.configurationMenu.addNode=!0,Jr.configurationMenu.placeNode=!1;const e=(0,i.wB)((()=>Jr.configurationMenu.visible),(async(t,n)=>{if(!0===n&&!1===t){const e=Zr.nodeData.name;let t=this.editorManager.baklavaView.editor.nodeTypes.get(e),n=new t.type;if(Zr.success){const r=this.editorManager.baklavaView.displayedGraph.save(),o=this.editorManager.addSubgraphToNode(n,r.nodes,r.connections);Array.isArray(o)&&o.length&&Xi.terminalLog("error","Creating subgraph failed",o);const i=ti([],[],this.appName,this.editorManager.baklavaView.editor);this.editorManager.baklavaView.editor.switchToGraph(i),t=this.editorManager.baklavaView.editor.nodeTypes.get(e),n=new t.type,this.editorManager.baklavaView.displayedGraph.addNode(n),n.position.x=window.innerWidth/2,n.position.y=window.innerHeight/2,this.editorManager.baklavaView.editor.changeTopLevelGraph(this.editorManager.baklavaView.displayedGraph.id)}}e()}))},onClickNodeSearch(){this.togglePanel(this.panels.nodesearch),this.panels.nodesearch.isOpen&&this.$nextTick((()=>this.$refs.searchbarInput.focus()))},openNavbar(){this.navbarGuard=!0,this.$refs.navbar.classList.add("isHovered")},handleMouseLeave(e){this.$refs.navbar.classList.contains("isHovered")&&(!this.hideHud&&!this.$isMobile||this.editorManager.baklavaView.displayedGraph.sidebar.visible||e.target.closest(".baklava-node-palette")||(this.navbarGuard?this.navbarGuard=!1:(this.togglePanel(this.panels.palette,!0),this.$refs.navbar.classList.remove("isHovered"))))},updateHoverInfo(e,t=!1){(!t||this.activeNavbarItemsNames.includes(e)||this.isInProgress(e))&&(this.hoverInfo.hoveredPanel=e,this.hoverInfo.isHovered=!0)},resetHoverInfo(e){this.hoverInfo.hoveredPanel===e&&(this.hoverInfo.hoveredPanel=void 0,this.hoverInfo.isHovered=!1)},isHovered(e){return this.hoverInfo.hoveredPanel===e&&this.hoverInfo.isHovered},isInProgress:e=>Zi.get(e).inProgress,isStoppable(e){return this.externalApplicationManager.appCapabilities.stoppable_methods?.includes(e)??!0},getNavbarActionTooltip(e){return this.isStoppable(e.procedureName)&&this.isInProgress(e.procedureName)?void 0!==e.stopName?e.stopName:`Stop ${e.name}`:e.name},updateActiveNavbarItems(){const{navbarItems:e}=this;let t=new Set(e.map((e=>e.procedureName)));e.filter((e=>this.isInProgress(e.procedureName))).forEach((e=>{t=new Set((e.allowToRunInParallelWith??[]).filter((e=>t.has(e)))).add(e.procedureName)})),this.activeNavbarItemsNames=Array.from(t)},returnFromSubgraph(){this.editorManager.returnFromSubgraph(),this.resetHoverInfo("subgraphReturn"),this.togglePanel(this.panels.graphDetails,!0)},goToParentGraph(e){this.editorManager.switchToGraph(e),this.resetHoverInfo("parentGraph")}},async mounted(){this.isMounted=!0,this.buttonWidth=this.$refs.palette.offsetWidth,this.windowWidth=window.innerWidth,window.addEventListener("resize",(()=>{this.windowWidth=window.innerWidth,this.$refs.palette&&(this.buttonWidth=this.$refs.palette.offsetWidth)})),document.addEventListener("fullscreenchange",(()=>{this.panels.fullscreen.isOpen=!nr.api.isFullscreen})),this.externalApplicationManager.registerConnectionHook((()=>{this.externalApp.available=this.externalApplicationManager.isExternalAppAvailable(),this.externalApp.connected=this.externalApplicationManager.isConnected(),this.externalApp.backend=!0===this.externalApplicationManager.backend}))}};n(61467);const Zd=(0,Pe.A)(Jd,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("SaveMenu"),u=(0,i.g2)("ParentMenu"),d=(0,i.g2)("Panel"),p=(0,i.g2)("ExportMenu"),h=(0,i.g2)("BlurPanel"),f=(0,i.g2)("NodeConfigurationMenu"),m=(0,i.g2)("PropertyConfigurationMenu"),g=(0,i.g2)("InterfaceConfigurationMenu"),v=(0,i.g2)("ListMenu"),y=(0,i.g2)("LayerConfigurationMenu"),b=(0,i.g2)("Logo"),w=(0,i.g2)("DropdownItem"),x=(0,i.g2)("Cube"),_=(0,i.g2)("CassetteStop"),k=(0,i.g2)("Arrow"),C=(0,i.g2)("Magnifier"),S=(0,i.g2)("Expand"),E=(0,i.g2)("Collapse"),P=(0,i.g2)("Sidebar"),T=(0,i.g2)("Cogwheel"),A=(0,i.g2)("Backend"),M=(0,i.g2)("Bell"),N=(0,i.g2)("Notifications"),O=(0,i.g2)("Settings"),I=(0,i.g2)("CustomSidebar"),R=(0,i.g2)("GraphDetails"),L=(0,i.gN)("click-outside");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(a.eB,{name:"fade",onMousedown:t[2]||(t[2]=(0,a.D$)((e=>o.saveMenuShow=!1),["self"]))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(d,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(u,{modelValue:o.saveMenuShow,"onUpdate:modelValue":t[1]||(t[1]=e=>o.saveMenuShow=e),title:"Save configuration"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{saveConfiguration:o.saveConfiguration,modelValue:o.saveMenuShow,"onUpdate:modelValue":t[0]||(t[0]=e=>o.saveMenuShow=e)},null,8,["saveConfiguration","modelValue"])])),_:1},8,["modelValue"]),[[a.aG,o.saveMenuShow]])])),_:1},512),[[a.aG,o.saveMenuShow]])])),_:1}),(0,i.bF)(a.eB,{name:"fade",onMousedown:t[5]||(t[5]=(0,a.D$)((e=>o.exportMenuShow=!1),["self"]))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(u,{modelValue:o.exportMenuShow,"onUpdate:modelValue":t[4]||(t[4]=e=>o.exportMenuShow=e),title:"Export graph"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{exportGraph:o.exportGraph,modelValue:o.exportMenuShow,"onUpdate:modelValue":t[3]||(t[3]=e=>o.exportMenuShow=e)},null,8,["exportGraph","modelValue"])])),_:1},8,["modelValue"]),[[a.aG,o.exportMenuShow]])])),_:1},512),[[a.aG,o.exportMenuShow]])])),_:1}),(0,i.bF)(a.eB,{name:"fade",onMousedown:t[7]||(t[7]=(0,a.D$)((e=>o.menuState.configurationMenu.visible=!1),["self"]))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(d,null,{default:(0,i.k6)((()=>[o.menuState.configurationMenu.visible?((0,i.uX)(),(0,i.Wv)(u,{key:0,modelValue:o.menuState.configurationMenu.visible,"onUpdate:modelValue":t[6]||(t[6]=e=>o.menuState.configurationMenu.visible=e),title:"Node configuration"},{default:(0,i.k6)((()=>[(0,i.bF)(f)])),_:1},8,["modelValue"])):(0,i.Q3)("",!0)])),_:1},512),[[a.aG,o.menuState.configurationMenu.visible]])])),_:1}),(0,i.bF)(a.eB,{name:"fade",onMousedown:t[9]||(t[9]=(0,a.D$)((e=>o.menuState.propertyMenu=!1),["self"]))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(d,null,{default:(0,i.k6)((()=>[o.menuState.propertyMenu?((0,i.uX)(),(0,i.Wv)(u,{key:0,modelValue:o.menuState.propertyMenu,"onUpdate:modelValue":t[8]||(t[8]=e=>o.menuState.propertyMenu=e),title:"Add property"},{default:(0,i.k6)((()=>[(0,i.bF)(m)])),_:1},8,["modelValue"])):(0,i.Q3)("",!0)])),_:1},512),[[a.aG,o.menuState.propertyMenu]])])),_:1}),(0,i.bF)(a.eB,{name:"fade",onMousedown:t[11]||(t[11]=(0,a.D$)((e=>o.menuState.interfaceMenu=!1),["self"]))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(d,null,{default:(0,i.k6)((()=>[o.menuState.interfaceMenu?((0,i.uX)(),(0,i.Wv)(u,{key:0,modelValue:o.menuState.interfaceMenu,"onUpdate:modelValue":t[10]||(t[10]=e=>o.menuState.interfaceMenu=e),title:"Add interface"},{default:(0,i.k6)((()=>[(0,i.bF)(g)])),_:1},8,["modelValue"])):(0,i.Q3)("",!0)])),_:1},512),[[a.aG,o.menuState.interfaceMenu]])])),_:1}),(0,i.bF)(a.eB,{name:"fade",onMousedown:t[13]||(t[13]=(0,a.D$)((e=>o.menuState.propertyListMenu=!1),["self"]))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(d,null,{default:(0,i.k6)((()=>[o.menuState.propertyListMenu?((0,i.uX)(),(0,i.Wv)(u,{key:0,modelValue:o.menuState.propertyListMenu,"onUpdate:modelValue":t[12]||(t[12]=e=>o.menuState.propertyListMenu=e),title:"Remove properties"},{default:(0,i.k6)((()=>[(0,i.bF)(v,{componentName:"propertyListMenu",items:o.configurationState.properties,confirmAction:o.removeProperties,confirmText:"Remove properties"},null,8,["items","confirmAction"])])),_:1},8,["modelValue"])):(0,i.Q3)("",!0)])),_:1},512),[[a.aG,o.menuState.propertyListMenu]])])),_:1}),(0,i.bF)(a.eB,{name:"fade",onMousedown:t[15]||(t[15]=(0,a.D$)((e=>o.menuState.interfaceListMenu=!1),["self"]))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(d,null,{default:(0,i.k6)((()=>[o.menuState.interfaceListMenu?((0,i.uX)(),(0,i.Wv)(u,{key:0,modelValue:o.menuState.interfaceListMenu,"onUpdate:modelValue":t[14]||(t[14]=e=>o.menuState.interfaceListMenu=e),title:"Remove interfaces"},{default:(0,i.k6)((()=>[(0,i.bF)(v,{componentName:"interfaceListMenu",items:o.configurationState.interfaces,confirmAction:o.removeInterfaces,confirmText:"Remove interfaces"},null,8,["items","confirmAction"])])),_:1},8,["modelValue"])):(0,i.Q3)("",!0)])),_:1},512),[[a.aG,o.menuState.interfaceListMenu]])])),_:1}),(0,i.bF)(a.eB,{name:"fade",onMousedown:t[17]||(t[17]=(0,a.D$)((e=>o.menuState.layerMenu=!1),["self"]))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(d,null,{default:(0,i.k6)((()=>[o.menuState.layerMenu?((0,i.uX)(),(0,i.Wv)(u,{key:0,modelValue:o.menuState.layerMenu,"onUpdate:modelValue":t[16]||(t[16]=e=>o.menuState.layerMenu=e),title:"Set node layer"},{default:(0,i.k6)((()=>[(0,i.bF)(y)])),_:1},8,["modelValue"])):(0,i.Q3)("",!0)])),_:1},512),[[a.aG,o.menuState.layerMenu]])])),_:1}),(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",rn,[(0,i.bo)((0,i.Lk)("div",{ref:"navbar",class:(0,l.C4)(["wrapper prevent-select",s.hideHud||e.$isMobile?"wrapper-hidden":"wrapper-hud"]),onPointerenter:t[51]||(t[51]=e=>e.target.classList.add("isHovered"))},[(0,i.Lk)("div",on,[(0,i.Lk)("div",{style:(0,l.Tr)(s.leftContainerStyles)},[(0,i.Lk)("div",{ref:"leftButtons",class:(0,l.C4)(["logo",s.mobileClasses]),onPointerover:t[18]||(t[18]=()=>s.updateHoverInfo("logo")),onPointerleave:t[19]||(t[19]=()=>s.resetHoverInfo("logo"))},[(0,i.bF)(b,{hover:s.isHovered("logo")},null,8,["hover"]),(0,i.Lk)("div",an,[this.editorManager.specificationLoaded?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[s.readonly?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(w,{key:0,id:"create-new-graph-button",text:"Create new graph",type:"'button'",eventFunction:s.createNewGraphCallback},null,8,["eventFunction"])),o.externalApp.backend&&o.externalApp.connected?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[t[52]||(t[52]=(0,i.Lk)("hr",null,null,-1)),(0,i.bF)(w,{text:"Load file",id:"request-dataflow-button",eventFunction:s.importDataflow},null,8,["eventFunction"]),(0,i.bF)(w,{text:"Save file",type:"button",eventFunction:async()=>s.requestDataflowExport(!1)},null,8,["eventFunction"]),(0,i.bF)(w,{text:"Save file as...",type:"button",eventFunction:async()=>s.requestDataflowExport(!0)},null,8,["eventFunction"])],64)):(0,i.Q3)("",!0),t[53]||(t[53]=(0,i.Lk)("hr",null,null,-1))],64)):(0,i.Q3)("",!0),o.externalApp.backend||s.hideHud?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bF)(w,{text:"Load specification",id:"load-spec-button",eventFunction:s.loadSpecificationCallback},null,8,["eventFunction"]),this.editorManager.specificationLoaded?((0,i.uX)(),(0,i.Wv)(w,{key:0,text:"Save specification as...",type:"'button'",eventFunction:()=>{o.saveMenuShow=!o.saveMenuShow,o.saveConfiguration=o.saveSpecificationConfiguration}},null,8,["eventFunction"])):(0,i.Q3)("",!0),t[54]||(t[54]=(0,i.Lk)("hr",null,null,-1))],64)),this.editorManager.specificationLoaded?((0,i.uX)(),(0,i.CE)(i.FK,{key:2},[(0,i.bF)(w,{type:"'button'",text:"Set graph name",eventFunction:s.setEditTitle},null,8,["eventFunction"]),s.hideHud?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(w,{key:0,id:"load-dataflow-button",text:"Load graph file",eventFunction:s.loadDataflowCallback},null,8,["eventFunction"])),(0,i.bF)(w,{type:"'button'",text:"Save graph file",eventFunction:()=>o.saveGraphConfiguration.saveCallback()},null,8,["eventFunction"]),(0,i.bF)(w,{type:"'button'",text:"Save graph as file as...",eventFunction:()=>{o.saveMenuShow=!o.saveMenuShow,o.saveConfiguration=o.saveGraphConfiguration}},null,8,["eventFunction"]),t[55]||(t[55]=(0,i.Lk)("hr",null,null,-1))],64)):(0,i.Q3)("",!0),(0,i.bF)(w,{type:"'button'",text:"Export graph to PNG",eventFunction:()=>{o.exportMenuShow=!o.exportMenuShow,o.exportGraph=o.exportGraph}},null,8,["eventFunction"]),(0,i.bF)(w,{type:"'button'",text:"Export graph to HTML-based SVG",eventFunction:s.exportToSvg},null,8,["eventFunction"]),this.editorManager.baklavaView.settings.editableNodeTypes?((0,i.uX)(),(0,i.Wv)(w,{key:3,type:"'button'",text:"Create node type from graph",eventFunction:s.createGraphNodeTypeFromCurrentGraph},null,8,["eventFunction"])):(0,i.Q3)("",!0)])],34),s.hideHud||s.readonly?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,ref:"palette",class:(0,l.C4)(["hoverbox",s.mobileClasses]),role:"button",onClick:t[20]||(t[20]=()=>s.togglePanel(o.panels.palette)),onPointerover:t[21]||(t[21]=()=>s.updateHoverInfo("palette")),onPointerleave:t[22]||(t[22]=()=>s.resetHoverInfo("palette"))},[(0,i.bF)(x,{hover:s.isHovered("palette"),class:"small_svg"},null,8,["hover"]),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},[s.paletteOpen?((0,i.uX)(),(0,i.CE)("span",sn,"Hide node browser")):((0,i.uX)(),(0,i.CE)("span",ln,"Show node browser"))],2)],34)),this.externalApp.available?((0,i.uX)(!0),(0,i.CE)(i.FK,{key:1},(0,i.pI)(o.navbarItems,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.name,id:`navbar-button-${e.procedureName}`,class:(0,l.C4)([s.activeNavbarItems.includes(e.procedureName)||s.isInProgress(e.procedureName)?"hoverbox":"box",s.mobileClasses,{"button-in-progress":s.isInProgress(e.procedureName)}]),role:"button",onClick:async()=>s.requestDataflowAction(e),onPointerover:()=>s.updateHoverInfo(e.procedureName,!0),onPointerleave:()=>s.resetHoverInfo(e.procedureName)},[s.isStoppable(e.procedureName)&&s.isInProgress(e.procedureName)?((0,i.uX)(),(0,i.Wv)(_,{key:0,class:"small_svg",hover:s.isHovered(e.procedureName)},null,8,["hover"])):((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.icon),{key:1,class:"small_svg",hover:s.isHovered(e.procedureName),imgURI:e.iconName},null,8,["hover","imgURI"])),t[56]||(t[56]=(0,i.Lk)("div",{class:"progress-bar"},null,-1)),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},[(0,i.Lk)("span",null,(0,l.v_)(s.getNavbarActionTooltip(e)),1)],2)],42,cn)))),128)):(0,i.Q3)("",!0),this.editorManager.editor.isInSubgraph()?((0,i.uX)(),(0,i.CE)("div",{key:2,class:(0,l.C4)(["hoverbox",s.mobileClasses]),role:"button",onClick:t[23]||(t[23]=(...e)=>s.returnFromSubgraph&&s.returnFromSubgraph(...e)),onPointerover:t[24]||(t[24]=()=>s.updateHoverInfo("subgraphReturn")),onPointerleave:t[25]||(t[25]=()=>s.resetHoverInfo("subgraphReturn"))},[(0,i.bF)(k,{rotate:"down",hover:s.isHovered("subgraphReturn"),color:"white",class:"small_svg"},null,8,["hover"]),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},t[57]||(t[57]=[(0,i.Lk)("span",null,"Return from subgraph editor",-1)]),2)],34)):(0,i.Q3)("",!0),s.parentGraph&&!this.editorManager.editor.isInSubgraph()?((0,i.uX)(),(0,i.CE)("div",{key:3,class:(0,l.C4)(["hoverbox",s.mobileClasses]),role:"button",onClick:t[26]||(t[26]=e=>s.goToParentGraph(s.parentGraph)),onPointerover:t[27]||(t[27]=()=>s.updateHoverInfo("parentGraph")),onPointerleave:t[28]||(t[28]=()=>s.resetHoverInfo("parentGraph"))},[(0,i.bF)(k,{rotate:"up",hover:s.isHovered("parentGraph"),color:"white",class:"small_svg"},null,8,["hover"]),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},t[58]||(t[58]=[(0,i.Lk)("span",null,"Go to parent graph",-1)]),2)],34)):(0,i.Q3)("",!0)],4),o.editTitle&&!o.panels.nodesearch.isOpen?(0,i.bo)(((0,i.uX)(),(0,i.Wv)((0,i.$y)(o.editorTitleInterface.component),{key:0,ref:"editorTitleInput",intf:o.editorTitleInterface,class:(0,l.C4)(["editorTitleInput",s.mobileClasses]),modelValue:o.graphName,"onUpdate:modelValue":t[29]||(t[29]=e=>o.graphName=e),onKeyup:t[30]||(t[30]=(0,a.jR)((()=>{o.editTitle=!1}),["enter"]))},null,40,["intf","class","modelValue"])),[[L,()=>{o.editTitle=!1}]]):(0,i.Q3)("",!0),o.editTitle||o.panels.nodesearch.isOpen?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("span",{key:1,class:(0,l.C4)(["editorTitle",s.mobileClasses]),onDblclick:t[31]||(t[31]=(...e)=>s.setEditTitle&&s.setEditTitle(...e))},(0,l.v_)(s.editorTitle),35)),this.editorManager.baklavaView.settings.showIds&&!o.panels.nodesearch.isOpen?((0,i.uX)(),(0,i.CE)("span",{key:2,class:(0,l.C4)(["editorTitle","graphId",s.mobileClasses])}," Graph ID: "+(0,l.v_)(s.graphId),3)):(0,i.Q3)("",!0),(0,i.Lk)("div",{style:(0,l.Tr)(s.rightContainerStyles),ref:"rightButtons"},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{ref:"searchbar",class:(0,l.C4)(["hoverbox",s.mobileClasses]),role:"button",onPointerover:t[32]||(t[32]=()=>s.updateHoverInfo("search")),onPointerleave:t[33]||(t[33]=()=>{s.resetHoverInfo("search")}),onClick:t[34]||(t[34]=(...e)=>s.onClickNodeSearch&&s.onClickNodeSearch(...e))},[(0,i.bF)(C,{hover:s.isHovered("search"),class:"small_svg"},null,8,["hover"]),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},[o.panels.nodesearch.isOpen?((0,i.uX)(),(0,i.CE)("span",dn,"Hide node search bar")):((0,i.uX)(),(0,i.CE)("span",un,"Show node search bar"))],2)],34)),[[L,()=>o.panels.nodesearch.isOpen=""!=o.searchEditorNodesQuery]]),(0,i.bo)((0,i.Lk)("div",{style:(0,l.Tr)(s.nodesearchInputStyles),class:(0,l.C4)(["search-editor-nodes",s.mobileClasses])},[(0,i.bo)((0,i.Lk)("input",{ref:"searchbarInput","onUpdate:modelValue":t[35]||(t[35]=e=>o.searchEditorNodesQuery=e),placeholder:"Search for nodes"},null,512),[[a.Jo,o.searchEditorNodesQuery]])],6),[[a.aG,o.panels.nodesearch.isOpen]]),(0,i.Lk)("div",{ref:"fullscreen",class:(0,l.C4)(["hoverbox",s.mobileClasses]),role:"button",onClick:t[36]||(t[36]=(...e)=>s.toggleFullscreen&&s.toggleFullscreen(...e)),onPointerover:t[37]||(t[37]=()=>s.updateHoverInfo("Fullscreen")),onPointerleave:t[38]||(t[38]=()=>s.resetHoverInfo("Fullscreen"))},[o.panels.fullscreen.isOpen?((0,i.uX)(),(0,i.Wv)(E,{key:1,hover:s.isHovered("Fullscreen"),class:"small_svg"},null,8,["hover"])):((0,i.uX)(),(0,i.Wv)(S,{key:0,hover:s.isHovered("Fullscreen"),class:"small_svg"},null,8,["hover"])),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},[o.panels.fullscreen.isOpen?((0,i.uX)(),(0,i.CE)("span",hn,"Disable fullscreen")):((0,i.uX)(),(0,i.CE)("span",pn,"Enable fullscreen"))],2)],34),this.editorManager.editor.getExposedProperties().length>0||this.editorManager.editor.isInSubgraph()?((0,i.uX)(),(0,i.CE)("div",{key:0,ref:"graphDetails",class:(0,l.C4)(["hoverbox",s.mobileClasses]),role:"button",onClick:t[39]||(t[39]=e=>s.togglePanel(o.panels.graphDetails)),onPointerover:t[40]||(t[40]=()=>s.updateHoverInfo("graphDetails")),onPointerleave:t[41]||(t[41]=()=>s.resetHoverInfo("graphDetails"))},[(0,i.bF)(P,{hover:s.isHovered("graphDetails"),class:"small_svg"},null,8,["hover"]),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},[o.panels.graphDetails.isOpen?((0,i.uX)(),(0,i.CE)("span",mn,"Hide graph details")):((0,i.uX)(),(0,i.CE)("span",fn,"Show graph details"))],2)],34)):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{ref:"settings",class:(0,l.C4)(["hoverbox",s.mobileClasses]),role:"button",onClick:t[42]||(t[42]=()=>s.togglePanel(o.panels.settings)),onPointerover:t[43]||(t[43]=()=>s.updateHoverInfo("settings")),onPointerleave:t[44]||(t[44]=()=>s.resetHoverInfo("settings"))},[(0,i.bF)(T,{hover:s.isHovered("settings"),class:"small_svg"},null,8,["hover"]),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},[o.panels.settings.isOpen?((0,i.uX)(),(0,i.CE)("span",vn,"Hide settings")):((0,i.uX)(),(0,i.CE)("span",gn,"Show settings"))],2)],34)),[[L,()=>o.panels.settings.isOpen=!1]]),o.externalApp.available&&o.externalApp.backend?((0,i.uX)(),(0,i.CE)("div",{key:1,ref:"backend",class:(0,l.C4)(["hoverbox",s.mobileClasses]),onClick:t[45]||(t[45]=()=>s.togglePanel(o.panels.externalAppStatus)),onPointerover:t[46]||(t[46]=()=>s.updateHoverInfo("externalAppStatus")),onPointerleave:t[47]||(t[47]=()=>s.resetHoverInfo("externalAppStatus"))},[o.externalApp.connected?((0,i.uX)(),(0,i.Wv)(A,{key:0,color:"connected",class:"small_svg",active:s.externalAppStatus,hover:s.isHovered("externalAppStatus")},null,8,["active","hover"])):((0,i.uX)(),(0,i.Wv)(A,{key:1,color:"disconnected",class:"small_svg",active:s.externalAppStatus,hover:s.isHovered("externalAppStatus")},null,8,["active","hover"])),(0,i.Lk)("div",{class:(0,l.C4)(["tooltip",s.mobileClasses])},t[59]||(t[59]=[(0,i.Lk)("span",null,"External App status",-1)]),2),(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",yn,[(0,i.Lk)("div",null,[t[60]||(t[60]=(0,i.Lk)("span",null,"Client status:",-1)),o.externalApp.connected?((0,i.uX)(),(0,i.CE)("span",bn,"Connected")):((0,i.uX)(),(0,i.CE)("span",wn,"Disconnected"))])])),[[L,e=>s.clickOutside(e,o.panels.externalAppStatus)]])],34)):(0,i.Q3)("",!0),s.hideHud?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:2,ref:"notifications",class:(0,l.C4)(["hoverbox",s.mobileClasses]),role:"button",onClick:t[48]||(t[48]=()=>s.togglePanel(o.panels.notifications)),onPointerover:t[49]||(t[49]=()=>s.updateHoverInfo("notifications")),onPointerleave:t[50]||(t[50]=()=>s.resetHoverInfo("notifications"))},[(0,i.bF)(M,{id:"navbar-bell",color:this.notificationStore.notifications.length>0?"green":"gray",hover:s.isHovered("notifications"),class:"small_svg"},null,8,["color","hover"]),s.notificationsOpen?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,l.C4)(["tooltip",s.mobileClasses])},t[61]||(t[61]=[(0,i.Lk)("span",null,"Hide notifications",-1)]),2)):((0,i.uX)(),(0,i.CE)("div",{key:1,class:(0,l.C4)(["tooltip",s.mobileClasses])},t[62]||(t[62]=[(0,i.Lk)("span",null,"Show notifications",-1)]),2))],34))],4)]),t[63]||(t[63]=(0,i.Lk)("div",{class:"progress-bar"},null,-1))],34),[[a.aG,!s.preview]]),(0,i.bo)((0,i.bF)(N,null,null,512),[[L,e=>s.clickOutside(e,o.panels.notifications)]]),(0,i.bo)((0,i.bF)(O,{tabindex:"-1",viewModel:o.editorManager.baklavaView},null,8,["viewModel"]),[[L,e=>s.clickOutside(e,o.panels.settings)]]),(0,i.bF)(I,{onSidebarOpen:s.openNavbar},null,8,["onSidebarOpen"]),(0,i.bo)((0,i.bF)(R,{tabindex:"-1"},null,512),[[L,e=>s.clickOutside(e,o.panels.graphDetails)]])])),[[L,e=>s.handleMouseLeave(e)]])],64)}],["__scopeId","data-v-2f1c5908"]]),Qd={class:"container"},ep={class:"tab"},tp=["onClick"],np={class:"indicator-wrapper"},rp={class:"button-wrapper"},op={id:"hterm-terminal"},ip={initCallbacks_:[],registerInit:function(e,t){ip.initCallbacks_.push([e,t])},init:async function(e=void 0){const t=ip.initCallbacks_;for(;t.length;){const[n,r]=t.shift();e&&e(`init: ${n}`);const o=r();o&&"function"==typeof o.then&&await o}},assert:function(e){window.chai?ip.assert=window.chai.assert:ip.assert=function(e){},ip.assert(e)},notNull:function(e){return ip.assert(null!==e),e},notUndefined:function(e){return ip.assert(void 0!==e),e},polyfill:{}};ip.polyfill.BlobArrayBuffer=function(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onabort=n.onerror=()=>t(n),n.readAsArrayBuffer(this)}))},"function"!=typeof Blob.prototype.arrayBuffer&&(Blob.prototype.arrayBuffer=ip.polyfill.BlobArrayBuffer),ip.polyfill.BlobText=function(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onabort=n.onerror=()=>t(n),n.readAsText(this)}))},"function"!=typeof Blob.prototype.arrayBuffer&&(Blob.prototype.text=ip.polyfill.BlobText),ip.array={},ip.array.concatTyped=function(...e){let t=0;for(const n of e)t+=n.length;const n=new e[0].constructor(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n},ip.array.compare=function(e,t){if(null===e||null===t)return null===e&&null===t;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},ip.codec={},ip.codec.codeUnitArrayToString=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t},ip.codec.stringToCodeUnitArray=function(e,t=new Uint8Array(e.length)){for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t},ip.colors={},ip.colors.re_={hex16:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,hex24:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,rgb:new RegExp("^/s*rgb/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*/)/s*$".replace(/\//g,"\\"),"i"),rgba:new RegExp("^/s*rgba/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*(?:,/s*(/d+(?:/./d+)?)/s*)/)/s*$".replace(/\//g,"\\"),"i"),rgbx:new RegExp("^/s*rgba?/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*(?:,/s*(/d+(?:/./d+)?)/s*)?/)/s*$".replace(/\//g,"\\"),"i"),hsl:new RegExp("^/s*hsl/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*%/s*,/s*(/d{1,3})/s*%/s*/)/s*$".replace(/\//g,"\\"),"i"),hsla:new RegExp("^/s*hsla/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*%/s*,/s*(/d{1,3})/s*%/s*(?:,/s*(/d+(?:/./d+)?)/s*)/)/s*$".replace(/\//g,"\\"),"i"),hslx:new RegExp("^/s*hsla?/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*%/s*,/s*(/d{1,3})/s*%/s*(?:,/s*(/d+(?:/./d+)?)/s*)?/)/s*$".replace(/\//g,"\\"),"i"),x11rgb:/^\s*rgb:([a-f0-9]{1,4})\/([a-f0-9]{1,4})\/([a-f0-9]{1,4})\s*$/i,name:/[a-z][a-z0-9\s]+/},ip.colors.rgbToX11=function(e){function t(e){return e=(257*Math.min(e,255)).toString(16),ip.f.zpad(e,4)}const n=e.match(ip.colors.re_.rgbx);return n?"rgb:"+t(n[1])+"/"+t(n[2])+"/"+t(n[3]):null},ip.colors.x11HexToCSS=function(e){if(!e.startsWith("#"))return null;if(e=e.substr(1),-1==[3,6,9,12].indexOf(e.length))return null;if(e.match(/[^a-f0-9]/i))return null;const t=e.length/3,n=e.substr(0,t),r=e.substr(t,t),o=e.substr(t+t,t);return ip.colors.arrayToRGBA([n,r,o].map((function(e){return e=parseInt(e,16),2==t?e:1==t?e<<4:e>>4*(t-2)})))},ip.colors.x11ToCSS=function(e){const t=e.match(ip.colors.re_.x11rgb);return t?(t.splice(0,1),ip.colors.arrayToRGBA(t.map((function(e){return 1==e.length?parseInt(e+e,16):2==e.length?parseInt(e,16):(3==e.length&&(e+=e.substr(2)),Math.round(parseInt(e,16)/257))})))):e.startsWith("#")?ip.colors.x11HexToCSS(e):ip.colors.nameToRGB(e)},ip.colors.hexToRGB=function(e){const t=ip.colors.re_.hex16,n=ip.colors.re_.hex24;t.test(e)&&(e=`#${e.match(/[a-f0-9]/gi).map((e=>`${e}${e}`)).join("")}`);const r=e.match(n);if(!r)return null;const o=e=>parseInt(r[e+1],16);return void 0===r[4]||255===o(3)?`rgb(${o(0)}, ${o(1)}, ${o(2)})`:`rgba(${o(0)}, ${o(1)}, ${o(2)}, ${o(3)/255})`},ip.colors.rgbToHex=function(e){const t=ip.colors.crackRGB(e);if(!t)return null;const n="#"+ip.f.zpad((parseInt(t[0],10)<<16|parseInt(t[1],10)<<8|parseInt(t[2],10)).toString(16),6);if(void 0===t[3]||"1"===t[3])return n;{const e=Math.round(255*parseFloat(t[3])).toString(16);return`${n}${ip.f.zpad(e,2)}`}},ip.colors.crackHSL=function(e){if(e.startsWith("hsla")){const t=e.match(ip.colors.re_.hsla);if(t)return t.shift(),Array.from(t)}else{const t=e.match(ip.colors.re_.hsl);if(t)return t.shift(),t.push("1"),Array.from(t)}return console.error(`Couldn't crack: ${e}`),null},ip.colors.hslxArrayToRgbaArray=function(e){const t=parseInt(e[0],10)/60,n=parseInt(e[1],10)/100,r=parseInt(e[2],10)/100,o=(e,t,n)=>(n<0&&(n+=6),n>=6&&(n-=6),n<1?(t-e)*n+e:n<3?t:n<4?(t-e)*(4-n)+e:e),i=r<=.5?r*(n+1):r+n-r*n,a=2*r-i;return[255*o(a,i,t+2),255*o(a,i,t),255*o(a,i,t-2),void 0!==e[3]?+e[3]:1]},ip.colors.hsvxArrayToHslaArray=function(e){const t=e=>ip.f.clamp(e,0,100),[n,r,o]=e.map(parseFloat),i=t(o*(100-r/2)/100);let a=0;return 0!==i&&100!==i&&(a=t((o-i)/Math.min(i,100-i)*100)),[n,a,i,4===e.length?+e[3]:1]},ip.colors.hslxArrayToHsvaArray=function(e){const t=e=>ip.f.clamp(e,0,100),[n,r,o]=e.map(parseFloat),i=t(o+r*Math.min(o,100-o)/100);let a=0;return 0!==i&&(a=t(200*(1-o/i))),[n,a,i,4===e.length?+e[3]:1]},ip.colors.hslToRGB=function(e){const t=ip.colors.crackHSL(e);if(!t)return null;const[n,r,o,i]=ip.colors.hslxArrayToRgbaArray(t),a=[n,r,o].map(Math.round).join(", ");return 1===i?`rgb(${a})`:`rgba(${a}, ${i})`},ip.colors.rgbxArrayToHslaArray=function(e){const t=parseInt(e[0],10)/255,n=parseInt(e[1],10)/255,r=parseInt(e[2],10)/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=i-o,s=(i+o)/2;if(0==a)return[0,0,100*s,void 0!==e[3]?+e[3]:1];let l=(()=>{switch(i){case t:return(n-r)/a%6;case n:return(r-t)/a+2;case r:return(t-n)/a+4}})();return l*=60,l<0&&(l+=360),[l,a/(1-Math.abs(2*s-1))*100,100*s,void 0!==e[3]?+e[3]:1]},ip.colors.rgbToHsl=function(e){const t=ip.colors.crackRGB(e);if(!t)return null;let[n,r,o,i]=ip.colors.rgbxArrayToHslaArray(t);return n=Math.round(n),r=Math.round(r),o=Math.round(o),1===i?`hsl(${n}, ${r}%, ${o}%)`:`hsla(${n}, ${r}%, ${o}%, ${i})`},ip.colors.normalizeCSS=function(e){return e.startsWith("#")?ip.colors.hexToRGB(e):ip.colors.re_.rgbx.test(e)?e:ip.colors.re_.hslx.test(e)?ip.colors.hslToRGB(e):ip.colors.nameToRGB(e)},ip.colors.normalizeCSSToHSL=function(e){if(ip.colors.re_.hslx.test(e))return e;const t=ip.colors.normalizeCSS(e);return t?ip.colors.rgbToHsl(t):t},ip.colors.arrayToRGBA=function(e){return 3==e.length?`rgb(${e[0]}, ${e[1]}, ${e[2]})`:`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`},ip.colors.arrayToHSLA=function(e){const t=e.length>3?e[3]:1;return`hsla(${Math.round(e[0])}, ${Math.round(e[1])}%, ${Math.round(e[2])}%, ${t})`},ip.colors.setAlpha=function(e,t){const n=ip.colors.crackRGB(e);return n[3]=t.toString(),ip.colors.arrayToRGBA(n)},ip.colors.mix=function(e,t,n){const r=ip.colors.crackRGB(e),o=ip.colors.crackRGB(t);for(let t=0;t<4;++t){const i=parseInt(r[t],10),a=parseInt(o[t],10)-i;r[t]=Math.round(e+a*n).toString()}return ip.colors.arrayToRGBA(r)},ip.colors.crackRGB=function(e){if(e.startsWith("rgba")){const t=e.match(ip.colors.re_.rgba);if(t)return t.shift(),Array.from(t)}else{const t=e.match(ip.colors.re_.rgb);if(t)return t.shift(),t.push("1"),Array.from(t)}return console.error("Couldn't crack: "+e),null},ip.colors.nameToRGB=function(e){return e in ip.colors.colorNames||(e=e.toLowerCase())in ip.colors.colorNames||(e=e.replace(/\s+/g,""))in ip.colors.colorNames?ip.colors.colorNames[e]:null},ip.colors.luminance=function(e,t,n){const[r,o,i]=[e,t,n].map((e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*r+.7152*o+.0722*i},ip.colors.contrastRatio=function(e,t){return(Math.max(e,t)+.05)/(Math.min(e,t)+.05)},ip.colors.stockPalette=["#000000","#CC0000","#4E9A06","#C4A000","#3465A4","#75507B","#06989A","#D3D7CF","#555753","#EF2929","#00BA13","#FCE94F","#729FCF","#F200CB","#00B5BD","#EEEEEC","#000000","#00005F","#000087","#0000AF","#0000D7","#0000FF","#005F00","#005F5F","#005F87","#005FAF","#005FD7","#005FFF","#008700","#00875F","#008787","#0087AF","#0087D7","#0087FF","#00AF00","#00AF5F","#00AF87","#00AFAF","#00AFD7","#00AFFF","#00D700","#00D75F","#00D787","#00D7AF","#00D7D7","#00D7FF","#00FF00","#00FF5F","#00FF87","#00FFAF","#00FFD7","#00FFFF","#5F0000","#5F005F","#5F0087","#5F00AF","#5F00D7","#5F00FF","#5F5F00","#5F5F5F","#5F5F87","#5F5FAF","#5F5FD7","#5F5FFF","#5F8700","#5F875F","#5F8787","#5F87AF","#5F87D7","#5F87FF","#5FAF00","#5FAF5F","#5FAF87","#5FAFAF","#5FAFD7","#5FAFFF","#5FD700","#5FD75F","#5FD787","#5FD7AF","#5FD7D7","#5FD7FF","#5FFF00","#5FFF5F","#5FFF87","#5FFFAF","#5FFFD7","#5FFFFF","#870000","#87005F","#870087","#8700AF","#8700D7","#8700FF","#875F00","#875F5F","#875F87","#875FAF","#875FD7","#875FFF","#878700","#87875F","#878787","#8787AF","#8787D7","#8787FF","#87AF00","#87AF5F","#87AF87","#87AFAF","#87AFD7","#87AFFF","#87D700","#87D75F","#87D787","#87D7AF","#87D7D7","#87D7FF","#87FF00","#87FF5F","#87FF87","#87FFAF","#87FFD7","#87FFFF","#AF0000","#AF005F","#AF0087","#AF00AF","#AF00D7","#AF00FF","#AF5F00","#AF5F5F","#AF5F87","#AF5FAF","#AF5FD7","#AF5FFF","#AF8700","#AF875F","#AF8787","#AF87AF","#AF87D7","#AF87FF","#AFAF00","#AFAF5F","#AFAF87","#AFAFAF","#AFAFD7","#AFAFFF","#AFD700","#AFD75F","#AFD787","#AFD7AF","#AFD7D7","#AFD7FF","#AFFF00","#AFFF5F","#AFFF87","#AFFFAF","#AFFFD7","#AFFFFF","#D70000","#D7005F","#D70087","#D700AF","#D700D7","#D700FF","#D75F00","#D75F5F","#D75F87","#D75FAF","#D75FD7","#D75FFF","#D78700","#D7875F","#D78787","#D787AF","#D787D7","#D787FF","#D7AF00","#D7AF5F","#D7AF87","#D7AFAF","#D7AFD7","#D7AFFF","#D7D700","#D7D75F","#D7D787","#D7D7AF","#D7D7D7","#D7D7FF","#D7FF00","#D7FF5F","#D7FF87","#D7FFAF","#D7FFD7","#D7FFFF","#FF0000","#FF005F","#FF0087","#FF00AF","#FF00D7","#FF00FF","#FF5F00","#FF5F5F","#FF5F87","#FF5FAF","#FF5FD7","#FF5FFF","#FF8700","#FF875F","#FF8787","#FF87AF","#FF87D7","#FF87FF","#FFAF00","#FFAF5F","#FFAF87","#FFAFAF","#FFAFD7","#FFAFFF","#FFD700","#FFD75F","#FFD787","#FFD7AF","#FFD7D7","#FFD7FF","#FFFF00","#FFFF5F","#FFFF87","#FFFFAF","#FFFFD7","#FFFFFF","#080808","#121212","#1C1C1C","#262626","#303030","#3A3A3A","#444444","#4E4E4E","#585858","#626262","#6C6C6C","#767676","#808080","#8A8A8A","#949494","#9E9E9E","#A8A8A8","#B2B2B2","#BCBCBC","#C6C6C6","#D0D0D0","#DADADA","#E4E4E4","#EEEEEE"].map(ip.colors.hexToRGB),ip.colors.colorNames={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",antiquewhite1:"rgb(255, 239, 219)",antiquewhite2:"rgb(238, 223, 204)",antiquewhite3:"rgb(205, 192, 176)",antiquewhite4:"rgb(139, 131, 120)",aquamarine:"rgb(127, 255, 212)",aquamarine1:"rgb(127, 255, 212)",aquamarine2:"rgb(118, 238, 198)",aquamarine3:"rgb(102, 205, 170)",aquamarine4:"rgb(69, 139, 116)",azure:"rgb(240, 255, 255)",azure1:"rgb(240, 255, 255)",azure2:"rgb(224, 238, 238)",azure3:"rgb(193, 205, 205)",azure4:"rgb(131, 139, 139)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",bisque1:"rgb(255, 228, 196)",bisque2:"rgb(238, 213, 183)",bisque3:"rgb(205, 183, 158)",bisque4:"rgb(139, 125, 107)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blue1:"rgb(0, 0, 255)",blue2:"rgb(0, 0, 238)",blue3:"rgb(0, 0, 205)",blue4:"rgb(0, 0, 139)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",brown1:"rgb(255, 64, 64)",brown2:"rgb(238, 59, 59)",brown3:"rgb(205, 51, 51)",brown4:"rgb(139, 35, 35)",burlywood:"rgb(222, 184, 135)",burlywood1:"rgb(255, 211, 155)",burlywood2:"rgb(238, 197, 145)",burlywood3:"rgb(205, 170, 125)",burlywood4:"rgb(139, 115, 85)",cadetblue:"rgb(95, 158, 160)",cadetblue1:"rgb(152, 245, 255)",cadetblue2:"rgb(142, 229, 238)",cadetblue3:"rgb(122, 197, 205)",cadetblue4:"rgb(83, 134, 139)",chartreuse:"rgb(127, 255, 0)",chartreuse1:"rgb(127, 255, 0)",chartreuse2:"rgb(118, 238, 0)",chartreuse3:"rgb(102, 205, 0)",chartreuse4:"rgb(69, 139, 0)",chocolate:"rgb(210, 105, 30)",chocolate1:"rgb(255, 127, 36)",chocolate2:"rgb(238, 118, 33)",chocolate3:"rgb(205, 102, 29)",chocolate4:"rgb(139, 69, 19)",coral:"rgb(255, 127, 80)",coral1:"rgb(255, 114, 86)",coral2:"rgb(238, 106, 80)",coral3:"rgb(205, 91, 69)",coral4:"rgb(139, 62, 47)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",cornsilk1:"rgb(255, 248, 220)",cornsilk2:"rgb(238, 232, 205)",cornsilk3:"rgb(205, 200, 177)",cornsilk4:"rgb(139, 136, 120)",cyan:"rgb(0, 255, 255)",cyan1:"rgb(0, 255, 255)",cyan2:"rgb(0, 238, 238)",cyan3:"rgb(0, 205, 205)",cyan4:"rgb(0, 139, 139)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgoldenrod1:"rgb(255, 185, 15)",darkgoldenrod2:"rgb(238, 173, 14)",darkgoldenrod3:"rgb(205, 149, 12)",darkgoldenrod4:"rgb(139, 101, 8)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkolivegreen1:"rgb(202, 255, 112)",darkolivegreen2:"rgb(188, 238, 104)",darkolivegreen3:"rgb(162, 205, 90)",darkolivegreen4:"rgb(110, 139, 61)",darkorange:"rgb(255, 140, 0)",darkorange1:"rgb(255, 127, 0)",darkorange2:"rgb(238, 118, 0)",darkorange3:"rgb(205, 102, 0)",darkorange4:"rgb(139, 69, 0)",darkorchid:"rgb(153, 50, 204)",darkorchid1:"rgb(191, 62, 255)",darkorchid2:"rgb(178, 58, 238)",darkorchid3:"rgb(154, 50, 205)",darkorchid4:"rgb(104, 34, 139)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkseagreen1:"rgb(193, 255, 193)",darkseagreen2:"rgb(180, 238, 180)",darkseagreen3:"rgb(155, 205, 155)",darkseagreen4:"rgb(105, 139, 105)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategray1:"rgb(151, 255, 255)",darkslategray2:"rgb(141, 238, 238)",darkslategray3:"rgb(121, 205, 205)",darkslategray4:"rgb(82, 139, 139)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",debianred:"rgb(215, 7, 81)",deeppink:"rgb(255, 20, 147)",deeppink1:"rgb(255, 20, 147)",deeppink2:"rgb(238, 18, 137)",deeppink3:"rgb(205, 16, 118)",deeppink4:"rgb(139, 10, 80)",deepskyblue:"rgb(0, 191, 255)",deepskyblue1:"rgb(0, 191, 255)",deepskyblue2:"rgb(0, 178, 238)",deepskyblue3:"rgb(0, 154, 205)",deepskyblue4:"rgb(0, 104, 139)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",dodgerblue1:"rgb(30, 144, 255)",dodgerblue2:"rgb(28, 134, 238)",dodgerblue3:"rgb(24, 116, 205)",dodgerblue4:"rgb(16, 78, 139)",firebrick:"rgb(178, 34, 34)",firebrick1:"rgb(255, 48, 48)",firebrick2:"rgb(238, 44, 44)",firebrick3:"rgb(205, 38, 38)",firebrick4:"rgb(139, 26, 26)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",gold1:"rgb(255, 215, 0)",gold2:"rgb(238, 201, 0)",gold3:"rgb(205, 173, 0)",gold4:"rgb(139, 117, 0)",goldenrod:"rgb(218, 165, 32)",goldenrod1:"rgb(255, 193, 37)",goldenrod2:"rgb(238, 180, 34)",goldenrod3:"rgb(205, 155, 29)",goldenrod4:"rgb(139, 105, 20)",gray:"rgb(190, 190, 190)",gray0:"rgb(0, 0, 0)",gray1:"rgb(3, 3, 3)",gray10:"rgb(26, 26, 26)",gray100:"rgb(255, 255, 255)",gray11:"rgb(28, 28, 28)",gray12:"rgb(31, 31, 31)",gray13:"rgb(33, 33, 33)",gray14:"rgb(36, 36, 36)",gray15:"rgb(38, 38, 38)",gray16:"rgb(41, 41, 41)",gray17:"rgb(43, 43, 43)",gray18:"rgb(46, 46, 46)",gray19:"rgb(48, 48, 48)",gray2:"rgb(5, 5, 5)",gray20:"rgb(51, 51, 51)",gray21:"rgb(54, 54, 54)",gray22:"rgb(56, 56, 56)",gray23:"rgb(59, 59, 59)",gray24:"rgb(61, 61, 61)",gray25:"rgb(64, 64, 64)",gray26:"rgb(66, 66, 66)",gray27:"rgb(69, 69, 69)",gray28:"rgb(71, 71, 71)",gray29:"rgb(74, 74, 74)",gray3:"rgb(8, 8, 8)",gray30:"rgb(77, 77, 77)",gray31:"rgb(79, 79, 79)",gray32:"rgb(82, 82, 82)",gray33:"rgb(84, 84, 84)",gray34:"rgb(87, 87, 87)",gray35:"rgb(89, 89, 89)",gray36:"rgb(92, 92, 92)",gray37:"rgb(94, 94, 94)",gray38:"rgb(97, 97, 97)",gray39:"rgb(99, 99, 99)",gray4:"rgb(10, 10, 10)",gray40:"rgb(102, 102, 102)",gray41:"rgb(105, 105, 105)",gray42:"rgb(107, 107, 107)",gray43:"rgb(110, 110, 110)",gray44:"rgb(112, 112, 112)",gray45:"rgb(115, 115, 115)",gray46:"rgb(117, 117, 117)",gray47:"rgb(120, 120, 120)",gray48:"rgb(122, 122, 122)",gray49:"rgb(125, 125, 125)",gray5:"rgb(13, 13, 13)",gray50:"rgb(127, 127, 127)",gray51:"rgb(130, 130, 130)",gray52:"rgb(133, 133, 133)",gray53:"rgb(135, 135, 135)",gray54:"rgb(138, 138, 138)",gray55:"rgb(140, 140, 140)",gray56:"rgb(143, 143, 143)",gray57:"rgb(145, 145, 145)",gray58:"rgb(148, 148, 148)",gray59:"rgb(150, 150, 150)",gray6:"rgb(15, 15, 15)",gray60:"rgb(153, 153, 153)",gray61:"rgb(156, 156, 156)",gray62:"rgb(158, 158, 158)",gray63:"rgb(161, 161, 161)",gray64:"rgb(163, 163, 163)",gray65:"rgb(166, 166, 166)",gray66:"rgb(168, 168, 168)",gray67:"rgb(171, 171, 171)",gray68:"rgb(173, 173, 173)",gray69:"rgb(176, 176, 176)",gray7:"rgb(18, 18, 18)",gray70:"rgb(179, 179, 179)",gray71:"rgb(181, 181, 181)",gray72:"rgb(184, 184, 184)",gray73:"rgb(186, 186, 186)",gray74:"rgb(189, 189, 189)",gray75:"rgb(191, 191, 191)",gray76:"rgb(194, 194, 194)",gray77:"rgb(196, 196, 196)",gray78:"rgb(199, 199, 199)",gray79:"rgb(201, 201, 201)",gray8:"rgb(20, 20, 20)",gray80:"rgb(204, 204, 204)",gray81:"rgb(207, 207, 207)",gray82:"rgb(209, 209, 209)",gray83:"rgb(212, 212, 212)",gray84:"rgb(214, 214, 214)",gray85:"rgb(217, 217, 217)",gray86:"rgb(219, 219, 219)",gray87:"rgb(222, 222, 222)",gray88:"rgb(224, 224, 224)",gray89:"rgb(227, 227, 227)",gray9:"rgb(23, 23, 23)",gray90:"rgb(229, 229, 229)",gray91:"rgb(232, 232, 232)",gray92:"rgb(235, 235, 235)",gray93:"rgb(237, 237, 237)",gray94:"rgb(240, 240, 240)",gray95:"rgb(242, 242, 242)",gray96:"rgb(245, 245, 245)",gray97:"rgb(247, 247, 247)",gray98:"rgb(250, 250, 250)",gray99:"rgb(252, 252, 252)",green:"rgb(0, 255, 0)",green1:"rgb(0, 255, 0)",green2:"rgb(0, 238, 0)",green3:"rgb(0, 205, 0)",green4:"rgb(0, 139, 0)",greenyellow:"rgb(173, 255, 47)",grey:"rgb(190, 190, 190)",grey0:"rgb(0, 0, 0)",grey1:"rgb(3, 3, 3)",grey10:"rgb(26, 26, 26)",grey100:"rgb(255, 255, 255)",grey11:"rgb(28, 28, 28)",grey12:"rgb(31, 31, 31)",grey13:"rgb(33, 33, 33)",grey14:"rgb(36, 36, 36)",grey15:"rgb(38, 38, 38)",grey16:"rgb(41, 41, 41)",grey17:"rgb(43, 43, 43)",grey18:"rgb(46, 46, 46)",grey19:"rgb(48, 48, 48)",grey2:"rgb(5, 5, 5)",grey20:"rgb(51, 51, 51)",grey21:"rgb(54, 54, 54)",grey22:"rgb(56, 56, 56)",grey23:"rgb(59, 59, 59)",grey24:"rgb(61, 61, 61)",grey25:"rgb(64, 64, 64)",grey26:"rgb(66, 66, 66)",grey27:"rgb(69, 69, 69)",grey28:"rgb(71, 71, 71)",grey29:"rgb(74, 74, 74)",grey3:"rgb(8, 8, 8)",grey30:"rgb(77, 77, 77)",grey31:"rgb(79, 79, 79)",grey32:"rgb(82, 82, 82)",grey33:"rgb(84, 84, 84)",grey34:"rgb(87, 87, 87)",grey35:"rgb(89, 89, 89)",grey36:"rgb(92, 92, 92)",grey37:"rgb(94, 94, 94)",grey38:"rgb(97, 97, 97)",grey39:"rgb(99, 99, 99)",grey4:"rgb(10, 10, 10)",grey40:"rgb(102, 102, 102)",grey41:"rgb(105, 105, 105)",grey42:"rgb(107, 107, 107)",grey43:"rgb(110, 110, 110)",grey44:"rgb(112, 112, 112)",grey45:"rgb(115, 115, 115)",grey46:"rgb(117, 117, 117)",grey47:"rgb(120, 120, 120)",grey48:"rgb(122, 122, 122)",grey49:"rgb(125, 125, 125)",grey5:"rgb(13, 13, 13)",grey50:"rgb(127, 127, 127)",grey51:"rgb(130, 130, 130)",grey52:"rgb(133, 133, 133)",grey53:"rgb(135, 135, 135)",grey54:"rgb(138, 138, 138)",grey55:"rgb(140, 140, 140)",grey56:"rgb(143, 143, 143)",grey57:"rgb(145, 145, 145)",grey58:"rgb(148, 148, 148)",grey59:"rgb(150, 150, 150)",grey6:"rgb(15, 15, 15)",grey60:"rgb(153, 153, 153)",grey61:"rgb(156, 156, 156)",grey62:"rgb(158, 158, 158)",grey63:"rgb(161, 161, 161)",grey64:"rgb(163, 163, 163)",grey65:"rgb(166, 166, 166)",grey66:"rgb(168, 168, 168)",grey67:"rgb(171, 171, 171)",grey68:"rgb(173, 173, 173)",grey69:"rgb(176, 176, 176)",grey7:"rgb(18, 18, 18)",grey70:"rgb(179, 179, 179)",grey71:"rgb(181, 181, 181)",grey72:"rgb(184, 184, 184)",grey73:"rgb(186, 186, 186)",grey74:"rgb(189, 189, 189)",grey75:"rgb(191, 191, 191)",grey76:"rgb(194, 194, 194)",grey77:"rgb(196, 196, 196)",grey78:"rgb(199, 199, 199)",grey79:"rgb(201, 201, 201)",grey8:"rgb(20, 20, 20)",grey80:"rgb(204, 204, 204)",grey81:"rgb(207, 207, 207)",grey82:"rgb(209, 209, 209)",grey83:"rgb(212, 212, 212)",grey84:"rgb(214, 214, 214)",grey85:"rgb(217, 217, 217)",grey86:"rgb(219, 219, 219)",grey87:"rgb(222, 222, 222)",grey88:"rgb(224, 224, 224)",grey89:"rgb(227, 227, 227)",grey9:"rgb(23, 23, 23)",grey90:"rgb(229, 229, 229)",grey91:"rgb(232, 232, 232)",grey92:"rgb(235, 235, 235)",grey93:"rgb(237, 237, 237)",grey94:"rgb(240, 240, 240)",grey95:"rgb(242, 242, 242)",grey96:"rgb(245, 245, 245)",grey97:"rgb(247, 247, 247)",grey98:"rgb(250, 250, 250)",grey99:"rgb(252, 252, 252)",honeydew:"rgb(240, 255, 240)",honeydew1:"rgb(240, 255, 240)",honeydew2:"rgb(224, 238, 224)",honeydew3:"rgb(193, 205, 193)",honeydew4:"rgb(131, 139, 131)",hotpink:"rgb(255, 105, 180)",hotpink1:"rgb(255, 110, 180)",hotpink2:"rgb(238, 106, 167)",hotpink3:"rgb(205, 96, 144)",hotpink4:"rgb(139, 58, 98)",indianred:"rgb(205, 92, 92)",indianred1:"rgb(255, 106, 106)",indianred2:"rgb(238, 99, 99)",indianred3:"rgb(205, 85, 85)",indianred4:"rgb(139, 58, 58)",ivory:"rgb(255, 255, 240)",ivory1:"rgb(255, 255, 240)",ivory2:"rgb(238, 238, 224)",ivory3:"rgb(205, 205, 193)",ivory4:"rgb(139, 139, 131)",khaki:"rgb(240, 230, 140)",khaki1:"rgb(255, 246, 143)",khaki2:"rgb(238, 230, 133)",khaki3:"rgb(205, 198, 115)",khaki4:"rgb(139, 134, 78)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lavenderblush1:"rgb(255, 240, 245)",lavenderblush2:"rgb(238, 224, 229)",lavenderblush3:"rgb(205, 193, 197)",lavenderblush4:"rgb(139, 131, 134)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lemonchiffon1:"rgb(255, 250, 205)",lemonchiffon2:"rgb(238, 233, 191)",lemonchiffon3:"rgb(205, 201, 165)",lemonchiffon4:"rgb(139, 137, 112)",lightblue:"rgb(173, 216, 230)",lightblue1:"rgb(191, 239, 255)",lightblue2:"rgb(178, 223, 238)",lightblue3:"rgb(154, 192, 205)",lightblue4:"rgb(104, 131, 139)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightcyan1:"rgb(224, 255, 255)",lightcyan2:"rgb(209, 238, 238)",lightcyan3:"rgb(180, 205, 205)",lightcyan4:"rgb(122, 139, 139)",lightgoldenrod:"rgb(238, 221, 130)",lightgoldenrod1:"rgb(255, 236, 139)",lightgoldenrod2:"rgb(238, 220, 130)",lightgoldenrod3:"rgb(205, 190, 112)",lightgoldenrod4:"rgb(139, 129, 76)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightpink1:"rgb(255, 174, 185)",lightpink2:"rgb(238, 162, 173)",lightpink3:"rgb(205, 140, 149)",lightpink4:"rgb(139, 95, 101)",lightsalmon:"rgb(255, 160, 122)",lightsalmon1:"rgb(255, 160, 122)",lightsalmon2:"rgb(238, 149, 114)",lightsalmon3:"rgb(205, 129, 98)",lightsalmon4:"rgb(139, 87, 66)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightskyblue1:"rgb(176, 226, 255)",lightskyblue2:"rgb(164, 211, 238)",lightskyblue3:"rgb(141, 182, 205)",lightskyblue4:"rgb(96, 123, 139)",lightslateblue:"rgb(132, 112, 255)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightsteelblue1:"rgb(202, 225, 255)",lightsteelblue2:"rgb(188, 210, 238)",lightsteelblue3:"rgb(162, 181, 205)",lightsteelblue4:"rgb(110, 123, 139)",lightyellow:"rgb(255, 255, 224)",lightyellow1:"rgb(255, 255, 224)",lightyellow2:"rgb(238, 238, 209)",lightyellow3:"rgb(205, 205, 180)",lightyellow4:"rgb(139, 139, 122)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",magenta1:"rgb(255, 0, 255)",magenta2:"rgb(238, 0, 238)",magenta3:"rgb(205, 0, 205)",magenta4:"rgb(139, 0, 139)",maroon:"rgb(176, 48, 96)",maroon1:"rgb(255, 52, 179)",maroon2:"rgb(238, 48, 167)",maroon3:"rgb(205, 41, 144)",maroon4:"rgb(139, 28, 98)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumorchid1:"rgb(224, 102, 255)",mediumorchid2:"rgb(209, 95, 238)",mediumorchid3:"rgb(180, 82, 205)",mediumorchid4:"rgb(122, 55, 139)",mediumpurple:"rgb(147, 112, 219)",mediumpurple1:"rgb(171, 130, 255)",mediumpurple2:"rgb(159, 121, 238)",mediumpurple3:"rgb(137, 104, 205)",mediumpurple4:"rgb(93, 71, 139)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",mistyrose1:"rgb(255, 228, 225)",mistyrose2:"rgb(238, 213, 210)",mistyrose3:"rgb(205, 183, 181)",mistyrose4:"rgb(139, 125, 123)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navajowhite1:"rgb(255, 222, 173)",navajowhite2:"rgb(238, 207, 161)",navajowhite3:"rgb(205, 179, 139)",navajowhite4:"rgb(139, 121, 94)",navy:"rgb(0, 0, 128)",navyblue:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olivedrab:"rgb(107, 142, 35)",olivedrab1:"rgb(192, 255, 62)",olivedrab2:"rgb(179, 238, 58)",olivedrab3:"rgb(154, 205, 50)",olivedrab4:"rgb(105, 139, 34)",orange:"rgb(255, 165, 0)",orange1:"rgb(255, 165, 0)",orange2:"rgb(238, 154, 0)",orange3:"rgb(205, 133, 0)",orange4:"rgb(139, 90, 0)",orangered:"rgb(255, 69, 0)",orangered1:"rgb(255, 69, 0)",orangered2:"rgb(238, 64, 0)",orangered3:"rgb(205, 55, 0)",orangered4:"rgb(139, 37, 0)",orchid:"rgb(218, 112, 214)",orchid1:"rgb(255, 131, 250)",orchid2:"rgb(238, 122, 233)",orchid3:"rgb(205, 105, 201)",orchid4:"rgb(139, 71, 137)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",palegreen1:"rgb(154, 255, 154)",palegreen2:"rgb(144, 238, 144)",palegreen3:"rgb(124, 205, 124)",palegreen4:"rgb(84, 139, 84)",paleturquoise:"rgb(175, 238, 238)",paleturquoise1:"rgb(187, 255, 255)",paleturquoise2:"rgb(174, 238, 238)",paleturquoise3:"rgb(150, 205, 205)",paleturquoise4:"rgb(102, 139, 139)",palevioletred:"rgb(219, 112, 147)",palevioletred1:"rgb(255, 130, 171)",palevioletred2:"rgb(238, 121, 159)",palevioletred3:"rgb(205, 104, 137)",palevioletred4:"rgb(139, 71, 93)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peachpuff1:"rgb(255, 218, 185)",peachpuff2:"rgb(238, 203, 173)",peachpuff3:"rgb(205, 175, 149)",peachpuff4:"rgb(139, 119, 101)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",pink1:"rgb(255, 181, 197)",pink2:"rgb(238, 169, 184)",pink3:"rgb(205, 145, 158)",pink4:"rgb(139, 99, 108)",plum:"rgb(221, 160, 221)",plum1:"rgb(255, 187, 255)",plum2:"rgb(238, 174, 238)",plum3:"rgb(205, 150, 205)",plum4:"rgb(139, 102, 139)",powderblue:"rgb(176, 224, 230)",purple:"rgb(160, 32, 240)",purple1:"rgb(155, 48, 255)",purple2:"rgb(145, 44, 238)",purple3:"rgb(125, 38, 205)",purple4:"rgb(85, 26, 139)",red:"rgb(255, 0, 0)",red1:"rgb(255, 0, 0)",red2:"rgb(238, 0, 0)",red3:"rgb(205, 0, 0)",red4:"rgb(139, 0, 0)",rosybrown:"rgb(188, 143, 143)",rosybrown1:"rgb(255, 193, 193)",rosybrown2:"rgb(238, 180, 180)",rosybrown3:"rgb(205, 155, 155)",rosybrown4:"rgb(139, 105, 105)",royalblue:"rgb(65, 105, 225)",royalblue1:"rgb(72, 118, 255)",royalblue2:"rgb(67, 110, 238)",royalblue3:"rgb(58, 95, 205)",royalblue4:"rgb(39, 64, 139)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",salmon1:"rgb(255, 140, 105)",salmon2:"rgb(238, 130, 98)",salmon3:"rgb(205, 112, 84)",salmon4:"rgb(139, 76, 57)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seagreen1:"rgb(84, 255, 159)",seagreen2:"rgb(78, 238, 148)",seagreen3:"rgb(67, 205, 128)",seagreen4:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",seashell1:"rgb(255, 245, 238)",seashell2:"rgb(238, 229, 222)",seashell3:"rgb(205, 197, 191)",seashell4:"rgb(139, 134, 130)",sienna:"rgb(160, 82, 45)",sienna1:"rgb(255, 130, 71)",sienna2:"rgb(238, 121, 66)",sienna3:"rgb(205, 104, 57)",sienna4:"rgb(139, 71, 38)",skyblue:"rgb(135, 206, 235)",skyblue1:"rgb(135, 206, 255)",skyblue2:"rgb(126, 192, 238)",skyblue3:"rgb(108, 166, 205)",skyblue4:"rgb(74, 112, 139)",slateblue:"rgb(106, 90, 205)",slateblue1:"rgb(131, 111, 255)",slateblue2:"rgb(122, 103, 238)",slateblue3:"rgb(105, 89, 205)",slateblue4:"rgb(71, 60, 139)",slategray:"rgb(112, 128, 144)",slategray1:"rgb(198, 226, 255)",slategray2:"rgb(185, 211, 238)",slategray3:"rgb(159, 182, 205)",slategray4:"rgb(108, 123, 139)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",snow1:"rgb(255, 250, 250)",snow2:"rgb(238, 233, 233)",snow3:"rgb(205, 201, 201)",snow4:"rgb(139, 137, 137)",springgreen:"rgb(0, 255, 127)",springgreen1:"rgb(0, 255, 127)",springgreen2:"rgb(0, 238, 118)",springgreen3:"rgb(0, 205, 102)",springgreen4:"rgb(0, 139, 69)",steelblue:"rgb(70, 130, 180)",steelblue1:"rgb(99, 184, 255)",steelblue2:"rgb(92, 172, 238)",steelblue3:"rgb(79, 148, 205)",steelblue4:"rgb(54, 100, 139)",tan:"rgb(210, 180, 140)",tan1:"rgb(255, 165, 79)",tan2:"rgb(238, 154, 73)",tan3:"rgb(205, 133, 63)",tan4:"rgb(139, 90, 43)",thistle:"rgb(216, 191, 216)",thistle1:"rgb(255, 225, 255)",thistle2:"rgb(238, 210, 238)",thistle3:"rgb(205, 181, 205)",thistle4:"rgb(139, 123, 139)",tomato:"rgb(255, 99, 71)",tomato1:"rgb(255, 99, 71)",tomato2:"rgb(238, 92, 66)",tomato3:"rgb(205, 79, 57)",tomato4:"rgb(139, 54, 38)",turquoise:"rgb(64, 224, 208)",turquoise1:"rgb(0, 245, 255)",turquoise2:"rgb(0, 229, 238)",turquoise3:"rgb(0, 197, 205)",turquoise4:"rgb(0, 134, 139)",violet:"rgb(238, 130, 238)",violetred:"rgb(208, 32, 144)",violetred1:"rgb(255, 62, 150)",violetred2:"rgb(238, 58, 140)",violetred3:"rgb(205, 50, 120)",violetred4:"rgb(139, 34, 82)",wheat:"rgb(245, 222, 179)",wheat1:"rgb(255, 231, 186)",wheat2:"rgb(238, 216, 174)",wheat3:"rgb(205, 186, 150)",wheat4:"rgb(139, 126, 102)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellow1:"rgb(255, 255, 0)",yellow2:"rgb(238, 238, 0)",yellow3:"rgb(205, 205, 0)",yellow4:"rgb(139, 139, 0)",yellowgreen:"rgb(154, 205, 50)"},ip.f={},ip.f.replaceVars=function(e,t){return e.replace(/%([a-z]*)\(([^)]+)\)/gi,(function(e,n,r){if(void 0===t[r])throw new Error(`Unknown variable: ${r}`);let o=t[r];if(n in ip.f.replaceVars.functions)o=ip.f.replaceVars.functions[n](o);else if(n)throw new Error(`Unknown escape function: ${n}`);return o}))},ip.f.replaceVars.functions={encodeURI,encodeURIComponent,escapeHTML:function(e){const t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"};return e.replace(/[<>&"']/g,(e=>t[e]))}},ip.f.getURL=function(e){return ip.f.getURL.chromeSupported()?chrome.runtime.getURL(e):e.startsWith("/")?window.location.origin+e:e},ip.f.getURL.chromeSupported=function(){return!!(window.chrome&&chrome.runtime&&chrome.runtime.getURL)},ip.f.clamp=function(e,t,n){return e<t?t:e>n?n:e},ip.f.zpad=function(e,t){return String(e).padStart(t,"0")},ip.f.getStack=function(e=0,t=void 0){const n=(new Error).stack.split("\n");e+=2;const r=n.length-e;t=void 0===t?r:ip.f.clamp(t,0,r);const o=new Array;for(let r=e;r<t+e;++r)o.push(n[r].replace(/^\s*at\s+/,""));return o},ip.f.smartFloorDivide=function(e,t){const n=e/t,r=Math.ceil(n);return r-n<1e-4?r:Math.floor(n)},ip.f.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},ip.f.getOs=function(){if(window.browser&&browser.runtime&&browser.runtime.getPlatformInfo)return browser.runtime.getPlatformInfo().then((e=>e.os));if(window.chrome&&chrome.runtime&&chrome.runtime.getPlatformInfo)return new Promise(((e,t)=>chrome.runtime.getPlatformInfo((t=>e(t.os)))));if(window.navigator&&navigator.userAgent){const e=navigator.userAgent;if(e.includes("Mac OS X"))return Promise.resolve("mac");if(e.includes("CrOS"))return Promise.resolve("cros");if(e.includes("Linux"))return Promise.resolve("linux");if(e.includes("Android"))return Promise.resolve("android");if(e.includes("Windows"))return Promise.resolve("windows")}return"undefined"!=typeof process?Promise.resolve("node"):Promise.reject(null)},ip.f.getChromeMilestone=function(){if(window.navigator&&navigator.userAgent){const e=navigator.userAgent.match(/\sChrome\/(\d+)/);if(e)return parseInt(e[1],10)}return NaN},ip.f.lastError=function(e=null){let t;return window.browser&&browser.runtime?t=browser.runtime.lastError:window.chrome&&chrome.runtime&&(t=chrome.runtime.lastError),t&&t.message?t.message:e},ip.f.openWindow=function(e,t=void 0,n=void 0){const r=window.open(void 0,t,n);return null!==r&&(r.opener=null,e&&(r.location=e)),r},ip.i18n={},ip.i18n.browser_=window.browser&&browser.i18n?browser.i18n:window.chrome&&chrome.i18n?chrome.i18n:null,ip.i18n.browserSupported=function(){return null!==ip.i18n.browser_},ip.i18n.getAcceptLanguages=function(){if(ip.i18n.browser_)return new Promise((e=>{ip.i18n.browser_.getAcceptLanguages((t=>{t||(console.error("getAcceptLanguages failed",ip.f.lastError()),t=["en"]),e(t)}))}));{const e=navigator.languages||[navigator.language];return Promise.resolve(e)}},ip.i18n.getMessage=function(e,t=[],n=""){if(ip.i18n.browser_){const n=ip.i18n.browser_.getMessage(e,t);if(n)return n}return ip.i18n.replaceReferences(n,t)},ip.i18n.replaceReferences=function(e,t=[]){return null===t&&(t=[]),t instanceof Array||(t=[t]),e.replace(/\$(\d+)/g,((e,n)=>n<=t.length?t[n-1]:""))},ip.i18n.resolveLanguage=function(e){const[t,n]=e.toLowerCase().split(/[-_]/,2);return"es"==t?[void 0,"es"].includes(n)?["es"]:["es_419"]:"pt"==t?[void 0,"br"].includes(n)?["pt_BR"]:["pt_PT"]:"zh"==t?["tw","hk","mo"].includes(n)?["zh_TW"]:["zh_CN"]:"en"==t?[void 0,"us","lr","ph"].includes(n)?["en"]:["en_GB","en"]:n?[e.replace(/-/g,"_"),t]:[t]},ip.MessageManager=function(e,t=!1){this.languages_=[];let n=!1;for(let t=0;t<e.length&&!n;t++)for(const r of ip.i18n.resolveLanguage(e[t])){if("en"==r){n=!0;break}this.languages_.includes(r)||this.languages_.push(r)}this.languages_.push("en"),this.useCrlf=t,this.messages_={}},ip.MessageManager.Messages,ip.MessageManager.prototype.addMessages=function(e){for(const t in e){const n=e[t];n.placeholders?this.messages_[t.toUpperCase()]=n.message.replace(/\$([a-z][^\s$]+)\$/gi,(function(n,r){return e[t].placeholders[r.toUpperCase()].content})):this.messages_[t.toUpperCase()]=n.message}},ip.MessageManager.prototype.findAndLoadMessages=async function(e){if(!ip.i18n.browserSupported())for(let t=this.languages_.length-1;t>=0;t--){const n=this.languages_[t],r=ip.i18n.replaceReferences(e,n);try{await this.loadMessages(r)}catch(e){console.warn(`Error fetching ${n} messages at ${r}`,e,"Trying all languages in reverse order:",this.languages_)}}},ip.MessageManager.prototype.loadMessages=function(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.onload=()=>{try{this.addMessages(JSON.parse(r.responseText)),t()}catch(e){n(e)}},r.onerror=()=>n(r),r.open("GET",e),r.send()}))},ip.MessageManager.prototype.get=function(e,t,n){let r=ip.i18n.getMessage(e,t);return r||(r=this.messages_[e],r||(console.warn("Unknown message: "+e),r=void 0===n?e:n,this.messages_[e]=r),r=ip.i18n.replaceReferences(r,t)),this.useCrlf&&(r=r.replace(/\n/g,"\r\n")),r},ip.MessageManager.prototype.processI18nAttributes=function(e){const t=e.querySelectorAll("[i18n]");for(let e=0;e<t.length;e++)this.processI18nAttribute(t[e])},ip.MessageManager.prototype.processI18nAttribute=function(e){let t=e.getAttribute("i18n");if(t){try{t=JSON.parse(t)}catch(n){throw console.error("Can't parse "+e.tagName+"#"+e.id+": "+t),n}for(let r in t){const o=r;let i=t[r];i.startsWith("=")&&(r=i.substr(1),i=t[r]),i.startsWith("$")&&(n=e.getAttribute(i.substr(1))+"_"+r,i=n.replace(/-/g,"_").toUpperCase());const a=this.get(i);"_"==o?e.textContent=a:e.setAttribute(o,a)}var n}},ip.PreferenceManager=function(e,t="/"){this.storage=e,this.storageObserver_=this.onStorageChange_.bind(this),this.isActive_=!1,this.activate(),this.trace=!1,t.endsWith("/")||(t+="/"),this.prefix=t,this.isImportingJson_=!1,this.prefRecords_={},this.globalObservers_=[],this.childFactories_={},this.childLists_={}},ip.PreferenceManager.prototype.DEFAULT_VALUE=Symbol("DEFAULT_VALUE"),ip.PreferenceManager.Record=function(e,t){this.name=e,this.defaultValue=t,this.currentValue=this.DEFAULT_VALUE,this.observers=[]},ip.PreferenceManager.Record.prototype.DEFAULT_VALUE=ip.PreferenceManager.prototype.DEFAULT_VALUE,ip.PreferenceManager.Record.prototype.addObserver=function(e){this.observers.push(e)},ip.PreferenceManager.Record.prototype.removeObserver=function(e){const t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)},ip.PreferenceManager.Record.prototype.get=function(){return this.currentValue===this.DEFAULT_VALUE?/^(string|number)$/.test(typeof this.defaultValue)?this.defaultValue:"object"==typeof this.defaultValue?JSON.parse(JSON.stringify(this.defaultValue)):this.defaultValue:this.currentValue},ip.PreferenceManager.prototype.deactivate=function(){if(!this.isActive_)throw new Error("Not activated");this.isActive_=!1,this.storage.removeObserver(this.storageObserver_)},ip.PreferenceManager.prototype.activate=function(){if(this.isActive_)throw new Error("Already activated");this.isActive_=!0,this.storage.addObserver(this.storageObserver_)},ip.PreferenceManager.prototype.readStorage=function(e=void 0){let t=0;function n(){0==--t&&e&&e()}const r=Object.keys(this.prefRecords_).map((e=>this.prefix+e));this.trace&&console.log("Preferences read: "+this.prefix),this.storage.getItems(r).then((r=>{const o=this.prefix.length;for(const e in r){const i=r[e],a=e.substr(o),s=a in this.childLists_&&JSON.stringify(i)!=JSON.stringify(this.prefRecords_[a].currentValue);this.prefRecords_[a].currentValue=i,s&&(t++,this.syncChildList(a,n))}0==t&&e&&setTimeout(e,100)}))},ip.PreferenceManager.prototype.definePreference=function(e,t,n=void 0){let r=this.prefRecords_[e];r?this.changeDefault(e,t):r=this.prefRecords_[e]=new ip.PreferenceManager.Record(e,t),n&&r.addObserver(n)},ip.PreferenceManager.prototype.definePreferences=function(e){for(let t=0;t<e.length;t++)this.definePreference(e[t][0],e[t][1],e[t][2])},ip.PreferenceManager.prototype.defineChildren=function(e,t){this.definePreference(e,[],this.onChildListChange_.bind(this,e)),this.childFactories_[e]=t,this.childLists_[e]={}},ip.PreferenceManager.prototype.addObserver=function(e,t){if(!(e in this.prefRecords_))throw new Error(`Unknown preference: ${e}`);this.prefRecords_[e].addObserver(t)},ip.PreferenceManager.prototype.addObservers=function(e,t){if(e&&"function"!=typeof e)throw new Error("Invalid param: globals");if(e&&this.globalObservers_.push(e),t)for(const e in t)this.addObserver(e,t[e])},ip.PreferenceManager.prototype.removeObserver=function(e,t){if(!(e in this.prefRecords_))throw new Error(`Unknown preference: ${e}`);this.prefRecords_[e].removeObserver(t)},ip.PreferenceManager.prototype.notifyAll=function(){for(const e in this.prefRecords_)this.notifyChange_(e)},ip.PreferenceManager.prototype.notifyChange_=function(e){const t=this.prefRecords_[e];if(!t)throw new Error("Unknown preference: "+e);const n=t.get();for(let t=0;t<this.globalObservers_.length;t++)this.globalObservers_[t](e,n);for(let r=0;r<t.observers.length;r++)t.observers[r](n,e,this)},ip.PreferenceManager.prototype.createChild=function(e,t=void 0,n=void 0){const r=this.get(e);if(n){if(-1!=r.indexOf(n))throw new Error("Duplicate child: "+e+": "+n)}else for(;!n||-1!=r.indexOf(n);)n=ip.f.randomInt(1,65535).toString(16),n=ip.f.zpad(n,4),t&&(n=`${t}:${n}`);const o=this.childFactories_[e](this,n);return o.trace=this.trace,o.resetAll(),this.childLists_[e][n]=o,r.push(n),this.set(e,r,void 0,!this.isImportingJson_),o},ip.PreferenceManager.prototype.removeChild=function(e,t){this.getChild(e,t).resetAll();const n=this.get(e),r=n.indexOf(t);-1!=r&&(n.splice(r,1),this.set(e,n,void 0,!this.isImportingJson_)),delete this.childLists_[e][t]},ip.PreferenceManager.prototype.getChild=function(e,t,n=void 0){if(!(e in this.childLists_))throw new Error("Unknown child list: "+e);const r=this.childLists_[e];if(!(t in r)){if(void 0===n)throw new Error('Unknown "'+e+'" child: '+t);return n}return r[t]},ip.PreferenceManager.prototype.syncChildList=function(e,t=void 0){let n=0;function r(){0==--n&&t&&t()}const o=this.get(e),i=Object.keys(this.childLists_[e]);for(let t=0;t<o.length;t++){const a=o[t],s=i.indexOf(a);if(s>=0&&i.splice(s,1),!this.childLists_[e][a]){const t=this.childFactories_[e](this,a);if(!t){console.warn("Unable to restore child: "+e+": "+a);continue}t.trace=this.trace,this.childLists_[e][a]=t,n++,t.readStorage(r)}}for(let t=0;t<i.length;t++)delete this.childLists_[e][i[t]];!n&&t&&setTimeout(t)},ip.PreferenceManager.prototype.reset=function(e){const t=this.prefRecords_[e];if(!t)throw new Error("Unknown preference: "+e);this.storage.removeItem(this.prefix+e),t.currentValue!==this.DEFAULT_VALUE&&(t.currentValue=this.DEFAULT_VALUE,this.notifyChange_(e))},ip.PreferenceManager.prototype.resetAll=function(){const e=[];for(const e in this.childLists_){const t=this.childLists_[e];for(const e in t)t[e].resetAll()}for(const t in this.prefRecords_)this.prefRecords_[t].currentValue!==this.DEFAULT_VALUE&&(this.prefRecords_[t].currentValue=this.DEFAULT_VALUE,e.push(t));const t=Object.keys(this.prefRecords_).map(function(e){return this.prefix+e}.bind(this));this.storage.removeItems(t),e.forEach(this.notifyChange_.bind(this))},ip.PreferenceManager.prototype.diff=function(e,t){return typeof e!=typeof t||(/^(undefined|boolean|number|string)$/.test(typeof e)?e!==t:null!==e||null!==t)},ip.PreferenceManager.prototype.changeDefault=function(e,t){const n=this.prefRecords_[e];if(!n)throw new Error("Unknown preference: "+e);this.diff(n.defaultValue,t)&&(n.currentValue===this.DEFAULT_VALUE?(n.defaultValue=t,this.notifyChange_(e)):n.defaultValue=t)},ip.PreferenceManager.prototype.changeDefaults=function(e){for(const t in e)this.changeDefault(t,e[t])},ip.PreferenceManager.prototype.set=function(e,t,n=void 0,r=!0){const o=this.prefRecords_[e];if(!o)throw new Error("Unknown preference: "+e);const i=o.get();return this.diff(i,t)?(this.diff(o.defaultValue,t)?(o.currentValue=t,r&&this.storage.setItem(this.prefix+e,t).then(n)):(o.currentValue=this.DEFAULT_VALUE,r&&this.storage.removeItem(this.prefix+e).then(n)),Promise.resolve().then((()=>{this.notifyChange_(e)}))):Promise.resolve()},ip.PreferenceManager.prototype.get=function(e){const t=this.prefRecords_[e];if(!t)throw new Error("Unknown preference: "+e);return t.get()},ip.PreferenceManager.prototype.getDefault=function(e){const t=this.prefRecords_[e];if(!t)throw new Error(`Unknown preference: ${e}`);return t.defaultValue},ip.PreferenceManager.prototype.getBoolean=function(e){const t=this.get(e);return ip.assert("boolean"==typeof t),t},ip.PreferenceManager.prototype.getNumber=function(e){const t=this.get(e);return ip.assert("number"==typeof t),t},ip.PreferenceManager.prototype.getString=function(e){const t=this.get(e);return ip.assert("string"==typeof t),t},ip.PreferenceManager.prototype.exportAsJson=function(){const e={};for(const t in this.prefRecords_)if(t in this.childLists_){e[t]=[];const n=this.get(t);for(let r=0;r<n.length;r++){const o=n[r];e[t].push({id:o,json:this.getChild(t,o).exportAsJson()})}}else{const n=this.prefRecords_[t];n.currentValue!=this.DEFAULT_VALUE&&(e[t]=n.currentValue)}return e},ip.PreferenceManager.prototype.importFromJson=function(e,t){this.isImportingJson_=!0;let n=0;const r=()=>{if(--n<1){t&&t();for(const t in e)t in this.childLists_&&this.set(t,this.get(t));this.isImportingJson_=!1}};for(const t in e)if(t in this.childLists_){const o=e[t];for(let e=0;e<o.length;e++){const i=o[e].id;let a=this.childLists_[t][i];a||(a=this.createChild(t,null,i)),a.importFromJson(o[e].json,r),n++}}else this.set(t,e[t]);0==n&&t&&t()},ip.PreferenceManager.prototype.onChildListChange_=function(e){this.syncChildList(e)},ip.PreferenceManager.prototype.onStorageChange_=function(e){for(const t in e){if(this.prefix&&0!=t.lastIndexOf(this.prefix,0))continue;const n=t.substr(this.prefix.length);if(!(n in this.prefRecords_))continue;const r=this.prefRecords_[n],o=e[t].newValue;let i=r.currentValue;i===r.DEFAULT_VALUE&&(i=void 0),this.diff(i,o)&&(r.currentValue=null==o?r.DEFAULT_VALUE:o,this.notifyChange_(n))}},ip.resource={resources_:{}},ip.resource.ResourceRecord,ip.resource.add=function(e,t,n){ip.resource.resources_[e]={type:t,name:e,data:n}},ip.resource.get=function(e,t){return e in ip.resource.resources_?ip.resource.resources_[e]:(ip.assert(void 0!==t),t)},ip.resource.getData=function(e,t){return e in ip.resource.resources_?ip.resource.resources_[e].data:t},ip.resource.getDataUrl=function(e,t){const n=ip.resource.get(e,t);return"data:"+n.type+","+n.data},ip.Storage=function(){},ip.Storage.prototype.addObserver=function(e){},ip.Storage.prototype.removeObserver=function(e){},ip.Storage.prototype.clear=async function(){},ip.Storage.prototype.getItem=async function(e){},ip.Storage.prototype.getItems=async function(e){},ip.Storage.prototype.setItem=async function(e,t){},ip.Storage.prototype.setItems=async function(e){},ip.Storage.prototype.removeItem=async function(e){},ip.Storage.prototype.removeItems=async function(e){},ip.Storage.generateStorageChanges=function(e,t){const n={};for(const r in t){const o=t[r];if(e.hasOwnProperty(r)){const t=e[r];t!==o&&(n[r]={oldValue:t,newValue:o})}else n[r]={newValue:o}}for(const r in e)t.hasOwnProperty(r)||(n[r]={oldValue:e[r]});return n},ip.Storage.Chrome=function(e){this.storage_=e,this.observers_=[],e.onChanged.addListener(this.onChanged_.bind(this))},ip.Storage.Chrome.prototype.onChanged_=function(e){this.observers_.forEach((t=>t(e)))},ip.Storage.Chrome.prototype.addObserver=function(e){this.observers_.push(e)},ip.Storage.Chrome.prototype.removeObserver=function(e){const t=this.observers_.indexOf(e);-1!=t&&this.observers_.splice(t,1)},ip.Storage.Chrome.prototype.clear=async function(){return new Promise((e=>{this.storage_.clear(e)}))},ip.Storage.Chrome.prototype.getItem=async function(e){return this.getItems([e]).then((t=>t[e]))},ip.Storage.Chrome.prototype.getItems=async function(e){return new Promise((t=>{this.storage_.get(e,t)}))},ip.Storage.Chrome.prototype.setItem=async function(e,t){return new Promise((n=>{const r=()=>{const o=ip.f.lastError();if(o){if(o.indexOf("MAX_WRITE_OPERATIONS"))return console.warn(`Will retry '${e}' save after exceeding quota:`,o),void setTimeout((()=>this.setItem(e,t).then(r)),1e3);console.error(`Unknown runtime error: ${o}`)}n()};this.setItems({[e]:t}).then(r)}))},ip.Storage.Chrome.prototype.setItems=async function(e){return new Promise((t=>{this.storage_.set(e,t)}))},ip.Storage.Chrome.prototype.removeItem=async function(e){return this.removeItems([e])},ip.Storage.Chrome.prototype.removeItems=async function(e){return new Promise((t=>{this.storage_.remove(e,t)}))},ip.Storage.Local=function(e=void 0){this.observers_=[],this.storage_=e||ip.notNull(window.localStorage),window.addEventListener("storage",this.onStorage_.bind(this))},ip.Storage.Local.prototype.parseJson_=function(e){if(null!==e)try{return JSON.parse(e)}catch(e){}return e},ip.Storage.Local.prototype.onStorage_=function(e){if(e.storageArea!=this.storage_)return;const t={};t[e.key]={oldValue:this.parseJson_(e.oldValue),newValue:this.parseJson_(e.newValue)};for(let e=0;e<this.observers_.length;e++)this.observers_[e](t)},ip.Storage.Local.prototype.addObserver=function(e){this.observers_.push(e)},ip.Storage.Local.prototype.removeObserver=function(e){const t=this.observers_.indexOf(e);-1!=t&&this.observers_.splice(t,1)},ip.Storage.Local.prototype.clear=async function(){this.storage_.clear(),await 0},ip.Storage.Local.prototype.getItem=async function(e){return this.getItems([e]).then((t=>t[e]))},ip.Storage.Local.prototype.getItems=async function(e){const t={};if(!e){e=[];for(let t=0;t<this.storage_.length;t++)e.push(this.storage_.key(t))}for(let n=e.length-1;n>=0;n--){const r=e[n],o=this.storage_.getItem(r);"string"==typeof o?t[r]=this.parseJson_(o):e.splice(n,1)}return await 0,t},ip.Storage.Local.prototype.setItem=async function(e,t){return this.setItems({[e]:t})},ip.Storage.Local.prototype.setItems=async function(e){for(const t in e)this.storage_.setItem(t,JSON.stringify(e[t]));await 0},ip.Storage.Local.prototype.removeItem=async function(e){return this.removeItems([e])},ip.Storage.Local.prototype.removeItems=async function(e){for(let t=0;t<e.length;t++)this.storage_.removeItem(e[t]);await 0},ip.Storage.Memory=function(){this.observers_=[],this.storage_={}},ip.Storage.Memory.prototype.addObserver=function(e){this.observers_.push(e)},ip.Storage.Memory.prototype.removeObserver=function(e){const t=this.observers_.indexOf(e);-1!=t&&this.observers_.splice(t,1)},ip.Storage.Memory.prototype.update_=async function(e){const t=ip.Storage.generateStorageChanges(this.storage_,e);this.storage_=e,await 0,Object.keys(t).length&&this.observers_.forEach((e=>e(t)))},ip.Storage.Memory.prototype.clear=async function(){return this.update_({})},ip.Storage.Memory.prototype.getItem=async function(e){return this.getItems([e]).then((t=>t[e]))},ip.Storage.Memory.prototype.getItems=async function(e){const t={};return e||(e=Object.keys(this.storage_)),e.forEach((e=>{this.storage_.hasOwnProperty(e)&&(t[e]=this.storage_[e])})),await 0,t},ip.Storage.Memory.prototype.setItem=async function(e,t){return this.setItems({[e]:t})},ip.Storage.Memory.prototype.setItems=async function(e){const t=Object.assign({},this.storage_);for(const n in e)t[n]=JSON.parse(JSON.stringify(e[n]));return this.update_(t)},ip.Storage.Memory.prototype.removeItem=async function(e){return this.removeItems([e])},ip.Storage.Memory.prototype.removeItems=async function(e){const t=Object.assign({},this.storage_);return e.forEach((e=>delete t[e])),this.update_(t)},ip.Storage.TerminalPrivate=function(e=chrome.terminalPrivate){this.observers_=[],this.prefValue_={},this.prefValueWriteToResolve_=[],this.prefsLoaded_=!1,this.storage_=e,this.storage_.onSettingsChanged.addListener(this.onSettingsChanged_.bind(this))},ip.Storage.TerminalPrivate.prototype.initCache_=function(){return new Promise((e=>{this.prefsLoaded_?e():this.storage_.getSettings((t=>{const n=ip.f.lastError();n?console.error(n):this.prefValue_=ip.notNull(t),this.prefsLoaded_=!0,e()}))}))},ip.Storage.TerminalPrivate.prototype.onSettingsChanged_=function(e){const t=ip.Storage.generateStorageChanges(this.prefValue_,e);this.prefValue_=e,Object.keys(t).length&&setTimeout((()=>{this.observers_.forEach((e=>e(t)))}))},ip.Storage.TerminalPrivate.prototype.setPref_=function(){return ip.assert(this.prefsLoaded_),new Promise((e=>{this.prefValueWriteToResolve_.push(e),this.prefValueWriteToResolve_.length>1||setTimeout((()=>{this.storage_.setSettings(this.prefValue_,(()=>{const e=ip.f.lastError();e&&console.error(e),this.prefValueWriteToResolve_.forEach((e=>e())),this.prefValueWriteToResolve_=[]}))}))}))},ip.Storage.TerminalPrivate.prototype.addObserver=function(e){this.observers_.push(e)},ip.Storage.TerminalPrivate.prototype.removeObserver=function(e){const t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},ip.Storage.TerminalPrivate.prototype.update_=async function(e){const t=ip.Storage.generateStorageChanges(this.prefValue_,e);this.prefValue_=e,await this.setPref_(),Object.keys(t).length&&this.observers_.forEach((e=>e(t)))},ip.Storage.TerminalPrivate.prototype.clear=async function(){return await this.initCache_(),this.update_({})},ip.Storage.TerminalPrivate.prototype.getItem=async function(e){return await this.initCache_(),this.prefValue_[e]},ip.Storage.TerminalPrivate.prototype.getItems=async function(e){await this.initCache_();const t={};e||(e=Object.keys(this.prefValue_));for(const n of e)this.prefValue_.hasOwnProperty(n)&&(t[n]=this.prefValue_[n]);return t},ip.Storage.TerminalPrivate.prototype.setItem=async function(e,t){return this.setItems({[e]:t})},ip.Storage.TerminalPrivate.prototype.setItems=async function(e){return await this.initCache_(),this.update_(Object.assign({},this.prefValue_,e))},ip.Storage.TerminalPrivate.prototype.removeItem=async function(e){return this.removeItems([e])},ip.Storage.TerminalPrivate.prototype.removeItems=async function(e){await this.initCache_();const t=Object.assign({},this.prefValue_);return e.forEach((e=>delete t[e])),this.update_(t)},function(e){if("Intl"in e&&"Segmenter"in e.Intl)return;e.Intl=e.Intl||{};const t=["grapheme","word","sentence","line"],n={grapheme:{grapheme:/^(.|\n)/},word:{letter:/^[a-z](?:'?[a-z])*/i,number:/^\d+([,.]\d+)*/},sentence:{terminator:/^[^.?!\r\n]+[.?!]+[\r\n]?/,separator:/^[^.?!\r\n]+[\r\n]?/},line:{hard:/^\S*[\r\n]/,soft:/^\S*\s*/}};function r(e,t){const n={none:0,number:100,letter:200,kana:300,ideo:400,unknown:-1}[e]||0;switch(t){case"character":return;case"word":default:return e;case"sentence":return{0:"terminator",100:"separator"}[n]||e;case"line":return{0:"soft",100:"hard"}[n]||e}}class o{constructor(e,t){this._cur=-1,this._type=void 0,this._breaks=t}[Symbol.iterator](){return this}next(){return this._cur<this._breaks.length&&++this._cur,this._cur>=this._breaks.length?(this._type=void 0,{done:!0,value:void 0}):(this._type=this._breaks[this._cur].breakType,{done:!1,value:{segment:this._breaks[this._cur].segment,breakType:this._breaks[this._cur].breakType}})}following(e=void 0){if(!this._breaks.length)return!0;if(void 0===e)this._cur<this._breaks.length&&++this._cur;else for(this._cur=0;this._cur<this._breaks.length&&this._breaks[this._cur].pos<e;++this._cur);return this._type=this._cur<this._breaks.length?this._breaks[this._cur].breakType:void 0,this._cur+1>=this._breaks.length}preceding(e=void 0){if(!this._breaks.length)return!0;if(void 0===e)this._cur>=this._breaks.length&&--this._cur,this._cur>=0&&--this._cur;else for(this._cur=this._breaks.length-1;this._cur>=0&&this._breaks[this._cur].pos>=e;--this._cur);return this._type=this._cur+1>=this._breaks.length?void 0:this._breaks[this._cur+1].breakType,this._cur<0}get position(){return this._cur<0||!this._breaks.length?0:this._cur>=this._breaks.length?this._breaks[this._breaks.length-1].pos:this._breaks[this._cur].pos}get breakType(){return this._type}}e.Intl.Segmenter=class{constructor(e,{localeMatcher:n,granularity:r="grapheme"}={}){this._locale=Array.isArray(e)?e.map((e=>String(e))):String(e||navigator.language),this._granularity=t.includes(r)?r:"grapheme"}segment(t){return new o(t,function(t,o,i){const a=[];if("v8BreakIterator"in e.Intl){"grapheme"===o&&(o="character");const n=new e.Intl.v8BreakIterator(t,{type:o});n.adoptText(i);let s=0,l=n.next();for(;-1!==l;)a.push({pos:n.current(),segment:i.slice(s,l),breakType:r(n.breakType(),o)}),s=l,l=n.next()}else{const e=n[o];let t=0;for(;t<i.length;){let n=!1;for(const r of Object.keys(e)){const s=e[r],l=i.slice(t).match(s);if(l){t+=l[0].length,a.push({pos:t,segment:l[0],breakType:"grapheme"===o?void 0:r}),n=!0;break}}n||a.push({pos:t+1,segment:i.slice(t,++t),breakType:"none"})}}return a}(this._locale,this._granularity,t))}}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0),ip.wc={},ip.wc.nulWidth=0,ip.wc.controlWidth=0,ip.wc.regardCjkAmbiguous=!1,ip.wc.cjkAmbiguousWidth=2,ip.wc.combining=[[173,173],[768,879],[1155,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1552,1562],[1564,1564],[1611,1631],[1648,1648],[1750,1756],[1759,1764],[1767,1768],[1770,1773],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2045,2045],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2200,2207],[2250,2273],[2275,2306],[2362,2362],[2364,2364],[2369,2376],[2381,2381],[2385,2391],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2558,2558],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2641,2641],[2672,2673],[2677,2677],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2810,2815],[2817,2817],[2876,2876],[2879,2879],[2881,2884],[2893,2893],[2901,2902],[2914,2915],[2946,2946],[3008,3008],[3021,3021],[3072,3072],[3076,3076],[3132,3132],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3201,3201],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3405,3405],[3426,3427],[3457,3457],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4226,4226],[4229,4230],[4237,4237],[4253,4253],[4448,4607],[4957,4959],[5906,5908],[5938,5939],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6159],[6277,6278],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6683,6683],[6742,6742],[6744,6750],[6752,6752],[6754,6754],[6757,6764],[6771,6780],[6783,6783],[6832,6862],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7142,7142],[7144,7145],[7149,7149],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7405,7405],[7412,7412],[7416,7417],[7616,7679],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[8400,8432],[11503,11505],[11647,11647],[11744,11775],[12330,12333],[12441,12442],[42607,42610],[42612,42621],[42654,42655],[42736,42737],[43010,43010],[43014,43014],[43019,43019],[43045,43046],[43052,43052],[43204,43205],[43232,43249],[43263,43263],[43302,43309],[43335,43345],[43392,43394],[43443,43443],[43446,43449],[43452,43453],[43493,43493],[43561,43566],[43569,43570],[43573,43574],[43587,43587],[43596,43596],[43644,43644],[43696,43696],[43698,43700],[43703,43704],[43710,43711],[43713,43713],[43756,43757],[43766,43766],[44005,44005],[44008,44008],[44013,44013],[64286,64286],[65024,65039],[65056,65071],[65279,65279],[65529,65531],[66045,66045],[66272,66272],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[68325,68326],[68900,68903],[69291,69292],[69446,69456],[69506,69509],[69633,69633],[69688,69702],[69744,69744],[69747,69748],[69759,69761],[69811,69814],[69817,69818],[69826,69826],[69888,69890],[69927,69931],[69933,69940],[70003,70003],[70016,70017],[70070,70078],[70089,70092],[70095,70095],[70191,70193],[70196,70196],[70198,70199],[70206,70206],[70367,70367],[70371,70378],[70400,70401],[70459,70460],[70464,70464],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70726,70726],[70750,70750],[70835,70840],[70842,70842],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71229,71229],[71231,71232],[71339,71339],[71341,71341],[71344,71349],[71351,71351],[71453,71455],[71458,71461],[71463,71467],[71727,71735],[71737,71738],[71995,71996],[71998,71998],[72003,72003],[72148,72151],[72154,72155],[72160,72160],[72193,72202],[72243,72248],[72251,72254],[72263,72263],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72767,72767],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73018,73018],[73020,73021],[73023,73029],[73031,73031],[73104,73105],[73109,73109],[73111,73111],[73459,73460],[78896,78904],[92912,92916],[92976,92982],[94031,94031],[94095,94098],[94180,94180],[113821,113822],[113824,113827],[118528,118573],[118576,118598],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121461,121461],[121476,121476],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[123184,123190],[123566,123566],[123628,123631],[125136,125142],[125252,125258],[917505,917505],[917536,917631],[917760,917999]],ip.wc.ambiguous=[[161,161],[164,164],[167,168],[170,170],[173,174],[176,180],[182,186],[188,191],[198,198],[208,208],[215,216],[222,225],[230,230],[232,234],[236,237],[240,240],[242,243],[247,250],[252,252],[254,254],[257,257],[273,273],[275,275],[283,283],[294,295],[299,299],[305,307],[312,312],[319,322],[324,324],[328,331],[333,333],[338,339],[358,359],[363,363],[462,462],[464,464],[466,466],[468,468],[470,470],[472,472],[474,474],[476,476],[593,593],[609,609],[708,708],[711,711],[713,715],[717,717],[720,720],[728,731],[733,733],[735,735],[768,879],[913,929],[931,937],[945,961],[963,969],[1025,1025],[1040,1103],[1105,1105],[4352,4447],[8208,8208],[8211,8214],[8216,8217],[8220,8221],[8224,8226],[8228,8231],[8240,8240],[8242,8243],[8245,8245],[8251,8251],[8254,8254],[8308,8308],[8319,8319],[8321,8324],[8364,8364],[8451,8451],[8453,8453],[8457,8457],[8467,8467],[8470,8470],[8481,8482],[8486,8486],[8491,8491],[8531,8532],[8539,8542],[8544,8555],[8560,8569],[8585,8585],[8592,8601],[8632,8633],[8658,8658],[8660,8660],[8679,8679],[8704,8704],[8706,8707],[8711,8712],[8715,8715],[8719,8719],[8721,8721],[8725,8725],[8730,8730],[8733,8736],[8739,8739],[8741,8741],[8743,8748],[8750,8750],[8756,8759],[8764,8765],[8776,8776],[8780,8780],[8786,8786],[8800,8801],[8804,8807],[8810,8811],[8814,8815],[8834,8835],[8838,8839],[8853,8853],[8857,8857],[8869,8869],[8895,8895],[8978,8978],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9312,9449],[9451,9547],[9552,9587],[9600,9615],[9618,9621],[9632,9633],[9635,9641],[9650,9651],[9654,9655],[9660,9661],[9664,9665],[9670,9672],[9675,9675],[9678,9681],[9698,9701],[9711,9711],[9725,9726],[9733,9734],[9737,9737],[9742,9743],[9748,9749],[9756,9756],[9758,9758],[9792,9792],[9794,9794],[9800,9811],[9824,9825],[9827,9829],[9831,9834],[9836,9837],[9839,9839],[9855,9855],[9875,9875],[9886,9887],[9889,9889],[9898,9899],[9917,9919],[9924,9953],[9955,9955],[9960,9983],[9989,9989],[9994,9995],[10024,10024],[10045,10045],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10102,10111],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11097],[11904,12255],[12272,12350],[12352,19903],[19968,42191],[43360,43391],[44032,55203],[57344,64255],[65024,65049],[65072,65135],[65281,65376],[65504,65510],[65533,65533],[94176,94180],[94192,94193],[94208,101589],[101632,101640],[110576,110579],[110581,110587],[110589,110590],[110592,110895],[110928,110930],[110948,110951],[110960,111359],[126980,126980],[127183,127183],[127232,127242],[127248,127277],[127280,127337],[127344,127404],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128725,128727],[128733,128735],[128747,128748],[128756,128764],[128992,129003],[129008,129008],[129292,129338],[129340,129349],[129351,129535],[129648,129652],[129656,129660],[129664,129670],[129680,129708],[129712,129722],[129728,129733],[129744,129753],[129760,129767],[129776,129782],[131072,196605],[196608,262141],[917760,917999],[983040,1048573],[1048576,1114109]],ip.wc.unambiguous=[[4352,4447],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9725,9726],[9748,9749],[9800,9811],[9855,9855],[9875,9875],[9889,9889],[9898,9899],[9917,9918],[9924,9925],[9934,9934],[9940,9940],[9962,9962],[9970,9971],[9973,9973],[9978,9978],[9981,9981],[9989,9989],[9994,9995],[10024,10024],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11093],[11904,12255],[12272,12350],[12352,12871],[12880,19903],[19968,42191],[43360,43391],[44032,55203],[63744,64255],[65040,65049],[65072,65135],[65281,65376],[65504,65510],[94176,94180],[94192,94193],[94208,101589],[101632,101640],[110576,110579],[110581,110587],[110589,110590],[110592,110895],[110928,110930],[110948,110951],[110960,111359],[126980,126980],[127183,127183],[127374,127374],[127377,127386],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128725,128727],[128733,128735],[128747,128748],[128756,128764],[128992,129003],[129008,129008],[129292,129338],[129340,129349],[129351,129535],[129648,129652],[129656,129660],[129664,129670],[129680,129708],[129712,129722],[129728,129733],[129744,129753],[129760,129767],[129776,129782],[131072,196605],[196608,262141]],ip.wc.binaryTableSearch_=function(e,t){let n,r=0,o=t.length-1;if(e<t[r][0]||e>t[o][1])return!1;for(;o>=r;)if(n=Math.floor((r+o)/2),e>t[n][1])r=n+1;else{if(!(e<t[n][0]))return!0;o=n-1}return!1},ip.wc.isSpace=function(e){return ip.wc.binaryTableSearch_(e,ip.wc.combining)},ip.wc.isCjkAmbiguous=function(e){return ip.wc.binaryTableSearch_(e,ip.wc.ambiguous)},ip.wc.charWidth=function(e){return ip.wc.regardCjkAmbiguous?ip.wc.charWidthRegardAmbiguous(e):ip.wc.charWidthDisregardAmbiguous(e)},ip.wc.charWidthDisregardAmbiguous=function(e){return e<127?e>=32?1:0==e?ip.wc.nulWidth:ip.wc.controlWidth:e<160?ip.wc.controlWidth:ip.wc.isSpace(e)?0:ip.wc.binaryTableSearch_(e,ip.wc.unambiguous)?2:1},ip.wc.charWidthRegardAmbiguous=function(e){return ip.wc.isCjkAmbiguous(e)?ip.wc.cjkAmbiguousWidth:ip.wc.charWidthDisregardAmbiguous(e)},ip.wc.strWidth=function(e){let t=0;for(let n=0;n<e.length;){const r=e.codePointAt(n),o=ip.wc.charWidth(r);if(o<0)return-1;t+=o,n+=r<=65535?1:2}return t},ip.wc.substr=function(e,t,n=void 0){let r=0;if(t)for(let n=0;r<e.length;){const o=e.codePointAt(r);if(n+=ip.wc.charWidth(o),n>t)break;r+=o<=65535?1:2}if(void 0!==n){let t=r;for(let r=0;t<e.length;){const o=e.codePointAt(t);if(r+=ip.wc.charWidth(o),r>n)break;t+=o<=65535?1:2}return e.substring(r,t)}return e.substr(r)},ip.wc.substring=function(e,t,n){return ip.wc.substr(e,t,n-t)},ip.resource.add("libdot/changelog/version","text/plain","9.0.0"),ip.resource.add("libdot/changelog/date","text/plain","2022-02-24");const ap={windowType:null,os:null,desktopNotificationTitle:" %(title) ",messageManager:null};ip.registerInit("hterm",(async()=>{function e(){return ip.i18n.getAcceptLanguages().then((e=>{ap.messageManager||(ap.messageManager=new ip.MessageManager(e))})).then((()=>{const e=e=>{ap.os=e};return ip.f.getOs().then(e).catch(e)}))}function t(t){return ap.windowType=t.type,e()}return ap.defaultStorage||(window.chrome&&chrome.storage&&chrome.storage.sync?ap.defaultStorage=new ip.Storage.Chrome(chrome.storage.sync):ap.defaultStorage=new ip.Storage.Local),new Promise((n=>{window.chrome&&chrome.tabs?chrome.tabs.getCurrent((r=>function(n){return n&&window.chrome?new Promise((e=>{chrome.windows.get(n.windowId,null,(n=>{t(n).then(e)}))})):(ap.windowType="normal",e())}(r).then(n))):t({type:"normal"}).then(n)}))})),ap.copySelectionToClipboard=function(e,t){const n=()=>{const n=e.createElement("pre");n.id="hterm:copy-to-clipboard-source",n.textContent=t,n.style.cssText="user-select: text;position: absolute;top: -99px",e.body.appendChild(n);const r=e.getSelection(),o=r.anchorNode,i=r.anchorOffset,a=r.focusNode,s=r.focusOffset;try{r.selectAllChildren(n)}catch(e){}try{e.execCommand("copy")}catch(e){}return r.extend&&(o&&r.collapse(o,i),a&&r.extend(a,s)),n.remove(),Promise.resolve()};return(navigator.permissions&&navigator.permissions.query?navigator.permissions.query({name:"clipboard-write"}).then((e=>{const t=(n,r)=>{switch(e.state){case"granted":return n();case"denied":return r();default:return new Promise(((n,r)=>{e.onchange=()=>t(n,r)}))}};return new Promise(t)})).catch((()=>Promise.resolve())):Promise.resolve()).then((()=>navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).catch(n):n()))},ap.msg=function(e,t=[],n=""){return ap.messageManager.get("HTERM_"+e,t,n)},ap.notify=function(e){const t=(e,t)=>void 0!==e?e:t;null==e&&(e={});const n={body:e.body,icon:t(e.icon,ip.resource.getDataUrl("hterm/images/icon-96"))};let r=t(e.title,window.document.title);r||(r="hterm"),r=ip.f.replaceVars(ap.desktopNotificationTitle,{title:r});const o=new Notification(r,n);return o.onclick=function(){window.focus(),o.close()},o},ap.openUrl=function(e){window.chrome&&chrome.browser&&chrome.browser.openTab?chrome.browser.openTab({url:e}):ip.f.openWindow(e,"_blank").focus()},ap.Size=class{constructor(e,t){this.width=e,this.height=t}resize(e,t){this.width=e,this.height=t}clone(){return new this.constructor(this.width,this.height)}setTo(e){this.width=e.width,this.height=e.height}equals(e){return this.width==e.width&&this.height==e.height}toString(){return`[hterm.Size: ${this.width}, ${this.height}]`}},ap.RowCol=class{constructor(e,t,n=!1){this.row=e,this.column=t,this.overflow=!!n}move(e,t,n=!1){this.row=e,this.column=t,this.overflow=!!n}clone(){return new this.constructor(this.row,this.column,this.overflow)}setTo(e){this.row=e.row,this.column=e.column,this.overflow=e.overflow}equals(e){return this.row==e.row&&this.column==e.column&&this.overflow==e.overflow}toString(){return`[hterm.RowCol: ${this.row}, ${this.column}, ${this.overflow}]`}},ap.AccessibilityReader=function(e){this.document_=e.ownerDocument;const t=this.document_.createElement("div");t.id="hterm:accessibility-live-region",t.style.cssText="position: absolute;\n                              width: 0; height: 0;\n                              overflow: hidden;\n                              left: -1000px; top: -1000px;",e.appendChild(t),this.accessibilityEnabled=!1,this.liveElement_=this.document_.createElement("p"),this.liveElement_.setAttribute("aria-live","polite"),t.appendChild(this.liveElement_),this.assertiveLiveElement_=this.document_.createElement("p"),this.assertiveLiveElement_.setAttribute("aria-live","assertive"),t.appendChild(this.assertiveLiveElement_),this.queue_=[],this.nextReadTimer_=null,this.cursorIsChanging_=!1,this.cursorChangeQueue_=[],this.lastCursorRowString_=null,this.lastCursorRow_=null,this.lastCursorColumn_=null,this.hasUserGesture=!1},ap.AccessibilityReader.DELAY=50,ap.AccessibilityReader.prototype.setAccessibilityEnabled=function(e){e||this.clear(),this.accessibilityEnabled=e},ap.AccessibilityReader.prototype.decorate=function(e){["keydown","keypress","keyup","textInput"].forEach((t=>{e.addEventListener(t,(()=>{this.hasUserGesture=!0}))}))},ap.AccessibilityReader.prototype.beforeCursorChange=function(e,t,n){this.accessibilityEnabled&&this.hasUserGesture&&!this.cursorIsChanging_&&(this.cursorIsChanging_=!0,this.lastCursorRowString_=e,this.lastCursorRow_=t,this.lastCursorColumn_=n)},ap.AccessibilityReader.prototype.afterCursorChange=function(e,t,n){if(this.cursorIsChanging_){if(this.cursorIsChanging_=!1,!this.announceAction_(e,t,n))for(let e=0;e<this.cursorChangeQueue_.length;++e)this.announce(this.cursorChangeQueue_[e]);this.cursorChangeQueue_=[],this.lastCursorRowString_=null,this.lastCursorRow_=null,this.lastCursorColumn_=null,this.hasUserGesture=!1}},ap.AccessibilityReader.prototype.announce=function(e){if(this.accessibilityEnabled)if(this.cursorIsChanging_)this.cursorChangeQueue_.push(e);else if("\n"==e&&this.queue_.length>0)this.queue_.push("");else{if(0==this.queue_.length)this.queue_.push(e);else{let t="";0!=this.queue_[this.queue_.length-1].length&&(t=" "),this.queue_[this.queue_.length-1]+=t+e}if(!this.nextReadTimer_){if(1!=this.queue_.length)throw new Error("Expected only one item in queue_ or nextReadTimer_ to be running.");this.nextReadTimer_=setTimeout(this.addToLiveRegion_.bind(this),ap.AccessibilityReader.DELAY)}}},ap.AccessibilityReader.prototype.assertiveAnnounce=function(e){this.hasUserGesture&&" "==e&&(e=ap.msg("SPACE_CHARACTER",[],"Space")),(e=e.trim())==this.assertiveLiveElement_.innerText&&(e="\n"+e),this.clear(),this.assertiveLiveElement_.innerText=e},ap.AccessibilityReader.prototype.newLine=function(){this.announce("\n")},ap.AccessibilityReader.prototype.clear=function(){this.liveElement_.innerText="",this.assertiveLiveElement_.innerText="",clearTimeout(this.nextReadTimer_),this.nextReadTimer_=null,this.queue_=[],this.cursorIsChanging_=!1,this.cursorChangeQueue_=[],this.lastCursorRowString_=null,this.lastCursorRow_=null,this.lastCursorColumn_=null,this.hasUserGesture=!1},ap.AccessibilityReader.prototype.announceAction_=function(e,t,n){if(this.lastCursorRow_!=t)return!1;if(ip.notNull(this.lastCursorRowString_)===e){if(ip.notNull(this.lastCursorColumn_)!==n&&""==this.cursorChangeQueue_.join("").trim()){const e=Math.min(this.lastCursorColumn_,n),t=Math.abs(n-this.lastCursorColumn_);return this.assertiveAnnounce(ip.wc.substr(this.lastCursorRowString_,e,t)),!0}return!1}if(this.lastCursorRowString_!=e){if(this.lastCursorColumn_+1==n&&" "==ip.wc.substr(e,n-1,1)&&this.cursorChangeQueue_.length>0&&" "==this.cursorChangeQueue_[0])return this.assertiveAnnounce(" "),!0;const t=n;if(ip.wc.strWidth(e)<=ip.wc.strWidth(this.lastCursorRowString_)&&ip.wc.substr(this.lastCursorRowString_,0,t)==ip.wc.substr(e,0,t)){let n=ip.wc.strWidth(e);for(;n>0&&n!=t&&" "==ip.wc.substr(e,n-1,1);--n);const r=ip.wc.strWidth(this.lastCursorRowString_)-n,o=n-t;if(ip.wc.substr(this.lastCursorRowString_,t+r,o)==ip.wc.substr(e,t,o)){const e=ip.wc.substr(this.lastCursorRowString_,t,r);if(""!=e)return this.assertiveAnnounce(e),!0}}return!1}return!1},ap.AccessibilityReader.prototype.addToLiveRegion_=function(){this.nextReadTimer_=null;let e=this.queue_.join("\n").trim();e==this.liveElement_.innerText&&(e="\n"+e),this.liveElement_.innerText=e,this.queue_=[]},ap.ContextMenu=function(){this.document_=null,this.element_=null,this.menu_=[]},ap.ContextMenu.Item,ap.ContextMenu.SEPARATOR=Symbol("-"),ap.ContextMenu.prototype.setDocument=function(e){this.element_&&(this.element_.remove(),this.element_=null),this.document_=e,this.regenerate_(),this.document_.body.appendChild(this.element_)},ap.ContextMenu.prototype.regenerate_=function(){for(this.element_?this.hide():(this.element_=this.document_.createElement("menu"),this.element_.id="hterm:context-menu");this.element_.firstChild;)this.element_.removeChild(this.element_.firstChild);this.menu_.forEach((({name:e,action:t})=>{const n=this.document_.createElement("menuitem");e===ap.ContextMenu.SEPARATOR?(n.innerHTML="<hr>",n.className="separator"):(n.innerText=e,n.addEventListener("mousedown",(function(e){e.preventDefault(),t(e)}))),this.element_.appendChild(n)}))},ap.ContextMenu.prototype.setItems=function(e){this.menu_=e,this.regenerate_()},ap.ContextMenu.prototype.show=function(e,t){if(0==this.menu_.length)return;t&&(this.element_.style.fontSize=t.getFontSize(),this.element_.style.fontFamily=t.getFontFamily()),this.element_.style.top=`${e.clientY}px`,this.element_.style.left=`${e.clientX}px`;const n=this.document_.body.getBoundingClientRect();this.element_.style.display="block";const r=this.element_.getBoundingClientRect(),o=Math.max(0,n.height-r.height),i=Math.max(0,n.width-r.width);o<e.clientY&&(this.element_.style.top=`${o}px`),i<e.clientX&&(this.element_.style.left=`${i}px`)},ap.ContextMenu.prototype.hide=function(){this.element_&&(this.element_.style.display="none")},ap.FindBar=function(e){this.terminal_=e,this.scrollPort_=e.getScrollPort(),this.findBar_=null,this.input_=null,this.hasFocus=!1,this.upArrowButton_=null,this.downArrowButton_=null,this.closeButton_=null,this.counterLabel_=null,this.results_={},this.pendingFind_=null,this.pendingRedraw_=null,this.pendingNotifyChanges_=null,this.changedRows_=new Set,this.searchText_="",this.batchRow_=0,this.batchNum_=0,this.batchCallbacksForTest_={},this.batchSize=500,this.isVisible=!1,this.visibleRows_=[],this.onScroll_=this.scheduleRedraw_.bind(this),this.selectedRowNum_=0,this.selectedRowIndex_=0,this.selectedOrdinal_=-1,this.resultCount_=0,this.selectedResult_=null,this.matchingRowsIndex_=[],this.selectedResultKnown_=!0},ap.FindBar.RowResult,ap.FindBar.Result,ap.FindBar.prototype.decorate=function(e){this.findBar_=e.createElement("div"),this.findBar_.id="hterm:find-bar",this.findBar_.setAttribute("aria-hidden","true"),this.findBar_.innerHTML=ip.resource.getData("hterm/html/find_bar"),this.input_=this.findBar_.querySelector("input"),this.upArrowButton_=this.findBar_.querySelector("#hterm\\:find-bar-up"),this.downArrowButton_=this.findBar_.querySelector("#hterm\\:find-bar-down"),this.closeButton_=this.findBar_.querySelector("#hterm\\:find-bar-close"),this.counterLabel_=this.findBar_.querySelector("#hterm\\:find-bar-count"),this.upArrowButton_.innerHTML=ip.resource.getData("hterm/images/keyboard_arrow_up"),this.downArrowButton_.innerHTML=ip.resource.getData("hterm/images/keyboard_arrow_down"),this.closeButton_.innerHTML=ip.resource.getData("hterm/images/close"),this.upArrowButton_.setAttribute("aria-label",ap.msg("BUTTON_PREVIOUS")),this.downArrowButton_.setAttribute("aria-label",ap.msg("BUTTON_NEXT")),this.input_.setAttribute("aria-label",ap.msg("BUTTON_FIND")),this.closeButton_.setAttribute("aria-label",ap.msg("BUTTON_CLOSE"));const t=e=>e.bind(this);this.input_.addEventListener("input",t(this.onInput_)),this.input_.addEventListener("keydown",t(this.onKeyDown_)),this.input_.addEventListener("keypress",t(this.onKeyPressed_)),this.input_.addEventListener("textInput",t(this.onInputText_)),this.input_.addEventListener("focus",t((()=>{this.hasFocus=!0}))),this.input_.addEventListener("blur",t((()=>{this.hasFocus=!1}))),this.closeButton_.addEventListener("click",t(this.close)),this.upArrowButton_.addEventListener("click",t(this.onPrevious_)),this.downArrowButton_.addEventListener("click",t(this.onNext_)),e.body.appendChild(this.findBar_),this.resultScreen_=e.createElement("div"),this.resultScreen_.id="hterm:find-result-screen",this.resultScreen_.innerHTML=ip.resource.getData("hterm/html/find_screen"),this.resultScreen_.style.display="none",e.body.appendChild(this.resultScreen_)},ap.FindBar.prototype.display=function(){this.scrollPort_.subscribe("scroll",this.onScroll_),this.findBar_.classList.add("enabled"),this.findBar_.removeAttribute("aria-hidden"),this.input_.focus(),this.resultScreen_.style.display="",this.isVisible=!0,this.input_.dispatchEvent(new Event("input"))},ap.FindBar.prototype.close=function(){this.resultScreen_.style.display="none",this.scrollPort_.unsubscribe("scroll",this.onScroll_),this.findBar_.classList.remove("enabled"),this.findBar_.setAttribute("aria-hidden","true"),this.terminal_.focus(),this.isVisible=!1,this.stopSearch(),this.results_={},this.resultCount_=0},ap.FindBar.prototype.stopSearch=function(){null!==this.pendingFind_&&(clearTimeout(this.pendingFind_),this.pendingFind_=null),this.runBatchCallbackForTest_(0)},ap.FindBar.prototype.syncResults_=function(){if(this.batchRow_=0,this.batchNum_=0,this.results_={},this.resultCount_=0,this.matchingRowsIndex_.length=0,this.redraw_(),this.updateCounterLabel_(),!this.searchText_)return;const e=this.terminal_.getRowCount(),t=()=>{const n=Math.min(this.batchRow_+this.batchSize,e);for(;this.batchRow_<n;)this.findInRow_(this.batchRow_)&&this.matchingRowsIndex_.push(this.batchRow_),this.batchRow_++;this.batchRow_<e?this.pendingFind_=setTimeout(t):this.stopSearch(),++this.batchNum_,this.runBatchCallbackForTest_(this.batchNum_),this.updateCounterLabel_()};t()},ap.FindBar.prototype.findInRow_=function(e,t=!1){if(!this.searchText_)return!1;const n=this.results_[e];if(n&&!t)return!0;const r=this.terminal_.getRowText(e).toLowerCase(),o=[];let i,a=0;for(;-1!=(i=r.indexOf(this.searchText_,a));)o.push({index:i,highlighter:null}),a=i+this.searchText_.length;o.length?(this.results_[e]={findRow:null,rowResult:o},0===this.resultCount_&&(this.selectedRowNum_=e,this.selectedOrdinal_=0,this.upArrowButton_.classList.add("enabled"),this.downArrowButton_.classList.add("enabled"),this.scrollToResult_())):delete this.results_[e];const s=o.length-(n?n.rowResult.length:0);return this.resultCount_+=s,e<this.selectedRowNum_&&(this.selectedOrdinal_+=s),o.length>0},ap.FindBar.prototype.onInput_=function(e){this.searchText_=e.target.value.toLowerCase(),clearTimeout(this.pendingFind_),this.pendingFind_=setTimeout((()=>this.syncResults_()))},ap.FindBar.prototype.onKeyPressed_=function(e){e.stopPropagation()},ap.FindBar.prototype.onInputText_=function(e){e.stopPropagation()},ap.FindBar.prototype.onKeyDown_=function(e){e.metaKey||e.altKey||("Escape"==e.key&&this.close(),"Enter"==e.key&&(e.shiftKey?this.onPrevious_():this.onNext_()),e.ctrlKey&&71==e.keyCode&&(e.shiftKey?this.onPrevious_():this.onNext_(),e.preventDefault()),e.ctrlKey&&70==e.keyCode&&e.preventDefault()),e.stopPropagation()},ap.FindBar.prototype.setFindResultColor=function(e){void 0===e&&(e=this.terminal_.getPrefs().getString("find-result-color")),this.terminal_.setCssVar("find-result-color",e)},ap.FindBar.prototype.setFindResultSelectedColor=function(e=void 0){void 0===e&&(e=this.terminal_.getPrefs().getString("find-result-selected-color")),this.terminal_.setCssVar("find-result-selected-color",e)},ap.FindBar.prototype.setBatchCallbackForTest=function(e,t){this.batchCallbacksForTest_[e]=t},ap.FindBar.prototype.redraw_=function(){const e=this.scrollPort_.getTopRowIndex(),t=this.scrollPort_.getBottomRowIndex(e);this.visibleRows_.forEach((e=>{e.remove()})),this.visibleRows_=[];for(let n=e;n<=t;n++){const e=this.fetchRowNode_(n);this.resultScreen_.appendChild(e),this.visibleRows_.push(e)}delete this.pendingRedraw_,this.highlightSelectedResult_()},ap.FindBar.prototype.fetchRowNode_=function(e){e>=this.batchRow_&&this.findInRow_(e);const t=this.results_[e];if(t&&t.findRow)return t.findRow;const n=this.terminal_.getDocument().createElement("find-row");return t?(t.rowResult.forEach((e=>{const t=this.terminal_.getDocument().createElement("div");t.classList.add("find-highlighter"),t.style.left=`calc(var(--hterm-charsize-width) * ${e.index})`,t.style.width=`calc(var(--hterm-charsize-width) * ${this.searchText_.length})`,e.highlighter=t,n.appendChild(t)})),t.findRow=n):n},ap.FindBar.prototype.scheduleRedraw_=function(){this.pendingRedraw_||(this.pendingRedraw_=setTimeout((()=>{this.redraw_()})))},ap.FindBar.prototype.runBatchCallbackForTest_=function(e){const t=this.batchCallbacksForTest_[e];t&&(t(),delete this.batchCallbacksForTest_[e])},ap.FindBar.prototype.updateCounterLabel_=function(){0===this.resultCount_&&(this.selectedRowNum_=0,this.selectedRowIndex_=0,this.selectedOrdinal_=-1,this.selectedResultKnown_=!0,this.upArrowButton_.classList.remove("enabled"),this.downArrowButton_.classList.remove("enabled")),this.selectedResultKnown_?this.counterLabel_.textContent=ap.msg("FIND_COUNTER_LABEL",[this.selectedOrdinal_+1,this.resultCount_]):this.counterLabel_.textContent=ap.msg("FIND_RESULT_COUNT",[this.resultCount_]),this.highlightSelectedResult_()},ap.FindBar.indexOf=function(e,t){let n=-1,r=0,o=e.length-1;for(;r<=o;){const i=Math.floor((r+o)/2);e[i]<=t?(n=i,r=i+1):o=i-1}return n},ap.FindBar.prototype.canUseMatchingRowsIndex_=function(e){const t=this.scrollPort_.getTopRowIndex(),n=this.scrollPort_.getBottomRowIndex(t),r=this.matchingRowsIndex_,o=this.selectedRowNum_;return this.batchRow_>n||e>0&&o<r[r.length-1]||e<0&&o<this.batchRow_&&o>r[0]},ap.FindBar.prototype.selectNext_=function(e){const t=(e,t,n)=>(e+t+n)%n,n=(t,n)=>e>0?t:n,r=this.results_[this.selectedRowNum_];if(r&&void 0!==r.rowResult[this.selectedRowIndex_+e])this.selectedRowIndex_+=e;else{let r=this.scrollPort_.getTopRowIndex();const o=this.scrollPort_.getBottomRowIndex(r),i=this.matchingRowsIndex_,a=this.selectedRowNum_;if(this.canUseMatchingRowsIndex_(e)){let n=ap.FindBar.indexOf(i,a);!this.selectedResultKnown_&&e<0&&n++,this.selectedRowNum_=i[t(n,e,i.length)]}else{let t=a+e;r=Math.max(r,this.batchRow_),(a<r||a>o)&&(t=n(r,o));const s=n(o+1,r-1);i.length>0&&(this.selectedRowNum_=i[n(0,i.length-1)]);for(let n=t;n!=s;n+=e)if(this.results_[n]){this.selectedRowNum_=n;break}}const s=this.results_[this.selectedRowNum_];this.selectedRowIndex_=n(0,s.rowResult.length-1)}const o=!this.selectedResultKnown_&&e>0?0:e;this.selectedOrdinal_=t(this.selectedOrdinal_,o,this.resultCount_),this.selectedResultKnown_=!0,this.scrollToResult_(),this.updateCounterLabel_()},ap.FindBar.prototype.onNext_=function(){this.downArrowButton_.classList.contains("enabled")&&this.selectNext_(1)},ap.FindBar.prototype.onPrevious_=function(){this.upArrowButton_.classList.contains("enabled")&&this.selectNext_(-1)},ap.FindBar.prototype.scrollToResult_=function(){const e=this.scrollPort_.getTopRowIndex(),t=this.scrollPort_.getBottomRowIndex(e);(this.selectedRowNum_<e||this.selectedRowNum_>t)&&this.scrollPort_.scrollRowToMiddle(this.selectedRowNum_)},ap.FindBar.prototype.highlightSelectedResult_=function(){this.selectedResult_&&(this.selectedResult_.classList.remove("selected"),this.selectedResult_=null),this.resultCount_&&this.selectedResultKnown_&&(this.selectedResult_=this.results_[this.selectedRowNum_].rowResult[this.selectedRowIndex_].highlighter,this.selectedResult_&&this.selectedResult_.classList.add("selected"))},ap.FindBar.prototype.scheduleNotifyChanges=function(e){this.isVisible&&(this.changedRows_.add(e),this.pendingNotifyChanges_||(this.pendingNotifyChanges_=setTimeout((()=>{this.notifyChanges_()}))))},ap.FindBar.prototype.notifyChanges_=function(){this.changedRows_.forEach((e=>{e+=this.scrollPort_.getTopRowIndex();const t=this.results_[e],n=this.findInRow_(e,!0);if(this.selectedRowNum_==e&&(this.selectedOrdinal_-=this.selectedRowIndex_,this.selectedRowIndex_=0,this.selectedResultKnown_=n),!!t!==n){const t=ap.FindBar.indexOf(this.matchingRowsIndex_,e);n?this.matchingRowsIndex_.splice(t+1,0,e):this.matchingRowsIndex_.splice(t,1)}})),this.updateCounterLabel_(),this.redraw_(),this.changedRows_.clear(),delete this.pendingNotifyChanges_},ap.Frame=function(e,t,n={}){this.terminal_=e,this.div_=e.div_,this.url=t,this.options=n,this.iframe_=null,this.container_=null,this.messageChannel_=null},ap.Frame.prototype.onMessage_=function(e){switch(e.data.name){case"ipc-init-ok":return void this.sendTerminalInfo_();case"terminal-info-ok":return this.container_.style.display="flex",this.postMessage("visible"),this.messageChannel_.port1.onmessage=this.onMessage.bind(this),void this.onLoad();default:console.log("Unknown message from frame:",e.data)}},ap.Frame.prototype.onMessage=function(){},ap.Frame.prototype.onLoad_=function(){this.messageChannel_=new MessageChannel,this.messageChannel_.port1.onmessage=this.onMessage_.bind(this),this.messageChannel_.port1.start(),this.iframe_.contentWindow.postMessage({name:"ipc-init",argv:[{messagePort:this.messageChannel_.port2}]},this.url,[this.messageChannel_.port2])},ap.Frame.prototype.onLoad=function(){},ap.Frame.prototype.sendTerminalInfo_=function(){ip.i18n.getAcceptLanguages().then((e=>{this.postMessage("terminal-info",[{acceptLanguages:e,foregroundColor:this.terminal_.getForegroundColor(),backgroundColor:this.terminal_.getBackgroundColor(),cursorColor:this.terminal_.getCursorColor(),fontSize:this.terminal_.getFontSize(),fontFamily:this.terminal_.getFontFamily(),baseURL:ip.f.getURL("/")}])}))},ap.Frame.prototype.onCloseClicked_=function(){this.close()},ap.Frame.prototype.close=function(){this.container_&&this.container_.parentNode&&(this.container_.remove(),this.onClose())},ap.Frame.prototype.onClose=function(){},ap.Frame.prototype.postMessage=function(e,t){if(!this.messageChannel_)throw new Error("Message channel is not set up.");this.messageChannel_.port1.postMessage({name:e,argv:t})},ap.Frame.prototype.show=function(){if(this.container_&&this.container_.parentNode)return void console.error("Frame already visible");const e=this.terminal_.document_,t=this.container_=e.createElement("div");t.style.cssText="position: absolute;display: none;flex-direction: column;top: 10%;left: 4%;width: 90%;height: 80%;min-height: 20%;max-height: 80%;box-shadow: 0 0 2px "+this.terminal_.getForegroundColor()+";border: 2px "+this.terminal_.getForegroundColor()+" solid;";const n=this.iframe_=e.createElement("iframe");n.onload=this.onLoad_.bind(this),n.style.cssText="display: flex;flex: 1;width: 100%",n.setAttribute("src",this.url),n.setAttribute("seamless",!0),t.appendChild(n),this.div_.appendChild(t)},ap.Keyboard=function(e){this.terminal=e,this.keyboardElement_=null,this.handlers_=[["focusout",this.onFocusOut_.bind(this)],["keydown",this.onKeyDown_.bind(this)],["keypress",this.onKeyPress_.bind(this)],["keyup",this.onKeyUp_.bind(this)],["textInput",this.onTextInput_.bind(this)]],this.keyMap=new ap.Keyboard.KeyMap(this),this.bindings=new ap.Keyboard.Bindings,this.altGrMode="none",this.shiftInsertPaste=!0,this.homeKeysScroll=!1,this.pageKeysScroll=!1,this.ctrlPlusMinusZeroZoom=!0,this.ctrlCCopy=!1,this.ctrlVPaste=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.backspaceSendsBackspace=!1,this.metaSendsEscape=!0,this.passMetaV=!0,this.altSendsWhat="escape",this.altIsMeta=!1,this.altBackspaceIsMetaBackspace=!1,this.altKeyPressed=0,this.mediaKeysAreFKeys=!1,this.previousAltSendsWhat_=null},ap.Keyboard.KeyActions={CANCEL:Symbol("CANCEL"),DEFAULT:Symbol("DEFAULT"),PASS:Symbol("PASS"),STRIP:Symbol("STRIP")},ap.Keyboard.KeyAction,ap.Keyboard.prototype.installKeyboard=function(e){if(e!=this.keyboardElement_){e&&this.keyboardElement_&&this.installKeyboard(null);for(let t=0;t<this.handlers_.length;t++){const n=this.handlers_[t];e?e.addEventListener(n[0],n[1]):this.keyboardElement_.removeEventListener(n[0],n[1])}this.keyboardElement_=e}},ap.Keyboard.prototype.uninstallKeyboard=function(){this.installKeyboard(null)},ap.Keyboard.prototype.onTextInput_=function(e){e.data&&this.terminal.onVTKeystroke(e.data)},ap.Keyboard.prototype.onKeyPress_=function(e){const t=String.fromCharCode(e.which).toLowerCase();if((e.ctrlKey||e.metaKey)&&("c"==t||"v"==t))return;if(9==e.keyCode)return;let n;e.altKey&&"browser-key"==this.altSendsWhat&&0==e.charCode?(n=String.fromCharCode(e.keyCode),e.shiftKey||(n=n.toLowerCase())):e.charCode>=32&&(n=String.fromCharCode(e.charCode)),n&&this.terminal.onVTKeystroke(n),e.preventDefault(),e.stopPropagation()},ap.Keyboard.prototype.onFocusOut_=function(e){this.altKeyPressed=0},ap.Keyboard.prototype.onKeyUp_=function(e){18==e.keyCode&&(this.altKeyPressed=this.altKeyPressed&~(1<<e.location-1))},ap.Keyboard.prototype.onKeyDown_=function(e){18==e.keyCode&&(this.altKeyPressed=this.altKeyPressed|1<<e.location-1);let t=this.keyMap.keyDefs[e.keyCode];t||(console.warn(`No definition for key ${e.key} (keyCode ${e.keyCode})`),t=this.keyMap.keyDefs[0],this.keyMap.addKeyDef(e.keyCode,t));let n=null;const r=o=>{n=o;let a=t[o];return"function"==typeof a&&(a=a.call(this.keyMap,e,t)),a===i&&"normal"!=o&&(a=r("normal")),a},o=ap.Keyboard.KeyActions.CANCEL,i=ap.Keyboard.KeyActions.DEFAULT,a=ap.Keyboard.KeyActions.PASS,s=ap.Keyboard.KeyActions.STRIP;let l=e.ctrlKey,c=e.shiftKey,u=!this.altIsMeta&&e.altKey,d=this.altIsMeta&&e.altKey||e.metaKey;const p=!/^\[\w+\]$/.test(t.keyCap);switch(this.altGrMode){case"ctrl-alt":p&&l&&u&&(l=!1,u=!1);break;case"right-alt":p&&2&this.terminal.keyboard.altKeyPressed&&(l=!1,u=!1);break;case"left-alt":p&&1&this.terminal.keyboard.altKeyPressed&&(l=!1,u=!1)}const h={keyCode:e.keyCode,shift:e.shiftKey,ctrl:l,alt:u,meta:d};let f;const m=this.bindings.getBinding(h);if(m?(c=l=u=d=!1,n="normal",f="function"==typeof m.action?m.action.call(this,this.terminal,h):m.action):(f=r(l?"control":u?"alt":d?"meta":"normal"),c=!e.maskShiftKey&&e.shiftKey),"function"==typeof f&&(f=f.call(this.keyMap,e,t)),u&&"browser-key"==this.altSendsWhat&&f==i&&(f=a),f!==a&&this.terminal.contextMenu.hide(),f!==a&&(f!==i||l||u||d)&&(f===s&&(u=l=!1,f=t.normal,"function"==typeof f&&(f=f.call(this.keyMap,e,t)),f==i&&2==t.keyCap.length&&(f=t.keyCap.substr(c?1:0,1))),e.preventDefault(),e.stopPropagation(),f!==o))if(f===i||"string"==typeof f){if("control"==n?l=!1:"alt"==n?u=!1:"meta"==n&&(d=!1),"string"==typeof f&&"["==f.substr(0,2)&&(u||l||c||d)){let e=1;c&&(e+=1),u&&(e+=2),l&&(e+=4),d&&(e+=8);const t=";"+e;f=3==f.length?"[1"+t+f.substr(2,1):f.substr(0,f.length-1)+t+f.substr(f.length-1)}else{if(f===i&&(f=t.keyCap.substr(c?1:0,1),l)){const e=t.keyCap.substr(0,1).charCodeAt(0);e>=64&&e<=95&&(f=String.fromCharCode(e-64))}if(u&&"8-bit"==this.altSendsWhat&&1==f.length){const e=f.charCodeAt(0)+128;f=String.fromCharCode(e)}(u&&"escape"==this.altSendsWhat||d&&this.metaSendsEscape)&&(f=""+f)}this.terminal.onVTKeystroke(f)}else console.warn("Invalid action: "+JSON.stringify(f))},ap.Keyboard.KeyDown,ap.Keyboard.KeyBindingFunction,ap.Keyboard.KeyBindingAction,ap.Keyboard.KeyBinding,ap.Keyboard.Bindings=function(){this.bindings_={}},ap.Keyboard.Bindings.OsDefaults={android:{},cros:{"Alt+Shift+I":"PASS","Ctrl+Alt+Z":"PASS","Ctrl+Space":"PASS"},linux:{},mac:{"Meta+Left":'"[H"',"Meta+Right":'"[F"'},windows:{}},ap.Keyboard.Bindings.prototype.clear=function(){this.bindings_={}},ap.Keyboard.Bindings.prototype.addBinding_=function(e,t){let n=null;const r=this.bindings_[e.keyCode];if(r)for(let t=0;t<r.length;t++)if(r[t].keyPattern.matchKeyPattern(e)){n=r[t];break}n?n.action=t:(n={keyPattern:e,action:t},r?(this.bindings_[e.keyCode].push(n),r.sort((function(e,t){return ap.Keyboard.KeyPattern.sortCompare(e.keyPattern,t.keyPattern)}))):this.bindings_[e.keyCode]=[n])},ap.Keyboard.Bindings.prototype.addBinding=function(e,t){if("string"!=typeof e)return void this.addBinding_(e,t);const n=new ap.Parser;let r;n.reset(e);try{r=n.parseKeySequence()}catch(e){return void console.error(e)}if(n.isComplete()){if("string"==typeof t){n.reset(t);try{t=n.parseKeyAction()}catch(e){return void console.error(e)}}n.isComplete()?this.addBinding_(new ap.Keyboard.KeyPattern(r),t):console.error(n.error("Expected end of sequence: "+r))}else console.error(n.error("Expected end of sequence: "+r))},ap.Keyboard.Bindings.prototype.addBindings=function(e,t=!1){t&&this.addBindings(ap.Keyboard.Bindings.OsDefaults[ap.os]||{});for(const t in e)this.addBinding(t,e[t])},ap.Keyboard.Bindings.prototype.getBinding=function(e){const t=this.bindings_[e.keyCode];if(!t)return null;for(let n=0;n<t.length;n++){const r=t[n];if(r.keyPattern.matchKeyDown(e))return r}return null},ap.Keyboard.KeyDef,ap.Keyboard.KeyDefFunction,ap.Keyboard.KeyDefFunctionProvider,ap.Keyboard.KeyDefAction,ap.Keyboard.KeyMap=function(e){this.keyboard=e,this.keyDefs={},this.reset()},ap.Keyboard.KeyMap.prototype.addKeyDef=function(e,t){e in this.keyDefs&&console.warn("Duplicate keyCode: "+e),this.keyDefs[e]=t},ap.Keyboard.KeyMap.prototype.reset=function(){this.keyDefs={};const e=ap.Keyboard.KeyActions.CANCEL,t=ap.Keyboard.KeyActions.DEFAULT,n=ap.Keyboard.KeyActions.PASS,r=ap.Keyboard.KeyActions.STRIP,o=(e,t,n)=>"function"==typeof e?e.call(this,t,n):e,i=(e,t)=>(n,r)=>{const i=n.shiftKey||n.ctrlKey||n.altKey||n.metaKey||!this.keyboard.applicationCursor?e:t;return o(i,n,r)},a=(e,t)=>(n,r)=>{const i=this.keyboard.backspaceSendsBackspace?t:e;return o(i,n,r)},s=(e,t)=>(n,r)=>{const i=n.shiftKey?t:e;return n.maskShiftKey=!0,o(i,n,r)},l=(e,t)=>(n,r)=>{const i=n.altKey?t:e;return o(i,n,r)},c=(e,t)=>(n,r)=>{const i=n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?t:e;return o(i,n,r)},u=e=>String.fromCharCode(e.charCodeAt(0)-64),d=e=>(t,n)=>this[e](t,n),p=t=>(r,i)=>this.keyboard.mediaKeysAreFKeys?o(t,r,i):166==r.keyCode||167==r.keyCode||168==r.keyCode?e:n,h=(e,t,n,r,o,i)=>{this.addKeyDef(e,{keyCap:t,normal:n,control:r,alt:o,meta:i})};let f,m,g;window.navigator&&navigator.userAgent&&navigator.userAgent.includes("Firefox")?(f=59,m=61,g=173,h(171,"+*",t,d("onZoom_"),t,d("onZoom_"))):(f=186,m=187,g=189),h(0,"[UNKNOWN]",n,n,n,n),h(27,"[ESC]","",t,t,t),h(112,"[F1]",c("OP","[P"),t,"[23~",t),h(113,"[F2]",c("OQ","[Q"),t,"[24~",t),h(114,"[F3]",c("OR","[R"),t,"[25~",t),h(115,"[F4]",c("OS","[S"),t,"[26~",t),h(116,"[F5]","[15~",t,"[28~",t),h(117,"[F6]","[17~",t,"[29~",t),h(118,"[F7]","[18~",t,"[31~",t),h(119,"[F8]","[19~",t,"[32~",t),h(120,"[F9]","[20~",t,"[33~",t),h(121,"[F10]","[21~",t,"[34~",t),h(122,"[F11]",d("onF11_"),t,"[42~",t),h(123,"[F12]","[24~",t,"[43~",t),h(192,"`~",t,s(u("@"),u("^")),t,n),h(49,"1!",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(50,"2@",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(51,"3#",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(52,"4$",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(53,"5%",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(54,"6^",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(55,"7&",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(56,"8*",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(57,"9(",t,d("onCtrlNum_"),d("onAltNum_"),d("onMetaNum_")),h(48,"0)",t,d("onZoom_"),d("onAltNum_"),d("onZoom_")),h(g,"-_",t,d("onZoom_"),t,d("onZoom_")),h(m,"=+",t,d("onZoom_"),t,d("onZoom_")),h(8,"[BKSP]",a("","\b"),a("\b",""),t,t),h(9,"[TAB]",s("\t","[Z"),d("onCtrlTab_"),n,t),h(81,"qQ",t,u("Q"),t,t),h(87,"wW",t,d("onCtrlW_"),t,t),h(69,"eE",t,u("E"),t,t),h(82,"rR",t,u("R"),t,t),h(84,"tT",t,d("onCtrlT_"),t,t),h(89,"yY",t,u("Y"),t,t),h(85,"uU",t,u("U"),t,t),h(73,"iI",t,u("I"),t,t),h(79,"oO",t,u("O"),t,t),h(80,"pP",t,u("P"),t,t),h(219,"[{",t,u("["),t,t),h(221,"]}",t,u("]"),t,t),h(220,"\\|",t,u("\\"),t,t),h(20,"[CAPS]",n,n,n,t),h(65,"aA",t,s(u("A"),d("onCtrlShiftA_")),t,t),h(83,"sS",t,u("S"),t,t),h(68,"dD",t,u("D"),t,t),h(70,"fF",t,s(u("F"),d("onCtrlShiftF_")),t,t),h(71,"gG",t,u("G"),t,t),h(72,"hH",t,u("H"),t,t),h(74,"jJ",t,s(u("J"),n),t,t),h(75,"kK",t,s(u("K"),d("onClear_")),t,t),h(76,"lL",t,s(u("L"),n),t,t),h(f,";:",t,r,t,t),h(222,"'\"",t,r,t,t),h(13,"[ENTER]","\r",t,t,t),h(16,"[SHIFT]",n,n,n,t),h(90,"zZ",t,u("Z"),t,t),h(88,"xX",t,u("X"),t,t),h(67,"cC",t,d("onCtrlC_"),t,d("onMetaC_")),h(86,"vV",t,d("onCtrlV_"),t,d("onMetaV_")),h(66,"bB",t,u("B"),t,t),h(78,"nN",t,d("onCtrlN_"),t,d("onMetaN_")),h(77,"mM",t,u("M"),t,t),h(188,",<",t,l(r,n),t,t),h(190,".>",t,l(r,n),t,t),h(191,"/?",t,s(u("_"),u("?")),t,t),h(17,"[CTRL]",n,n,n,n),h(18,"[ALT]",n,n,n,n),h(91,"[LAPL]",n,n,n,n),h(32," ",t,u("@"),t,t),h(92,"[RAPL]",n,n,n,n),h(93,"[RMENU]",n,n,n,n),h(42,"[PRTSCR]",n,n,n,n),h(145,"[SCRLK]",n,n,n,n),h(19,"[BREAK]",n,n,n,n),h(45,"[INSERT]",d("onKeyInsert_"),t,t,t),h(36,"[HOME]",d("onKeyHome_"),t,t,t),h(33,"[PGUP]",d("onKeyPageUp_"),t,t,t),h(46,"[DEL]",d("onKeyDel_"),t,t,t),h(35,"[END]",d("onKeyEnd_"),t,t,t),h(34,"[PGDOWN]",d("onKeyPageDown_"),t,t,t),h(38,"[UP]",d("onKeyArrowUp_"),t,t,t),h(40,"[DOWN]",d("onKeyArrowDown_"),t,t,t),h(39,"[RIGHT]",i("[C","OC"),t,t,t),h(37,"[LEFT]",i("[D","OD"),t,t,t),h(144,"[NUMLOCK]",n,n,n,n),h(12,"[CLEAR]",n,n,n,n),h(96,"[KP0]",t,t,t,t),h(97,"[KP1]",t,t,t,t),h(98,"[KP2]",t,t,t,t),h(99,"[KP3]",t,t,t,t),h(100,"[KP4]",t,t,t,t),h(101,"[KP5]",t,t,t,t),h(102,"[KP6]",t,t,t,t),h(103,"[KP7]",t,t,t,t),h(104,"[KP8]",t,t,t,t),h(105,"[KP9]",t,t,t,t),h(107,"[KP+]",t,d("onZoom_"),t,d("onZoom_")),h(109,"[KP-]",t,d("onZoom_"),t,d("onZoom_")),h(106,"[KP*]",t,t,t,t),h(111,"[KP/]",t,t,t,t),h(110,"[KP.]",t,t,t,t),"cros"==ap.os&&(h(166,"[BACK]",p(c("OP","[P")),t,"[23~",t),h(167,"[FWD]",p(c("OQ","[Q")),t,"[24~",t),h(168,"[RELOAD]",p(c("OR","[R")),t,"[25~",t),h(183,"[FSCR]",p(c("OS","[S")),t,"[26~",t),h(182,"[WINS]",p("[15~"),t,"[28~",t),h(216,"[BRIT-]",p("[17~"),t,"[29~",t),h(217,"[BRIT+]",p("[18~"),t,"[31~",t),h(173,"[MUTE]",p("[19~"),t,"[32~",t),h(174,"[VOL-]",p("[20~"),t,"[33~",t),h(175,"[VOL+]",p("[21~"),t,"[34~",t),h(152,"[POWER]",t,t,t,t),h(179,"[PLAY]",p("[18~"),t,"[31~",t),h(154,"[DOGS]",p("[23~"),t,"[42~",t),h(153,"[ASSIST]",t,t,t,t))},ap.Keyboard.KeyMap.prototype.onKeyInsert_=function(e){return this.keyboard.shiftInsertPaste&&e.shiftKey?ap.Keyboard.KeyActions.PASS:"[2~"},ap.Keyboard.KeyMap.prototype.onKeyHome_=function(e){return this.keyboard.homeKeysScroll===e.shiftKey?e.altKey||e.ctrlKey||e.shiftKey||!this.keyboard.applicationCursor?"[H":"OH":(this.keyboard.terminal.scrollHome(),ap.Keyboard.KeyActions.CANCEL)},ap.Keyboard.KeyMap.prototype.onKeyEnd_=function(e){return this.keyboard.homeKeysScroll===e.shiftKey?e.altKey||e.ctrlKey||e.shiftKey||!this.keyboard.applicationCursor?"[F":"OF":(this.keyboard.terminal.scrollEnd(),ap.Keyboard.KeyActions.CANCEL)},ap.Keyboard.KeyMap.prototype.onKeyPageUp_=function(e){return this.keyboard.pageKeysScroll===e.shiftKey?"[5~":(this.keyboard.terminal.scrollPageUp(),ap.Keyboard.KeyActions.CANCEL)},ap.Keyboard.KeyMap.prototype.onKeyDel_=function(e){return this.keyboard.altBackspaceIsMetaBackspace&&this.keyboard.altKeyPressed&&!e.altKey?"":"[3~"},ap.Keyboard.KeyMap.prototype.onKeyPageDown_=function(e){return this.keyboard.pageKeysScroll===e.shiftKey?"[6~":(this.keyboard.terminal.scrollPageDown(),ap.Keyboard.KeyActions.CANCEL)},ap.Keyboard.KeyMap.prototype.onKeyArrowUp_=function(e){return!this.keyboard.applicationCursor&&e.shiftKey?(this.keyboard.terminal.scrollLineUp(),ap.Keyboard.KeyActions.CANCEL):e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||!this.keyboard.applicationCursor?"[A":"OA"},ap.Keyboard.KeyMap.prototype.onKeyArrowDown_=function(e){return!this.keyboard.applicationCursor&&e.shiftKey?(this.keyboard.terminal.scrollLineDown(),ap.Keyboard.KeyActions.CANCEL):e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||!this.keyboard.applicationCursor?"[B":"OB"},ap.Keyboard.KeyMap.prototype.onClear_=function(e){return this.keyboard.terminal.wipeContents(),ap.Keyboard.KeyActions.CANCEL},ap.Keyboard.KeyMap.prototype.onF11_=function(e){return"popup"===ap.windowType||"app"===ap.windowType||e.shiftKey?"[23~":ap.Keyboard.KeyActions.PASS},ap.Keyboard.KeyMap.prototype.onCtrlNum_=function(e,t){function n(e){return String.fromCharCode(e.charCodeAt(0)-64)}if(this.keyboard.terminal.passCtrlNumber&&!e.shiftKey)return ap.Keyboard.KeyActions.PASS;switch(t.keyCap.substr(0,1)){case"1":return"1";case"2":return n("@");case"3":return n("[");case"4":return n("\\");case"5":return n("]");case"6":return n("^");case"7":return n("_");case"8":return"";case"9":return"9"}return ap.Keyboard.KeyActions.PASS},ap.Keyboard.KeyMap.prototype.onAltNum_=function(e){return this.keyboard.terminal.passAltNumber&&!e.shiftKey?ap.Keyboard.KeyActions.PASS:ap.Keyboard.KeyActions.DEFAULT},ap.Keyboard.KeyMap.prototype.onMetaNum_=function(e){return this.keyboard.terminal.passMetaNumber&&!e.shiftKey?ap.Keyboard.KeyActions.PASS:ap.Keyboard.KeyActions.DEFAULT},ap.Keyboard.KeyMap.prototype.onCtrlTab_=function(e){return this.keyboard.terminal.passCtrlTab?ap.Keyboard.KeyActions.PASS:ap.Keyboard.KeyActions.STRIP},ap.Keyboard.KeyMap.prototype.onCtrlW_=function(e){return this.keyboard.terminal.passCtrlW?ap.Keyboard.KeyActions.PASS:""},ap.Keyboard.KeyMap.prototype.onCtrlT_=function(e){return this.keyboard.terminal.passCtrlT?ap.Keyboard.KeyActions.PASS:""},ap.Keyboard.KeyMap.prototype.onCtrlShiftA_=function(e){return this.keyboard.terminal.getScrollPort().selectAll(),ap.Keyboard.KeyActions.CANCEL},ap.Keyboard.KeyMap.prototype.onCtrlShiftF_=function(e){return this.keyboard.terminal.findBar.display(),ap.Keyboard.KeyActions.CANCEL},ap.Keyboard.KeyMap.prototype.onCtrlC_=function(e){const t=this.keyboard.terminal.getDocument().getSelection();if(!t.isCollapsed){if(this.keyboard.ctrlCCopy&&!e.shiftKey)return this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout(t.collapseToEnd.bind(t),50),ap.Keyboard.KeyActions.PASS;if(!this.keyboard.ctrlCCopy&&e.shiftKey)return this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout(t.collapseToEnd.bind(t),50),this.keyboard.terminal.copySelectionToClipboard(),ap.Keyboard.KeyActions.CANCEL}return""},ap.Keyboard.KeyMap.prototype.onCtrlN_=function(e){return this.keyboard.terminal.passCtrlN?ap.Keyboard.KeyActions.PASS:e.shiftKey?(ip.f.openWindow(document.location.href,"","chrome=no,close=yes,resize=yes,scrollbars=yes,minimizable=yes,width="+window.innerWidth+",height="+window.innerHeight),ap.Keyboard.KeyActions.CANCEL):""},ap.Keyboard.KeyMap.prototype.onCtrlV_=function(e){return!e.shiftKey&&this.keyboard.ctrlVPaste||e.shiftKey&&!this.keyboard.ctrlVPaste?!1!==this.keyboard.terminal.paste()?ap.Keyboard.KeyActions.CANCEL:ap.Keyboard.KeyActions.PASS:""},ap.Keyboard.KeyMap.prototype.onMetaN_=function(e){return e.shiftKey?(ip.f.openWindow(document.location.href,"","chrome=no,close=yes,resize=yes,scrollbars=yes,minimizable=yes,width="+window.outerWidth+",height="+window.outerHeight),ap.Keyboard.KeyActions.CANCEL):ap.Keyboard.KeyActions.DEFAULT},ap.Keyboard.KeyMap.prototype.onMetaC_=function(e,t){const n=this.keyboard.terminal.getDocument();return e.shiftKey||n.getSelection().isCollapsed?t.keyCap.substr(e.shiftKey?1:0,1):(this.keyboard.terminal.clearSelectionAfterCopy&&setTimeout((function(){n.getSelection().collapseToEnd()}),50),ap.Keyboard.KeyActions.PASS)},ap.Keyboard.KeyMap.prototype.onMetaV_=function(e){return e.shiftKey||this.keyboard.passMetaV?ap.Keyboard.KeyActions.PASS:ap.Keyboard.KeyActions.DEFAULT},ap.Keyboard.KeyMap.prototype.onZoom_=function(e,t){if(this.keyboard.ctrlPlusMinusZeroZoom===e.shiftKey)return"-_"==t.keyCap?"":ap.Keyboard.KeyActions.CANCEL;const n=t.keyCap.substr(0,1);if("0"==n)this.keyboard.terminal.setFontSize(0);else{let e=this.keyboard.terminal.getFontSize();"-"==n||"[KP-]"==t.keyCap?e-=1:e+=1,this.keyboard.terminal.setFontSize(e)}return ap.Keyboard.KeyActions.CANCEL},ap.Keyboard.KeyPattern=function(e){this.wildcardCount=0,this.keyCode=e.keyCode,ap.Keyboard.KeyPattern.modifiers.forEach(function(t){this[t]=e[t]||!1,"*"==this[t]&&this.wildcardCount++}.bind(this))},ap.Keyboard.KeyPattern.modifiers=["shift","ctrl","alt","meta"],ap.Keyboard.KeyPattern.sortCompare=function(e,t){return e.wildcardCount<t.wildcardCount?-1:e.wildcardCount>t.wildcardCount?1:0},ap.Keyboard.KeyPattern.prototype.match_=function(e,t){if(this.keyCode!=e.keyCode)return!1;let n=!0;return ap.Keyboard.KeyPattern.modifiers.forEach(function(r){const o=r in e&&e[r];n&&(t||"*"!=this[r])&&this[r]!=o&&(n=!1)}.bind(this)),n},ap.Keyboard.KeyPattern.prototype.matchKeyDown=function(e){return this.match_(e,!1)},ap.Keyboard.KeyPattern.prototype.matchKeyPattern=function(e){return this.match_(e,!0)},ap.NotificationCenter=class{constructor(e,t=void 0){this.parent_=e,this.reader_=t,this.container_=this.newContainer_(),this.timeout_=null,this.fadeout_=200}newContainer_(){const e=this.parent_.ownerDocument.createElement("div");return e.style.cssText='color: rgb(var(--hterm-background-color));background-color: rgb(var(--hterm-foreground-color));border-radius: 12px;font: 500 var(--hterm-font-size) "Noto Sans", sans-serif;opacity: 0.75;padding: 0.923em 1.846em;position: absolute;user-select: none;transition: opacity 180ms ease-in;',e.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation()}),!0),e}show(e,{timeout:t=1500}={}){const n="string"==typeof e?new Text(e):e;if(this.container_.parentNode&&null===this.timeout_&&null!==t)return;this.container_.textContent="",this.container_.appendChild(n),this.container_.style.opacity="0.75",this.container_.parentNode||this.parent_.appendChild(this.container_);const r=this.container_.getBoundingClientRect();this.container_.style.top=`calc(50% - ${r.height/2}px)`,this.container_.style.left=`calc(50% - ${r.width/2}px)`,this.reader_&&this.reader_.assertiveAnnounce(this.container_.textContent),this.timeout_&&(clearTimeout(this.timeout_),this.timeout_=null),null!==t&&(this.timeout_=setTimeout((()=>{this.container_.style.opacity="0",this.timeout_=setTimeout((()=>this.hide()),this.fadeout_)}),t))}hide(){this.timeout_&&(clearTimeout(this.timeout_),this.timeout_=null),this.container_.remove(),this.container_.textContent=""}},ap.Options=function(e=void 0){this.wraparound=!e||e.wraparound,this.reverseWraparound=!!e&&e.reverseWraparound,this.originMode=!!e&&e.originMode,this.autoCarriageReturn=!!e&&e.autoCarriageReturn,this.cursorVisible=!!e&&e.cursorVisible,this.cursorBlink=!!e&&e.cursorBlink,this.insertMode=!!e&&e.insertMode,this.reverseVideo=!!e&&e.reverseVideo,this.bracketedPaste=!!e&&e.bracketedPaste},ap.Parser=function(){this.source="",this.pos=0,this.ch=null},ap.Parser.prototype.error=function(e){return new Error("Parse error at "+this.pos+": "+e)},ap.Parser.prototype.isComplete=function(){return this.pos==this.source.length},ap.Parser.prototype.reset=function(e,t=0){this.source=e,this.pos=t,this.ch=e.substr(0,1)},ap.Parser.prototype.parseKeySequence=function(){const e={keyCode:null};for(const t in ap.Parser.identifiers.modifierKeys)e[ap.Parser.identifiers.modifierKeys[t]]=!1;for(;this.pos<this.source.length;){this.skipSpace();const t=this.parseToken();if("integer"==t.type)e.keyCode=t.value;else if("identifier"==t.type){const n=t.value.toUpperCase();if(n in ap.Parser.identifiers.modifierKeys&&ap.Parser.identifiers.modifierKeys.hasOwnProperty(n)){const r=ap.Parser.identifiers.modifierKeys[n];if(e[r]&&"*"!=e[r])throw this.error("Duplicate modifier: "+t.value);e[r]=!0}else{if(!(n in ap.Parser.identifiers.keyCodes)||!ap.Parser.identifiers.keyCodes.hasOwnProperty(n))throw this.error("Unknown key: "+t.value);e.keyCode=ap.Parser.identifiers.keyCodes[n]}}else{if("symbol"!=t.type)throw this.error("Expected integer or identifier");if("*"!=t.value)throw this.error("Unexpected symbol: "+t.value);for(const t in ap.Parser.identifiers.modifierKeys){const n=ap.Parser.identifiers.modifierKeys[t];e[n]||(e[n]="*")}}if(this.skipSpace(),"-"!==this.ch&&"+"!==this.ch)break;if(null!=e.keyCode)throw this.error("Extra definition after target key");this.advance(1)}if(null==e.keyCode)throw this.error("Missing target key");return e},ap.Parser.prototype.parseKeyAction=function(){this.skipSpace();const e=this.parseToken();if("string"==e.type)return e.value;if("identifier"==e.type){if(e.value in ap.Parser.identifiers.actions&&ap.Parser.identifiers.actions.hasOwnProperty(e.value))return ap.Parser.identifiers.actions[e.value];throw this.error("Unknown key action: "+e.value)}throw this.error("Expected string or identifier")},ap.Parser.prototype.peekString=function(){return"'"==this.ch||'"'==this.ch},ap.Parser.prototype.peekIdentifier=function(){return!!this.ch.match(/[a-z_]/i)},ap.Parser.prototype.peekInteger=function(){return!!this.ch.match(/[0-9]/)},ap.Parser.prototype.parseToken=function(){if("*"==this.ch){const e={type:"symbol",value:this.ch};return this.advance(1),e}if(this.peekIdentifier())return{type:"identifier",value:this.parseIdentifier()};if(this.peekString())return{type:"string",value:this.parseString()};if(this.peekInteger())return{type:"integer",value:this.parseInteger()};throw this.error("Unexpected token")},ap.Parser.prototype.parseIdentifier=function(){if(!this.peekIdentifier())throw this.error("Expected identifier");return this.parsePattern(/[a-z0-9_]+/gi)},ap.Parser.prototype.parseInteger=function(){return"0"==this.ch&&this.pos<this.source.length-1&&"x"==this.source.substr(this.pos+1,1)?parseInt(this.parsePattern(/0x[0-9a-f]+/gi),void 0):parseInt(this.parsePattern(/\d+/g),10)},ap.Parser.prototype.parseString=function(){let e="";const t=this.ch;if('"'!=t&&"'"!=t)throw this.error("String expected");this.advance(1);const n=new RegExp("[\\\\"+t+"]","g");for(;this.pos<this.source.length;){if(n.lastIndex=this.pos,!n.exec(this.source))throw this.error("Unterminated string literal");if(e+=this.source.substring(this.pos,n.lastIndex-1),this.advance(n.lastIndex-this.pos-1),'"'!=t||"\\"!=this.ch)if("'"!=t||"\\"!=this.ch){if(this.ch==t)return this.advance(1),e}else e+=this.ch,this.advance(1);else this.advance(1),e+=this.parseEscape()}throw this.error("Unterminated string literal")},ap.Parser.prototype.parseEscape=function(){const e={'"':'"',"'":"'","\\":"\\",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",x:function(){const e=this.parsePattern(/[a-z0-9]{2}/gi);return String.fromCharCode(parseInt(e,16))},u:function(){const e=this.parsePattern(/[a-z0-9]{4}/gi);return String.fromCharCode(parseInt(e,16))}};if(!(this.ch in e)||!e.hasOwnProperty(this.ch))throw this.error("Unknown escape: "+this.ch);let t=e[this.ch];return this.advance(1),"function"==typeof t&&(t=t.call(this)),t},ap.Parser.prototype.parsePattern=function(e){if(!e.global)throw this.error("Internal error: Span patterns must be global");e.lastIndex=this.pos;const t=e.exec(this.source);if(!t||e.lastIndex-t[0].length!=this.pos)throw this.error("Expected match for: "+e);return this.pos=e.lastIndex-1,this.advance(1),t[0]},ap.Parser.prototype.advance=function(e){this.pos+=e,this.ch=this.source.substr(this.pos,1)},ap.Parser.prototype.skipSpace=function(e=void 0){if(!/\s/.test(this.ch))return;const t=/\s+/gm;t.lastIndex=this.pos;const n=this.source;if(t.exec(n)&&(this.pos=t.lastIndex),this.ch=this.source.substr(this.pos,1),e&&-1==this.ch.indexOf(e))throw this.error(`Expected one of ${e}, found: ${this.ch}`)},ap.Parser.identifiers={},ap.Parser.identifiers.modifierKeys={SHIFT:"shift",CTRL:"ctrl",CONTROL:"ctrl",ALT:"alt",META:"meta"},ap.Parser.identifiers.keyCodes={ESCAPE:27,ESC:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,ZERO:48,MINUS:189,EQUAL:187,BACKSPACE:8,BKSP:8,BS:8,TAB:9,Q:81,W:87,E:69,R:82,T:84,Y:89,U:85,I:73,O:79,P:80,BRACKET_LEFT:219,BRACKET_RIGHT:221,CAPS_LOCK:20,CAPSLOCK:20,CAPS:20,A:65,S:83,D:68,F:70,G:71,H:72,J:74,K:75,L:76,ENTER:13,ENT:13,RETURN:13,RET:13,Z:90,X:88,C:67,V:86,B:66,N:78,M:77,SPACE:32,SP:32,PRINT_SCREEN:42,PRTSC:42,SCROLL_LOCK:145,SCRLK:145,BREAK:19,BRK:19,INSERT:45,INS:45,HOME:36,PAGE_UP:33,PGUP:33,DELETE:46,DEL:46,END:35,PAGE_DOWN:34,PGDOWN:34,PGDN:34,UP:38,DOWN:40,RIGHT:39,LEFT:37,NUMLOCK:144,KP0:96,KP1:97,KP2:98,KP3:99,KP4:100,KP5:101,KP6:102,KP7:103,KP8:104,KP9:105,KP_PLUS:107,KP_ADD:107,KP_MINUS:109,KP_SUBTRACT:109,KP_STAR:106,KP_MULTIPLY:106,KP_DIVIDE:111,KP_DECIMAL:110,KP_PERIOD:110,NAVIGATE_BACK:166,NAVIGATE_FORWARD:167,RELOAD:168,FULL_SCREEN:183,WINDOW_OVERVIEW:182,BRIGHTNESS_UP:216,BRIGHTNESS_DOWN:217},ap.Parser.identifiers.actions={CANCEL:ap.Keyboard.KeyActions.CANCEL,DEFAULT:ap.Keyboard.KeyActions.DEFAULT,PASS:ap.Keyboard.KeyActions.PASS,scrollLineUp:function(e){return e.scrollLineUp(),ap.Keyboard.KeyActions.CANCEL},scrollLineDown:function(e){return e.scrollLineDown(),ap.Keyboard.KeyActions.CANCEL},scrollPageUp:function(e){return e.scrollPageUp(),ap.Keyboard.KeyActions.CANCEL},scrollPageDown:function(e){return e.scrollPageDown(),ap.Keyboard.KeyActions.CANCEL},scrollToTop:function(e){return e.scrollHome(),ap.Keyboard.KeyActions.CANCEL},scrollToBottom:function(e){return e.scrollEnd(),ap.Keyboard.KeyActions.CANCEL},selectAll:function(e){return e.getScrollPort().selectAll(),ap.Keyboard.KeyActions.CANCEL},clearScreen:function(e){return e.clearHome(),ap.Keyboard.KeyActions.CANCEL},clearScrollback:function(e){return e.clearScrollback(),ap.Keyboard.KeyActions.CANCEL},clearTerminal:function(e){return e.wipeContents(),ap.Keyboard.KeyActions.CANCEL},fullReset:function(e){return e.reset(),ap.Keyboard.KeyActions.CANCEL},softReset:function(e){return e.softReset(),ap.Keyboard.KeyActions.CANCEL}},ap.PreferenceManager=function(e=ap.Terminal.DEFAULT_PROFILE_ID){ip.PreferenceManager.call(this,ap.defaultStorage,ap.PreferenceManager.prefix_+e),Object.entries(ap.PreferenceManager.defaultPreferences).forEach((([e,t])=>{this.definePreference(e,t.default)}))},ap.PreferenceManager.prefix_="/hterm/profiles/",ap.PreferenceManager.listProfiles=function(e,t){e.getItems(null).then((e=>{const n={};for(const t of Object.keys(e))t.startsWith(ap.PreferenceManager.prefix_)&&(n[t.slice(ap.PreferenceManager.prefix_.length).split("/",1)[0]]=!0);t(Object.keys(n))}))},ap.PreferenceManager.Categories={Keyboard:"Keyboard",Appearance:"Appearance",CopyPaste:"CopyPaste",Sounds:"Sounds",Scrolling:"Scrolling",Encoding:"Encoding",Extensions:"Extensions",Miscellaneous:"Miscellaneous"},ap.PreferenceManager.categoryDefinitions=[{id:ap.PreferenceManager.Categories.Appearance,text:"Appearance (fonts, colors, images)"},{id:ap.PreferenceManager.Categories.CopyPaste,text:"Copy & Paste"},{id:ap.PreferenceManager.Categories.Encoding,text:"Encoding"},{id:ap.PreferenceManager.Categories.Keyboard,text:"Keyboard"},{id:ap.PreferenceManager.Categories.Scrolling,text:"Scrolling"},{id:ap.PreferenceManager.Categories.Sounds,text:"Sounds"},{id:ap.PreferenceManager.Categories.Extensions,text:"Extensions"},{id:ap.PreferenceManager.Categories.Miscellaneous,text:"Miscellaneous"}],ap.PreferenceManager.definePref_=function(e,t,n,r,o){return{name:e,category:t,default:n,type:r,help:o}},ap.PreferenceManager.defaultPreferences={"alt-gr-mode":ap.PreferenceManager.definePref_("AltGr key mode",ap.PreferenceManager.Categories.Keyboard,null,[null,"none","ctrl-alt","left-alt","right-alt"],"Select an AltGr detection heuristic.\n\n'null': Autodetect based on navigator.language:\n      'en-us' => 'none', else => 'right-alt'\n'none': Disable any AltGr emulation.\n'ctrl-alt': Assume Ctrl+Alt means AltGr.\n'left-alt': Assume left Alt means AltGr.\n'right-alt': Assume right Alt means AltGr."),"alt-backspace-is-meta-backspace":ap.PreferenceManager.definePref_("Alt+Backspace is Meta+Backspace",ap.PreferenceManager.Categories.Keyboard,!1,"bool","If set, undoes the Chrome OS Alt+Backspace->Delete remap, so that Alt+Backspace indeed is Alt+Backspace."),"alt-is-meta":ap.PreferenceManager.definePref_("Treat Alt key as Meta key",ap.PreferenceManager.Categories.Keyboard,!1,"bool","Whether the Alt key acts as a Meta key or as a distinct Alt key."),"alt-sends-what":ap.PreferenceManager.definePref_("Alt key modifier handling",ap.PreferenceManager.Categories.Keyboard,"escape",["escape","8-bit","browser-key"],"Controls how the Alt key is handled.\n\n  escape: Send an ESC prefix.\n  8-bit: Add 128 to the typed character as in xterm.\n  browser-key: Wait for the keypress event and see what the browser\n    says. (This won't work well on platforms where the browser\n    performs a default action for some Alt sequences.)"),"audible-bell-sound":ap.PreferenceManager.definePref_("Alert bell sound (URI)",ap.PreferenceManager.Categories.Sounds,"lib-resource:hterm/audio/bell","url","URL of the terminal bell sound. Leave it blank for no audible bell."),"desktop-notification-bell":ap.PreferenceManager.definePref_("Create desktop notifications for alert bells",ap.PreferenceManager.Categories.Sounds,!1,"bool",'If true, terminal bells in the background will create a Web Notification. https://www.w3.org/TR/notifications/\n\nDisplaying notifications requires permission from the user. When this option is set to true, hterm will attempt to ask the user for permission if necessary. Browsers might not show this permission request if it was not triggered by a user action.\n\nChrome extensions with the "notifications" permission have permission to display notifications.'),"background-color":ap.PreferenceManager.definePref_("Background color",ap.PreferenceManager.Categories.Appearance,"rgb(16, 16, 16)","color","The background color for text with no other color attributes."),"background-image":ap.PreferenceManager.definePref_("Background image",ap.PreferenceManager.Categories.Appearance,"","string","CSS value of the background image. Leave it blank for no image.\n\nFor example:\n  url(https://goo.gl/anedTK)\n  linear-gradient(top bottom, blue, red)"),"background-size":ap.PreferenceManager.definePref_("Background image size",ap.PreferenceManager.Categories.Appearance,"","string","CSS value of the background image size."),"background-position":ap.PreferenceManager.definePref_("Background image position",ap.PreferenceManager.Categories.Appearance,"","string","CSS value of the background image position.\n\nFor example:\n  10% 10%\n  center"),"backspace-sends-backspace":ap.PreferenceManager.definePref_("Backspace key behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool","If true, the Backspace key will send BS ('\\x08', aka ^H). Otherwise the Backspace key will send '\\x7f'."),"character-map-overrides":ap.PreferenceManager.definePref_("Character map overrides",ap.PreferenceManager.Categories.Appearance,null,"value",'This is specified as an object. It is a sparse array, where each property is the character set code and the value is an object that is a sparse array itself. In that sparse array, each property is the received character and the value is the displayed character.\n\nFor example:\n{ "0": {\n  "+": "\\u2192",\n  ",": "\\u2190",\n  "-": "\\u2191",\n  ".": "\\u2193",\n  "0": "\\u2588"\n} }'),"close-on-exit":ap.PreferenceManager.definePref_("Close window on exit",ap.PreferenceManager.Categories.Miscellaneous,!0,"bool","Whether to close the window when the command finishes executing."),"cursor-blink":ap.PreferenceManager.definePref_("Cursor blink",ap.PreferenceManager.Categories.Appearance,!1,"bool","Whether the text cursor blinks by default. This can be toggled at runtime via terminal escape sequences."),"cursor-blink-cycle":ap.PreferenceManager.definePref_("Cursor blink rate",ap.PreferenceManager.Categories.Appearance,[1e3,500],"value","The text cursor blink rate in milliseconds.\n\nA two element array, the first of which is how long the text cursor should be on, second is how long it should be off."),"cursor-shape":ap.PreferenceManager.definePref_("Text cursor shape",ap.PreferenceManager.Categories.Appearance,"BLOCK",["BLOCK","BEAM","UNDERLINE"],"The shape of the visible text cursor. This can be changed at runtime via terminal escape sequences."),"cursor-color":ap.PreferenceManager.definePref_("Text cursor color",ap.PreferenceManager.Categories.Appearance,"rgba(255, 0, 0, 0.5)","color","The color of the visible text cursor."),"color-palette-overrides":ap.PreferenceManager.definePref_("Initial color palette",ap.PreferenceManager.Categories.Appearance,null,"value",'Override colors in the default palette.\n\nThis can be specified as an array or an object. If specified as an object it is assumed to be a sparse array, where each property is a numeric index into the color palette.\n\nValues can be specified as almost any CSS color value. This includes #RGB, #RRGGBB, rgb(...), rgba(...), and any color names that are also part of the standard X11 rgb.txt file.\n\nYou can use \'null\' to specify that the default value should be not be changed. This is useful for skipping a small number of indices when the value is specified as an array.\n\nFor example, these both set color index 1 to blue:\n  {1: "#0000ff"}\n  [null, "#0000ff"]'),"copy-on-select":ap.PreferenceManager.definePref_("Automatically copy selected content",ap.PreferenceManager.Categories.CopyPaste,!0,"bool","Automatically copy mouse selection to the clipboard."),"use-default-window-copy":ap.PreferenceManager.definePref_("Let the browser handle text copying",ap.PreferenceManager.Categories.CopyPaste,!1,"bool","Whether to use the default browser/OS's copy behavior.\n\nAllow the browser/OS to handle the copy event directly which might improve compatibility with some systems (where copying doesn't work at all), but makes the text selection less robust.\n\nFor example, long lines that were automatically line wrapped will be copied with the newlines still in them."),"clear-selection-after-copy":ap.PreferenceManager.definePref_("Automatically clear text selection",ap.PreferenceManager.Categories.CopyPaste,!0,"bool","Whether to clear the selection after copying."),"ctrl-plus-minus-zero-zoom":ap.PreferenceManager.definePref_("Ctrl++/-/0 zoom behavior",ap.PreferenceManager.Categories.Keyboard,!0,"bool","If true, Ctrl+Plus/Minus/Zero controls zoom.\nIf false, Ctrl+Shift+Plus/Minus/Zero controls zoom, Ctrl+Minus sends ^_, Ctrl+Plus/Zero do nothing."),"ctrl-c-copy":ap.PreferenceManager.definePref_("Ctrl+C copy behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool","Ctrl+C copies if true, send ^C to host if false.\nCtrl+Shift+C sends ^C to host if true, copies if false."),"ctrl-v-paste":ap.PreferenceManager.definePref_("Ctrl+V paste behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool","Ctrl+V pastes if true, send ^V to host if false.\nCtrl+Shift+V sends ^V to host if true, pastes if false."),"east-asian-ambiguous-as-two-column":ap.PreferenceManager.definePref_("East Asian Ambiguous use two columns",ap.PreferenceManager.Categories.Keyboard,!1,"bool","Whether East Asian Ambiguous characters have two column width."),"enable-8-bit-control":ap.PreferenceManager.definePref_("Support non-UTF-8 C1 control characters",ap.PreferenceManager.Categories.Keyboard,!1,"bool","True to enable 8-bit control characters, false to ignore them.\n\nWe'll respect the two-byte versions of these control characters regardless of this setting."),"enable-bold":ap.PreferenceManager.definePref_("Bold text behavior",ap.PreferenceManager.Categories.Appearance,null,"tristate","If true, use bold weight font for text with the bold/bright attribute. False to use the normal weight font. Null to autodetect."),"enable-bold-as-bright":ap.PreferenceManager.definePref_("Use bright colors with bold text",ap.PreferenceManager.Categories.Appearance,!0,"bool","If true, use bright colors (8-15 on a 16 color palette) for any text with the bold attribute. False otherwise."),"enable-blink":ap.PreferenceManager.definePref_("Enable blinking text",ap.PreferenceManager.Categories.Appearance,!0,"bool","If true, respect the blink attribute. False to ignore it."),"enable-clipboard-notice":ap.PreferenceManager.definePref_("Show notification when copying content",ap.PreferenceManager.Categories.CopyPaste,!0,"bool","Whether to show a message in the terminal when the host writes to the clipboard."),"enable-clipboard-write":ap.PreferenceManager.definePref_("Allow remote clipboard writes",ap.PreferenceManager.Categories.CopyPaste,!0,"bool","Allow the remote host to write directly to the local system clipboard.\nRead access is never granted regardless of this setting.\n\nThis is used to control access to features like OSC-52."),"enable-dec12":ap.PreferenceManager.definePref_("Allow changing of text cursor blinking",ap.PreferenceManager.Categories.Miscellaneous,!1,"bool","Respect the host's attempt to change the text cursor blink status using DEC Private Mode 12."),"enable-csi-j-3":ap.PreferenceManager.definePref_("Allow clearing of scrollback buffer (CSI-J-3)",ap.PreferenceManager.Categories.Miscellaneous,!0,"bool","Whether the Erase Saved Lines function (mode 3) of the Erase Display command (CSI-J) may clear the terminal scrollback buffer.\n\nEnabling this by default is safe."),environment:ap.PreferenceManager.definePref_("Environment variables",ap.PreferenceManager.Categories.Miscellaneous,{NCURSES_NO_UTF8_ACS:"1",TERM:"xterm-256color",COLORTERM:"truecolor"},"value","The initial set of environment variables, as an object."),"find-result-color":ap.PreferenceManager.definePref_("Find results highlight color",ap.PreferenceManager.Categories.Appearance,"rgba(102, 204, 255, 0.4)","color","The background color to highlight find results."),"find-result-selected-color":ap.PreferenceManager.definePref_("Find results selected highlight color",ap.PreferenceManager.Categories.Appearance,"rgba(102, 204, 255, 0.8)","color","The background color to highlight the selected find result."),"font-family":ap.PreferenceManager.definePref_("Text font family",ap.PreferenceManager.Categories.Appearance,'"DejaVu Sans Mono", "Noto Sans Mono", "Everson Mono", FreeMono, Menlo, Terminal, monospace',"string","Default font family for the terminal text."),"font-size":ap.PreferenceManager.definePref_("Text font size",ap.PreferenceManager.Categories.Appearance,15,"int","The default font size in pixels."),"font-smoothing":ap.PreferenceManager.definePref_("Text font smoothing",ap.PreferenceManager.Categories.Appearance,"antialiased","string","CSS font-smoothing property."),"line-height-padding-size":ap.PreferenceManager.definePref_("Line height padding size",ap.PreferenceManager.Categories.Appearance,0,"int","The padding size in pixels between each row of the terminal screen."),"foreground-color":ap.PreferenceManager.definePref_("Text color",ap.PreferenceManager.Categories.Appearance,"rgb(240, 240, 240)","color","The foreground color for text with no other color attributes."),"enable-resize-status":ap.PreferenceManager.definePref_("Show terminal dimensions when resized",ap.PreferenceManager.Categories.Appearance,!1,"bool","Whether to show terminal dimensions when the terminal changes size."),"hide-mouse-while-typing":ap.PreferenceManager.definePref_("Hide mouse cursor while typing",ap.PreferenceManager.Categories.Keyboard,null,"tristate","Whether to automatically hide the mouse cursor when typing. By default, autodetect whether the platform/OS handles this.\n\nNote: Your operating system might override this setting and thus you might not be able to always disable it."),"home-keys-scroll":ap.PreferenceManager.definePref_("Home/End key scroll behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool","If true, Home/End controls the terminal scrollbar and Shift+Home/Shift+End are sent to the remote host. If false, then Home/End are sent to the remote host and Shift+Home/Shift+End scrolls."),keybindings:ap.PreferenceManager.definePref_("Keyboard bindings/shortcuts",ap.PreferenceManager.Categories.Keyboard,null,"value",'A map of key sequence to key actions. Key sequences include zero or more modifier keys followed by a key code. Key codes can be decimal or hexadecimal numbers, or a key identifier. Key actions can be specified as a string to send to the host, or an action identifier. For a full explanation of the format, see https://goo.gl/LWRndr.\n\nSample keybindings:\n{\n  "Ctrl+Alt+K": "clearTerminal",\n  "Ctrl+Shift+L": "PASS",\n  "Ctrl+H": "\'Hello World\'"\n}'),"keybindings-os-defaults":ap.PreferenceManager.definePref_("Use default OS Keyboard bindings/shortcuts",ap.PreferenceManager.Categories.Keyboard,!1,"bool","Whether common OS keyboard bindings should be respected instead of always capturing for hterm's own use."),"media-keys-are-fkeys":ap.PreferenceManager.definePref_("Media keys are Fkeys",ap.PreferenceManager.Categories.Keyboard,!1,"bool","If true, convert media keys to their Fkey equivalent. If false, let the browser handle the keys."),"meta-sends-escape":ap.PreferenceManager.definePref_("Meta key modifier handling",ap.PreferenceManager.Categories.Keyboard,!0,"bool","Send an ESC prefix when pressing a key while holding the Meta key.\n\nFor example, when enabled, pressing Meta+K will send ^[k as if you typed Escape then k. When disabled, only k will be sent."),"mouse-right-click-paste":ap.PreferenceManager.definePref_("Mouse right clicks paste content",ap.PreferenceManager.Categories.CopyPaste,!0,"bool",'Paste on right mouse button clicks.\n\nThis option is independent of the "mouse-paste-button" setting.\n\nNote: The primary & secondary buttons are handled for you with left & right handed mice.'),"mouse-paste-button":ap.PreferenceManager.definePref_("Mouse button paste",ap.PreferenceManager.Categories.CopyPaste,null,[null,"no-button",0,1,2,3,4,5,6],"The mouse button to use for pasting.\n\nFor autodetect, we'll use the middle mouse button for non-X11 platforms (including Chrome OS). On X11, we'll use the right mouse button (since the window manager should handle pasting via the middle mouse button).\n\n0 == left (primary) button.\n1 == middle (auxiliary) button.\n2 == right (secondary) button.\n\nThis option is independent of the setting for right-click paste.\n\nIf set to 'no-button' then no paste button is used.\nNote: The primary & secondary buttons are handled for you with left & right handed mice."),"screen-padding-size":ap.PreferenceManager.definePref_("Screen padding size",ap.PreferenceManager.Categories.Appearance,8,"int","The padding size in pixels around the border of the terminal screen.\n\nThis controls the size of the border around the terminal screen so the user can add some visible padding to the edges of the screen."),"screen-border-size":ap.PreferenceManager.definePref_("Screen border size",ap.PreferenceManager.Categories.Appearance,0,"int","The border size in pixels around the terminal screen.\n\nThis controls the size of the border around the terminal screen to create a visible line at the edges of the screen."),"screen-border-color":ap.PreferenceManager.definePref_("Screen border color",ap.PreferenceManager.Categories.Appearance,"rgb(128, 128, 128)","color","The color for the border around the terminal screen.\n\nThis controls the color of the border around the terminal screen to create a visible line at the edges of the screen."),"word-break-match-left":ap.PreferenceManager.definePref_("Automatic selection halting (to the left)",ap.PreferenceManager.Categories.CopyPaste,"[^\\s[\\](){}<>\"'^!@#$%&*,;:`]","string",'Regular expression to halt matching to the left (start) of a selection.\n\nNormally this is a character class to reject specific characters.\nWe allow "~" and "." by default as paths frequently start with those.'),"word-break-match-right":ap.PreferenceManager.definePref_("Automatic selection halting (to the right)",ap.PreferenceManager.Categories.CopyPaste,"[^\\s[\\](){}<>\"'^!@#$%&*,;:~.`]","string","Regular expression to halt matching to the right (end) of a selection.\n\nNormally this is a character class to reject specific characters."),"word-break-match-middle":ap.PreferenceManager.definePref_("Word break characters",ap.PreferenceManager.Categories.CopyPaste,"[^\\s[\\](){}<>\"'^]*","string","Regular expression to match all the characters in the middle.\n\nNormally this is a character class to reject specific characters.\n\nUsed to expand the selection surrounding the starting point."),"page-keys-scroll":ap.PreferenceManager.definePref_("Page Up/Down key scroll behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool","If true, Page Up/Page Down controls the terminal scrollbar and Shift+Page Up/Shift+Page Down are sent to the remote host. If false, then Page Up/Page Down are sent to the remote host and Shift+Page Up/Shift+Page Down scrolls."),"pass-alt-number":ap.PreferenceManager.definePref_("Alt+1..9 switch tab/app behavior",ap.PreferenceManager.Categories.Keyboard,null,"tristate","Whether Alt+1..9 is passed to the browser.\n\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \"switch to tab/app\" keyboard shortcuts. When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\n\nIf true, Alt+1..9 will be handled by the browser. If false, Alt+1..9 will be sent to the host. If null, autodetect based on browser platform and window type."),"pass-ctrl-number":ap.PreferenceManager.definePref_("Ctrl+1..9 switch tab behavior",ap.PreferenceManager.Categories.Keyboard,null,"tristate","Whether Ctrl+1..9 is passed to the browser.\n\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \"switch to tab\" keyboard shortcuts. When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\n\nIf true, Ctrl+1..9 will be handled by the browser. If false, Ctrl+1..9 will be sent to the host. If null, autodetect based on browser platform and window type."),"pass-ctrl-n":ap.PreferenceManager.definePref_("Ctrl+N new window behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool",'Whether Ctrl+N is passed to the browser.\n\nIf true, Ctrl+N will be handled by the browser as the "new window" keyboard shortcut. If false, Ctrl+N will be sent to the host.'),"pass-ctrl-t":ap.PreferenceManager.definePref_("Ctrl+T new tab behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool",'Whether Ctrl+T is passed to the browser.\n\nIf true, Ctrl+T will be handled by the browser as the "new tab" keyboard shortcut. If false, Ctrl+T will be sent to the host.'),"pass-ctrl-tab":ap.PreferenceManager.definePref_("Ctrl+Tab switch tab behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool",'Whether Ctrl+Tab and Ctrl+Shift+Tab are passed to the browser.\n\nIf true, Ctrl+Tab and Ctrl+Shift+Tab will be handled by the browser as the "next/previous tab" keyboard shortcut. If false, the Tab key is sent to the host without Ctrl or Shift.'),"pass-ctrl-w":ap.PreferenceManager.definePref_("Ctrl+W close tab behavior",ap.PreferenceManager.Categories.Keyboard,!1,"bool",'Whether Ctrl+W is passed to the browser.\n\nIf true, Ctrl+W will be handled by the browser as the "close tab" keyboard shortcut. If false, Ctrl+W will be sent to the host.'),"pass-meta-number":ap.PreferenceManager.definePref_("Meta+1..9 switch tab behavior",ap.PreferenceManager.Categories.Keyboard,null,"tristate","Whether Meta+1..9 is passed to the browser.\n\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \"switch to tab\" keyboard shortcuts. When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\n\nIf true, Meta+1..9 will be handled by the browser. If false, Meta+1..9 will be sent to the host. If null, autodetect based on browser platform and window type."),"pass-meta-v":ap.PreferenceManager.definePref_("Meta+V paste behavior",ap.PreferenceManager.Categories.Keyboard,!0,"bool","Whether Meta+V gets passed to the browser.\n\nOn some systems, this is used to paste content."),"paste-on-drop":ap.PreferenceManager.definePref_("Allow drag & drop to paste",ap.PreferenceManager.Categories.CopyPaste,!0,"bool","If true, Drag and dropped text will paste into terminal.\nIf false, dropped text will be ignored."),"scroll-on-keystroke":ap.PreferenceManager.definePref_("Scroll to bottom after keystroke",ap.PreferenceManager.Categories.Scrolling,!0,"bool","Whether to scroll to the bottom on any keystroke."),"scroll-on-output":ap.PreferenceManager.definePref_("Scroll to bottom after new output",ap.PreferenceManager.Categories.Scrolling,!1,"bool","Whether to scroll to the bottom on terminal output."),"scrollbar-visible":ap.PreferenceManager.definePref_("Scrollbar visibility",ap.PreferenceManager.Categories.Scrolling,!0,"bool","The vertical scrollbar mode."),"scroll-wheel-may-send-arrow-keys":ap.PreferenceManager.definePref_("Emulate arrow keys with scroll wheel",ap.PreferenceManager.Categories.Scrolling,!1,"bool","When using the alternative screen buffer, and DECCKM (Application Cursor Keys) is active, mouse scroll wheel events will emulate arrow keys.\n\nIt can be temporarily disabled by holding the Shift key.\n\nThis frequently comes up when using pagers (less) or reading man pages or text editors (vi/nano) or using screen/tmux."),"scroll-wheel-move-multiplier":ap.PreferenceManager.definePref_("Mouse scroll wheel multiplier",ap.PreferenceManager.Categories.Scrolling,1,"int","The multiplier for mouse scroll wheel events when measured in pixels.\n\nAlters how fast the page scrolls."),"terminal-encoding":ap.PreferenceManager.definePref_("Terminal encoding",ap.PreferenceManager.Categories.Encoding,"utf-8",["iso-2022","utf-8","utf-8-locked"],"The default terminal encoding (DOCS).\n\nISO-2022 enables character map translations (like graphics maps).\nUTF-8 disables support for those.\n\nThe locked variant means the encoding cannot be changed at runtime via terminal escape sequences.\n\nYou should stick with UTF-8 unless you notice broken rendering with legacy applications."),"shift-insert-paste":ap.PreferenceManager.definePref_("Shift+Insert paste",ap.PreferenceManager.Categories.Keyboard,!0,"bool","Whether Shift+Insert is used for pasting or is sent to the remote host."),"user-css":ap.PreferenceManager.definePref_("Custom CSS (URI)",ap.PreferenceManager.Categories.Appearance,"","url","URL of user stylesheet to include in the terminal document."),"user-css-text":ap.PreferenceManager.definePref_("Custom CSS (inline text)",ap.PreferenceManager.Categories.Appearance,"","multiline-string","Custom CSS text for styling the terminal."),"allow-images-inline":ap.PreferenceManager.definePref_("Allow inline image display",ap.PreferenceManager.Categories.Extensions,null,"tristate","Whether to allow the remote host to display images in the terminal.\n\nBy default, we prompt until a choice is made.")},ap.PreferenceManager.prototype=Object.create(ip.PreferenceManager.prototype),ap.PreferenceManager.constructor=ap.PreferenceManager,ap.PubSub=function(){this.observers_={}},ap.PubSub.addBehavior=function(e){const t=new ap.PubSub;for(const n in ap.PubSub.prototype)e[n]=ap.PubSub.prototype[n].bind(t)},ap.PubSub.prototype.subscribe=function(e,t){e in this.observers_||(this.observers_[e]=[]),this.observers_[e].push(t)},ap.PubSub.prototype.unsubscribe=function(e,t){const n=this.observers_[e];if(!n)throw new Error(`Invalid subject: ${e}`);const r=n.indexOf(t);if(r<0)throw new Error(`Not subscribed: ${e}`);n.splice(r,1)},ap.PubSub.prototype.publish=function(e,t,n=void 0){let r=this.observers_[e];r&&(r=[].concat(r)),n&&(r?r.push(n):r=[n]),r&&setTimeout((function e(n){n<r.length-1&&setTimeout(e,0,n+1),r[n](t)}),0,0)},ap.Screen=function(e=0){this.rowsArray=[],this.columnCount_=e,this.textAttributes=new ap.TextAttributes(window.document),this.cursorPosition=new ap.RowCol(0,0),this.cursorState_=new ap.Screen.CursorState(this),this.cursorRowNode_=null,this.cursorNode_=null,this.cursorOffset_=0,this.wordBreakMatchLeft=null,this.wordBreakMatchRight=null,this.wordBreakMatchMiddle=null},ap.Screen.prototype.getSize=function(){return new ap.Size(this.columnCount_,this.rowsArray.length)},ap.Screen.prototype.getHeight=function(){return this.rowsArray.length},ap.Screen.prototype.getWidth=function(){return this.columnCount_},ap.Screen.prototype.setColumnCount=function(e){this.columnCount_=e,this.cursorPosition.column>=e&&this.setCursorPosition(this.cursorPosition.row,e-1)},ap.Screen.prototype.shiftRow=function(){return this.shiftRows(1)[0]},ap.Screen.prototype.shiftRows=function(e){return this.rowsArray.splice(0,e)},ap.Screen.prototype.unshiftRow=function(e){this.rowsArray.splice(0,0,e)},ap.Screen.prototype.unshiftRows=function(e){this.rowsArray.unshift.apply(this.rowsArray,e)},ap.Screen.prototype.popRow=function(){return this.popRows(1)[0]},ap.Screen.prototype.popRows=function(e){return this.rowsArray.splice(this.rowsArray.length-e,e)},ap.Screen.prototype.pushRow=function(e){this.rowsArray.push(e)},ap.Screen.prototype.pushRows=function(e){e.push.apply(this.rowsArray,e)},ap.Screen.prototype.insertRow=function(e,t){this.rowsArray.splice(e,0,t)},ap.Screen.prototype.insertRows=function(e,t){for(let n=0;n<t.length;n++)this.rowsArray.splice(e+n,0,t[n])},ap.Screen.prototype.removeRow=function(e){return this.rowsArray.splice(e,1)[0]},ap.Screen.prototype.removeRows=function(e,t){return this.rowsArray.splice(e,t)},ap.Screen.prototype.invalidateCursorPosition=function(){this.cursorPosition.move(0,0),this.cursorRowNode_=null,this.cursorNode_=null,this.cursorOffset_=0},ap.Screen.prototype.clearCursorRow=function(){let e;this.cursorRowNode_.innerHTML="",this.cursorRowNode_.removeAttribute("line-overflow"),this.cursorOffset_=0,this.cursorPosition.column=0,this.cursorPosition.overflow=!1,e=this.textAttributes.isDefault()?"":" ".repeat(this.columnCount_);const t=this.textAttributes.inverse;this.textAttributes.inverse=!1,this.textAttributes.syncColors();const n=this.textAttributes.createContainer(e);this.cursorRowNode_.appendChild(n),this.cursorNode_=n,this.textAttributes.inverse=t,this.textAttributes.syncColors()},ap.Screen.prototype.commitLineOverflow=function(){this.cursorRowNode_.setAttribute("line-overflow",!0)},ap.Screen.prototype.setCursorPosition=function(e,t){if(!this.rowsArray.length)return void console.warn("Attempt to set cursor position on empty screen.");e>=this.rowsArray.length?(console.error("Row out of bounds: "+e),e=this.rowsArray.length-1):e<0&&(console.error("Row out of bounds: "+e),e=0),t>=this.columnCount_?(console.error("Column out of bounds: "+t),t=this.columnCount_-1):t<0&&(console.error("Column out of bounds: "+t),t=0),this.cursorPosition.overflow=!1;const n=this.rowsArray[e];let r=n.firstChild;r||(r=n.ownerDocument.createTextNode(""),n.appendChild(r));let o=0;for(n==this.cursorRowNode_?t>=this.cursorPosition.column-this.cursorOffset_&&(r=this.cursorNode_,o=this.cursorPosition.column-this.cursorOffset_):this.cursorRowNode_=n,this.cursorPosition.move(e,t);r;){const e=t-o,n=ap.TextAttributes.nodeWidth(r);if(!r.nextSibling||n>e)return this.cursorNode_=r,void(this.cursorOffset_=e);o+=n,r=r.nextSibling}},ap.Screen.prototype.syncSelectionCaret=function(e){try{e.collapse(this.cursorNode_,this.cursorOffset_)}catch(e){}},ap.Screen.prototype.splitNode_=function(e,t){const n=e.cloneNode(!1),r=e.textContent;e.textContent=ap.TextAttributes.nodeSubstr(e,0,t),n.textContent=ip.wc.substr(r,t),n.textContent&&e.parentNode.insertBefore(n,e.nextSibling),e.textContent||e.remove()},ap.Screen.prototype.maybeClipCurrentRow=function(){let e=ap.TextAttributes.nodeWidth(ip.notNull(this.cursorRowNode_));if(e<=this.columnCount_)return void(this.cursorPosition.column>=this.columnCount_&&(this.setCursorPosition(this.cursorPosition.row,this.columnCount_-1),this.cursorPosition.overflow=!0));const t=this.cursorPosition.column;this.setCursorPosition(this.cursorPosition.row,this.columnCount_-1),e=ap.TextAttributes.nodeWidth(ip.notNull(this.cursorNode_)),this.cursorOffset_<e-1&&(this.cursorNode_.textContent=ap.TextAttributes.nodeSubstr(this.cursorNode_,0,this.cursorOffset_+1));const n=this.cursorRowNode_;let r=this.cursorNode_.nextSibling;for(;r;)n.removeChild(r),r=this.cursorNode_.nextSibling;t<this.columnCount_?this.setCursorPosition(this.cursorPosition.row,t):this.cursorPosition.overflow=!0},ap.Screen.prototype.insertString=function(e,t=void 0){let n=this.cursorNode_,r=n.textContent;this.cursorRowNode_.removeAttribute("line-overflow"),void 0===t&&(t=ip.wc.strWidth(e)),this.cursorPosition.column+=t;let o=this.cursorOffset_,i=ap.TextAttributes.nodeWidth(n)-o;if(i<0){const t=" ".repeat(-i);if(this.textAttributes.underline||this.textAttributes.strikethrough||this.textAttributes.background||this.textAttributes.wcNode||!this.textAttributes.asciiNode||null!=this.textAttributes.tileData)if(n.nodeType!=Node.TEXT_NODE&&(n.wcNode||!n.asciiNode||n.tileNode||n.style.textDecoration||n.style.textDecorationStyle||n.style.textDecorationLine||n.style.backgroundColor)){const e=n.ownerDocument.createTextNode(t);this.cursorRowNode_.insertBefore(e,n.nextSibling),this.cursorNode_=n=e,this.cursorOffset_=o=-i,r=t}else n.textContent=r+=t;else e=t+e;i=0}if(this.textAttributes.matchesContainer(n))return n.textContent=0==i?r+e:0==o?e+r:ap.TextAttributes.nodeSubstr(n,0,o)+e+ap.TextAttributes.nodeSubstr(n,o),void(this.cursorOffset_+=t);if(0==o){const r=n.previousSibling;if(r&&this.textAttributes.matchesContainer(r))return r.textContent+=e,this.cursorNode_=r,void(this.cursorOffset_=ip.wc.strWidth(r.textContent));const o=this.textAttributes.createContainer(e);return this.cursorRowNode_.insertBefore(o,n),this.cursorNode_=o,void(this.cursorOffset_=t)}if(0==i){const t=n.nextSibling;if(t&&this.textAttributes.matchesContainer(t))return t.textContent=e+t.textContent,this.cursorNode_=t,void(this.cursorOffset_=ip.wc.strWidth(e));const r=this.textAttributes.createContainer(e);return this.cursorRowNode_.insertBefore(r,t),this.cursorNode_=r,void(this.cursorOffset_=ap.TextAttributes.nodeWidth(r))}this.splitNode_(n,o);const a=this.textAttributes.createContainer(e);this.cursorRowNode_.insertBefore(a,n.nextSibling),this.cursorNode_=a,this.cursorOffset_=t},ap.Screen.prototype.overwriteString=function(e,t=void 0){const n=this.columnCount_-this.cursorPosition.column;if(n){if(void 0===t&&(t=ip.wc.strWidth(e)),this.textAttributes.matchesContainer(ip.notNull(this.cursorNode_))&&this.cursorNode_.textContent.substr(this.cursorOffset_)==e)return this.cursorOffset_+=t,void(this.cursorPosition.column+=t);this.deleteChars(Math.min(t,n)),this.insertString(e,t)}},ap.Screen.prototype.deleteChars=function(e){let t=this.cursorNode_,n=this.cursorOffset_;const r=this.cursorPosition.column;if(!(e=Math.min(e,this.columnCount_-r)))return 0;const o=e;let i,a;for(;t&&e;){if(e<0){console.error(`Deleting ${o} chars went negative: ${e}`);break}if(i=ap.TextAttributes.nodeWidth(t),t.textContent=ap.TextAttributes.nodeSubstr(t,0,n)+ap.TextAttributes.nodeSubstr(t,n+e),a=ap.TextAttributes.nodeWidth(t),t.wcNode&&n<i&&(a&&i==a||!a&&1==n)){const r=this.textAttributes.createContainer(" ");t.parentNode.insertBefore(r,n?t:t.nextSibling),t.textContent="",a=0,e-=1}else e-=i-a;const r=t.nextSibling;0==a&&t!=this.cursorNode_&&t.remove(),t=r,n=0}if(this.cursorNode_.nodeType!=Node.TEXT_NODE&&!this.cursorNode_.textContent){const e=this.cursorNode_;if(e.previousSibling)this.cursorNode_=e.previousSibling,this.cursorOffset_=ap.TextAttributes.nodeWidth(e.previousSibling);else if(e.nextSibling)this.cursorNode_=e.nextSibling,this.cursorOffset_=0;else{const e=this.cursorRowNode_.ownerDocument.createTextNode("");this.cursorRowNode_.appendChild(e),this.cursorNode_=e,this.cursorOffset_=0}this.cursorRowNode_.removeChild(e)}return o},ap.Screen.prototype.getLineStartRow_=function(e){for(;e.previousSibling&&e.previousSibling.hasAttribute("line-overflow");)e=e.previousSibling;return e},ap.Screen.prototype.getLineText_=function(e){let t="",n=e;for(;n&&(t+=n.textContent,n.hasAttribute("line-overflow"));)n=n.nextSibling;return t},ap.Screen.prototype.getXRowAncestor_=function(e){let t=e;for(;t&&"X-ROW"!==t.nodeName;)t=t.parentNode;return t},ap.Screen.prototype.getPositionWithOverflow_=function(e,t,n){if(!t)return-1;const r=this.getXRowAncestor_(t);if(!r)return-1;let o=0;for(;r!=e;){if(o+=ap.TextAttributes.nodeWidth(e),!e.hasAttribute("line-overflow")||!e.nextSibling)return-1;e=e.nextSibling}return o+this.getPositionWithinRow_(e,t,n)},ap.Screen.prototype.getPositionWithinRow_=function(e,t,n){if(t.parentNode!=e)return null==t.parentNode?-1:this.getPositionWithinRow_(t.parentNode,t,n)+this.getPositionWithinRow_(e,t.parentNode,0);let r=0;for(let o=0;o<e.childNodes.length;o++){const i=e.childNodes[o];if(i==t)return r+n;r+=ap.TextAttributes.nodeWidth(i)}return-1},ap.Screen.prototype.getNodeAndOffsetWithOverflow_=function(e,t){for(;e&&t>ap.TextAttributes.nodeWidth(e);){if(!e.hasAttribute("line-overflow")||!e.nextSibling)return[null,-1];t-=ap.TextAttributes.nodeWidth(e),e=e.nextSibling}return this.getNodeAndOffsetWithinRow_(e,t)},ap.Screen.prototype.getNodeAndOffsetWithinRow_=function(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n],o=ap.TextAttributes.nodeWidth(r);if(t<=o)return"SPAN"===r.nodeName?this.getNodeAndOffsetWithinRow_(r,t):[r,t];t-=o}return null},ap.Screen.prototype.setRange_=function(e,t,n,r){const o=this.getNodeAndOffsetWithOverflow_(e,t);if(null==o)return;const i=this.getNodeAndOffsetWithOverflow_(e,n);null!=i&&(r.setStart(o[0],o[1]),r.setEnd(i[0],i[1]))},ap.Screen.prototype.expandSelectionWithWordBreakMatches_=function(e,t,n,r){if(!e)return;const o=e.getRangeAt(0);if(!o||o.toString().match(/\s/))return;const i=this.getXRowAncestor_(ip.notNull(o.startContainer));if(!i)return;const a=this.getLineStartRow_(i);if(!a)return;const s=this.getPositionWithOverflow_(a,ip.notNull(o.startContainer),o.startOffset);if(-1==s)return;const l=this.getPositionWithOverflow_(a,ip.notNull(o.endContainer),o.endOffset);if(-1==l)return;const c=this.getLineText_(a),u=ip.wc.substring(c,0,l),d=new RegExp(t+r+"$"),p=u.search(d);if(-1==p||p>s)return;const h=ip.wc.substring(c,s,ip.wc.strWidth(c)),f=new RegExp("^"+r+n),m=h.match(f);if(!m)return;const g=s+ip.wc.strWidth(m[0]);-1==g||g<l||(this.setRange_(a,p,g,o),e.addRange(o))},ap.Screen.prototype.expandSelection=function(e){this.expandSelectionWithWordBreakMatches_(e,ip.notNull(this.wordBreakMatchLeft),ip.notNull(this.wordBreakMatchRight),ip.notNull(this.wordBreakMatchMiddle))},ap.Screen.prototype.expandSelectionForUrl=function(e){this.expandSelectionWithWordBreakMatches_(e,"[^\\s[\\](){}<>\"'^!@#$%&*,;:`]","[^\\s[\\](){}<>\"'^!@#$%&*,;:~.`]","[^\\s[\\](){}<>\"'^]*")},ap.Screen.prototype.saveCursorAndState=function(e){this.cursorState_.save(e)},ap.Screen.prototype.restoreCursorAndState=function(e){this.cursorState_.restore(e)},ap.Screen.CursorState=function(e){this.screen_=e,this.cursor=null,this.textAttributes=null,this.GL=this.GR=this.G0=this.G1=this.G2=this.G3=null},ap.Screen.CursorState.prototype.save=function(e){this.cursor=e.terminal.saveCursor(),this.textAttributes=this.screen_.textAttributes.clone(),this.GL=e.GL,this.GR=e.GR,this.G0=e.G0,this.G1=e.G1,this.G2=e.G2,this.G3=e.G3},ap.Screen.CursorState.prototype.restore=function(e){e.terminal.restoreCursor(this.cursor);const t=this.textAttributes.clone();t.colorPaletteOverrides=this.screen_.textAttributes.colorPaletteOverrides,t.syncColors(),this.screen_.textAttributes=t,e.GL=this.GL,e.GR=this.GR,e.G0=this.G0,e.G1=this.G1,e.G2=this.G2,e.G3=this.G3},ap.RowProvider=function(){},ap.RowProvider.prototype.getRowCount=function(){},ap.RowProvider.prototype.getRowNode=function(e){},ap.ScrollPort=function(e){ap.PubSub.addBehavior(this),this.rowProvider_=e,this.characterSize=new ap.Size(10,10),this.ruler_=null,this.selection=new ap.ScrollPort.Selection(this),this.currentRowNodeCache_=null,this.previousRowNodeCache_={},this.lastScreenWidth_=0,this.lastScreenHeight_=0,this.selectionEnabled_=!0,this.lastRowCount_=0,this.scrollWheelMultiplier_=1,this.lastTouch_={},this.screenPaddingSize=0,this.lineHeightPaddingSize=0,this.isScrolledEnd=!0,this.currentScrollbarWidthPx=ap.ScrollPort.DEFAULT_SCROLLBAR_WIDTH,this.ctrlVPaste=!1,this.pasteOnDrop=!0,this.div_=null,this.document_=null,this.screen_=null,this.contenteditable="true",this.timeouts_={},this.observers_={},this.ariaHiddenSelectionRows_=[],this.DEBUG_=!1},ap.ScrollPort.DEFAULT_SCROLLBAR_WIDTH=12,ap.ScrollPort.Selection=function(e){this.scrollPort_=e,this.startRow=null,this.startNode=null,this.startOffset=0,this.endRow=null,this.endNode=null,this.endOffset=0,this.isMultiline=!1,this.isCollapsed=!0,this.autoScrollOnMouseMoveBound_=this.autoScrollOnMouseMove_.bind(this),this.autoScrollEnabled_=!1,this.autoScrollDirection_=1,this.autoScrollInterval_=null,this.autoScrollDelta_=1},ap.ScrollPort.Selection.prototype.findFirstChild=function(e,t){let n=e.firstChild;for(;n;){if(-1!=t.indexOf(n))return n;if(n.childNodes.length){const e=this.findFirstChild(n,t);if(e)return e}n=n.nextSibling}return null},ap.ScrollPort.Selection.prototype.autoScrollOnMouseMove_=function(e){const t=this.scrollPort_.lastScreenHeight_;this.autoScrollDirection_=2*e.pageY<t?-1:1;const n=this.scrollPort_.screenPaddingSize;e.pageY<n?this.startAutoScroll_():e.pageY<this.scrollPort_.visibleRowsHeight+n?this.stopAutoScroll_():this.startAutoScroll_()},ap.ScrollPort.Selection.prototype.setAutoScrollEnabled=function(e){this.autoScrollEnabled_=e;const t=this.scrollPort_.getDocument();e?t.addEventListener("mousemove",this.autoScrollOnMouseMoveBound_):(t.removeEventListener("mousemove",this.autoScrollOnMouseMoveBound_),this.stopAutoScroll_())},ap.ScrollPort.Selection.prototype.autoScroll_=function(){this.autoScrollDelta_*=1.2;const e=Math.floor(this.autoScrollDelta_)*this.autoScrollDirection_;this.scrollPort_.scrollRowToTop(this.scrollPort_.getTopRowIndex()+e)},ap.ScrollPort.Selection.prototype.startAutoScroll_=function(){this.autoScrollEnabled_&&null===this.autoScrollInterval_&&(this.autoScrollInterval_=setInterval(this.autoScroll_.bind(this),200))},ap.ScrollPort.Selection.prototype.stopAutoScroll_=function(){clearInterval(this.autoScrollInterval_),this.autoScrollInterval_=null,this.autoScrollDelta_=1},ap.ScrollPort.Selection.prototype.sync=function(){const e=()=>{this.startRow=o,this.startNode=n.anchorNode,this.startOffset=n.anchorOffset,this.endRow=i,this.endNode=a,this.endOffset=s},t=()=>{this.startRow=i,this.startNode=a,this.startOffset=s,this.endRow=o,this.endNode=n.anchorNode,this.endOffset=n.anchorOffset},n=this.scrollPort_.getDocument().getSelection(),r=()=>{this.startRow=null,this.startNode=null,this.startOffset=0,this.endRow=null,this.endNode=null,this.endOffset=0,this.isMultiline=!1,this.isCollapsed=!0};if(!n)return void r();this.isCollapsed=!n||n.isCollapsed;let o=n.anchorNode;for(;o&&"X-ROW"!=o.nodeName;)o=o.parentNode;if(!o)return void r();let i=n.focusNode,a=i,s=n.focusOffset;const l=()=>{i=this.scrollPort_.topFold_.nextSibling,a=i,s=0},c=()=>{for(i=this.scrollPort_.bottomFold_.previousSibling,a=i;a.lastChild;)a=a.lastChild;s=a.length||0};for(i===this.scrollPort_.topFold_?l():i===this.scrollPort_.bottomFold_&&c();i&&"X-ROW"!=i.nodeName;)i=i.parentNode;if(i){if(this.scrollPort_.autoScrollEnabled_){let e=this.scrollPort_.topFold_;for(;null!==(e=e.previousSibling);)e===i&&l();for(e=this.scrollPort_.bottomFold_;null!==(e=e.nextSibling);)e===i&&c()}if(o.rowIndex<i.rowIndex)e();else if(o.rowIndex>i.rowIndex)t();else if(a==n.anchorNode)n.anchorOffset<s?e():t();else{const r=this.findFirstChild(o,[n.anchorNode,a]);if(!r)throw new Error("Unexpected error syncing selection.");r==n.anchorNode?e():t()}this.isMultiline=o.rowIndex!=i.rowIndex}},ap.ScrollPort.prototype.decorate=function(e,t){this.div_=e,this.iframe_=e.ownerDocument.createElement("iframe"),this.iframe_.style.cssText="border: 0;height: 100%;position: absolute;width: 100%",e.appendChild(this.iframe_);const n=()=>{this.paintIframeContents_(),t&&t()};"mozInnerScreenX"in window?this.iframe_.addEventListener("load",(()=>n())):n()},ap.ScrollPort.prototype.paintIframeContents_=function(){this.iframe_.contentWindow.addEventListener("resize",this.onResize_.bind(this));const e=this.document_=this.iframe_.contentDocument;e.body.style.cssText="margin: 0px;padding: 0px;height: 100%;width: 100%;overflow: hidden;cursor: var(--hterm-mouse-cursor-style);user-select: none;";const t=e.createElement("meta");t.setAttribute("charset","utf-8"),e.head.appendChild(t),this.DEBUG_&&(this.document_.body.style.paddingTop=this.document_.body.style.paddingBottom="calc(var(--hterm-charsize-height) * 3)");const n=e.createElement("style");n.textContent="x-row {  display: block;  height: var(--hterm-charsize-height);  line-height: var(--hterm-charsize-height);}",e.head.appendChild(n),this.userCssLink_=e.createElement("link"),this.userCssLink_.setAttribute("rel","stylesheet"),this.userCssText_=e.createElement("style"),e.head.appendChild(this.userCssText_),this.screen_=e.createElement("x-screen"),this.screen_.setAttribute("contenteditable",this.contenteditable),this.screen_.setAttribute("spellcheck","false"),this.screen_.setAttribute("autocomplete","off"),this.screen_.setAttribute("autocorrect","off"),this.screen_.setAttribute("autocapitalize","none"),this.screen_.setAttribute("role","log"),this.screen_.setAttribute("aria-live","off"),this.screen_.setAttribute("aria-roledescription","Terminal"),this.screen_.setAttribute("aria-readonly","true"),this.screen_.setAttribute("tabindex","-1"),this.screen_.style.cssText="\n      background-color: rgb(var(--hterm-background-color));\n      caret-color: transparent;\n      color: rgb(var(--hterm-foreground-color));\n      display: block;\n      font-family: monospace;\n      font-size: 15px;\n      font-variant-ligatures: none;\n      height: 100%;\n      overflow-y: scroll; overflow-x: hidden;\n      white-space: pre;\n      width: 100%;\n      outline: none !important;\n  ",this.screen_.addEventListener("scroll",this.onScroll_.bind(this)),this.screen_.addEventListener("wheel",this.onScrollWheel_.bind(this)),this.screen_.addEventListener("touchstart",this.onTouch_.bind(this)),this.screen_.addEventListener("touchmove",this.onTouch_.bind(this)),this.screen_.addEventListener("touchend",this.onTouch_.bind(this)),this.screen_.addEventListener("touchcancel",this.onTouch_.bind(this)),this.screen_.addEventListener("copy",this.onCopy_.bind(this)),this.screen_.addEventListener("paste",this.onPaste_.bind(this)),this.screen_.addEventListener("drop",this.onDragAndDrop_.bind(this)),e.body.addEventListener("keydown",this.onBodyKeyDown_.bind(this));const r="\n    border-style: solid;\n    border-width: 1px;\n    color: rgb(var(--hterm-foreground-color));\n    cursor: pointer;\n    font-family: monospace;\n    font-weight: bold;\n    height: 30px;\n    line-height: 30px;\n    padding: 0 8px;\n    position: fixed;\n    right: var(--hterm-screen-padding-size);\n    text-align: center;\n    z-index: 1;\n  ";this.scrollUpButton_=this.document_.createElement("div"),this.scrollUpButton_.id="hterm:a11y:page-up",this.scrollUpButton_.innerText=ap.msg("BUTTON_PAGE_UP",[],"Page up"),this.scrollUpButton_.setAttribute("role","button"),this.scrollUpButton_.style.cssText=r,this.scrollUpButton_.style.top="-32px",this.scrollUpButton_.addEventListener("click",this.scrollPageUp.bind(this)),this.scrollDownButton_=this.document_.createElement("div"),this.scrollDownButton_.id="hterm:a11y:page-down",this.scrollDownButton_.innerText=ap.msg("BUTTON_PAGE_DOWN",[],"Page down"),this.scrollDownButton_.setAttribute("role","button"),this.scrollDownButton_.style.cssText=r,this.scrollDownButton_.style.bottom="-32px",this.scrollDownButton_.addEventListener("click",this.scrollPageDown.bind(this)),this.optionsButton_=this.document_.createElement("div"),this.optionsButton_.id="hterm:a11y:options",this.optionsButton_.innerText=ap.msg("OPTIONS_BUTTON_LABEL",[],"Options"),this.optionsButton_.setAttribute("role","button"),this.optionsButton_.style.cssText=r,this.optionsButton_.style.bottom="-64px",this.optionsButton_.addEventListener("click",this.publish.bind(this,"options")),e.body.appendChild(this.scrollUpButton_),e.body.appendChild(this.screen_),e.body.appendChild(this.scrollDownButton_),e.body.appendChild(this.optionsButton_),this.allowA11yButtonsToDisplay_=!1,setTimeout((()=>{this.allowA11yButtonsToDisplay_=!0}),500),this.document_.addEventListener("selectionchange",(()=>{if(this.selection.sync(),!this.allowA11yButtonsToDisplay_)return;const e=this.accessibilityReader_&&this.accessibilityReader_.accessibilityEnabled,t=this.document_.getSelection();let n;t.anchorNode&&t.anchorNode.parentElement&&(n=t.anchorNode.parentElement),e&&n==this.scrollUpButton_?this.scrollUpButton_.style.top=`${this.screenPaddingSize}px`:this.scrollUpButton_.style.top="-32px",e&&n==this.scrollDownButton_?this.scrollDownButton_.style.bottom=`${this.screenPaddingSize}px`:this.scrollDownButton_.style.bottom="-32px",e&&n==this.optionsButton_?this.optionsButton_.style.bottom=`${this.screenPaddingSize}px`:this.optionsButton_.style.bottom="-64px"})),this.rowNodes_=e.createElement("div"),this.rowNodes_.id="hterm:row-nodes",this.rowNodes_.style.cssText="display: block;position: fixed;overflow: hidden;user-select: text;",this.screen_.appendChild(this.rowNodes_),this.topSelectBag_=e.createElement("x-select-bag"),this.topSelectBag_.style.cssText="display: block;overflow: hidden;height: var(--hterm-charsize-height);white-space: pre;",this.bottomSelectBag_=this.topSelectBag_.cloneNode(),this.topFold_=e.createElement("x-fold"),this.topFold_.id="hterm:top-fold-for-row-selection",this.topFold_.style.cssText="\n    display: block;\n    height: var(--hterm-screen-padding-size);\n  ",this.rowNodes_.appendChild(this.topFold_),this.bottomFold_=this.topFold_.cloneNode(),this.bottomFold_.id="hterm:bottom-fold-for-row-selection",this.rowNodes_.appendChild(this.bottomFold_),this.scrollArea_=e.createElement("div"),this.scrollArea_.id="hterm:scrollarea",this.scrollArea_.style.cssText="visibility: hidden",this.screen_.appendChild(this.scrollArea_),this.pasteTarget_=e.createElement("textarea"),this.pasteTarget_.id="hterm:ctrl-v-paste-target",this.pasteTarget_.setAttribute("tabindex","-1"),this.pasteTarget_.setAttribute("aria-hidden","true"),this.pasteTarget_.style.cssText="position: absolute;height: 1px;width: 1px;left: 0px; bottom: 0px;opacity: 0",this.pasteTarget_.contentEditable=!0,this.screen_.appendChild(this.pasteTarget_),this.pasteTarget_.addEventListener("textInput",this.handlePasteTargetTextInput_.bind(this)),this.resize()},ap.ScrollPort.prototype.setAccessibilityReader=function(e){this.accessibilityReader_=e},ap.ScrollPort.prototype.scrollPageUp=function(){if(0==this.getTopRowIndex())return;const e=this.getTopRowIndex();this.scrollRowToTop(e-this.visibleRowCount+1),this.assertiveAnnounce_()},ap.ScrollPort.prototype.scrollPageDown=function(){if(this.isScrolledEnd)return;const e=this.getTopRowIndex();this.scrollRowToTop(e+this.visibleRowCount-1),this.assertiveAnnounce_()},ap.ScrollPort.prototype.setFontFamily=function(e,t=""){this.screen_.style.fontFamily=e,this.screen_.style.webkitFontSmoothing=t,this.syncCharacterSize()},ap.ScrollPort.prototype.getFontFamily=function(){return this.screen_.style.fontFamily},ap.ScrollPort.prototype.setUserCssUrl=function(e){e?(this.userCssLink_.setAttribute("href",e),this.userCssLink_.parentNode||this.document_.head.appendChild(this.userCssLink_)):this.userCssLink_.parentNode&&this.document_.head.removeChild(this.userCssLink_)},ap.ScrollPort.prototype.setUserCssText=function(e){this.userCssText_.textContent=e},ap.ScrollPort.prototype.focus=function(){this.iframe_.focus(),this.screen_.focus(),this.publish("focus")},ap.ScrollPort.prototype.blur=function(){this.screen_.blur()},ap.ScrollPort.prototype.setBackgroundImage=function(e){this.screen_.style.backgroundImage=e},ap.ScrollPort.prototype.setBackgroundSize=function(e){this.screen_.style.backgroundSize=e},ap.ScrollPort.prototype.setBackgroundPosition=function(e){this.screen_.style.backgroundPosition=e},ap.ScrollPort.prototype.setScreenPaddingSize=function(e){this.screenPaddingSize=e,this.resize()},ap.ScrollPort.prototype.setLineHeightPaddingSize=function(e){this.lineHeightPaddingSize=e,this.syncCharacterSize()},ap.ScrollPort.prototype.setCtrlVPaste=function(e){this.ctrlVPaste=e},ap.ScrollPort.prototype.setPasteOnDrop=function(e){this.pasteOnDrop=e},ap.ScrollPort.prototype.getScreenSize=function(){const e=this.screen_.getBoundingClientRect(),t=Math.max(this.screenPaddingSize,this.currentScrollbarWidthPx);return{height:e.height-2*this.screenPaddingSize,width:e.width-this.screenPaddingSize-t}},ap.ScrollPort.prototype.getScreenWidth=function(){return this.getScreenSize().width},ap.ScrollPort.prototype.getScreenHeight=function(){return this.getScreenSize().height},ap.ScrollPort.prototype.getScrollbarX=function(){return this.screen_.getBoundingClientRect().width-this.currentScrollbarWidthPx},ap.ScrollPort.prototype.getDocument=function(){return this.document_},ap.ScrollPort.prototype.getScreenNode=function(){return this.screen_},ap.ScrollPort.prototype.resetCache=function(){this.currentRowNodeCache_=null,this.previousRowNodeCache_={}},ap.ScrollPort.prototype.setRowProvider=function(e){this.resetCache(),this.rowProvider_=e,this.scheduleRedraw()},ap.ScrollPort.prototype.invalidate=function(){let e=this.topFold_.nextSibling;for(;e!=this.bottomFold_;){const t=e.nextSibling;e.remove(),e=t}this.previousRowNodeCache_=null;const t=this.getTopRowIndex(),n=this.getBottomRowIndex(t);this.drawVisibleRows_(t,n)},ap.ScrollPort.prototype.scheduleInvalidate=function(){this.timeouts_.invalidate||(this.timeouts_.invalidate=setTimeout((()=>{delete this.timeouts_.invalidate,this.invalidate()})))},ap.ScrollPort.prototype.setFontSize=function(e){this.screen_.style.fontSize=e+"px",this.syncCharacterSize()},ap.ScrollPort.prototype.getFontSize=function(){return parseInt(this.screen_.style.fontSize,10)},ap.ScrollPort.prototype.measureCharacterSize=function(e=""){let t=this.ruler_;t||(t=this.ruler_=this.document_.createElement("canvas"));const n=t.getContext("2d");n.font=`${e} ${this.getFontSize()}px ${this.getFontFamily()}`;const r=n.measureText("X"),o=r.actualBoundingBoxAscent||r.fontBoundingBoxAscent,i=r.actualBoundingBoxDescent||r.fontBoundingBoxDescent,a=n.measureText("X");return new ap.Size(a.width,o+i+this.lineHeightPaddingSize)},ap.ScrollPort.prototype.syncCharacterSize=function(){this.characterSize=this.measureCharacterSize(),this.resize()},ap.ScrollPort.prototype.resize=function(){this.syncScrollbarWidth_(),this.syncScrollHeight(),this.syncRowNodesDimensions_(),this.publish("resize",{scrollPort:this},(()=>this.scheduleRedraw()))},ap.ScrollPort.prototype.assertiveAnnounce_=function(){if(!this.accessibilityReader_)return;const e=this.getTopRowIndex(),t=this.getBottomRowIndex(e);let n=100*e/Math.max(1,this.rowProvider_.getRowCount()-this.visibleRowCount);n=Math.min(100,Math.round(n));let r=ap.msg("ANNOUNCE_CURRENT_SCREEN_HEADER",[n],"$1% scrolled,");r+="\n";for(let n=e;n<=t;++n)r+=this.fetchRowNode_(n).textContent+"\n";this.accessibilityReader_.assertiveAnnounce(r)},ap.ScrollPort.prototype.syncRowNodesDimensions_=function(){const e=this.getScreenSize();this.lastScreenWidth_=e.width,this.lastScreenHeight_=e.height,this.visibleRowCount=ip.f.smartFloorDivide(e.height,this.characterSize.height),this.visibleRowsHeight=this.visibleRowCount*this.characterSize.height,this.visibleRowTopMargin=0,this.visibleRowBottomMargin=e.height-this.visibleRowsHeight,this.topFold_.style.marginBottom=this.visibleRowTopMargin+"px";let t=0,n=this.topFold_.previousSibling;for(;n;)t+=n.getBoundingClientRect().height,n=n.previousSibling;this.rowNodes_.style.width=e.width+"px",this.rowNodes_.style.height=this.visibleRowsHeight+t+this.screenPaddingSize+"px",this.rowNodes_.style.left=this.screen_.offsetLeft+this.screenPaddingSize+"px",this.rowNodes_.style.top=this.screen_.offsetTop-t+"px"},ap.ScrollPort.prototype.syncScrollbarWidth_=function(){const e=this.screen_.getBoundingClientRect().width-this.screen_.clientWidth;e>0&&(this.currentScrollbarWidthPx=e)},ap.ScrollPort.prototype.syncScrollHeight=function(){this.lastRowCount_=this.rowProvider_.getRowCount(),this.scrollArea_.style.height=this.characterSize.height*this.lastRowCount_+2*this.screenPaddingSize+this.visibleRowTopMargin+this.visibleRowBottomMargin+"px"},ap.ScrollPort.prototype.scheduleRedraw=function(){this.timeouts_.redraw||(this.timeouts_.redraw=setTimeout((()=>{delete this.timeouts_.redraw,this.redraw_()})))},ap.ScrollPort.prototype.updateScrollButtonState_=function(){const e=(e,t)=>{e.setAttribute("aria-disabled",t?"true":"false"),e.style.opacity=t?.5:1};e(this.scrollUpButton_,0==this.getTopRowIndex()),e(this.scrollDownButton_,this.isScrolledEnd)},ap.ScrollPort.prototype.redraw_=function(){this.resetSelectBags_(),this.selection.sync(),this.syncScrollHeight(),this.currentRowNodeCache_={};const e=this.getTopRowIndex(),t=this.getBottomRowIndex(e);this.drawTopFold_(e),this.drawBottomFold_(t),this.drawVisibleRows_(e,t),this.ariaHideOffscreenSelectionRows_(e,t),this.syncRowNodesDimensions_(),this.previousRowNodeCache_=this.currentRowNodeCache_,this.currentRowNodeCache_=null,this.isScrolledEnd=this.getTopRowIndex()+this.visibleRowCount>=this.lastRowCount_,this.updateScrollButtonState_()},ap.ScrollPort.prototype.drawTopFold_=function(e){if(!this.selection.startRow||this.selection.startRow.rowIndex>=e)this.rowNodes_.firstChild!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.rowNodes_.firstChild);else{if(!this.selection.isMultiline||this.selection.endRow.rowIndex>=e)this.selection.startRow.nextSibling!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.selection.startRow.nextSibling);else for(this.selection.endRow.nextSibling!=this.topFold_&&this.rowNodes_.insertBefore(this.topFold_,this.selection.endRow.nextSibling);this.selection.startRow.nextSibling!=this.selection.endRow;)this.rowNodes_.removeChild(this.selection.startRow.nextSibling);for(;this.rowNodes_.firstChild!=this.selection.startRow;)this.rowNodes_.removeChild(this.rowNodes_.firstChild)}},ap.ScrollPort.prototype.drawBottomFold_=function(e){if(!this.selection.endRow||this.selection.endRow.rowIndex<=e)this.rowNodes_.lastChild!=this.bottomFold_&&this.rowNodes_.appendChild(this.bottomFold_);else{if(!this.selection.isMultiline||this.selection.startRow.rowIndex<=e)this.bottomFold_.nextSibling!=this.selection.endRow&&this.rowNodes_.insertBefore(this.bottomFold_,this.selection.endRow);else for(this.bottomFold_.nextSibling!=this.selection.startRow&&this.rowNodes_.insertBefore(this.bottomFold_,this.selection.startRow);this.selection.startRow.nextSibling!=this.selection.endRow;)this.rowNodes_.removeChild(this.selection.startRow.nextSibling);for(;this.rowNodes_.lastChild!=this.selection.endRow;)this.rowNodes_.removeChild(this.rowNodes_.lastChild)}},ap.ScrollPort.prototype.drawVisibleRows_=function(e,t){const n=(e,t)=>{for(;e!=t;){if(!e)throw new Error("Did not encounter target node");if(e==this.bottomFold_)throw new Error("Encountered bottom fold before target node");const t=e;e=e.nextSibling,t.remove()}},r=this.selection.startRow,o=this.selection.endRow,i=this.bottomFold_;let a=this.topFold_.nextSibling;const s=Math.min(this.visibleRowCount,this.rowProvider_.getRowCount());for(let t=0;t<s;t++){const s=e+t;if(a==i){const e=this.fetchRowNode_(s);if(!e){console.log("Couldn't fetch row index: "+s);break}this.rowNodes_.insertBefore(e,a);continue}if(a.rowIndex==s){a=a.nextSibling;continue}if(r&&r.rowIndex==s){n(a,r),a=r.nextSibling;continue}if(o&&o.rowIndex==s){n(a,o),a=o.nextSibling;continue}if(a==r||a==o){const e=this.fetchRowNode_(s);if(!e){console.log("Couldn't fetch row index: "+s);break}this.rowNodes_.insertBefore(e,a);continue}const l=this.fetchRowNode_(s);if(!l){console.log("Couldn't fetch row index: "+s);break}a!=l?(this.rowNodes_.insertBefore(l,a),this.rowNodes_.removeChild(a),a=l.nextSibling):a=a.nextSibling}a!=this.bottomFold_&&n(a,i)},ap.ScrollPort.prototype.ariaHideOffscreenSelectionRows_=function(e,t){const n=this.ariaHiddenSelectionRows_;let r;for(;r=n.pop();)r.removeAttribute("aria-hidden");function o(r){r&&(r.rowIndex<e||r.rowIndex>t)&&(r.setAttribute("aria-hidden","true"),n.push(r))}o(this.selection.startRow),o(this.selection.endRow)},ap.ScrollPort.prototype.resetSelectBags_=function(){this.topSelectBag_.parentNode&&(this.topSelectBag_.textContent="",this.topSelectBag_.remove()),this.bottomSelectBag_.parentNode&&(this.bottomSelectBag_.textContent="",this.bottomSelectBag_.remove())},ap.ScrollPort.prototype.cacheRowNode_=function(e){this.currentRowNodeCache_[e.rowIndex]=e},ap.ScrollPort.prototype.fetchRowNode_=function(e){let t;return t=this.previousRowNodeCache_&&e in this.previousRowNodeCache_?this.previousRowNodeCache_[e]:this.rowProvider_.getRowNode(e),this.currentRowNodeCache_&&this.cacheRowNode_(t),t},ap.ScrollPort.prototype.selectAll=function(){let e;if(0!=this.topFold_.nextSibling.rowIndex){for(;this.topFold_.previousSibling;)this.topFold_.previousSibling.remove();e=this.fetchRowNode_(0),this.rowNodes_.insertBefore(e,this.topFold_),this.syncRowNodesDimensions_()}else e=this.topFold_.nextSibling;const t=this.rowProvider_.getRowCount()-1;let n;if(this.bottomFold_.previousSibling.rowIndex!=t){for(;this.bottomFold_.nextSibling;)this.bottomFold_.nextSibling.remove();n=this.fetchRowNode_(t),this.rowNodes_.appendChild(n)}else n=this.bottomFold_.previousSibling;let r=n;for(;r.lastChild;)r=r.lastChild;const o=this.document_.getSelection();o.collapse(e,0),o.extend(r,r.length||0),this.selection.sync()},ap.ScrollPort.prototype.getScrollMax_=function(){return this.scrollArea_.getBoundingClientRect().height+this.visibleRowTopMargin+this.visibleRowBottomMargin-this.screen_.getBoundingClientRect().height},ap.ScrollPort.prototype.scrollRowToTop=function(e){e<0&&(e=0),this.syncScrollHeight(),this.isScrolledEnd=e+this.visibleRowCount>=this.lastRowCount_;let t=e*this.characterSize.height+this.visibleRowTopMargin;const n=this.getScrollMax_();t>n&&(t=n),this.screen_.scrollTop!=t&&(this.screen_.scrollTop=t,this.scheduleRedraw())},ap.ScrollPort.prototype.scrollRowToBottom=function(e){this.scrollRowToTop(e-this.visibleRowCount)},ap.ScrollPort.prototype.scrollRowToMiddle=function(e){this.scrollRowToTop(e-Math.floor(this.visibleRowCount/2))},ap.ScrollPort.prototype.getTopRowIndex=function(){return Math.round(this.screen_.scrollTop/this.characterSize.height)},ap.ScrollPort.prototype.getBottomRowIndex=function(e){return e+this.visibleRowCount-1},ap.ScrollPort.prototype.onScroll_=function(e){const t=this.getScreenSize();t.width==this.lastScreenWidth_&&t.height==this.lastScreenHeight_?(this.redraw_(),this.publish("scroll",{scrollPort:this})):this.resize()},ap.ScrollPort.prototype.onScrollWheel=function(e){},ap.ScrollPort.prototype.onScrollWheel_=function(e){if(this.onScrollWheel(e),e.defaultPrevented)return;const t=this.scrollWheelDelta(e);let n=this.screen_.scrollTop-t.y;n<0&&(n=0);const r=this.getScrollMax_();n>r&&(n=r),n!=this.screen_.scrollTop?(this.screen_.scrollTop=n,e.preventDefault()):e.ctrlKey&&e.preventDefault()},ap.ScrollPort.prototype.scrollWheelDelta=function(e){const t={x:0,y:0};switch(e.deltaMode){case WheelEvent.DOM_DELTA_PIXEL:t.x=e.deltaX*this.scrollWheelMultiplier_,t.y=e.deltaY*this.scrollWheelMultiplier_;break;case WheelEvent.DOM_DELTA_LINE:t.x=e.deltaX*this.characterSize.width,t.y=e.deltaY*this.characterSize.height;break;case WheelEvent.DOM_DELTA_PAGE:{const{width:n,height:r}=this.screen_.getBoundingClientRect();t.x=e.deltaX*this.characterSize.width*n,t.y=e.deltaY*this.characterSize.height*r;break}}return t.y*=-1,t},ap.ScrollPort.prototype.onTouch=function(e){},ap.ScrollPort.prototype.onTouch_=function(e){if(this.onTouch(e),e.defaultPrevented)return;const t=function(e){return{id:e.identifier,y:e.clientY,x:e.clientX}};let n,r;switch(e.type){case"touchstart":for("cros"==ap.os&&window.chrome&&chrome.windows&&chrome.windows.getCurrent((e=>{e.focused||chrome.windows.update(e.id,{focused:!0})})),n=0;n<e.changedTouches.length;++n)r=t(e.changedTouches[n]),this.lastTouch_[r.id]=r;break;case"touchcancel":case"touchend":for(n=0;n<e.changedTouches.length;++n)delete this.lastTouch_[e.changedTouches[n].identifier];break;case"touchmove":{let o=0;for(n=0;n<e.changedTouches.length;++n)r=t(e.changedTouches[n]),o+=this.lastTouch_[r.id].y-r.y,this.lastTouch_[r.id]=r;o*=-1;let i=this.screen_.scrollTop-o;i<0&&(i=0);const a=this.getScrollMax_();i>a&&(i=a),i!=this.screen_.scrollTop&&(this.screen_.scrollTop=i);break}}e.preventDefault()},ap.ScrollPort.prototype.onResize_=function(e){this.syncCharacterSize()},ap.ScrollPort.prototype.onCopy=function(e){},ap.ScrollPort.prototype.onCopy_=function(e){if(this.onCopy(e),e.defaultPrevented)return;if(this.resetSelectBags_(),this.selection.sync(),this.selection.isCollapsed||this.selection.endRow.rowIndex-this.selection.startRow.rowIndex<2)return;const t=this.getTopRowIndex(),n=this.getBottomRowIndex(t);if(this.selection.startRow.rowIndex<t){let e;e=this.selection.endRow.rowIndex<t?this.selection.endRow.rowIndex:this.topFold_.nextSibling.rowIndex,this.topSelectBag_.textContent=this.rowProvider_.getRowsText(this.selection.startRow.rowIndex+1,e),this.rowNodes_.insertBefore(this.topSelectBag_,this.selection.startRow.nextSibling),this.syncRowNodesDimensions_()}if(this.selection.endRow.rowIndex>n){let e;e=this.selection.startRow.rowIndex>n?this.selection.startRow.rowIndex+1:this.bottomFold_.previousSibling.rowIndex+1,this.bottomSelectBag_.textContent=this.rowProvider_.getRowsText(e,this.selection.endRow.rowIndex),this.rowNodes_.insertBefore(this.bottomSelectBag_,this.selection.endRow)}},ap.ScrollPort.prototype.onBodyKeyDown_=function(e){this.ctrlVPaste&&(e.ctrlKey||e.metaKey)&&86==e.keyCode&&this.pasteTarget_.focus()},ap.ScrollPort.prototype.onPaste_=function(e){this.pasteTarget_.focus(),setTimeout((()=>{this.publish("paste",{text:this.pasteTarget_.value}),this.pasteTarget_.value="",this.focus()}))},ap.ScrollPort.prototype.handlePasteTargetTextInput_=function(e){e.stopPropagation()},ap.ScrollPort.prototype.onDragAndDrop_=function(e){if(!this.pasteOnDrop)return;let t,n;e.preventDefault(),e.shiftKey&&(e.dataTransfer.types.forEach((e=>{!n&&"text/plain"!=e&&e.startsWith("text/")&&(n=e)})),n&&(t=e.dataTransfer.getData(n))),t||(t=e.dataTransfer.getData("text/plain")),t&&this.publish("paste",{text:t})},ap.ScrollPort.prototype.setScrollbarVisible=function(e){e?(this.screen_.style.overflowY="scroll",this.currentScrollbarWidthPx=ap.ScrollPort.DEFAULT_SCROLLBAR_WIDTH,this.syncScrollbarWidth_()):(this.screen_.style.overflowY="hidden",this.currentScrollbarWidthPx=0)},ap.ScrollPort.prototype.setScrollWheelMoveMultipler=function(e){this.scrollWheelMultiplier_=e},ap.Terminal=function({profileId:e}={}){this.ready_=!1,this.profileId_=null,this.prefs_=null,this.primaryScreen_=new ap.Screen,this.alternateScreen_=new ap.Screen,this.screen_=this.primaryScreen_,this.screenSize=new ap.Size(0,0),this.scrollPort_=new ap.ScrollPort(this),this.scrollPort_.subscribe("resize",this.onResize_.bind(this)),this.scrollPort_.subscribe("scroll",this.onScroll_.bind(this)),this.scrollPort_.subscribe("paste",this.onPaste_.bind(this)),this.scrollPort_.subscribe("focus",this.onScrollportFocus_.bind(this)),this.scrollPort_.subscribe("options",this.onOpenOptionsPage_.bind(this)),this.scrollPort_.onCopy=this.onCopy_.bind(this),this.div_=null,this.notifications_=null,this.document_=window.document,this.scrollbackRows_=[],this.tabStops_=[],this.defaultTabStops=!0,this.vtScrollTop_=null,this.vtScrollBottom_=null,this.cursorNode_=null,this.cursorShape_=ap.Terminal.cursorShape.BLOCK,this.cursorBlinkCycle_=[100,100],this.cursorBlinkPause_=!1,this.cursorOffScreen_=!1,this.myOnCursorBlink_=this.onCursorBlink_.bind(this),this.backgroundColor_=null,this.foregroundColor_=null,this.colorPaletteOverrides_=new Map,this.screenBorderSize_=0,this.scrollOnOutput_=null,this.scrollOnKeystroke_=null,this.scrollWheelArrowKeys_=null,this.defeatMouseReports_=!1,this.setAutomaticMouseHiding(),this.mouseHideDelay_=null,this.bellAudio_=this.document_.createElement("audio"),this.bellAudio_.id="hterm:bell-audio",this.bellAudio_.setAttribute("preload","auto"),this.accessibilityReader_=null,this.contextMenu=new ap.ContextMenu,this.bellNotificationList_=[],this.bellSquelchTimeout_=null,this.desktopNotificationBell_=!1,this.savedOptions_={},this.options_=new ap.Options,this.timeouts_={},this.vt=new ap.VT(this),this.saveCursorAndState(!0),this.keyboard=new ap.Keyboard(this),this.io=new ap.Terminal.IO(this),this.enableMouseDragScroll=!0,this.copyOnSelect=null,this.mouseRightClickPaste=null,this.mousePasteButton=null,this.useDefaultWindowCopy=!1,this.clearSelectionAfterCopy=!0,this.realizeSize_(80,24),this.setDefaultTabStops(),this.allowImagesInline=null,this.reportFocus=!1,this.alwaysUseLegacyPasting=!1,this.setProfile(e||ap.Terminal.DEFAULT_PROFILE_ID,function(){this.onTerminalReady()}.bind(this)),this.findBar=new ap.FindBar(this)},ap.Terminal.DEFAULT_PROFILE_ID="default",ap.Terminal.cursorShape={BLOCK:"BLOCK",BEAM:"BEAM",UNDERLINE:"UNDERLINE"},ap.Terminal.prototype.onTerminalReady=function(){},ap.Terminal.prototype.tabWidth=8,ap.Terminal.prototype.setProfile=function(e,t=void 0){if(e=e.replace(/\//g,""),this.profileId_===e)return void(t&&t());this.profileId_=e,this.prefs_&&this.prefs_.deactivate(),this.prefs_=new ap.PreferenceManager(this.profileId_);const n=(e=null,t=!1)=>{this.keyboard.bindings.clear(),null===e&&(e={}),e instanceof Object||(console.error("Error in keybindings preference: Expected object"),e={});try{this.keyboard.bindings.addBindings(e,!!t)}catch(e){console.error("Error in keybindings preference: "+e)}};this.prefs_.addObservers(null,{"alt-gr-mode":e=>{e=null==e?"en-us"==navigator.language.toLowerCase()?"none":"right-alt":"string"==typeof e?e.toLowerCase():"none",/^(none|ctrl-alt|left-alt|right-alt)$/.test(e)||(e="none"),this.keyboard.altGrMode=e},"alt-backspace-is-meta-backspace":e=>{this.keyboard.altBackspaceIsMetaBackspace=e},"alt-is-meta":e=>{this.keyboard.altIsMeta=e},"alt-sends-what":e=>{/^(escape|8-bit|browser-key)$/.test(e)||(e="escape"),this.keyboard.altSendsWhat=e},"audible-bell-sound":e=>{const t=e.match(/^lib-resource:(\S+)/);if(t){const e=t[1];if(void 0===ip.resource.get(e))return console.warn(`Invalid resource name '${e}'`),void this.prefs_.reset("audible-bell-sound");this.bellAudio_.setAttribute("src",ip.resource.getDataUrl(e))}else this.bellAudio_.setAttribute("src",e)},"desktop-notification-bell":e=>{e&&Notification?(this.desktopNotificationBell_="granted"===Notification.permission,this.desktopNotificationBell_||console.warn("desktop-notification-bell is true but we do not have permission to display notifications.")):this.desktopNotificationBell_=!1},"background-color":e=>{this.setBackgroundColor(e)},"background-image":e=>{this.scrollPort_.setBackgroundImage(e)},"background-size":e=>{this.scrollPort_.setBackgroundSize(e)},"background-position":e=>{this.scrollPort_.setBackgroundPosition(e)},"backspace-sends-backspace":e=>{this.keyboard.backspaceSendsBackspace=e},"character-map-overrides":e=>{null==e||e instanceof Object?(this.vt.characterMaps.reset(),this.vt.characterMaps.setOverrides(e)):console.warn("Preference character-map-modifications is not an object: "+e)},"cursor-blink":e=>{this.setCursorBlink(!!e)},"cursor-shape":e=>{this.setCursorShape(e)},"cursor-blink-cycle":e=>{e instanceof Array&&"number"==typeof e[0]&&"number"==typeof e[1]?this.cursorBlinkCycle_=e:this.cursorBlinkCycle_="number"==typeof e?[e,e]:[100,100]},"cursor-color":e=>{this.setCursorColor(e)},"color-palette-overrides":e=>{if(null==e||e instanceof Object||e instanceof Array){if(ip.colors.stockPalette.forEach(((e,t)=>this.setColorPalette(t,e))),this.colorPaletteOverrides_.clear(),e)for(const t in e){const n=parseInt(t,10);if(isNaN(n)||n<0||n>255)console.log("Invalid value in palette: "+t+": "+e[t]);else if(e[n]){const t=ip.colors.normalizeCSS(e[n]);t&&(this.setColorPalette(n,t),this.colorPaletteOverrides_.set(n,t))}}this.primaryScreen_.textAttributes.colorPaletteOverrides=[],this.alternateScreen_.textAttributes.colorPaletteOverrides=[]}else console.warn("Preference color-palette-overrides is not an array or object: "+e)},"copy-on-select":e=>{this.copyOnSelect=!!e},"use-default-window-copy":e=>{this.useDefaultWindowCopy=!!e},"clear-selection-after-copy":e=>{this.clearSelectionAfterCopy=!!e},"ctrl-plus-minus-zero-zoom":e=>{this.keyboard.ctrlPlusMinusZeroZoom=e},"ctrl-c-copy":e=>{this.keyboard.ctrlCCopy=e},"ctrl-v-paste":e=>{this.keyboard.ctrlVPaste=e,this.scrollPort_.setCtrlVPaste(e)},"paste-on-drop":e=>{this.scrollPort_.setPasteOnDrop(e)},"east-asian-ambiguous-as-two-column":e=>{ip.wc.regardCjkAmbiguous=e},"enable-8-bit-control":e=>{this.vt.enable8BitControl=!!e},"enable-bold":e=>{this.syncBoldSafeState()},"enable-bold-as-bright":e=>{this.primaryScreen_.textAttributes.enableBoldAsBright=!!e,this.alternateScreen_.textAttributes.enableBoldAsBright=!!e},"enable-blink":e=>{this.setTextBlink(!!e)},"enable-clipboard-write":e=>{this.vt.enableClipboardWrite=!!e},"enable-dec12":e=>{this.vt.enableDec12=!!e},"enable-csi-j-3":e=>{this.vt.enableCsiJ3=!!e},"find-result-color":e=>{this.findBar.setFindResultColor(e)},"find-result-selected-color":e=>{this.findBar.setFindResultSelectedColor(e)},"font-family":e=>{this.syncFontFamily()},"font-size":e=>{e=parseInt(e,10),isNaN(e)||e<=0?console.error(`Invalid font size: ${e}`):this.setFontSize(e)},"font-smoothing":e=>{this.syncFontFamily()},"foreground-color":e=>{this.setForegroundColor(e)},"hide-mouse-while-typing":e=>{this.setAutomaticMouseHiding(e)},"home-keys-scroll":e=>{this.keyboard.homeKeysScroll=e},keybindings:e=>{n(e,this.prefs_.get("keybindings-os-defaults"))},"keybindings-os-defaults":e=>{n(this.prefs_.get("keybindings"),e)},"line-height-padding-size":e=>{e=parseFloat(e),isNaN(e)?console.error(`Invalid line height padding size: ${e}`):this.setLineHeightPaddingSize(e)},"media-keys-are-fkeys":e=>{this.keyboard.mediaKeysAreFKeys=e},"meta-sends-escape":e=>{this.keyboard.metaSendsEscape=e},"mouse-right-click-paste":e=>{this.mouseRightClickPaste=e},"mouse-paste-button":e=>{this.syncMousePasteButton()},"page-keys-scroll":e=>{this.keyboard.pageKeysScroll=e},"pass-alt-number":e=>{null==e&&(e="mac"!==ap.os&&"popup"!==ap.windowType&&"app"!==ap.windowType),this.passAltNumber=e},"pass-ctrl-number":e=>{null==e&&(e="mac"!==ap.os&&"popup"!==ap.windowType&&"app"!==ap.windowType),this.passCtrlNumber=e},"pass-ctrl-n":e=>{this.passCtrlN=e},"pass-ctrl-t":e=>{this.passCtrlT=e},"pass-ctrl-tab":e=>{this.passCtrlTab=e},"pass-ctrl-w":e=>{this.passCtrlW=e},"pass-meta-number":e=>{null==e&&(e="mac"===ap.os&&"popup"!==ap.windowType&&"app"!==ap.windowType),this.passMetaNumber=e},"pass-meta-v":e=>{this.keyboard.passMetaV=e},"screen-padding-size":e=>{e=parseInt(e,10),isNaN(e)||e<0?console.error(`Invalid screen padding size: ${e}`):this.setScreenPaddingSize(e)},"screen-border-size":e=>{e=parseInt(e,10),isNaN(e)||e<0?console.error(`Invalid screen border size: ${e}`):this.setScreenBorderSize(e)},"screen-border-color":e=>{this.div_.style.borderColor=e},"scroll-on-keystroke":e=>{this.scrollOnKeystroke_=e},"scroll-on-output":e=>{this.scrollOnOutput_=e},"scrollbar-visible":e=>{this.setScrollbarVisible(e)},"scroll-wheel-may-send-arrow-keys":e=>{this.scrollWheelArrowKeys_=e},"scroll-wheel-move-multiplier":e=>{this.setScrollWheelMoveMultipler(e)},"shift-insert-paste":e=>{this.keyboard.shiftInsertPaste=e},"terminal-encoding":e=>{this.vt.setEncoding(e)},"user-css":e=>{this.scrollPort_.setUserCssUrl(e)},"user-css-text":e=>{this.scrollPort_.setUserCssText(e)},"word-break-match-left":e=>{this.primaryScreen_.wordBreakMatchLeft=e,this.alternateScreen_.wordBreakMatchLeft=e},"word-break-match-right":e=>{this.primaryScreen_.wordBreakMatchRight=e,this.alternateScreen_.wordBreakMatchRight=e},"word-break-match-middle":e=>{this.primaryScreen_.wordBreakMatchMiddle=e,this.alternateScreen_.wordBreakMatchMiddle=e},"allow-images-inline":e=>{this.allowImagesInline=e}}),this.prefs_.readStorage(function(){this.prefs_.notifyAll(),t&&(this.ready_=!0,t())}.bind(this))},ap.Terminal.prototype.getPrefs=function(){return ip.notNull(this.prefs_)},ap.Terminal.prototype.setBracketedPaste=function(e){this.options_.bracketedPaste=e},ap.Terminal.prototype.setCursorColor=function(e){void 0===e&&(e=this.prefs_.getString("cursor-color")),this.setCssVar("cursor-color",e)},ap.Terminal.prototype.getCursorColor=function(){return this.getCssVar("cursor-color")},ap.Terminal.prototype.setSelectionEnabled=function(e){this.enableMouseDragScroll=e},ap.Terminal.prototype.setBackgroundImage=function(e){void 0===e&&(e=this.prefs_.getString("background-image")),this.scrollPort_.setBackgroundImage(e)},ap.Terminal.prototype.setBackgroundColor=function(e){void 0===e&&(e=this.prefs_.getString("background-color")),this.backgroundColor_=ip.colors.normalizeCSS(e),this.setRgbColorCssVar("background-color",this.backgroundColor_)},ap.Terminal.prototype.getBackgroundColor=function(){return this.backgroundColor_},ap.Terminal.prototype.setForegroundColor=function(e){void 0===e&&(e=this.prefs_.getString("foreground-color")),this.foregroundColor_=ip.colors.normalizeCSS(e),this.setRgbColorCssVar("foreground-color",this.foregroundColor_)},ap.Terminal.prototype.getForegroundColor=function(){return this.foregroundColor_},ap.Terminal.prototype.runCommandClass=function(e,t,n){let r=this.prefs_.get("environment");"object"==typeof r&&null!=r||(r={}),this.command=new e({commandName:t,args:n,io:this.io.push(),environment:r,onExit:e=>{this.io.pop(),this.uninstallKeyboard(),this.div_.dispatchEvent(new CustomEvent("terminal-closing")),this.prefs_.get("close-on-exit")&&window.close()}}),this.installKeyboard(),this.command.run()},ap.Terminal.prototype.isPrimaryScreen=function(){return this.screen_==this.primaryScreen_},ap.Terminal.prototype.installKeyboard=function(){this.keyboard.installKeyboard(this.scrollPort_.getDocument().body)},ap.Terminal.prototype.uninstallKeyboard=function(){this.keyboard.installKeyboard(null)},ap.Terminal.prototype.setCssVar=function(e,t,n="--hterm-"){this.document_.documentElement.style.setProperty(`${n}${e}`,t.toString())},ap.Terminal.prototype.setRgbColorCssVar=function(e,t){const n=t?ip.colors.crackRGB(t):null;n&&this.setCssVar(e,n.slice(0,3).join(","))},ap.Terminal.prototype.setColorPalette=function(e,t){e>=0&&e<256&&null!=t&&t!=this.getColorPalette[e]&&(this.setRgbColorCssVar(`color-${e}`,t),this.screen_.textAttributes.colorPaletteOverrides[e]=t)},ap.Terminal.prototype.getColorPalette=function(e){return this.screen_.textAttributes.colorPaletteOverrides[e]||this.colorPaletteOverrides_.get(e)||ip.colors.stockPalette[e]},ap.Terminal.prototype.resetColor=function(e){this.setColorPalette(e,this.colorPaletteOverrides_.get(e)||ip.colors.stockPalette[e]),delete this.screen_.textAttributes.colorPaletteOverrides[e]},ap.Terminal.prototype.resetColorPalette=function(){this.screen_.textAttributes.colorPaletteOverrides.forEach(((e,t)=>this.resetColor(t)))},ap.Terminal.prototype.getCssVar=function(e,t="--hterm-"){return this.document_.documentElement.style.getPropertyValue(`${t}${e}`)},ap.Terminal.prototype.getScrollPort=function(){return this.scrollPort_},ap.Terminal.prototype.updateCssCharsize_=function(){this.setCssVar("charsize-width",this.scrollPort_.characterSize.width+"px"),this.setCssVar("charsize-height",this.scrollPort_.characterSize.height+"px")},ap.Terminal.prototype.setFontSize=function(e){e<=0&&(e=this.prefs_.getNumber("font-size")),this.scrollPort_.setFontSize(e),this.setCssVar("font-size",`${e}px`),this.updateCssCharsize_()},ap.Terminal.prototype.getFontSize=function(){return this.scrollPort_.getFontSize()},ap.Terminal.prototype.getFontFamily=function(){return this.scrollPort_.getFontFamily()},ap.Terminal.prototype.syncFontFamily=function(){this.scrollPort_.setFontFamily(this.prefs_.getString("font-family"),this.prefs_.getString("font-smoothing")),this.updateCssCharsize_(),this.syncBoldSafeState()},ap.Terminal.prototype.syncMousePasteButton=function(){const e=this.prefs_.get("mouse-paste-button");"number"!=typeof e?"no-button"!==e&&("linux"!=ap.os?this.mousePasteButton=1:this.mousePasteButton=2):this.mousePasteButton=e},ap.Terminal.prototype.syncBoldSafeState=function(){const e=this.prefs_.get("enable-bold");if(null!==e)return this.primaryScreen_.textAttributes.enableBold=e,void(this.alternateScreen_.textAttributes.enableBold=e);const t=this.scrollPort_.measureCharacterSize(),n=this.scrollPort_.measureCharacterSize("bold"),r=t.equals(n);r||console.warn("Bold characters disabled: Size of bold weight differs from normal.  Font family is: "+this.scrollPort_.getFontFamily()),this.primaryScreen_.textAttributes.enableBold=r,this.alternateScreen_.textAttributes.enableBold=r},ap.Terminal.prototype.setTextBlink=function(e){void 0===e&&(e=this.prefs_.getBoolean("enable-blink")),this.setCssVar("blink-node-duration",e?"0.7s":"0")},ap.Terminal.prototype.syncMouseStyle=function(){this.setCssVar("mouse-cursor-style",this.vt.mouseReport==this.vt.MOUSE_REPORT_DISABLED?"var(--hterm-mouse-cursor-text)":"var(--hterm-mouse-cursor-default)")},ap.Terminal.prototype.saveCursor=function(){return this.screen_.cursorPosition.clone()},ap.Terminal.prototype.getTextAttributes=function(){return this.screen_.textAttributes},ap.Terminal.prototype.setTextAttributes=function(e){this.screen_.textAttributes=e},ap.Terminal.prototype.setWindowTitle=function(e){window.document.title=e},ap.Terminal.prototype.setWindowName=function(e){},ap.Terminal.prototype.restoreCursor=function(e){const t=ip.f.clamp(e.row,0,this.screenSize.height-1),n=ip.f.clamp(e.column,0,this.screenSize.width-1);this.screen_.setCursorPosition(t,n),(e.column>n||e.column==n&&e.overflow)&&(this.screen_.cursorPosition.overflow=!0)},ap.Terminal.prototype.clearCursorOverflow=function(){this.screen_.cursorPosition.overflow=!1},ap.Terminal.prototype.saveCursorAndState=function(e){e?(this.primaryScreen_.saveCursorAndState(this.vt),this.alternateScreen_.saveCursorAndState(this.vt)):this.screen_.saveCursorAndState(this.vt)},ap.Terminal.prototype.restoreCursorAndState=function(e){e?(this.primaryScreen_.restoreCursorAndState(this.vt),this.alternateScreen_.restoreCursorAndState(this.vt)):this.screen_.restoreCursorAndState(this.vt)},ap.Terminal.prototype.setCursorShape=function(e){this.cursorShape_=e,this.restyleCursor_()},ap.Terminal.prototype.getCursorShape=function(){return this.cursorShape_},ap.Terminal.prototype.setLineHeightPaddingSize=function(e){this.scrollPort_.setLineHeightPaddingSize(e)},ap.Terminal.prototype.setScreenPaddingSize=function(e){this.setCssVar("screen-padding-size",`${e}px`),this.scrollPort_.setScreenPaddingSize(e)},ap.Terminal.prototype.setScreenBorderSize=function(e){this.div_.style.borderWidth=`${e}px`,this.screenBorderSize_=e,this.scrollPort_.resize()},ap.Terminal.prototype.setWidth=function(e){if(null==e)return void(this.div_.style.width="100%");const t=Math.max(this.scrollPort_.screenPaddingSize,this.scrollPort_.currentScrollbarWidthPx);this.div_.style.width=Math.ceil(this.scrollPort_.characterSize.width*e+this.scrollPort_.screenPaddingSize+t+2*this.screenBorderSize_)+"px",this.realizeSize_(e,this.screenSize.height),this.scheduleSyncCursorPosition_()},ap.Terminal.prototype.setHeight=function(e){null!=e?(this.div_.style.height=this.scrollPort_.characterSize.height*e+2*this.scrollPort_.screenPaddingSize+2*this.screenBorderSize_+"px",this.realizeSize_(this.screenSize.width,e),this.scheduleSyncCursorPosition_()):this.div_.style.height="100%"},ap.Terminal.prototype.realizeSize_=function(e,t){let n=!1;e!=this.screenSize.width&&(n=!0,this.realizeWidth_(e)),t!=this.screenSize.height&&(n=!0,this.realizeHeight_(t)),n&&this.io.onTerminalResize_(e,t)},ap.Terminal.prototype.realizeWidth_=function(e){if(e<=0)throw new Error("Attempt to realize bad width: "+e);const t=e-this.screen_.getWidth();if(0!=t){if(this.screenSize.width=e,this.screen_.setColumnCount(e),t>0)this.defaultTabStops&&this.setDefaultTabStops(this.screenSize.width-t);else for(let t=this.tabStops_.length-1;t>=0&&!(this.tabStops_[t]<e);t--)this.tabStops_.pop();this.screen_.setColumnCount(this.screenSize.width)}},ap.Terminal.prototype.realizeHeight_=function(e){if(e<=0)throw new Error("Attempt to realize bad height: "+e);let t=e-this.screen_.getHeight();if(0==t)return;this.screenSize.height=e;const n=this.saveCursor();if(t<0){for(t*=-1;t;){const e=this.getRowCount()-1;if(e-this.scrollbackRows_.length==n.row)break;if(this.getRowText(e))break;this.screen_.popRow(),t--}const e=this.screen_.shiftRows(t);this.scrollbackRows_.push.apply(this.scrollbackRows_,e),n.row=Math.max(n.row-t,0)}else if(t>0){if(t<=this.scrollbackRows_.length){const e=Math.min(t,this.scrollbackRows_.length),r=this.scrollbackRows_.splice(this.scrollbackRows_.length-e,e);this.screen_.unshiftRows(r),t-=e,n.row+=e}t&&this.appendRows_(t)}this.setVTScrollRegion(null,null),this.restoreCursor(n)},ap.Terminal.prototype.scrollHome=function(){this.scrollPort_.scrollRowToTop(0)},ap.Terminal.prototype.scrollEnd=function(){this.scrollPort_.scrollRowToBottom(this.getRowCount())},ap.Terminal.prototype.scrollPageUp=function(){this.scrollPort_.scrollPageUp()},ap.Terminal.prototype.scrollPageDown=function(){this.scrollPort_.scrollPageDown()},ap.Terminal.prototype.scrollLineUp=function(){const e=this.scrollPort_.getTopRowIndex();this.scrollPort_.scrollRowToTop(e-1)},ap.Terminal.prototype.scrollLineDown=function(){const e=this.scrollPort_.getTopRowIndex();this.scrollPort_.scrollRowToTop(e+1)},ap.Terminal.prototype.wipeContents=function(){this.clearHome(this.primaryScreen_),this.clearHome(this.alternateScreen_),this.clearScrollback()},ap.Terminal.prototype.clearScrollback=function(){this.scrollEnd(),this.scrollbackRows_.length=0,this.scrollPort_.resetCache(),[this.primaryScreen_,this.alternateScreen_].forEach((e=>{const t=e.getHeight();this.renumberRows_(0,t,e)})),this.syncCursorPosition_(),this.scrollPort_.invalidate()},ap.Terminal.prototype.reset=function(){this.vt.reset(),this.clearAllTabStops(),this.setDefaultTabStops(),this.resetColorPalette();const e=e=>{e.textAttributes.reset(),e.textAttributes.colorPaletteOverrides=[],this.clearHome(e),e.saveCursorAndState(this.vt)};e(this.primaryScreen_),e(this.alternateScreen_),this.options_=new ap.Options,this.setCursorBlink(!!this.prefs_.get("cursor-blink")),this.setVTScrollRegion(null,null),this.setCursorVisible(!0)},ap.Terminal.prototype.softReset=function(){this.vt.reset(),this.options_=new ap.Options,this.options_.cursorBlink=!!this.timeouts_.cursorBlink,this.resetColorPalette();const e=e=>{e.textAttributes.reset(),e.textAttributes.colorPaletteOverrides=[],e.saveCursorAndState(this.vt)};e(this.primaryScreen_),e(this.alternateScreen_),this.setVTScrollRegion(null,null),this.setCursorVisible(!0)},ap.Terminal.prototype.forwardTabStop=function(){const e=this.screen_.cursorPosition.column;for(let t=0;t<this.tabStops_.length;t++)if(this.tabStops_[t]>e)return void this.setCursorColumn(this.tabStops_[t]);const t=this.screen_.cursorPosition.overflow;this.setCursorColumn(this.screenSize.width-1),this.screen_.cursorPosition.overflow=t},ap.Terminal.prototype.backwardTabStop=function(){const e=this.screen_.cursorPosition.column;for(let t=this.tabStops_.length-1;t>=0;t--)if(this.tabStops_[t]<e)return void this.setCursorColumn(this.tabStops_[t]);this.setCursorColumn(1)},ap.Terminal.prototype.setTabStop=function(e){for(let t=this.tabStops_.length-1;t>=0;t--){if(this.tabStops_[t]==e)return;if(this.tabStops_[t]<e)return void this.tabStops_.splice(t+1,0,e)}this.tabStops_.splice(0,0,e)},ap.Terminal.prototype.clearTabStopAtCursor=function(){const e=this.screen_.cursorPosition.column,t=this.tabStops_.indexOf(e);-1!=t&&this.tabStops_.splice(t,1)},ap.Terminal.prototype.clearAllTabStops=function(){this.tabStops_.length=0,this.defaultTabStops=!1},ap.Terminal.prototype.setDefaultTabStops=function(e=0){const t=this.tabWidth;for(let n=e=e-1-(e-1)%t+t;n<this.screenSize.width;n+=t)this.setTabStop(n);this.defaultTabStops=!0},ap.Terminal.prototype.interpret=function(e){this.scheduleSyncCursorPosition_(),this.vt.interpret(e)},ap.Terminal.prototype.decorate=function(e){const t=e.ownerDocument.characterSet.toLowerCase();"utf-8"!=t&&console.warn(`Document encoding should be set to utf-8, not "${t}"; Add <meta charset='utf-8'/> to your HTML <head> to fix.`),this.div_=e,this.div_.style.borderStyle="solid",this.div_.style.borderWidth=0,this.div_.style.boxSizing="border-box",this.accessibilityReader_=new ap.AccessibilityReader(e),this.scrollPort_.decorate(e,(()=>this.setupScrollPort_()))},ap.Terminal.prototype.setupScrollPort_=function(){this.scrollPort_.setBackgroundImage(this.prefs_.getString("background-image")),this.scrollPort_.setBackgroundSize(this.prefs_.getString("background-size")),this.scrollPort_.setBackgroundPosition(this.prefs_.getString("background-position")),this.scrollPort_.setUserCssUrl(this.prefs_.getString("user-css")),this.scrollPort_.setUserCssText(this.prefs_.getString("user-css-text")),this.scrollPort_.setAccessibilityReader(ip.notNull(this.accessibilityReader_)),this.div_.focus=this.focus.bind(this),this.setFontSize(this.prefs_.getNumber("font-size")),this.syncFontFamily(),this.setScrollbarVisible(this.prefs_.getBoolean("scrollbar-visible")),this.setScrollWheelMoveMultipler(this.prefs_.getNumber("scroll-wheel-move-multiplier")),this.document_=this.scrollPort_.getDocument(),this.accessibilityReader_.decorate(this.document_),this.findBar.decorate(this.document_),this.notifications_=new ap.NotificationCenter(ip.notNull(this.document_.body),this.accessibilityReader_),this.document_.body.oncontextmenu=function(){return!1},this.contextMenu.setDocument(this.document_);const e=this.onMouse_.bind(this),t=this.scrollPort_.getScreenNode();t.addEventListener("mousedown",e),t.addEventListener("mouseup",e),t.addEventListener("mousemove",e),this.scrollPort_.onScrollWheel=e,t.addEventListener("keydown",this.onKeyboardActivity_.bind(this)),t.addEventListener("focus",this.onFocusChange_.bind(this,!0)),t.addEventListener("mousedown",function(){setTimeout(this.onFocusChange_.bind(this,!0))}.bind(this)),t.addEventListener("blur",this.onFocusChange_.bind(this,!1));const n=this.document_.createElement("style");n.textContent=`\n.cursor-node[focus="false"] {\n  box-sizing: border-box;\n  background-color: transparent !important;\n  border-width: 2px;\n  border-style: solid;\n}\nmenu {\n  background: #fff;\n  border-radius: 4px;\n  color: #202124;\n  cursor: var(--hterm-mouse-cursor-pointer);\n  display: none;\n  filter: drop-shadow(0 1px 3px #3C40434D) drop-shadow(0 4px 8px #3C404326);\n  margin: 0;\n  padding: 8px 0;\n  position: absolute;\n  transition-duration: 200ms;\n}\nmenuitem {\n  display: block;\n  font: var(--hterm-font-size) 'Roboto', 'Noto Sans', sans-serif;\n  padding: 0.5em 1em;\n  white-space: nowrap;\n}\nmenuitem.separator {\n  border-bottom: none;\n  height: 0.5em;\n  padding: 0;\n}\nmenuitem:hover {\n  background-color: #e2e4e6;\n}\n.wc-node {\n  display: inline-block;\n  text-align: center;\n  width: calc(var(--hterm-charsize-width) * 2);\n  line-height: var(--hterm-charsize-height);\n}\n:root {\n  --hterm-charsize-width: ${this.scrollPort_.characterSize.width}px;\n  --hterm-charsize-height: ${this.scrollPort_.characterSize.height}px;\n  --hterm-blink-node-duration: 0.7s;\n  --hterm-mouse-cursor-default: default;\n  --hterm-mouse-cursor-text: text;\n  --hterm-mouse-cursor-pointer: pointer;\n  --hterm-mouse-cursor-style: var(--hterm-mouse-cursor-text);\n  --hterm-screen-padding-size: 0;\n\n${ip.colors.stockPalette.map(((e,t)=>`\n  --hterm-color-${t}: ${ip.colors.crackRGB(e).slice(0,3).join(",")};\n`)).join("")}\n}\n.uri-node:hover {\n  text-decoration: underline;\n  cursor: var(--hterm-mouse-cursor-pointer);\n}\n@keyframes blink {\n  from { opacity: 1.0; }\n  to { opacity: 0.0; }\n}\n.blink-node {\n  animation-name: blink;\n  animation-duration: var(--hterm-blink-node-duration);\n  animation-iteration-count: infinite;\n  animation-timing-function: ease-in-out;\n  animation-direction: alternate;\n}`,this.document_.head.insertBefore(n,this.document_.head.firstChild),this.cursorNode_=this.document_.createElement("div"),this.cursorNode_.id="hterm:terminal-cursor",this.cursorNode_.className="cursor-node",this.cursorNode_.style.cssText=`\nposition: absolute;\nleft: calc(var(--hterm-screen-padding-size) +\n    var(--hterm-charsize-width) * var(--hterm-cursor-offset-col));\ntop: calc(var(--hterm-screen-padding-size) +\n    var(--hterm-charsize-height) * var(--hterm-cursor-offset-row));\ndisplay: ${this.options_.cursorVisible?"":"none"};\nwidth: var(--hterm-charsize-width);\nheight: var(--hterm-charsize-height);\nbackground-color: var(--hterm-cursor-color);\nborder-color: var(--hterm-cursor-color);\ntransition: opacity, background-color 100ms linear;`,this.setCursorColor(),this.setCursorBlink(!!this.prefs_.get("cursor-blink")),this.restyleCursor_(),this.document_.body.appendChild(this.cursorNode_),this.scrollBlockerNode_=this.document_.createElement("div"),this.scrollBlockerNode_.id="hterm:mouse-drag-scroll-blocker",this.scrollBlockerNode_.setAttribute("aria-hidden","true"),this.scrollBlockerNode_.style.cssText="position: absolute;top: -99px;display: block;width: 10px;height: 10px;",this.document_.body.appendChild(this.scrollBlockerNode_),this.scrollPort_.onScrollWheel=e,["mousedown","mouseup","mousemove","click","dblclick"].forEach(function(t){this.scrollBlockerNode_.addEventListener(t,e),this.cursorNode_.addEventListener(t,e),this.document_.addEventListener(t,e)}.bind(this)),this.cursorNode_.addEventListener("mousedown",function(){setTimeout(this.focus.bind(this))}.bind(this)),this.setReverseVideo(!1),this.document_.fonts.addEventListener("loadingdone",(()=>this.syncFontFamily())),this.scrollPort_.focus(),this.scrollPort_.scheduleRedraw()},ap.Terminal.prototype.getDocument=function(){return this.document_},ap.Terminal.prototype.focus=function(){this.scrollPort_.focus()},ap.Terminal.prototype.blur=function(){this.scrollPort_.blur()},ap.Terminal.prototype.getRowNode=function(e){if(e<this.scrollbackRows_.length)return this.scrollbackRows_[e];const t=e-this.scrollbackRows_.length;return this.screen_.rowsArray[t]},ap.Terminal.prototype.getRowsText=function(e,t){const n=[];for(let r=e;r<t;r++){const e=this.getRowNode(r);n.push(e.textContent),r<t-1&&!e.getAttribute("line-overflow")&&n.push("\n")}return n.join("")},ap.Terminal.prototype.getRowText=function(e){return this.getRowNode(e).textContent},ap.Terminal.prototype.getRowCount=function(){return this.scrollbackRows_.length+this.screen_.rowsArray.length},ap.Terminal.prototype.appendRows_=function(e){let t=this.screen_.rowsArray.length;const n=this.scrollbackRows_.length+t;for(let t=0;t<e;t++){const e=this.document_.createElement("x-row");e.appendChild(this.document_.createTextNode("")),e.rowIndex=n+t,this.screen_.pushRow(e)}const r=this.screen_.rowsArray.length-this.screenSize.height;if(r>0){const e=this.screen_.shiftRows(r);Array.prototype.push.apply(this.scrollbackRows_,e),this.scrollPort_.isScrolledEnd&&this.scheduleScrollDown_()}t>=this.screen_.rowsArray.length&&(t=this.screen_.rowsArray.length-1),this.setAbsoluteCursorPosition(t,0)},ap.Terminal.prototype.insertRow_=function(){const e=this.document_.createElement("x-row");e.appendChild(this.document_.createTextNode("")),this.scrollbackRows_.push(this.screen_.shiftRow());const t=this.screen_.cursorPosition.row;this.screen_.insertRow(t,e),this.renumberRows_(t,this.screen_.rowsArray.length),this.setAbsoluteCursorPosition(t,0),this.scrollPort_.isScrolledEnd&&this.scheduleScrollDown_()},ap.Terminal.prototype.moveRows_=function(e,t,n){const r=this.screen_.removeRows(e,t);let o,i;this.screen_.insertRows(n,r),e<n?(o=e,i=n+t):(o=n,i=e+t),this.renumberRows_(o,i),this.scrollPort_.scheduleInvalidate()},ap.Terminal.prototype.renumberRows_=function(e,t,n=void 0){n||(n=this.screen_);const r=this.scrollbackRows_.length;for(let o=e;o<t;o++)n.rowsArray[o].rowIndex=r+o},ap.Terminal.prototype.print=function(e){this.scheduleSyncCursorPosition_(),this.accessibilityReader_.announce(e);let t=0,n=ip.wc.strWidth(e);for(0==n&&e&&(n=1);t<n;){this.options_.wraparound&&this.screen_.cursorPosition.overflow&&(this.screen_.commitLineOverflow(),this.newLine(!0));let r,o=n-t,i=!1;this.screen_.cursorPosition.column+o>=this.screenSize.width&&(i=!0,o=this.screenSize.width-this.screen_.cursorPosition.column),i&&!this.options_.wraparound?(r=ip.wc.substr(e,t,o-1)+ip.wc.substr(e,n-1),o=n):r=ip.wc.substr(e,t,o);const a=ap.TextAttributes.splitWidecharString(r);for(let e=0;e<a.length;e++)this.screen_.textAttributes.wcNode=a[e].wcNode,this.screen_.textAttributes.asciiNode=a[e].asciiNode,this.options_.insertMode?this.screen_.insertString(a[e].str,a[e].wcStrWidth):this.screen_.overwriteString(a[e].str,a[e].wcStrWidth),this.screen_.textAttributes.wcNode=!1,this.screen_.textAttributes.asciiNode=!0;this.screen_.maybeClipCurrentRow(),t+=o,this.findBar.scheduleNotifyChanges(this.scrollbackRows_.length+this.screen_.cursorPosition.row)}this.scrollOnOutput_&&this.scrollPort_.scrollRowToBottom(this.getRowCount())},ap.Terminal.prototype.setVTScrollRegion=function(e,t){this.vtScrollTop_=e,this.vtScrollBottom_=t,t==this.screenSize.height-1&&(this.vtScrollBottom_=null,0==e&&(this.vtScrollTop_=null))},ap.Terminal.prototype.getVTScrollTop=function(){return null!=this.vtScrollTop_?this.vtScrollTop_:0},ap.Terminal.prototype.getVTScrollBottom=function(){return null!=this.vtScrollBottom_?this.vtScrollBottom_:this.screenSize.height-1},ap.Terminal.prototype.newLine=function(e=!1){e||this.accessibilityReader_.newLine();const t=this.screen_.cursorPosition.row==this.screen_.rowsArray.length-1,n=this.screen_.cursorPosition.row==this.getVTScrollBottom();null!=this.vtScrollTop_&&n?(this.vtScrollUp(1),this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row,0)):t?this.appendRows_(1):n?this.insertRow_():this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row+1,0)},ap.Terminal.prototype.lineFeed=function(){const e=this.screen_.cursorPosition.column;this.newLine(),this.setCursorColumn(e)},ap.Terminal.prototype.formFeed=function(){this.options_.autoCarriageReturn?this.newLine():this.lineFeed()},ap.Terminal.prototype.reverseLineFeed=function(){const e=this.getVTScrollTop(),t=this.screen_.cursorPosition.row;t==e?this.insertLines(1):this.setAbsoluteCursorRow(t-1)},ap.Terminal.prototype.eraseToLeft=function(){const e=this.saveCursor();this.setCursorColumn(0);const t=e.column+1;this.screen_.overwriteString(" ".repeat(t),t),this.findBar.scheduleNotifyChanges(this.scrollbackRows_.length+this.screen_.cursorPosition.row),this.restoreCursor(e)},ap.Terminal.prototype.eraseToRight=function(e=void 0){if(this.screen_.cursorPosition.overflow)return;const t=this.screenSize.width-this.screen_.cursorPosition.column;if(e=e?Math.min(e,t):t,this.findBar.scheduleNotifyChanges(this.scrollbackRows_.length+this.screen_.cursorPosition.row),this.screen_.textAttributes.background===this.screen_.textAttributes.DEFAULT_COLOR){const t=this.screen_.rowsArray[this.screen_.cursorPosition.row];if(ap.TextAttributes.nodeWidth(t)<=this.screen_.cursorPosition.column+e)return this.screen_.deleteChars(e),void this.clearCursorOverflow()}const n=this.saveCursor();this.screen_.overwriteString(" ".repeat(e),e),this.restoreCursor(n),this.clearCursorOverflow()},ap.Terminal.prototype.eraseLine=function(){const e=this.saveCursor();this.screen_.clearCursorRow(),this.restoreCursor(e),this.clearCursorOverflow()},ap.Terminal.prototype.eraseAbove=function(){const e=this.saveCursor();this.eraseToLeft();for(let t=0;t<e.row;t++)this.setAbsoluteCursorPosition(t,0),this.screen_.clearCursorRow();this.restoreCursor(e),this.clearCursorOverflow()},ap.Terminal.prototype.eraseBelow=function(){const e=this.saveCursor();this.eraseToRight();const t=this.screenSize.height-1;for(let n=e.row+1;n<=t;n++)this.setAbsoluteCursorPosition(n,0),this.screen_.clearCursorRow();this.restoreCursor(e),this.clearCursorOverflow()},ap.Terminal.prototype.fill=function(e){const t=this.saveCursor();this.setAbsoluteCursorPosition(0,0);for(let t=0;t<this.screenSize.height;t++){for(let n=0;n<this.screenSize.width;n++)this.setAbsoluteCursorPosition(t,n),this.screen_.overwriteString(e,1);this.findBar.scheduleNotifyChanges(this.scrollbackRows_.length+t)}this.restoreCursor(t)},ap.Terminal.prototype.clearHome=function(e=void 0){e||(e=this.screen_);const t=e.getHeight();if(this.accessibilityReader_.clear(),0!=t){for(let n=0;n<t;n++)e.setCursorPosition(n,0),e.clearCursorRow();e.setCursorPosition(0,0)}},ap.Terminal.prototype.clear=function(e=void 0){e||(e=this.screen_);const t=e.cursorPosition.clone();this.clearHome(e),e.setCursorPosition(t.row,t.column)},ap.Terminal.prototype.insertLines=function(e){const t=this.screen_.cursorPosition.row,n=this.getVTScrollBottom(),r=n-t-(e=Math.min(e,n-t))+1;r&&this.moveRows_(t,r,t+e);for(let n=e-1;n>=0;n--)this.setAbsoluteCursorPosition(t+n,0),this.screen_.clearCursorRow()},ap.Terminal.prototype.deleteLines=function(e){const t=this.saveCursor(),n=t.row,r=this.getVTScrollBottom(),o=r-n+1,i=r-(e=Math.min(e,o))+1;e!=o&&this.moveRows_(n,e,i);for(let t=0;t<e;t++)this.setAbsoluteCursorPosition(i+t,0),this.screen_.clearCursorRow();this.restoreCursor(t),this.clearCursorOverflow()},ap.Terminal.prototype.insertSpace=function(e){const t=this.saveCursor(),n=" ".repeat(e||1);this.screen_.insertString(n,n.length),this.screen_.maybeClipCurrentRow(),this.findBar.scheduleNotifyChanges(this.scrollbackRows_.length+this.screen_.cursorPosition.row),this.restoreCursor(t),this.clearCursorOverflow()},ap.Terminal.prototype.deleteChars=function(e){const t=this.screen_.deleteChars(e);if(t&&!this.screen_.textAttributes.isDefault()){const e=this.saveCursor();this.setCursorColumn(this.screenSize.width-t),this.screen_.insertString(" ".repeat(t)),this.restoreCursor(e)}this.findBar.scheduleNotifyChanges(this.scrollbackRows_.length+this.screen_.cursorPosition.row),this.clearCursorOverflow()},ap.Terminal.prototype.vtScrollUp=function(e){const t=this.saveCursor();this.setAbsoluteCursorRow(this.getVTScrollTop()),this.deleteLines(e),this.restoreCursor(t)},ap.Terminal.prototype.vtScrollDown=function(e){const t=this.saveCursor();this.setAbsoluteCursorPosition(this.getVTScrollTop(),0),this.insertLines(e),this.restoreCursor(t)},ap.Terminal.prototype.setAccessibilityEnabled=function(e){this.accessibilityReader_.setAccessibilityEnabled(e)},ap.Terminal.prototype.setCursorPosition=function(e,t){this.options_.originMode?this.setRelativeCursorPosition(e,t):this.setAbsoluteCursorPosition(e,t)},ap.Terminal.prototype.setRelativeCursorPosition=function(e,t){const n=this.getVTScrollTop();e=ip.f.clamp(e+n,n,this.getVTScrollBottom()),t=ip.f.clamp(t,0,this.screenSize.width-1),this.screen_.setCursorPosition(e,t)},ap.Terminal.prototype.setAbsoluteCursorPosition=function(e,t){e=ip.f.clamp(e,0,this.screenSize.height-1),t=ip.f.clamp(t,0,this.screenSize.width-1),this.screen_.setCursorPosition(e,t)},ap.Terminal.prototype.setCursorColumn=function(e){this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row,e)},ap.Terminal.prototype.getCursorColumn=function(){return this.screen_.cursorPosition.column},ap.Terminal.prototype.setAbsoluteCursorRow=function(e){this.setAbsoluteCursorPosition(e,this.screen_.cursorPosition.column)},ap.Terminal.prototype.getCursorRow=function(){return this.screen_.cursorPosition.row},ap.Terminal.prototype.scheduleRedraw_=function(){this.timeouts_.redraw||(this.timeouts_.redraw=setTimeout((()=>{delete this.timeouts_.redraw,this.scrollPort_.redraw_()})))},ap.Terminal.prototype.scheduleScrollDown_=function(){this.timeouts_.scrollDown||(this.timeouts_.scrollDown=setTimeout((()=>{delete this.timeouts_.scrollDown,this.scrollPort_.scrollRowToBottom(this.getRowCount())}),10))},ap.Terminal.prototype.cursorUp=function(e){this.cursorDown(-(e||1))},ap.Terminal.prototype.cursorDown=function(e){e=e||1;const t=this.options_.originMode?this.getVTScrollTop():0,n=this.options_.originMode?this.getVTScrollBottom():this.screenSize.height-1,r=ip.f.clamp(this.screen_.cursorPosition.row+e,t,n);this.setAbsoluteCursorRow(r)},ap.Terminal.prototype.cursorLeft=function(e){if((e=e||1)<1)return;const t=this.screen_.cursorPosition.column;if(this.options_.reverseWraparound){if(this.screen_.cursorPosition.overflow&&(e--,this.clearCursorOverflow(),!e))return;let n=this.screen_.cursorPosition.row,r=t-e;r<0&&(n=n-Math.floor(e/this.screenSize.width)-1,n<0&&(n=this.screenSize.height+n%this.screenSize.height),r=this.screenSize.width+r%this.screenSize.width),this.setCursorPosition(Math.max(n,0),r)}else{const n=Math.max(t-e,0);this.setCursorColumn(n)}},ap.Terminal.prototype.cursorRight=function(e){if((e=e||1)<1)return;const t=ip.f.clamp(this.screen_.cursorPosition.column+e,0,this.screenSize.width-1);this.setCursorColumn(t)},ap.Terminal.prototype.setReverseVideo=function(e){this.options_.reverseVideo=e,e?(this.setRgbColorCssVar("foreground-color",this.backgroundColor_),this.setRgbColorCssVar("background-color",this.foregroundColor_)):(this.setRgbColorCssVar("foreground-color",this.foregroundColor_),this.setRgbColorCssVar("background-color",this.backgroundColor_))},ap.Terminal.prototype.ringBell=function(){if(this.cursorNode_.style.backgroundColor="rgb(var(--hterm-foreground-color))",setTimeout((()=>this.restyleCursor_()),200),!this.bellSquelchTimeout_&&(this.bellAudio_.getAttribute("src")?(this.bellAudio_.play(),this.bellSequelchTimeout_=setTimeout((()=>{this.bellSquelchTimeout_=null}),500)):this.bellSquelchTimeout_=null,this.desktopNotificationBell_&&!this.document_.hasFocus())){const e=ap.notify();this.bellNotificationList_.push(e),e.onclick=()=>this.closeBellNotifications_()}},ap.Terminal.prototype.setOriginMode=function(e){this.options_.originMode=e,this.setCursorPosition(0,0)},ap.Terminal.prototype.setInsertMode=function(e){this.options_.insertMode=e},ap.Terminal.prototype.setAutoCarriageReturn=function(e){this.options_.autoCarriageReturn=e},ap.Terminal.prototype.setWraparound=function(e){this.options_.wraparound=e},ap.Terminal.prototype.setReverseWraparound=function(e){this.options_.reverseWraparound=e},ap.Terminal.prototype.setAlternateMode=function(e){if(e==(this.screen_==this.alternateScreen_))return;const t=this.screen_.textAttributes.colorPaletteOverrides,n=this.saveCursor();this.screen_=e?this.alternateScreen_:this.primaryScreen_;const r=this.screen_.textAttributes.colorPaletteOverrides;if(t.forEach(((e,t)=>{r.hasOwnProperty(t)||this.setRgbColorCssVar(`color-${t}`,this.getColorPalette(t))})),r.forEach(((e,t)=>this.setRgbColorCssVar(`color-${t}`,e))),this.screen_.rowsArray.length&&this.screen_.rowsArray[0].rowIndex!=this.scrollbackRows_.length){const e=this.scrollbackRows_.length,t=this.screen_.rowsArray;for(let n=0;n<t.length;n++)t[n].rowIndex=e+n}this.realizeWidth_(this.screenSize.width),this.realizeHeight_(this.screenSize.height),this.scrollPort_.syncScrollHeight(),this.scrollPort_.invalidate(),this.restoreCursor(n),this.scrollPort_.resize()},ap.Terminal.prototype.setCursorBlink=function(e){this.options_.cursorBlink=e,!e&&this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink),this.options_.cursorVisible&&this.setCursorVisible(!0)},ap.Terminal.prototype.setCursorVisible=function(e){if(this.options_.cursorVisible=e,!e)return this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink),void(this.cursorNode_.style.opacity="0");if(this.syncCursorPosition_(),this.cursorNode_.style.opacity="1",this.options_.cursorBlink){if(this.timeouts_.cursorBlink)return;this.onCursorBlink_()}else this.timeouts_.cursorBlink&&(clearTimeout(this.timeouts_.cursorBlink),delete this.timeouts_.cursorBlink)},ap.Terminal.prototype.pauseCursorBlink_=function(){this.options_.cursorBlink&&(this.cursorBlinkPause_=!0,this.timeouts_.cursorBlinkPause&&clearTimeout(this.timeouts_.cursorBlinkPause),this.timeouts_.cursorBlinkPause=setTimeout((()=>{delete this.timeouts_.cursorBlinkPause,this.cursorBlinkPause_=!1}),500))},ap.Terminal.prototype.syncCursorPosition_=function(){const e=this.scrollPort_.getTopRowIndex(),t=this.scrollPort_.getBottomRowIndex(e),n=this.scrollbackRows_.length+this.screen_.cursorPosition.row;let r=!1;if(this.accessibilityReader_.accessibilityEnabled){const e=this.screen_.cursorPosition.column,t=this.screen_.rowsArray[this.screen_.cursorPosition.row].innerText;r=this.accessibilityReader_.hasUserGesture,this.accessibilityReader_.afterCursorChange(t,n,e)}if(n>t)return this.cursorOffScreen_=!0,this.cursorNode_.style.display="none",!1;if("none"==this.cursorNode_.style.display&&(this.cursorOffScreen_=!1,this.cursorNode_.style.display=""),this.setCssVar("cursor-offset-row",n-e+" + "+`${this.scrollPort_.visibleRowTopMargin}px`),this.setCssVar("cursor-offset-col",this.screen_.cursorPosition.column),this.cursorNode_.setAttribute("title","("+this.screen_.cursorPosition.column+", "+this.screen_.cursorPosition.row+")"),!this.findBar.hasFocus){const e=this.document_.getSelection();e&&(e.isCollapsed||r)&&this.screen_.syncSelectionCaret(e)}return!0},ap.Terminal.prototype.restyleCursor_=function(){let e=this.cursorShape_;"false"==this.cursorNode_.getAttribute("focus")&&(e=ap.Terminal.cursorShape.BLOCK);const t=this.cursorNode_.style;switch(e){case ap.Terminal.cursorShape.BEAM:t.backgroundColor="transparent",t.borderBottomStyle="",t.borderLeftStyle="solid";break;case ap.Terminal.cursorShape.UNDERLINE:t.backgroundColor="transparent",t.borderBottomStyle="solid",t.borderLeftStyle="";break;default:t.backgroundColor="var(--hterm-cursor-color)",t.borderBottomStyle="",t.borderLeftStyle=""}},ap.Terminal.prototype.scheduleSyncCursorPosition_=function(){if(!this.timeouts_.syncCursor){if(this.accessibilityReader_.accessibilityEnabled){const e=this.scrollbackRows_.length+this.screen_.cursorPosition.row,t=this.screen_.cursorPosition.column,n=this.screen_.rowsArray[this.screen_.cursorPosition.row].innerText;this.accessibilityReader_.beforeCursorChange(n,e,t)}this.timeouts_.syncCursor=setTimeout((()=>{this.syncCursorPosition_(),delete this.timeouts_.syncCursor}))}},ap.Terminal.prototype.showOverlay=function(e,t=1500){this.ready_&&this.notifications_&&this.notifications_.show(e,{timeout:t})},ap.Terminal.prototype.hideOverlay=function(){this.notifications_.hide()},ap.Terminal.prototype.paste=function(){if(!this.alwaysUseLegacyPasting&&navigator.clipboard&&navigator.clipboard.readText)return navigator.clipboard.readText().then((e=>this.onPasteData_(e))),null;try{return this.document_.execCommand("paste")}catch(e){return!1}},ap.Terminal.prototype.copyStringToClipboard=function(e){if(this.prefs_.get("enable-clipboard-notice")){if(!this.clipboardNotice_){this.clipboardNotice_=this.document_.createElement("div"),this.clipboardNotice_.style.textAlign="center";const e=ip.resource.getData("hterm/images/copy");this.clipboardNotice_.innerHTML=`${e}<div>${ap.msg("NOTIFY_COPY")}</div>`}setTimeout((()=>this.showOverlay(this.clipboardNotice_,500)),200)}ap.copySelectionToClipboard(this.document_,e)},ap.Terminal.prototype.displayImage=function(e,t,n){if(void 0!==e.uri||void 0!==e.buffer||void 0!==e.blob){if(e.name||(e.name=""),!e.type){const t=e.name.split(".");switch(t[t.length-1].trim()){case"svg":case"svgz":e.type="image/svg+xml"}}if(!0!==this.allowImagesInline){if(!1===this.allowImagesInline)return void this.showOverlay(ap.msg("POPUP_INLINE_IMAGE_DISABLED",[],"Inline Images Disabled"));let e;const t=this.document_.createElement("span"),n=this.document_.createElement("p");return n.innerText=ap.msg("POPUP_INLINE_IMAGE",[],"Inline Images"),n.style.textAlign="center",t.appendChild(n),e=this.document_.createElement("input"),e.type="button",e.value=ap.msg("BUTTON_BLOCK",[],"block"),e.addEventListener("click",(()=>{this.prefs_.set("allow-images-inline",!1),this.hideOverlay()})),t.appendChild(e),t.appendChild(new Text(" ")),e=this.document_.createElement("input"),e.type="button",e.value=ap.msg("BUTTON_ALLOW_SESSION",[],"allow this session"),e.addEventListener("click",(()=>{this.allowImagesInline=!0,this.hideOverlay()})),t.appendChild(e),t.appendChild(new Text(" ")),e=this.document_.createElement("input"),e.type="button",e.value=ap.msg("BUTTON_ALLOW_ALWAYS",[],"always allow"),e.addEventListener("click",(()=>{this.prefs_.set("allow-images-inline",!0),this.hideOverlay()})),t.appendChild(e),void this.showOverlay(t,null)}if(e.inline){const r=this.io.push();r.showOverlay(ap.msg("LOADING_RESOURCE_START",[e.name],"Loading $1 ...")),r.onVTKeystroke=r.sendString=()=>{};const o=this.document_.createElement("img");if(void 0!==e.uri)o.src=e.uri;else if(void 0!==e.buffer){const t=new Blob([e.buffer],{type:e.type});o.src=URL.createObjectURL(t)}else{const t=new Blob([e.blob],{type:e.type});o.src=URL.createObjectURL(t)}o.title=o.alt=e.name,this.document_.body.appendChild(o),o.onload=()=>{const n=this.scrollPort_.getScreenSize();o.style.objectFit=e.preserveAspectRatio?"scale-down":"fill",o.style.maxWidth=`${n.width}px`,o.style.maxHeight=`${n.height}px`;const i=(e,t,n)=>{if(!e||"auto"==e)return"";const r=e.match(/^([0-9]+)(px|%)?$/);return r?"%"==r[2]?Math.floor(t*r[1]/100)+"px":"px"==r[2]?e:`calc(${e} * var(${n}))`:""};o.style.width=i(e.width,n.width,"--hterm-charsize-width"),o.style.height=i(e.height,n.height,"--hterm-charsize-height");const a=Math.ceil(o.clientHeight/this.scrollPort_.characterSize.height);for(let e=0;e<a;++e)this.newLine();o.style.maxHeight=`calc(${a} * var(--hterm-charsize-height))`,this.document_.body.removeChild(o);const s=this.document_.createElement("div");s.style.position="relative",s.style.textAlign=e.align||"",o.style.position="absolute",o.style.bottom="calc(0px - var(--hterm-charsize-height))",s.appendChild(o),this.getRowNode(this.scrollbackRows_.length+this.getCursorRow()-1).appendChild(s),void 0===e.uri&&URL.revokeObjectURL(o.src),r.hideOverlay(),r.pop(),t&&t()},o.onerror=t=>{this.document_.body.removeChild(o),r.showOverlay(ap.msg("LOADING_RESOURCE_FAILED",[e.name],"Loading $1 failed")),r.pop(),n&&n(t)}}else{const t=this.document_.createElement("a");if(void 0!==e.uri)t.href=e.uri;else if(void 0!==e.buffer){const n=new Blob([e.buffer]);t.href=URL.createObjectURL(n)}else t.href=URL.createObjectURL(ip.notNull(e.blob));t.download=e.name,this.document_.body.appendChild(t),t.click(),t.remove(),void 0===e.uri&&URL.revokeObjectURL(t.href)}}},ap.Terminal.prototype.getSelectionText=function(){const e=this.scrollPort_.selection;if(e.sync(),e.isCollapsed)return null;let t=e.startOffset,n=e.startNode;if(!n)return null;if("X-ROW"!=n.nodeName)for("#text"==n.nodeName&&"SPAN"==n.parentNode.nodeName&&(n=n.parentNode);n.previousSibling;)n=n.previousSibling,t+=ap.TextAttributes.nodeWidth(n);let r=ap.TextAttributes.nodeWidth(ip.notNull(e.endNode))-e.endOffset;if(n=e.endNode,"X-ROW"!=n.nodeName)for("#text"==n.nodeName&&"SPAN"==n.parentNode.nodeName&&(n=n.parentNode);n.nextSibling;)n=n.nextSibling,r+=ap.TextAttributes.nodeWidth(n);const o=this.getRowsText(e.startRow.rowIndex,e.endRow.rowIndex+1);return ip.wc.substring(o,t,ip.wc.strWidth(o)-r)},ap.Terminal.prototype.copySelectionToClipboard=function(){const e=this.getSelectionText();null!=e&&this.copyStringToClipboard(e)},ap.Terminal.prototype.overlaySize=function(){this.prefs_.get("enable-resize-status")&&this.showOverlay(`${this.screenSize.width}  ${this.screenSize.height}`)},ap.Terminal.prototype.onVTKeystroke=function(e){this.scrollOnKeystroke_&&this.scrollPort_.scrollRowToBottom(this.getRowCount()),this.pauseCursorBlink_(),this.io.onVTKeystroke(e)},ap.Terminal.prototype.openSelectedUrl_=function(){let e=this.getSelectionText();null==e&&(this.screen_.expandSelectionForUrl(this.document_.getSelection()),e=this.getSelectionText(),null==e)||e.length>2048||e.search(/[\s[\](){}<>"'\\^`]/)>=0||(e.search("^[a-zA-Z][a-zA-Z0-9+.-]*://")<0&&("mailto"===e.split(":",1)[0]||(e="http://"+e)),ap.openUrl(e))},ap.Terminal.prototype.setAutomaticMouseHiding=function(e=null){null===e&&(e="cros"!=ap.os&&"mac"!=ap.os),this.mouseHideWhileTyping_=!!e},ap.Terminal.prototype.onKeyboardActivity_=function(e){this.mouseHideWhileTyping_&&!this.mouseHideDelay_&&this.setCssVar("mouse-cursor-style","none")},ap.Terminal.prototype.onMouse_=function(e){if(e.processedByTerminalHandler_)return;e.button>2&&e.preventDefault();const t=!this.defeatMouseReports_&&this.vt.mouseReport!=this.vt.MOUSE_REPORT_DISABLED;e.processedByTerminalHandler_=!0,this.mouseHideWhileTyping_&&!this.mouseHideDelay_&&(this.syncMouseStyle(),this.mouseHideDelay_=setTimeout((()=>this.mouseHideDelay_=null),1e3));const n=this.scrollPort_.screenPaddingSize;if(e.terminalRow=Math.floor((e.clientY-this.scrollPort_.visibleRowTopMargin-n)/this.scrollPort_.characterSize.height)+1,e.terminalColumn=Math.floor((e.clientX-n)/this.scrollPort_.characterSize.width)+1,e.terminalRow=ip.f.clamp(e.terminalRow,1,this.screenSize.height),e.terminalColumn=ip.f.clamp(e.terminalColumn,1,this.screenSize.width),!("mousedown"==e.type&&e.clientX>=this.scrollPort_.getScrollbarX())){if(!this.options_.cursorVisible||t||this.cursorOffScreen_||(e.terminalRow-1==this.screen_.cursorPosition.row&&e.terminalColumn-1==this.screen_.cursorPosition.column?this.cursorNode_.style.display="none":"none"==this.cursorNode_.style.display&&(this.cursorNode_.style.display="")),"mousedown"==e.type&&(this.contextMenu.hide(),e.altKey||!t?(this.defeatMouseReports_=!0,this.setSelectionEnabled(!0)):(this.defeatMouseReports_=!1,this.document_.getSelection().collapseToEnd(),this.setSelectionEnabled(!1),e.preventDefault()),0===e.button&&this.scrollPort_.selection.setAutoScrollEnabled(!0)),t)this.scrollBlockerNode_.engaged||("mousedown"==e.type?(this.scrollBlockerNode_.engaged=!0,this.scrollBlockerNode_.style.top=e.clientY-5+"px",this.scrollBlockerNode_.style.left=e.clientX-5+"px"):"mousemove"==e.type&&(this.document_.getSelection().collapseToEnd(),e.preventDefault())),this.onMouse(e);else{if("dblclick"==e.type&&(this.screen_.expandSelection(this.document_.getSelection()),this.copyOnSelect&&this.copySelectionToClipboard()),"click"==e.type&&!e.shiftKey&&(e.ctrlKey||e.metaKey)){if("uri-node"===e.target.className)return;return clearTimeout(this.timeouts_.openUrl),void(this.timeouts_.openUrl=setTimeout(this.openSelectedUrl_.bind(this),500))}if("mousedown"==e.type&&(e.ctrlKey&&2==e.button?(e.preventDefault(),this.contextMenu.show(e,this)):(e.button==this.mousePasteButton||this.mouseRightClickPaste&&2==e.button)&&!1===this.paste()&&console.warn("Could not paste manually due to web restrictions")),"mouseup"==e.type&&0==e.button&&this.copyOnSelect&&!this.document_.getSelection().isCollapsed&&this.copySelectionToClipboard(),"mousemove"!=e.type&&"mouseup"!=e.type||!this.scrollBlockerNode_.engaged||(this.scrollBlockerNode_.engaged=!1,this.scrollBlockerNode_.style.top="-99px"),this.scrollWheelArrowKeys_&&!e.shiftKey&&this.keyboard.applicationCursor&&!this.isPrimaryScreen()&&"wheel"==e.type){const t=this.scrollPort_.scrollWheelDelta(e),n=(e,t,n,r)=>{if(0==e)return"";const o=ip.f.smartFloorDivide(Math.abs(e),t);return("O"+(e<0?r:n)).repeat(o)};this.io.sendString(n(t.y,this.scrollPort_.characterSize.height,"A","B")+n(t.x,this.scrollPort_.characterSize.width,"C","D")),e.preventDefault()}}"mouseup"==e.type&&(this.document_.getSelection().isCollapsed&&(this.defeatMouseReports_=!1),0===e.button&&this.scrollPort_.selection.setAutoScrollEnabled(!1))}},ap.Terminal.prototype.onMouse=function(e){},ap.Terminal.prototype.onFocusChange_=function(e){this.cursorNode_.setAttribute("focus",e),this.restyleCursor_(),this.reportFocus&&this.io.sendString(!0===e?"[I":"[O"),!0===e&&this.closeBellNotifications_()},ap.Terminal.prototype.onScroll_=function(){this.scheduleSyncCursorPosition_()},ap.Terminal.prototype.onPaste_=function(e){this.onPasteData_(e.text)},ap.Terminal.prototype.onPasteData_=function(e){if(e=e.replace(/\n/gm,"\r"),this.options_.bracketedPaste){const t=e=>e.replace(/[\x00-\x07\x0b-\x0c\x0e-\x1f]/g,"");e="[200~"+t(e)+"[201~"}this.io.sendString(e)},ap.Terminal.prototype.onCopy_=function(e){this.useDefaultWindowCopy||(e.preventDefault(),setTimeout(this.copySelectionToClipboard.bind(this),0))},ap.Terminal.prototype.onResize_=function(){const e=Math.floor(this.scrollPort_.getScreenWidth()/this.scrollPort_.characterSize.width)||0,t=ip.f.smartFloorDivide(this.scrollPort_.getScreenHeight(),this.scrollPort_.characterSize.height)||0;if(e<=0||t<=0)return;const n=e!=this.screenSize.width||t!=this.screenSize.height,r=this.scrollPort_.isScrolledEnd;this.realizeSize_(e,t),this.updateCssCharsize_(),n&&this.overlaySize(),this.restyleCursor_(),this.scheduleSyncCursorPosition_(),r&&this.scrollEnd()},ap.Terminal.prototype.onCursorBlink_=function(){this.options_.cursorBlink?"false"==this.cursorNode_.getAttribute("focus")||"0"==this.cursorNode_.style.opacity||this.cursorBlinkPause_?(this.cursorNode_.style.opacity="1",this.timeouts_.cursorBlink=setTimeout(this.myOnCursorBlink_,this.cursorBlinkCycle_[0])):(this.cursorNode_.style.opacity="0",this.timeouts_.cursorBlink=setTimeout(this.myOnCursorBlink_,this.cursorBlinkCycle_[1])):delete this.timeouts_.cursorBlink},ap.Terminal.prototype.setScrollbarVisible=function(e){this.scrollPort_.setScrollbarVisible(e)},ap.Terminal.prototype.setScrollWheelMoveMultipler=function(e){this.scrollPort_.setScrollWheelMoveMultipler(e)},ap.Terminal.prototype.closeBellNotifications_=function(){this.bellNotificationList_.forEach((function(e){e.close()})),this.bellNotificationList_.length=0},ap.Terminal.prototype.onScrollportFocus_=function(){const e=this.scrollPort_.getTopRowIndex(),t=this.scrollPort_.getBottomRowIndex(e),n=this.document_.getSelection();!this.syncCursorPosition_()&&n&&n.collapse(this.getRowNode(t))},ap.Terminal.prototype.onOpenOptionsPage=function(){},ap.Terminal.prototype.onOpenOptionsPage_=function(){this.onOpenOptionsPage()},ap.Terminal.prototype.onTmuxControlModeLine=function(e){},ap.Terminal.IO=function(e){this.terminal_=e,this.previousIO_=null,this.buffered_="",this.textDecoder_=new TextDecoder},ap.Terminal.IO.prototype.showOverlay=function(e,t=void 0){this.terminal_.showOverlay(e,t)},ap.Terminal.IO.prototype.hideOverlay=function(){this.terminal_.hideOverlay()},ap.Terminal.IO.prototype.createFrame=function(e,t=void 0){return new ap.Frame(this.terminal_,e,t)},ap.Terminal.IO.prototype.setTerminalProfile=function(e){this.terminal_.setProfile(e)},ap.Terminal.IO.prototype.push=function(){const e=new ap.Terminal.IO(this.terminal_);return e.keyboardCaptured_=this.keyboardCaptured_,e.columnCount=this.columnCount,e.rowCount=this.rowCount,e.previousIO_=this.terminal_.io,this.terminal_.io=e,e},ap.Terminal.IO.prototype.pop=function(){this.terminal_.io=this.previousIO_,this.previousIO_.flush()},ap.Terminal.IO.prototype.flush=function(){this.buffered_&&(this.terminal_.interpret(this.buffered_),this.buffered_="")},ap.Terminal.IO.prototype.sendString=function(e){console.log("Unhandled sendString: "+e)},ap.Terminal.IO.prototype.onVTKeystroke=function(e){console.log("Unobserverd VT keystroke: "+JSON.stringify(e))},ap.Terminal.IO.prototype.onTerminalResize_=function(e,t){let n=this;for(;n;)n.columnCount=e,n.rowCount=t,n=n.previousIO_;this.onTerminalResize(e,t)},ap.Terminal.IO.prototype.onTerminalResize=function(e,t){},ap.Terminal.IO.prototype.writeUTF8=function(e){const t=new Uint8Array(e),n=this.textDecoder_.decode(t,{stream:!0});this.print(n)},ap.Terminal.IO.prototype.writelnUTF8=function(e){this.writeUTF8(e),this.writeUTF8([13,10])},ap.Terminal.IO.prototype.print=ap.Terminal.IO.prototype.writeUTF16=function(e){this.terminal_.io==this?this.terminal_.interpret(e):this.buffered_+=e},ap.Terminal.IO.prototype.println=ap.Terminal.IO.prototype.writelnUTF16=function(e){this.print(e+"\r\n")},ap.TextAttributes=function(e){this.document_=e,this.foregroundSource=this.SRC_DEFAULT,this.backgroundSource=this.SRC_DEFAULT,this.underlineSource=this.SRC_DEFAULT,this.foreground=this.DEFAULT_COLOR,this.background=this.DEFAULT_COLOR,this.underlineColor=this.DEFAULT_COLOR,this.defaultForeground="rgb(var(--hterm-foreground-color))",this.defaultBackground="rgb(var(--hterm-background-color))",this.bold=!1,this.faint=!1,this.italic=!1,this.blink=!1,this.underline=!1,this.strikethrough=!1,this.inverse=!1,this.invisible=!1,this.wcNode=!1,this.asciiNode=!0,this.tileData=null,this.uri=null,this.uriId=null,this.colorPaletteOverrides=[]},ap.TextAttributes.prototype.enableBold=!0,ap.TextAttributes.prototype.enableBoldAsBright=!0,ap.TextAttributes.prototype.DEFAULT_COLOR=Symbol("DEFAULT_COLOR"),ap.TextAttributes.prototype.SRC_DEFAULT=Symbol("SRC_DEFAULT"),ap.TextAttributes.prototype.setDocument=function(e){this.document_=e},ap.TextAttributes.prototype.clone=function(){const e=new ap.TextAttributes;for(const t in this)e[t]=this[t];return e.colorPaletteOverrides=this.colorPaletteOverrides.concat(),e},ap.TextAttributes.prototype.reset=function(){this.foregroundSource=this.SRC_DEFAULT,this.backgroundSource=this.SRC_DEFAULT,this.underlineSource=this.SRC_DEFAULT,this.foreground=this.DEFAULT_COLOR,this.background=this.DEFAULT_COLOR,this.underlineColor=this.DEFAULT_COLOR,this.bold=!1,this.faint=!1,this.italic=!1,this.blink=!1,this.underline=!1,this.strikethrough=!1,this.inverse=!1,this.invisible=!1,this.wcNode=!1,this.asciiNode=!0,this.uri=null,this.uriId=null},ap.TextAttributes.prototype.isDefault=function(){return this.foregroundSource==this.SRC_DEFAULT&&this.backgroundSource==this.SRC_DEFAULT&&!this.bold&&!this.faint&&!this.italic&&!this.blink&&!this.underline&&!this.strikethrough&&!this.inverse&&!this.invisible&&!this.wcNode&&this.asciiNode&&null==this.tileData&&null==this.uri},ap.TextAttributes.prototype.createContainer=function(e=""){if(this.isDefault()){const t=this.document_.createTextNode(e);return t.asciiNode=!0,t}const t=this.document_.createElement("span"),n=t.style,r=[];this.foreground!=this.DEFAULT_COLOR&&(n.color=this.foreground.toString()),this.background!=this.DEFAULT_COLOR&&(n.backgroundColor=this.background.toString(),n.display="inline-block"),this.enableBold&&this.bold&&(n.fontWeight="bold"),this.faint&&(t.faint=!0),this.italic&&(n.fontStyle="italic"),this.blink&&(r.push("blink-node"),t.blinkNode=!0);let o="";return t.underline=this.underline,this.underline&&(o+=" underline",n.textDecorationStyle=this.underline),this.underlineColor!=this.DEFAULT_COLOR&&(n.textDecorationColor=this.underlineColor),this.strikethrough&&(o+=" line-through",t.strikethrough=!0),o&&(n.textDecorationLine=o),this.wcNode&&(r.push("wc-node"),t.wcNode=!0),t.asciiNode=this.asciiNode,null!=this.tileData&&(r.push("tile"),r.push("tile_"+this.tileData),t.tileNode=!0),e&&(t.textContent=e),this.uri&&(r.push("uri-node"),t.uriId=this.uriId,t.title=this.uri,t.addEventListener("click",ap.openUrl.bind(this,this.uri))),r.length&&(t.className=r.join(" ")),t},ap.TextAttributes.prototype.matchesContainer=function(e){if("string"==typeof e||e.nodeType==Node.TEXT_NODE)return this.isDefault();const t=e.style;return!(this.wcNode||e.wcNode||this.asciiNode!=e.asciiNode||null!=this.tileData||e.tileNode||this.uriId!=e.uriId||this.foreground!=this.DEFAULT_COLOR||""!=t.color||this.background!=this.DEFAULT_COLOR||""!=t.backgroundColor||this.underlineColor!=this.DEFAULT_COLOR||""!=t.textDecorationColor||(this.enableBold&&this.bold)!=!!t.fontWeight||this.blink!=!!e.blinkNode||this.italic!=!!t.fontStyle||this.underline!=e.underline||!!this.strikethrough!=!!e.strikethrough)},ap.TextAttributes.prototype.syncColors=function(){const e=(e,t)=>e==this.DEFAULT_COLOR?t:e;this.enableBoldAsBright&&this.bold&&"number"==typeof this.foregroundSource&&Number.isInteger(this.foregroundSource)&&(this.foregroundSource=function(e){return e<8?e+8:e}(this.foregroundSource));const t=e=>e==this.SRC_DEFAULT?this.DEFAULT_COLOR:"number"==typeof e&&Number.isInteger(e)?`rgb(var(--hterm-color-${e}))`:e.toString();if(this.foreground=t(this.foregroundSource),this.faint&&(this.foreground==this.DEFAULT_COLOR?this.foreground="rgba(var(--hterm-foreground-color), 0.67)":"number"==typeof this.foregroundSource&&Number.isInteger(this.foregroundSource)?this.foreground=`rgba(var(--hterm-color-${this.foregroundSource}), 0.67)`:this.foreground=ip.colors.setAlpha(this.foreground.toString(),.67)),this.background=t(this.backgroundSource),this.inverse){const t=e(this.foreground,this.defaultForeground);this.foreground=e(this.background,this.defaultBackground),this.background=t}this.invisible&&(this.foreground=this.background),this.underlineColor=t(this.underlineSource)},ap.TextAttributes.containersMatch=function(e,t){if("string"==typeof e)return ap.TextAttributes.containerIsDefault(t);if(e.nodeType!=t.nodeType)return!1;if(e.nodeType==Node.TEXT_NODE)return!0;const n=e.style,r=t.style;return n.color==r.color&&n.backgroundColor==r.backgroundColor&&n.backgroundColor==r.backgroundColor&&n.fontWeight==r.fontWeight&&n.fontStyle==r.fontStyle&&n.textDecoration==r.textDecoration&&n.textDecorationColor==r.textDecorationColor&&n.textDecorationStyle==r.textDecorationStyle&&n.textDecorationLine==r.textDecorationLine},ap.TextAttributes.containerIsDefault=function(e){return"string"==typeof e||e.nodeType==Node.TEXT_NODE},ap.TextAttributes.nodeWidth=function(e){return e.asciiNode?e.textContent.length:ip.wc.strWidth(e.textContent)},ap.TextAttributes.nodeSubstr=function(e,t,n){return e.asciiNode?e.textContent.substr(t,n):ip.wc.substr(e.textContent,t,n)},ap.TextAttributes.nodeSubstring=function(e,t,n){return e.asciiNode?e.textContent.substring(t,n):ip.wc.substring(e.textContent,t,n)},ap.TextAttributes.splitWidecharString=function(e){const t=new RegExp("^[ -]*$");if(t.test(e))return[{str:e,wcNode:!1,asciiNode:!0,wcStrWidth:e.length}];const n=new Intl.Segmenter(void 0,{type:"grapheme"}).segment(e),r=[];for(const e of n){const n=e.segment,o=t.test(n),i=o?1:ip.wc.strWidth(n),a=!o&&2==ip.wc.charWidth(n.codePointAt(0)),s=r[r.length-1];!s||a||s.wcNode?r.push({str:n,wcNode:a,asciiNode:o,wcStrWidth:i}):(s.str+=n,s.wcStrWidth+=i,s.asciiNode=s.asciiNode&&o)}return r},ap.VT=function(e){this.terminal=e,e.onMouse=this.onTerminalMouse_.bind(this),this.mouseReport=this.MOUSE_REPORT_DISABLED,this.mouseCoordinates=this.MOUSE_COORDINATES_X10,this.lastMouseDragResponse_=null,this.parseState_=new ap.VT.ParseState(this.parseUnknown_),this.leadingModifier_="",this.trailingModifier_="",this.allowColumnWidthChanges_=!1,this.oscTimeLimit_=2e4,this.enable8BitControl=!1,this.enableClipboardWrite=!0,this.enableDec12=!1,this.enableCsiJ3=!0,this.warnUnimplemented=!1,this.characterMaps=new ap.VT.CharacterMaps,this.G0=this.G1=this.G2=this.G3=this.characterMaps.getMap("B"),this.GL="G0",this.GR="G0",this.codingSystemUtf8_=!1,this.codingSystemLocked_=!1,this.cc1Pattern_=null,this.updateEncodingState_()},ap.VT.prototype.MOUSE_REPORT_DISABLED=0,ap.VT.prototype.MOUSE_REPORT_PRESS=1,ap.VT.prototype.MOUSE_REPORT_CLICK=2,ap.VT.prototype.MOUSE_REPORT_DRAG=3,ap.VT.prototype.MOUSE_COORDINATES_X10=0,ap.VT.prototype.MOUSE_COORDINATES_UTF8=1,ap.VT.prototype.MOUSE_COORDINATES_SGR=2,ap.VT.ParseState=function(e,t=null){this.defaultFunction=e,this.buf=t,this.pos=0,this.func=e,this.args=[],this.subargs=null},ap.VT.ParseState.prototype.reset=function(e=""){this.resetParseFunction(),this.resetBuf(e),this.resetArguments()},ap.VT.ParseState.prototype.resetParseFunction=function(){this.func=this.defaultFunction},ap.VT.ParseState.prototype.resetBuf=function(e=null){this.buf=e,this.pos=0},ap.VT.ParseState.prototype.resetArguments=function(e=void 0){this.args.length=0,void 0!==e&&(this.args[0]=e)},ap.VT.ParseState.prototype.parseInt=function(e,t){if(void 0===t&&(t=0),e){const n=parseInt(e,10);return 0==n?t:n}return t},ap.VT.ParseState.prototype.iarg=function(e,t){return this.parseInt(this.args[e],t)},ap.VT.ParseState.prototype.argHasSubargs=function(e){return!(!this.subargs||!this.subargs[e])},ap.VT.ParseState.prototype.argSetSubargs=function(e){null===this.subargs&&(this.subargs={}),this.subargs[e]=!0},ap.VT.ParseState.prototype.advance=function(e){this.pos+=e},ap.VT.ParseState.prototype.peekRemainingBuf=function(){return this.buf.substr(this.pos)},ap.VT.ParseState.prototype.peekChar=function(){return this.buf.substr(this.pos,1)},ap.VT.ParseState.prototype.consumeChar=function(){return this.buf.substr(this.pos++,1)},ap.VT.ParseState.prototype.isComplete=function(){return null==this.buf||this.buf.length<=this.pos},ap.VT.prototype.resetParseState=function(){this.parseState_.reset()},ap.VT.prototype.reset=function(){this.G0=this.G1=this.G2=this.G3=this.characterMaps.getMap("B"),this.GL="G0",this.GR="G0",this.mouseReport=this.MOUSE_REPORT_DISABLED,this.mouseCoordinates=this.MOUSE_COORDINATES_X10,this.lastMouseDragResponse_=null},ap.VT.prototype.onTerminalMouse_=function(e){if(this.mouseReport==this.MOUSE_REPORT_DISABLED)return;if(this.mouseReport!=this.MOUSE_REPORT_DRAG&&"mousemove"==e.type)return;let t,n,r,o=0;this.mouseReport!=this.MOUSE_REPORT_PRESS&&(e.shiftKey&&(o|=4),(e.metaKey||this.terminal.keyboard.altIsMeta&&e.altKey)&&(o|=8),e.ctrlKey&&(o|=16));let i,a=127;switch(this.mouseCoordinates){case this.MOUSE_COORDINATES_UTF8:a=2047;case this.MOUSE_COORDINATES_X10:n=String.fromCharCode(ip.f.clamp(e.terminalColumn+32,32,a)),r=String.fromCharCode(ip.f.clamp(e.terminalRow+32,32,a));break;case this.MOUSE_COORDINATES_SGR:n=e.terminalColumn,r=e.terminalRow}switch(e.type){case"wheel":i=64+(-1*e.deltaY>0?0:1),i|=o,t=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?`[<${i};${n};${r}M`:"[M"+String.fromCharCode(i+32)+n+r,e.preventDefault();break;case"mousedown":i=Math.min(e.button,2),this.mouseCoordinates!=this.MOUSE_COORDINATES_SGR&&(i+=32),i|=o,t=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?`[<${i};${n};${r}M`:"[M"+String.fromCharCode(i)+n+r;break;case"mouseup":this.mouseReport!=this.MOUSE_REPORT_PRESS&&(t=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?`[<${e.button};${n};${r}m`:"[M#"+n+r);break;case"mousemove":this.mouseReport==this.MOUSE_REPORT_DRAG&&e.buttons&&(i=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?0:32,1&e.buttons?i+=0:4&e.buttons?i+=1:2&e.buttons?i+=2:i+=3,i+=32,i|=o,t=this.mouseCoordinates==this.MOUSE_COORDINATES_SGR?`[<${i};${n};${r}M`:"[M"+String.fromCharCode(i)+n+r,this.lastMouseDragResponse_==t?t="":this.lastMouseDragResponse_=t);break;case"click":case"dblclick":break;default:console.error("Unknown mouse event: "+e.type,e)}t&&this.terminal.io.sendString(t)},ap.VT.prototype.interpret=function(e){for(this.parseState_.resetBuf(e);!this.parseState_.isComplete();){const e=this.parseState_.func,t=this.parseState_.pos,n=this.parseState_.buf;if(this.parseState_.func.call(this,this.parseState_),this.parseState_.func==e&&this.parseState_.pos==t&&this.parseState_.buf==n)throw new Error("Parser did not alter the state!")}},ap.VT.prototype.setEncoding=function(e){switch(e){default:console.warn('Invalid value for "terminal-encoding": '+e);case"iso-2022":this.codingSystemUtf8_=!1,this.codingSystemLocked_=!1;break;case"utf-8-locked":this.codingSystemUtf8_=!0,this.codingSystemLocked_=!0;break;case"utf-8":this.codingSystemUtf8_=!0,this.codingSystemLocked_=!1}this.updateEncodingState_()},ap.VT.prototype.updateEncodingState_=function(){const e=Object.keys(ap.VT.CC1).filter((e=>!this.codingSystemUtf8_||e.charCodeAt()<128)).map((e=>"\\x"+ip.f.zpad(e.charCodeAt().toString(16),2))).join("");this.cc1Pattern_=new RegExp(`[${e}]`)},ap.VT.prototype.parseUnknown_=function(e){const t=e=>{!this.codingSystemUtf8_&&this[this.GL].GL&&(e=this[this.GL].GL(e)),this.terminal.print(e)},n=e.peekRemainingBuf(),r=n.search(this.cc1Pattern_);return 0==r?(this.dispatch("CC1",n.substr(0,1),e),void e.advance(1)):-1==r?(t(n),void e.reset()):(t(n.substr(0,r)),this.dispatch("CC1",n.substr(r,1),e),void e.advance(r+1))},ap.VT.prototype.parseCSI_=function(e){const t=e.peekChar(),n=e.args,r=()=>{e.resetArguments(),e.subargs=null,e.resetParseFunction()};t>="@"&&t<="~"?(this.dispatch("CSI",this.leadingModifier_+this.trailingModifier_+t,e),r()):";"==t?this.trailingModifier_?r():(n.length||n.push(""),n.push("")):t>="0"&&t<="9"||":"==t?this.trailingModifier_?r():(n.length?n[n.length-1]+=t:n[0]=t,":"==t&&e.argSetSubargs(n.length-1)):t>=" "&&t<="?"?n.length?this.trailingModifier_+=t:this.leadingModifier_+=t:this.cc1Pattern_.test(t)?this.dispatch("CC1",t,e):r(),e.advance(1)},ap.VT.prototype.parseDCS_=function(e){const t=e.peekChar(),n=e.args,r=()=>{e.resetArguments(),e.resetParseFunction()};if(t>="@"&&t<="~")return e.advance(1),this.dispatch("DCS",this.leadingModifier_+this.trailingModifier_+t,e),void(e.func===this.parseDCS_&&(e.func=this.parseUntilStringTerminator_));";"===t?this.trailingModifier_?r():(n.length||n.push(""),n.push("")):t>="0"&&t<="9"?this.trailingModifier_?r():n.length?n[n.length-1]+=t:n[0]=t:t>=" "&&t<="?"?n.length?this.trailingModifier_+=t:this.leadingModifier_+=t:this.cc1Pattern_.test(t)?this.dispatch("CC1",t,e):r(),e.advance(1)},ap.VT.prototype.parseTmuxControlModeData_=function(e){const t=e.args;for(t.length||(t[0]="");;){const n=t[0].length,r=t[0]+e.peekRemainingBuf();t[0]="";const o=r.search(/\x1b\\|\r\n/);if(-1===o)return e.args[0]=r,void e.resetBuf();const i=r.slice(0,o);if(e.advance(o+2-n),""===r[o])return i&&console.error(`unexpected data before ST: ${i}`),this.terminal.onTmuxControlModeLine(null),e.resetArguments(),void e.resetParseFunction();this.terminal.onTmuxControlModeLine(i)}},ap.VT.prototype.parseUntilStringTerminator_=function(e){let t=e.peekRemainingBuf();const n=e.args;let r=0;n.length?""==n[0].slice(-1)&&(n[0]=n[0].slice(0,-1),t=""+t,r=1):(n[0]="",n[1]=(new Date).getTime());const o=t.search(/[\x1b\x07]/),i=t[o];let a;if(a=(""!=i||"\\"==t[o+1])&&-1!=o,!a){let a;n[0]+=t,""==i&&o!=t.length-1&&(a="embedded escape: "+o);const s=(new Date).getTime()-n[1];return s>this.oscTimeLimit_&&(a=`timeout expired: ${s}s`),a?(this.warnUnimplemented&&console.log("parseUntilStringTerminator_: aborting: "+a,n[0]),e.reset(n[0]),!1):(e.advance(t.length-r),!0)}return n[0]+=t.substr(0,o),e.resetParseFunction(),e.advance(o+(""==i?2:1)-r),!0},ap.VT.prototype.dispatch=function(e,t,n){const r=ap.VT[e][t];r?r!=ap.VT.ignore?!n.subargs||r.supportsSubargs?"CC1"==e&&t>""&&!this.enable8BitControl?console.warn("Ignoring 8-bit control code: 0x"+t.charCodeAt(0).toString(16)):r.apply(this,[n,t]):this.warnUnimplemented&&console.warn(`Ignored ${e} code w/subargs: ${JSON.stringify(t)}`):this.warnUnimplemented&&console.warn(`Ignored ${e} code: ${JSON.stringify(t)}`):this.warnUnimplemented&&console.warn(`Unknown ${e} code: ${JSON.stringify(t)}`)},ap.VT.prototype.setANSIMode=function(e,t){4==e?this.terminal.setInsertMode(t):20==e?this.terminal.setAutoCarriageReturn(t):this.warnUnimplemented&&console.warn("Unimplemented ANSI Mode: "+e)},ap.VT.prototype.setDECMode=function(e,t){switch(parseInt(e,10)){case 1:this.terminal.keyboard.applicationCursor=t;break;case 3:this.allowColumnWidthChanges_&&(this.terminal.setWidth(t?132:80),this.terminal.clearHome(),this.terminal.setVTScrollRegion(null,null));break;case 5:this.terminal.setReverseVideo(t);break;case 6:this.terminal.setOriginMode(t);break;case 7:this.terminal.setWraparound(t);break;case 9:this.mouseReport=t?this.MOUSE_REPORT_PRESS:this.MOUSE_REPORT_DISABLED,this.terminal.syncMouseStyle();break;case 12:this.enableDec12&&this.terminal.setCursorBlink(t);break;case 25:this.terminal.setCursorVisible(t);break;case 30:this.terminal.setScrollbarVisible(t);break;case 40:this.terminal.allowColumnWidthChanges_=t;break;case 45:this.terminal.setReverseWraparound(t);break;case 67:this.terminal.keyboard.backspaceSendsBackspace=t;break;case 1e3:this.mouseReport=t?this.MOUSE_REPORT_CLICK:this.MOUSE_REPORT_DISABLED,this.terminal.syncMouseStyle();break;case 1002:this.mouseReport=t?this.MOUSE_REPORT_DRAG:this.MOUSE_REPORT_DISABLED,this.terminal.syncMouseStyle();break;case 1004:this.terminal.reportFocus=t;break;case 1005:this.mouseCoordinates=t?this.MOUSE_COORDINATES_UTF8:this.MOUSE_COORDINATES_X10;break;case 1006:this.mouseCoordinates=t?this.MOUSE_COORDINATES_SGR:this.MOUSE_COORDINATES_X10;break;case 1007:this.terminal.scrollWheelArrowKeys_=t;break;case 1010:this.terminal.scrollOnOutput=t;break;case 1011:this.terminal.scrollOnKeystroke=t;break;case 1036:this.terminal.keyboard.metaSendsEscape=t;break;case 1039:t?this.terminal.keyboard.previousAltSendsWhat_||(this.terminal.keyboard.previousAltSendsWhat_=this.terminal.keyboard.altSendsWhat,this.terminal.keyboard.altSendsWhat="escape"):this.terminal.keyboard.previousAltSendsWhat_&&(this.terminal.keyboard.altSendsWhat=this.terminal.keyboard.previousAltSendsWhat_,this.terminal.keyboard.previousAltSendsWhat_=null);break;case 47:case 1047:this.terminal.setAlternateMode(t);break;case 1048:t?this.terminal.saveCursorAndState():this.terminal.restoreCursorAndState();break;case 1049:t?(this.terminal.saveCursorAndState(),this.terminal.setAlternateMode(t),this.terminal.clear()):(this.terminal.setAlternateMode(t),this.terminal.restoreCursorAndState());break;case 2004:this.terminal.setBracketedPaste(t);break;default:this.warnUnimplemented&&console.warn("Unimplemented DEC Private Mode: "+e)}},ap.VT.ignore=function(){},ap.VT.CC1={},ap.VT.ESC={},ap.VT.CSI={},ap.VT.DCS={},ap.VT.OSC={},ap.VT.VT52={},ap.VT.CC1["\0"]=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ignore,ap.VT.CC1[""]=function(){this.terminal.ringBell()},ap.VT.CC1["\b"]=function(){this.terminal.cursorLeft(1)},ap.VT.CC1["\t"]=function(){this.terminal.forwardTabStop()},ap.VT.CC1["\n"]=function(){this.terminal.formFeed()},ap.VT.CC1["\v"]=ap.VT.CC1["\n"],ap.VT.CC1["\f"]=ap.VT.CC1["\n"],ap.VT.CC1["\r"]=function(){this.terminal.setCursorColumn(0)},ap.VT.CC1[""]=function(){this.GL="G1"},ap.VT.CC1[""]=function(){this.GL="G0"},ap.VT.CC1[""]=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ignore,ap.VT.CC1[""]=function(e){"G1"==this.GL&&(this.GL="G0"),e.resetParseFunction(),this.terminal.print("?")},ap.VT.CC1[""]=ap.VT.CC1[""],ap.VT.CC1[""]=function(e){e.func=function e(t){const n=t.consumeChar();""!=n&&(this.dispatch("ESC",n,t),t.func==e&&t.resetParseFunction())}},ap.VT.CC1[""]=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ESC.D=function(){this.terminal.lineFeed()},ap.VT.CC1[""]=ap.VT.ESC.E=function(){this.terminal.setCursorColumn(0),this.terminal.cursorDown(1)},ap.VT.CC1[""]=ap.VT.ESC.H=function(){this.terminal.setTabStop(this.terminal.getCursorColumn())},ap.VT.CC1[""]=ap.VT.ESC.M=function(){this.terminal.reverseLineFeed()},ap.VT.CC1[""]=ap.VT.ESC.N=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ESC.O=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ESC.P=function(e){e.resetArguments(),this.leadingModifier_="",this.trailingModifier_="",e.func=this.parseDCS_},ap.VT.CC1[""]=ap.VT.ESC.V=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ESC.W=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ESC.X=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ESC.Z=function(){this.terminal.io.sendString("[?1;2c")},ap.VT.CC1[""]=ap.VT.ESC["["]=function(e){e.resetArguments(),this.leadingModifier_="",this.trailingModifier_="",e.func=this.parseCSI_},ap.VT.CC1[""]=ap.VT.ESC["\\"]=ap.VT.ignore,ap.VT.CC1[""]=ap.VT.ESC["]"]=function(e){e.resetArguments(),e.func=function e(t){if(!this.parseUntilStringTerminator_(t))return;if(t.func==e)return;const n=t.args[0].match(/^(\d+);?(.*)$/);n?(t.args[0]=n[2],this.dispatch("OSC",n[1],t)):console.warn("Invalid OSC: "+JSON.stringify(t.args[0])),t.resetArguments()}},ap.VT.CC1[""]=ap.VT.ESC["^"]=function(e){e.resetArguments(),e.func=this.parseUntilStringTerminator_},ap.VT.CC1[""]=ap.VT.ESC._=function(e){e.resetArguments(),e.func=this.parseUntilStringTerminator_},ap.VT.ESC[" "]=function(e){e.func=function(e){const t=e.consumeChar();this.warnUnimplemented&&console.warn("Unimplemented sequence: ESC 0x20 "+t),e.resetParseFunction()}},ap.VT.ESC["#"]=function(e){e.func=function(e){"8"==e.consumeChar()&&(this.terminal.setCursorPosition(0,0),this.terminal.fill("E")),e.resetParseFunction()}},ap.VT.ESC["%"]=function(e){e.func=function(e){let t=e.consumeChar();if(this.codingSystemLocked_)return"/"==t&&e.consumeChar(),void e.resetParseFunction();switch(t){case"@":this.setEncoding("iso-2022");break;case"G":this.setEncoding("utf-8");break;case"/":switch(t=e.consumeChar(),t){case"G":case"H":case"I":this.setEncoding("utf-8-locked");break;default:this.warnUnimplemented&&console.warn("Unknown ESC % / argument: "+JSON.stringify(t))}break;default:this.warnUnimplemented&&console.warn("Unknown ESC % argument: "+JSON.stringify(t))}e.resetParseFunction()}},ap.VT.ESC["("]=ap.VT.ESC[")"]=ap.VT.ESC["*"]=ap.VT.ESC["+"]=ap.VT.ESC["-"]=ap.VT.ESC["."]=ap.VT.ESC["/"]=function(e,t){e.func=function(e){if(""===e.peekChar())return void e.resetParseFunction();const n=e.consumeChar(),r=this.characterMaps.getMap(n);void 0!==r?"("==t?this.G0=r:")"==t||"-"==t?this.G1=r:"*"==t||"."==t?this.G2=r:"+"!=t&&"/"!=t||(this.G3=r):this.warnUnimplemented&&console.log('Invalid character set for "'+t+'": '+n),e.resetParseFunction()}},ap.VT.ESC[6]=ap.VT.ignore,ap.VT.ESC[7]=function(){this.terminal.saveCursorAndState()},ap.VT.ESC[8]=function(){this.terminal.restoreCursorAndState()},ap.VT.ESC[9]=ap.VT.ignore,ap.VT.ESC["="]=function(){this.terminal.keyboard.applicationKeypad=!0},ap.VT.ESC[">"]=function(){this.terminal.keyboard.applicationKeypad=!1},ap.VT.ESC.F=ap.VT.ignore,ap.VT.ESC.c=function(){this.terminal.reset()},ap.VT.ESC.k=function(e){e.resetArguments(),e.func=function e(t){this.parseUntilStringTerminator_(t)&&t.func!==e&&(this.terminal.setWindowName(t.args[0]),t.resetArguments())}},ap.VT.ESC.l=ap.VT.ESC.m=ap.VT.ignore,ap.VT.ESC.n=function(){this.GL="G2"},ap.VT.ESC.o=function(){this.GL="G3"},ap.VT.ESC["|"]=function(){this.GR="G3"},ap.VT.ESC["}"]=function(){this.GR="G2"},ap.VT.ESC["~"]=function(){this.GR="G1"},ap.VT.DCS.p=function(e){1===e.args.length&&"1000"===e.args[0]&&(e.resetArguments(),e.func=this.parseTmuxControlModeData_)},ap.VT.OSC[0]=function(e){this.terminal.setWindowTitle(e.args[0])},ap.VT.OSC[2]=ap.VT.OSC[0],ap.VT.OSC[4]=function(e){const t=e.args[0].split(";"),n=Math.floor(t.length/2),r=[];for(let e=0;e<n;++e){const n=parseInt(t[2*e],10);let o=t[2*e+1];n>=ip.colors.stockPalette.length||("?"!=o?(o=ip.colors.x11ToCSS(o),o&&this.terminal.setColorPalette(n,o)):(o=ip.colors.rgbToX11(this.terminal.getColorPalette(n)),o&&r.push(n+";"+o)))}r.length&&this.terminal.io.sendString("]4;"+r.join(";")+"")},ap.VT.OSC[8]=function(e){const t=e.args[0].split(";");let n=null,r=null;if(2!=t.length||0==t[1].length);else{const e=t[0].split(":");n="",e.forEach((e=>{const t=e.indexOf("=");if(-1==t)return;const r=e.slice(0,t),o=e.slice(t+1);"id"===r&&(n=o)})),r=t[1]}const o=this.terminal.getTextAttributes();o.uri=r,o.uriId=n},ap.VT.OSC[9]=function(e){ap.notify({body:e.args[0]})},ap.VT.OSC[10]=function(e){const t=e.args[0].split(";");if(!t)return;const n=ip.colors.x11ToCSS(t.shift());n&&this.terminal.setForegroundColor(n),t.length>0&&(e.args[0]=t.join(";"),ap.VT.OSC[11].apply(this,[e]))},ap.VT.OSC[11]=function(e){const t=e.args[0].split(";");if(!t)return;const n=ip.colors.x11ToCSS(t.shift());n&&this.terminal.setBackgroundColor(n),t.length>0&&(e.args[0]=t.join(";"),ap.VT.OSC[12].apply(this,[e]))},ap.VT.OSC[12]=function(e){const t=e.args[0].split(";");if(!t)return;const n=ip.colors.x11ToCSS(t.shift());n&&this.terminal.setCursorColor(n)},ap.VT.OSC[50]=function(e){const t=e.args[0].match(/CursorShape=(.)/i);if(t)switch(t[1]){case"1":this.terminal.setCursorShape(ap.Terminal.cursorShape.BEAM);break;case"2":this.terminal.setCursorShape(ap.Terminal.cursorShape.UNDERLINE);break;default:this.terminal.setCursorShape(ap.Terminal.cursorShape.BLOCK)}else console.warn("Could not parse OSC 50 args: "+e.args[0])},ap.VT.OSC[52]=function(e){if(!this.enableClipboardWrite)return;const t=e.args[0].match(/^[cps01234567]*;(.*)/);if(!t)return;let n;try{n=window.atob(t[1])}catch(e){return}const r=new TextDecoder,o=ip.codec.stringToCodeUnitArray(n);n=r.decode(o),n&&this.terminal.copyStringToClipboard(n)},ap.VT.OSC[104]=function(e){e.args[0]?e.args[0].split(";").forEach((e=>this.terminal.resetColor(e))):this.terminal.resetColorPalette()},ap.VT.OSC[110]=function(e){this.terminal.setForegroundColor()},ap.VT.OSC[111]=function(e){this.terminal.setBackgroundColor()},ap.VT.OSC[112]=function(e){this.terminal.setCursorColor()},ap.VT.OSC[1337]=function(e){const t=e.args[0].match(/^File=([^:]*):([\s\S]*)$/m);if(!t)return void(this.warnUnimplemented&&console.log(`iTerm2 1337: unsupported sequence: ${t[1]}`));const n={name:"",size:0,preserveAspectRatio:!0,inline:!1,width:"auto",height:"auto",align:"left",type:"",buffer:ip.codec.stringToCodeUnitArray(atob(t[2])).buffer};if(t[1].split(";").forEach((e=>{const t=e.match(/^([^=]+)=(.*)$/m);if(t)switch(t[1]){case"name":try{n.name=window.atob(t[2])}catch(e){}break;case"size":try{n.size=parseInt(t[2],10)}catch(e){}break;case"width":n.width=t[2];break;case"height":n.height=t[2];break;case"preserveAspectRatio":n.preserveAspectRatio=!("0"==t[2]);break;case"inline":n.inline=!("0"==t[2]);break;case"align":n.align=t[2];break;case"type":n.type=t[2]}})),n.inline){const t=this.terminal.io,r=e.peekRemainingBuf();e.advance(r.length),this.terminal.displayImage(n),t.print(r)}else this.terminal.displayImage(n)},ap.VT.OSC[777]=function(e){let t;switch(e.args[0].split(";",1)[0]){case"notify":{let n,r;t=e.args[0].match(/^[^;]+;([^;]*)(;([\s\S]*))?$/),t&&(n=t[1],r=t[3]),ap.notify({title:n,body:r});break}default:console.warn("Unknown urxvt module: "+e.args[0])}},ap.VT.CSI["@"]=function(e){this.terminal.insertSpace(e.iarg(0,1))},ap.VT.CSI.A=function(e){this.terminal.cursorUp(e.iarg(0,1))},ap.VT.CSI.B=function(e){this.terminal.cursorDown(e.iarg(0,1))},ap.VT.CSI.C=function(e){this.terminal.cursorRight(e.iarg(0,1))},ap.VT.CSI.D=function(e){this.terminal.cursorLeft(e.iarg(0,1))},ap.VT.CSI.E=function(e){this.terminal.cursorDown(e.iarg(0,1)),this.terminal.setCursorColumn(0)},ap.VT.CSI.F=function(e){this.terminal.cursorUp(e.iarg(0,1)),this.terminal.setCursorColumn(0)},ap.VT.CSI.G=function(e){this.terminal.setCursorColumn(e.iarg(0,1)-1)},ap.VT.CSI.H=function(e){this.terminal.setCursorPosition(e.iarg(0,1)-1,e.iarg(1,1)-1)},ap.VT.CSI.I=function(e){let t=e.iarg(0,1);t=ip.f.clamp(t,1,this.terminal.screenSize.width);for(let e=0;e<t;e++)this.terminal.forwardTabStop()},ap.VT.CSI.J=ap.VT.CSI["?J"]=function(e){const t=e.args[0];t&&0!=t?1==t?this.terminal.eraseAbove():2==t?this.terminal.clear():3==t&&this.enableCsiJ3&&this.terminal.clearScrollback():this.terminal.eraseBelow()},ap.VT.CSI.K=ap.VT.CSI["?K"]=function(e){const t=e.args[0];t&&0!=t?1==t?this.terminal.eraseToLeft():2==t&&this.terminal.eraseLine():this.terminal.eraseToRight()},ap.VT.CSI.L=function(e){this.terminal.insertLines(e.iarg(0,1))},ap.VT.CSI.M=function(e){this.terminal.deleteLines(e.iarg(0,1))},ap.VT.CSI.P=function(e){this.terminal.deleteChars(e.iarg(0,1))},ap.VT.CSI.S=function(e){this.terminal.vtScrollUp(e.iarg(0,1))},ap.VT.CSI.T=function(e){e.args.length<=1&&this.terminal.vtScrollDown(e.iarg(0,1))},ap.VT.CSI[">T"]=ap.VT.ignore,ap.VT.CSI.X=function(e){this.terminal.eraseToRight(e.iarg(0,1))},ap.VT.CSI.Z=function(e){let t=e.iarg(0,1);t=ip.f.clamp(t,1,this.terminal.screenSize.width);for(let e=0;e<t;e++)this.terminal.backwardTabStop()},ap.VT.CSI["`"]=ap.VT.CSI.G,ap.VT.CSI.a=function(e){this.terminal.setCursorColumn(this.terminal.getCursorColumn()+e.iarg(0,1))},ap.VT.CSI.b=ap.VT.ignore,ap.VT.CSI.c=function(e){e.args[0]&&0!=e.args[0]||this.terminal.io.sendString("[?1;2c")},ap.VT.CSI[">c"]=function(e){this.terminal.io.sendString("[>0;256;0c")},ap.VT.CSI.d=function(e){this.terminal.setAbsoluteCursorRow(e.iarg(0,1)-1)},ap.VT.CSI.f=ap.VT.CSI.H,ap.VT.CSI.g=function(e){e.args[0]&&0!=e.args[0]?3==e.args[0]&&this.terminal.clearAllTabStops():this.terminal.clearTabStopAtCursor()},ap.VT.CSI.h=function(e){for(let t=0;t<e.args.length;t++)this.setANSIMode(e.args[t],!0)},ap.VT.CSI["?h"]=function(e){for(let t=0;t<e.args.length;t++)this.setDECMode(e.args[t],!0)},ap.VT.CSI.i=ap.VT.CSI["?i"]=ap.VT.ignore,ap.VT.CSI.l=function(e){for(let t=0;t<e.args.length;t++)this.setANSIMode(e.args[t],!1)},ap.VT.CSI["?l"]=function(e){for(let t=0;t<e.args.length;t++)this.setDECMode(e.args[t],!1)},ap.VT.prototype.parseSgrExtendedColors=function(e,t,n){let r,o;if(e.argHasSubargs(t))r=e.args[t].split(":"),r.shift(),o=!0;else{if(e.argHasSubargs(t+1))return{skipCount:0};r=e.args.slice(t+1),o=!1}switch(parseInt(r[0],10)){default:case 0:return{skipCount:0};case 1:return o?{color:"rgba(0, 0, 0, 0)",skipCount:0}:{skipCount:0};case 2:{let t;return t=o?4==r.length?1:2:1,r.length<t+3?{skipCount:0}:{color:`rgb(${e.parseInt(r[t+0])}, ${e.parseInt(r[t+1])}, ${e.parseInt(r[t+2])})`,skipCount:o?0:4}}case 3:case 4:return o?(r.length,{skipCount:0}):{skipCount:0};case 5:{if(r.length<2)return{skipCount:0};const t={skipCount:o?0:2},n=e.parseInt(r[1]);return n<ip.colors.stockPalette.length&&(t.color=n),t}}},ap.VT.CSI.m=function(e){const t=this.terminal.getTextAttributes();if(e.args.length){for(let n=0;n<e.args.length;n++){const r=e.iarg(n,0);if(r<30)if(0==r)t.reset();else if(1==r)t.bold=!0;else if(2==r)t.faint=!0;else if(3==r)t.italic=!0;else if(4==r)if(e.argHasSubargs(n)){const r=e.args[n].split(":")[1];0==r?t.underline=!1:1==r?t.underline="solid":2==r?t.underline="double":3==r?t.underline="wavy":4==r?t.underline="dotted":5==r&&(t.underline="dashed")}else t.underline="solid";else 5==r?t.blink=!0:7==r?t.inverse=!0:8==r?t.invisible=!0:9==r?t.strikethrough=!0:21==r?t.underline="double":22==r?(t.bold=!1,t.faint=!1):23==r?t.italic=!1:24==r?t.underline=!1:25==r?t.blink=!1:27==r?t.inverse=!1:28==r?t.invisible=!1:29==r&&(t.strikethrough=!1);else if(r<50)if(r<38)t.foregroundSource=r-30;else if(38==r){const r=this.parseSgrExtendedColors(e,n,t);void 0!==r.color&&(t.foregroundSource=r.color),n+=r.skipCount}else if(39==r)t.foregroundSource=t.SRC_DEFAULT;else if(r<48)t.backgroundSource=r-40;else if(48==r){const r=this.parseSgrExtendedColors(e,n,t);void 0!==r.color&&(t.backgroundSource=r.color),n+=r.skipCount}else t.backgroundSource=t.SRC_DEFAULT;else if(58==r){const r=this.parseSgrExtendedColors(e,n,t);void 0!==r.color&&(t.underlineSource=r.color),n+=r.skipCount}else 59==r?t.underlineSource=t.SRC_DEFAULT:r>=90&&r<=97?t.foregroundSource=r-90+8:r>=100&&r<=107&&(t.backgroundSource=r-100+8)}t.syncColors()}else t.reset()},ap.VT.CSI.m.supportsSubargs=!0,ap.VT.CSI[">m"]=ap.VT.ignore,ap.VT.CSI.n=function(e){if(5==e.args[0])this.terminal.io.sendString("0n");else if(6==e.args[0]){const e=this.terminal.getCursorRow()+1,t=this.terminal.getCursorColumn()+1;this.terminal.io.sendString("["+e+";"+t+"R")}},ap.VT.CSI[">n"]=ap.VT.ignore,ap.VT.CSI["?n"]=function(e){if(6==e.args[0]){const e=this.terminal.getCursorRow()+1,t=this.terminal.getCursorColumn()+1;this.terminal.io.sendString("["+e+";"+t+"R")}else 15==e.args[0]?this.terminal.io.sendString("[?11n"):25==e.args[0]?this.terminal.io.sendString("[?21n"):26==e.args[0]?this.terminal.io.sendString("[?12;1;0;0n"):53==e.args[0]&&this.terminal.io.sendString("[?50n")},ap.VT.CSI[">p"]=ap.VT.ignore,ap.VT.CSI["!p"]=function(){this.terminal.softReset()},ap.VT.CSI.$p=ap.VT.ignore,ap.VT.CSI["?$p"]=ap.VT.ignore,ap.VT.CSI['"p']=ap.VT.ignore,ap.VT.CSI.q=ap.VT.ignore,ap.VT.CSI[" q"]=function(e){const t=e.args[0];0==t||1==t?(this.terminal.setCursorShape(ap.Terminal.cursorShape.BLOCK),this.terminal.setCursorBlink(!0)):2==t?(this.terminal.setCursorShape(ap.Terminal.cursorShape.BLOCK),this.terminal.setCursorBlink(!1)):3==t?(this.terminal.setCursorShape(ap.Terminal.cursorShape.UNDERLINE),this.terminal.setCursorBlink(!0)):4==t?(this.terminal.setCursorShape(ap.Terminal.cursorShape.UNDERLINE),this.terminal.setCursorBlink(!1)):5==t?(this.terminal.setCursorShape(ap.Terminal.cursorShape.BEAM),this.terminal.setCursorBlink(!0)):6==t?(this.terminal.setCursorShape(ap.Terminal.cursorShape.BEAM),this.terminal.setCursorBlink(!1)):console.warn("Unknown cursor style: "+t)},ap.VT.CSI['"q']=ap.VT.ignore,ap.VT.CSI.r=function(e){const t=e.args,n=t[0]?parseInt(t[0],10):0,r=t[1]?parseInt(t[1],10):this.terminal.screenSize.height;n<0||r>this.terminal.screenSize.height||r<=n||(this.terminal.setVTScrollRegion(0===n?null:n-1,r-1),this.terminal.setCursorPosition(0,0))},ap.VT.CSI["?r"]=ap.VT.ignore,ap.VT.CSI.$r=ap.VT.ignore,ap.VT.CSI.s=function(){this.terminal.saveCursorAndState()},ap.VT.CSI["?s"]=ap.VT.ignore,ap.VT.CSI.t=ap.VT.ignore,ap.VT.CSI.$t=ap.VT.ignore,ap.VT.CSI[">t"]=ap.VT.ignore,ap.VT.CSI[" t"]=ap.VT.ignore,ap.VT.CSI.u=function(){this.terminal.restoreCursorAndState()},ap.VT.CSI[" u"]=ap.VT.ignore,ap.VT.CSI.$v=ap.VT.ignore,ap.VT.CSI["'w"]=ap.VT.ignore,ap.VT.CSI.x=ap.VT.ignore,ap.VT.CSI["*x"]=ap.VT.ignore,ap.VT.CSI.$x=ap.VT.ignore,ap.VT.CSI.z=function(e){if(e.args.length<1)return;const t=e.args[0];if(0==t){if(e.args.length<2)return;this.terminal.getTextAttributes().tileData=e.args[1]}else 1==t&&(this.terminal.getTextAttributes().tileData=null)},ap.VT.CSI["'z"]=ap.VT.ignore,ap.VT.CSI.$z=ap.VT.ignore,ap.VT.CSI["'{"]=ap.VT.ignore,ap.VT.CSI["'|"]=ap.VT.ignore,ap.VT.CSI["'}"]=ap.VT.ignore,ap.VT.CSI["'~"]=ap.VT.ignore,ap.VT.CharacterMap=function(e,t){this.description=e,this.GL=null,this.glmapBase_=t,this.sync_()},ap.VT.CharacterMap.prototype.sync_=function(e=void 0){if(!this.glmapBase_&&!e)return this.GL=null,delete this.glmap_,void delete this.glre_;this.glmap_=e?Object.assign({},this.glmapBase_,e):this.glmapBase_;const t=Object.keys(ip.notNull(this.glmap_)).map((e=>"\\x"+ip.f.zpad(e.charCodeAt(0).toString(16),2)));this.glre_=new RegExp("["+t.join("")+"]","g"),this.GL=e=>e.replace(this.glre_,(e=>this.glmap_[e]))},ap.VT.CharacterMap.prototype.reset=function(){this.glmap_!==this.glmapBase_&&this.sync_()},ap.VT.CharacterMap.prototype.setOverrides=function(e){this.sync_(e)},ap.VT.CharacterMap.prototype.clone=function(){const e=new ap.VT.CharacterMap(this.description,this.glmapBase_);return this.glmap_!==this.glmapBase_&&e.setOverrides(this.glmap_),e},ap.VT.CharacterMaps=function(){this.maps_=ap.VT.CharacterMaps.DefaultMaps,this.mapsBase_=this.maps_},ap.VT.CharacterMaps.prototype.getMap=function(e){return this.maps_.hasOwnProperty(e)?this.maps_[e]:void 0},ap.VT.CharacterMaps.prototype.addMap=function(e,t){this.maps_===this.mapsBase_&&(this.maps_=Object.assign({},this.mapsBase_)),this.maps_[e]=t},ap.VT.CharacterMaps.prototype.reset=function(){this.maps_!==ap.VT.CharacterMaps.DefaultMaps&&(this.maps_=ap.VT.CharacterMaps.DefaultMaps)},ap.VT.CharacterMaps.prototype.setOverrides=function(e){this.maps_===this.mapsBase_&&(this.maps_=Object.assign({},this.mapsBase_));for(const t in e){const n=this.getMap(t);void 0!==n?(this.maps_[t]=n.clone(),this.maps_[t].setOverrides(e[t])):this.addMap(t,new ap.VT.CharacterMap("user "+t,e[t]))}},ap.VT.CharacterMaps.DefaultMaps={},ap.VT.CharacterMaps.DefaultMaps[0]=new ap.VT.CharacterMap("graphic",{"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps.A=new ap.VT.CharacterMap("british",{"#":""}),ap.VT.CharacterMaps.DefaultMaps.B=new ap.VT.CharacterMap("us",null),ap.VT.CharacterMaps.DefaultMaps[4]=new ap.VT.CharacterMap("dutch",{"#":"","@":"","[":"","\\":"","]":"|","{":"","|":"f","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps.C=ap.VT.CharacterMaps.DefaultMaps[5]=new ap.VT.CharacterMap("finnish",{"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps.R=new ap.VT.CharacterMap("french",{"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps.Q=new ap.VT.CharacterMap("french canadian",{"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps.K=new ap.VT.CharacterMap("german",{"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps.Y=new ap.VT.CharacterMap("italian",{"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps.E=ap.VT.CharacterMaps.DefaultMaps[6]=new ap.VT.CharacterMap("norwegian/danish",{"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps.Z=new ap.VT.CharacterMap("spanish",{"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""}),ap.VT.CharacterMaps.DefaultMaps[7]=ap.VT.CharacterMaps.DefaultMaps.H=new ap.VT.CharacterMap("swedish",{"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""}),ap.VT.CharacterMaps.DefaultMaps["="]=new ap.VT.CharacterMap("swiss",{"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}),ip.resource.add("hterm/audio/bell","audio/ogg;base64","T2dnUwACAAAAAAAAAADhqW5KAAAAAMFvEjYBHgF2b3JiaXMAAAAAAYC7AAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAA4aluSgEAAAAAesI3EC3//////////////////8kDdm9yYmlzHQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMDkwNzA5AAAAAAEFdm9yYmlzKUJDVgEACAAAADFMIMWA0JBVAAAQAABgJCkOk2ZJKaWUoSh5mJRISSmllMUwiZiUicUYY4wxxhhjjDHGGGOMIDRkFQAABACAKAmOo+ZJas45ZxgnjnKgOWlOOKcgB4pR4DkJwvUmY26mtKZrbs4pJQgNWQUAAAIAQEghhRRSSCGFFGKIIYYYYoghhxxyyCGnnHIKKqigggoyyCCDTDLppJNOOumoo4466ii00EILLbTSSkwx1VZjrr0GXXxzzjnnnHPOOeecc84JQkNWAQAgAAAEQgYZZBBCCCGFFFKIKaaYcgoyyIDQkFUAACAAgAAAAABHkRRJsRTLsRzN0SRP8ixREzXRM0VTVE1VVVVVdV1XdmXXdnXXdn1ZmIVbuH1ZuIVb2IVd94VhGIZhGIZhGIZh+H3f933f930gNGQVACABAKAjOZbjKaIiGqLiOaIDhIasAgBkAAAEACAJkiIpkqNJpmZqrmmbtmirtm3LsizLsgyEhqwCAAABAAQAAAAAAKBpmqZpmqZpmqZpmqZpmqZpmqZpmmZZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZQGjIKgBAAgBAx3Ecx3EkRVIkx3IsBwgNWQUAyAAACABAUizFcjRHczTHczzHczxHdETJlEzN9EwPCA1ZBQAAAgAIAAAAAABAMRzFcRzJ0SRPUi3TcjVXcz3Xc03XdV1XVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYHQkFUAAAQAACGdZpZqgAgzkGEgNGQVAIAAAAAYoQhDDAgNWQUAAAQAAIih5CCa0JrzzTkOmuWgqRSb08GJVJsnuamYm3POOeecbM4Z45xzzinKmcWgmdCac85JDJqloJnQmnPOeRKbB62p0ppzzhnnnA7GGWGcc85p0poHqdlYm3POWdCa5qi5FJtzzomUmye1uVSbc84555xzzjnnnHPOqV6czsE54Zxzzonam2u5CV2cc875ZJzuzQnhnHPOOeecc84555xzzglCQ1YBAEAAAARh2BjGnYIgfY4GYhQhpiGTHnSPDpOgMcgppB6NjkZKqYNQUhknpXSC0JBVAAAgAACEEFJIIYUUUkghhRRSSCGGGGKIIaeccgoqqKSSiirKKLPMMssss8wyy6zDzjrrsMMQQwwxtNJKLDXVVmONteaec645SGultdZaK6WUUkoppSA0ZBUAAAIAQCBkkEEGGYUUUkghhphyyimnoIIKCA1ZBQAAAgAIAAAA8CTPER3RER3RER3RER3RER3P8RxREiVREiXRMi1TMz1VVFVXdm1Zl3Xbt4Vd2HXf133f141fF4ZlWZZlWZZlWZZlWZZlWZZlCUJDVgEAIAAAAEIIIYQUUkghhZRijDHHnINOQgmB0JBVAAAgAIAAAAAAR3EUx5EcyZEkS7IkTdIszfI0T/M00RNFUTRNUxVd0RV10xZlUzZd0zVl01Vl1XZl2bZlW7d9WbZ93/d93/d93/d93/d939d1IDRkFQAgAQCgIzmSIimSIjmO40iSBISGrAIAZAAABACgKI7iOI4jSZIkWZImeZZniZqpmZ7pqaIKhIasAgAAAQAEAAAAAACgaIqnmIqniIrniI4oiZZpiZqquaJsyq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7rukBoyCoAQAIAQEdyJEdyJEVSJEVyJAcIDVkFAMgAAAgAwDEcQ1Ikx7IsTfM0T/M00RM90TM9VXRFFwgNWQUAAAIACAAAAAAAwJAMS7EczdEkUVIt1VI11VItVVQ9VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV1TRN0zSB0JCVAAAZAAAjQQYZhBCKcpBCbj1YCDHmJAWhOQahxBiEpxAzDDkNInSQQSc9uJI5wwzz4FIoFURMg40lN44gDcKmXEnlOAhCQ1YEAFEAAIAxyDHEGHLOScmgRM4xCZ2UyDknpZPSSSktlhgzKSWmEmPjnKPSScmklBhLip2kEmOJrQAAgAAHAIAAC6HQkBUBQBQAAGIMUgophZRSzinmkFLKMeUcUko5p5xTzjkIHYTKMQadgxAppRxTzinHHITMQeWcg9BBKAAAIMABACDAQig0ZEUAECcA4HAkz5M0SxQlSxNFzxRl1xNN15U0zTQ1UVRVyxNV1VRV2xZNVbYlTRNNTfRUVRNFVRVV05ZNVbVtzzRl2VRV3RZV1bZl2xZ+V5Z13zNNWRZV1dZNVbV115Z9X9ZtXZg0zTQ1UVRVTRRV1VRV2zZV17Y1UXRVUVVlWVRVWXZlWfdVV9Z9SxRV1VNN2RVVVbZV2fVtVZZ94XRVXVdl2fdVWRZ+W9eF4fZ94RhV1dZN19V1VZZ9YdZlYbd13yhpmmlqoqiqmiiqqqmqtm2qrq1bouiqoqrKsmeqrqzKsq+rrmzrmiiqrqiqsiyqqiyrsqz7qizrtqiquq3KsrCbrqvrtu8LwyzrunCqrq6rsuz7qizruq3rxnHrujB8pinLpqvquqm6um7runHMtm0co6rqvirLwrDKsu/rui+0dSFRVXXdlF3jV2VZ921fd55b94WybTu/rfvKceu60vg5z28cubZtHLNuG7+t+8bzKz9hOI6lZ5q2baqqrZuqq+uybivDrOtCUVV9XZVl3zddWRdu3zeOW9eNoqrquirLvrDKsjHcxm8cuzAcXds2jlvXnbKtC31jyPcJz2vbxnH7OuP2daOvDAnHjwAAgAEHAIAAE8pAoSErAoA4AQAGIecUUxAqxSB0EFLqIKRUMQYhc05KxRyUUEpqIZTUKsYgVI5JyJyTEkpoKZTSUgehpVBKa6GU1lJrsabUYu0gpBZKaS2U0lpqqcbUWowRYxAy56RkzkkJpbQWSmktc05K56CkDkJKpaQUS0otVsxJyaCj0kFIqaQSU0mptVBKa6WkFktKMbYUW24x1hxKaS2kEltJKcYUU20txpojxiBkzknJnJMSSmktlNJa5ZiUDkJKmYOSSkqtlZJSzJyT0kFIqYOOSkkptpJKTKGU1kpKsYVSWmwx1pxSbDWU0lpJKcaSSmwtxlpbTLV1EFoLpbQWSmmttVZraq3GUEprJaUYS0qxtRZrbjHmGkppraQSW0mpxRZbji3GmlNrNabWam4x5hpbbT3WmnNKrdbUUo0txppjbb3VmnvvIKQWSmktlNJiai3G1mKtoZTWSiqxlZJabDHm2lqMOZTSYkmpxZJSjC3GmltsuaaWamwx5ppSi7Xm2nNsNfbUWqwtxppTS7XWWnOPufVWAADAgAMAQIAJZaDQkJUAQBQAAEGIUs5JaRByzDkqCULMOSepckxCKSlVzEEIJbXOOSkpxdY5CCWlFksqLcVWaykptRZrLQAAoMABACDABk2JxQEKDVkJAEQBACDGIMQYhAYZpRiD0BikFGMQIqUYc05KpRRjzknJGHMOQioZY85BKCmEUEoqKYUQSkklpQIAAAocAAACbNCUWByg0JAVAUAUAABgDGIMMYYgdFQyKhGETEonqYEQWgutddZSa6XFzFpqrbTYQAithdYySyXG1FpmrcSYWisAAOzAAQDswEIoNGQlAJAHAEAYoxRjzjlnEGLMOegcNAgx5hyEDirGnIMOQggVY85BCCGEzDkIIYQQQuYchBBCCKGDEEIIpZTSQQghhFJK6SCEEEIppXQQQgihlFIKAAAqcAAACLBRZHOCkaBCQ1YCAHkAAIAxSjkHoZRGKcYglJJSoxRjEEpJqXIMQikpxVY5B6GUlFrsIJTSWmw1dhBKaS3GWkNKrcVYa64hpdZirDXX1FqMteaaa0otxlprzbkAANwFBwCwAxtFNicYCSo0ZCUAkAcAgCCkFGOMMYYUYoox55xDCCnFmHPOKaYYc84555RijDnnnHOMMeecc845xphzzjnnHHPOOeecc44555xzzjnnnHPOOeecc84555xzzgkAACpwAAAIsFFkc4KRoEJDVgIAqQAAABFWYowxxhgbCDHGGGOMMUYSYowxxhhjbDHGGGOMMcaYYowxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGFtrrbXWWmuttdZaa6211lprrQBAvwoHAP8HG1ZHOCkaCyw0ZCUAEA4AABjDmHOOOQYdhIYp6KSEDkIIoUNKOSglhFBKKSlzTkpKpaSUWkqZc1JSKiWlllLqIKTUWkottdZaByWl1lJqrbXWOgiltNRaa6212EFIKaXWWostxlBKSq212GKMNYZSUmqtxdhirDGk0lJsLcYYY6yhlNZaazHGGGstKbXWYoy1xlprSam11mKLNdZaCwDgbnAAgEiwcYaVpLPC0eBCQ1YCACEBAARCjDnnnHMQQgghUoox56CDEEIIIURKMeYcdBBCCCGEjDHnoIMQQgghhJAx5hx0EEIIIYQQOucchBBCCKGEUkrnHHQQQgghlFBC6SCEEEIIoYRSSikdhBBCKKGEUkopJYQQQgmllFJKKaWEEEIIoYQSSimllBBCCKWUUkoppZQSQgghlFJKKaWUUkIIoZRQSimllFJKCCGEUkoppZRSSgkhhFBKKaWUUkopIYQSSimllFJKKaUAAIADBwCAACPoJKPKImw04cIDUGjISgCADAAAcdhq6ynWyCDFnISWS4SQchBiLhFSijlHsWVIGcUY1ZQxpRRTUmvonGKMUU+dY0oxw6yUVkookYLScqy1dswBAAAgCAAwECEzgUABFBjIAIADhAQpAKCwwNAxXAQE5BIyCgwKx4Rz0mkDABCEyAyRiFgMEhOqgaJiOgBYXGDIB4AMjY20iwvoMsAFXdx1IIQgBCGIxQEUkICDE2544g1PuMEJOkWlDgIAAAAA4AAAHgAAkg0gIiKaOY4Ojw+QEJERkhKTE5QAAAAAALABgA8AgCQFiIiIZo6jw+MDJERkhKTE5AQlAAAAAAAAAAAACAgIAAAAAAAEAAAACAhPZ2dTAAQYOwAAAAAAAOGpbkoCAAAAmc74DRgyNjM69TAzOTk74dnLubewsbagmZiNp4d0KbsExSY/I3XUTwJgkeZdn1HY4zoj33/q9DFtv3Ui1/jmx7lCUtPt18/sYf9MkgAsAGRBd3gMGP4sU+qCPYBy9VrA3YqJosW3W2/ef1iO/u3cg8ZG/57jU+pPmbGEJUgkfnaI39DbPqxddZphbMRmCc5rKlkUMkyx8iIoug5dJv1OYH9a59c+3Gevqc7Z2XFdDjL/qHztRfjWEWxJ/aiGezjohu9HsCZdQBKbiH0VtU/3m85lDG2T/+xkZcYnX+E+aqzv/xTgOoTFG+x7SNqQ4N+oAABSxuVXw77Jd5bmmTmuJakX7509HH0kGYKvARPpwfOSAPySPAc2EkneDwB2HwAAJlQDYK5586N79GJCjx4+p6aDUd27XSvRyXLJkIC5YZ1jLv5lpOhZTz0s+DmnF1diptrnM6UDgIW11Xh8cHTd0/SmbgOAdxcyWwMAAGIrZ3fNSfZbzKiYrK4+tPqtnMVLOeWOG2kVvUY+p2PJ/hkCl5aFRO4TLGYPZcIU3vYM1hohS4jHFlnyW/2T5J7kGsShXWT8N05V+3C/GPqJ1QdWisGPxEzHqXISBPIinWDUt7IeJv/f5OtzBxpTzZZQ+CYEhHXfqG4aABQli72GJhN4oJv+hXcApAJSErAW8G2raAX4NUcABnVt77CzZAB+LsHcVe+Q4h+QB1wh/ZrJTPxSBdI8mgTeAdTsQOoFUEng9BHcVPhxSRRYkKWZJXOFYP6V4AEripJoEjXgA2wJRZHSExmJDm8F0A6gEXsg5a4ZsALItrMB7+fh7UKLvYWSdtsDwFf1mzYzS1F82N1h2Oyt2e76B1QdS0SAsQigLPMOgJS9JRC7hFXA6kUsLFNKD5cA5cTRvgSqPc3Fl99xW3QTi/MHR8DEm6WnvaVQATwRqRKjywQ9BrrhugR2AKTsPQeQckrAOgDOhbTESyrXQ50CkNpXdtWjW7W2/3UjeX3U95gIdalfRAoAmqUEiwp53hCdcCwlg47fcbfzlmQMAgaBkh7c+fcDgF+ifwDXfzegLPcLYJsAAJQArTXjnh/uXGy3v1Hk3pV6/3t5ruW81f6prfbM2Q3WNVy98BwUtbCwhFhAWuPev6Oe/4ZaFQUcgKrVs4defzh1TADA1DEh5b3VlDaECw5b+bPfkKos3tIAue3vJZOih3ga3l6O3PSfIkrLv0PAS86PPdL7g8oc2KteNFKKzKRehOv2gJoFLBPXmaXvPBQILgJon0bbWBszrYZYYwE7jl2j+vTdU7Vpk21LiU0QajPkywAAHqbUC0/YsYOdb4e6BOp7E0cCi04Ao/TgD8ZVAMid6h/A8IeBNkp6/xsAACZELEYIk+yvI6Qz1NN6lIftB/6IMWjWJNOqPTMedAmyaj6Es0QBklJpiSWWHnQ2CoYbGWAmt+0gLQBFKCBnp2QUUQZ/1thtZDBJUpFWY82z34ocorB62oX7qB5y0oPAv/foxH25wVmgIHf2xFOr8leZcBq1Kx3ZvCq9Bga639AxuHuPNL/71YCF4EywJpqHFAX6XF0sjVbuANnvvdLcrufYwOM/iDa6iA468AYAAB6mNBMXcgTD8HSRqJ4vw8CjAlCEPACASlX/APwPOJKl9xQAAAPmnev2eWp33Xgyw3Dvfz6myGk3oyP8YTKsCOvzAgALQi0o1c6Nzs2O2Pg2h4ACIJAgAGP0aNn5x0BDgVfH7u2TtyfDcRIuYAyQhBF/lvSRAttgA6TPbWZA9gaUrZWAUEAA+Dx47Q3/r87HxUUqZmB0BmUuMlojFjHt1gDunnvuX8MImsjSq5WkzSzGS62OEIlOufWWezxWpv6FBgDgJVltfXFYtNAAnqU0xQoD0YLiXo5cF5QV4CnY1tBLAkZCOABAhbk/AM+/AwSCCdlWAAAMcFjS7owb8GVDzveDiZvznbt2tF4bL5odN1YKl88TAEABCZvufq9YCTBtMwVAQUEAwGtNltzSaHvADYC3TxLVjqiRA+OZAMhzcqEgRcAOwoCgvdTxsTHLQEF6+oOb2+PAI8ciPQcXg7pOY+LjxQSv2fjmFuj34gGwz310/bGK6z3xgT887eomWULEaDd04wHetYxdjcgV2SxvSwn0VoZXJRqkRC5ASQ/muVoAUsX7AgAQMBNaVwAAlABRxT/1PmfqLqSRNDbhXb07berpB3b94jpuWEZjBCD2OcdXFpCKEgCDfcFPMw8AAADUwT4lnUm50lmwrpMMhPQIKj6u0E8fr2vGBngMNdIlrZsigjahljud6AFVg+tzXwUnXL3TJLpajaWKA4VAAAAMiFfqJgKAZ08XrtS3dxtQNYcpPvYEG8ClvrQRJgBephwnNWJjtGqmp6VEPSvBe7EBiU3qgJbQAwD4Le8LAMDMhHbNAAAlgK+tFs5O+YyJc9yCnJa3rxLPulGnxwsXV9Fsk2k4PisCAHC8FkwbGE9gJQAAoMnyksj0CdFMZLLgoz8M+FxziwYBgIx+zHiCBAKAlBKNpF1sO9JpVcyEi9ar15YlHgrut5fPJnkdJ6vEwZPyAHQBIEDUrlMcBAAd2KAS0Qq+JwRsE4AJZtMnAD6GnOYwYlOIZvtzUNdjreB7fiMkWI0CmBB6AIAKc38A9osEFlTSGECB+cbeRDC0aRpLHqNPplcK/76Lxn2rpmqyXsYJWRi/FQAAAKBQk9MCAOibrQBQADCDsqpooPutd+05Ce9g6iEdiYXgVmQAI4+4wskEBEiBloNQ6Ki0/KTQ0QjWfjxzi+AeuXKoMjEVfQOZzr0y941qLgM2AExvbZOqcxZ6J6krlrj4y2j9AdgKDx6GnJsVLhbc42uq584+ouSdNBpoCiCVHrz+WzUA/DDtD8ATgA3h0lMCAAzcFv+S+fSSNkeYWlTpb34mf2RfmqqJeMeklhHAfu7VoAEACgAApKRktL+KkQDWMwYCUAAAAHCKsp80xhp91UjqQBw3x45cetqkjQEyu3G9B6N+R650Uq8OVig7wOm6Wun0ea4lKDPoabJs6aLqgbhPzpv4KR4iODilw88ZpY7q1IOMcbASAOAVtmcCnobcrkG4KGS7/ZnskVWRNF9J0RUHKOnByy9WA8Dv6L4AAARMCQUA4GritfVM2lcZfH3Q3T/vZ47J2YHhcmBazjfdyuV25gLAzrc0cwAAAAAYCh6PdwAAAGyWjFW4yScjaWa2mGcofHxWxewKALglWBpLUvwwk+UOh5eNGyUOs1/EF+pZr+ud5OzoGwYdAABg2p52LiSgAY/ZVlOmilEgHn6G3OcwYjzI7vOj1t6xsx4S3lBY96EUQBF6AIBAmPYH4PoGYCoJAADWe+OZJZi7/x76/yH7Lzf9M5XzRKnFPmveMsilQHwVAAAAAKB3LQD8PCIAAADga0QujBLywzeJ4a6Z/ERVBAUlAEDqvoM7BQBAuAguzFqILtmjH3Kd4wfKobnOhA3z85qWoRPm9hwoOHoDAAlCbwDAA56FHAuXflHo3fe2ttG9XUDeA9YmYCBQ0oPr/1QC8IvuCwAAApbUAQCK22MmE3O78VAbHQT9PIPNoT9zNc3l2Oe7TAVLANBufT8MAQAAAGzT4PS8AQAAoELGHb2uaCwwEv1EWhFriUkbAaAZ27/fVZnTZXbWz3BwWpjUaMZKRj7dZ0J//gUeTdpVEwAAZOFsNxKAjQSgA+ABPoY8Jj5y2wje81jsXc/1TOQWTDYZBmAkNDiqVwuA2NJ9AQAAEBKAt9Vrsfs/2N19MO91S9rd8EHTZHnzC5MYmfQEACy/FBcAAADA5c4gi4z8RANs/m6FNXVo9DV46JG1BBDukqlw/Va5G7QbuGVSI+2aZaoLXJrdVj2zlC9Z5QEAEFz/5QzgVZwAAAAA/oXcxyC6WfTu+09Ve/c766J4VTAGUFmA51+VANKi/QPoPwYgYAkA715OH4S0s5KDHvj99MMq8TPFc3roKZnGOoT1bmIhVgc7XAMBAAAAAMAW1VbQw3gapzOpJd+Kd2fc4iSO62fJv9+movui1wUNPAj059N3OVxzk4gV73PmE8FIA2F5mRq37Evc76vLXfF4rD5UJJAw46hW6LZCb5sNLdx+kzMCAAB+hfy95+965ZCLP7B3/VlTHCvDEKtQhTm4KiCgAEAbrfbWTPssAAAAXpee1tVrozYYn41wD1aeYtkKfswN5/SXPO0JDnhO/4laUortv/s412fybe/nONdncoCHnBVliu0CQGBWlPY/5Kwom2L/kruPM6Q7oz4tvDQy+bZ3HzOi+gNHA4DZEgA="),ip.resource.add("hterm/images/copy","image/svg+xml;utf8",'<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 48 48" fill="currentColor">  <path d="M32 2H8C5.79 2 4 3.79 4 6v28h4V6h24V2zm6 8H16c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4V14c0-2.21-1.79-4-4-4zm0 32H16V14h22v28z"/></svg>'),ip.resource.add("hterm/images/close","image/svg+xml;utf8",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">  <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'),ip.resource.add("hterm/images/keyboard_arrow_down","image/svg+xml;utf8",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">  <path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"/></svg>'),ip.resource.add("hterm/images/keyboard_arrow_up","image/svg+xml;utf8",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">  <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>'),ip.resource.add("hterm/html/find_bar","text/html;utf8","<meta charset='utf-8'/><style>:root {  --hterm-grey-200-rgb: 232, 234, 237;  /* #e8eaed */  --hterm-grey-200: rgb(var(--hterm-grey-200-rgb));  --hterm-grey-400-rgb: 189, 193, 198;  /* #bdc1c6 */  --hterm-grey-400: rgb(var(--hterm-grey-400-rgb));  --hterm-grey-600-rgb: 128, 134, 139;  /* #80868b */  --hterm-grey-600: rgb(var(--hterm-grey-600-rgb));  --hterm-grey-800-rgb: 60, 64, 67;  /* #3c4043 */  --hterm-grey-800: rgb(var(--hterm-grey-800-rgb));}#hterm\\:find-bar {  align-items: center;  background: white;  border: 1px solid var(--hterm-grey-600);  border-radius: 2px;  box-shadow: 0 2px 2px 1px rgba(var(--hterm-grey-600-rgb), .1);  display: none;  font-family: sans-serif;  padding: 5px 15px;  position: fixed;  right: 16px;  top : 0;  z-index: 1;}#hterm\\:find-bar.enabled {  display: flex;}#hterm\\:find-bar > input {  border: 0;  margin: 8px 0;  outline: none;  width: 200px;}#hterm\\:find-bar-vertical-separator {  align-self: stretch;  border-left: 1px solid var(--hterm-grey-400);  margin-left: 10px;}#hterm\\:find-bar > .button {  align-items: center;  border-radius: 50%;  cursor: var(--hterm-mouse-cursor-pointer);  display: flex;  height: 24px;  justify-content: center;  margin-left: 8px;  transition: background-color 0.3s linear;  width: 24px;}#hterm\\:find-bar > .button.enabled:hover {  background-color: var(--hterm-grey-200);}#hterm\\:find-bar > .button.enabled:active {  background-color: var(--hterm-grey-400);  transition: background-color 0s;}#hterm\\:find-bar > .button.enabled > svg {  fill: var(--hterm-grey-800);}#hterm\\:find-bar > .button > svg {  height: 20px;  fill: var(--hterm-grey-400);  width: 20px;}#hterm\\:find-bar-count {  color: var(--hterm-grey-600);}</style><input type='text'><div id='hterm:find-bar-count'>0/0</div><div id='hterm:find-bar-vertical-separator' tabindex='-1'></div><div id='hterm:find-bar-up' class='button' role='button'></div><div id='hterm:find-bar-down' class='button' role='button'></div><div id='hterm:find-bar-close' class='button enabled' role='button'></div>"),ip.resource.add("hterm/html/find_screen","text/html;utf8","<meta charset='utf-8'/><style>#hterm\\:find-result-screen {  height: 100%;  left: var(--hterm-screen-padding-size);  pointer-events: none;  position: absolute;  top: var(--hterm-screen-padding-size);  width: 100%;}#hterm\\:find-result-screen > find-row {  display: block;  height: var(--hterm-charsize-height);  line-height: var(--hterm-charsize-height);}#hterm\\:find-result-screen > find-row > .find-highlighter {  background-color: var(--hterm-find-result-color);  height: var(--hterm-charsize-height);  position: absolute;}#hterm\\:find-result-screen > find-row > .find-highlighter.selected {  background-color: var(--hterm-find-result-selected-color);}</style>"),ip.resource.add("hterm/images/icon-96","image/png;base64","iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAStklEQVR42u1dBXjrupL+RzIGmjIfvAcu42NmZub3lpmZmZmZmRkuMzPDYaYyJG0Sa9b2p2z1eQtp7bzefpv/nKnkkSw7Gg1IshNsDtpoo4022mijDWp/tlTgzbpJSqYvMoFTC9vjRD5JLb9RYaRkpk22SS28P8pacAaPdZ41KYMCI89YB6wN3JzQJM3UIGqurfTlKQTAZtqENid5SlNdU804VmbbWQtA6HMkAAdADsBeAJ7mxwIhIhFSXJ9iRPw4JYDEcqmGWEp1HhCI8gAtpXF7scB1ZRH9E3HObANCNy1AoGTegNDnCdE41tfQDH2t+CINQEpJ9Xp97oUDh3+nXK48DYAMIWQmANIkNTn6vP69e3d/zctfeu0nXNexmVn3F0gDAMxMlBoHuht0qnsEEekC42SdGHmNxgVjgk4bPN04Yui8bhc534cQBH35RKrPN9sGdLnB1/Wuv+HW4f+6/tZvBHAaAJvmKr0AjJGvyQMw8pLrrvqeT378Ax8UwrKeevoFgEhfjcGGO2JO+iuTt1SW5DHzyraDExyTlWwHjCQ/CAJcecU+XHn5xWDmVCGQFAKljsLbx8Ynvv3Bhx7/EQCzurimU04jADLsvK3r73/7W1//g1/6hU++uVqt0X/dcBcKxRIsy9Ji34DPow2et6FzgcXFKk6fOY83vu4VEFKkDiYHB3roSz73sc+Oj08eOHzk+B9oMyQABGk0gCIyOt9xHPvaD3/wnT/5VV/+meumpmbwD/98A0qdvVEBNhvMDCJaVXtM01GtVlEs+LBtC1ngzW98tX/m7Llv/emf+83HarX6vbrfGECQRgBmlLP9Ix961499+zd/5XVj45P407/8FxQ7uiGlQK1Ww1ZCvR6gXq3AsgQ8zwYzUkMIgXe+/Q1Dd9x5/6duv/P+R7QjprQaIHQd/8orLvnCJz/2/pfmcj7+6rf+DK5XgOu6sT3dQtBawqjW6lhYXIRlSTAjE/T39eLSS/ZeEwqgE8CiYUV4vQIgTULTyFve9Or3WJZN/3n9HTh3fgrFjhJmZmawFaGUwkJlEffc9xh83wMYqcFg7Noxinw+l9OBikirAabz7eju6sxJKTE7W4bn5+D7PrYmtI/gAFJasCwb4IzaBMHzXE8LgBJC4I1GQRKAa4Xo6upEsZiH53nIRYLeolDMCIIq+nq70dFRAGckgFKpAD+UgBaAgfRRkGvbliwUcoh8ABHFYSfWMnBrxOzL12PwKufzSvV55Tpmi5a0IASBQCgWcujs7ABn5AQic+b5rhNlAVAmTliTEwnA990wIxEEdUQYnxjHidMnAUIcBYABRqNDdC7BM8t0VtfTnGRd8FKdRIjJcVlCsAbPPA5UAK4rXLJjP7aNbkO9XoPrOrEQWHEm69Kua0caYEspvCBQ5toSp9EASCkt27ZF1PlCxBOZOPo5feY0Xpg8jHe/7V3YNjhqjDRac3mMVl1Oo40vtREtW+2FYwdw/S03YHJ6EkODQ1hcXIQUcaeBlUIWsCwZ+QDLdZxcubKAtBpgNmzZliUa6yLMKiRGoBR279yN6666FlJYABgvRhAIncUSHn/iCdQrAZjjSAiKFQQRVEhZIRJASJEACICmlAKQUtqhBETjw5ijuFqr4oWjBwHmF7/jVUHc6aRNXxAoZA3PdYXruvlldJfTaIATaQA4KU/CzNwMDp84DOYXf+hZXiijhJz+DK0QAEd+RYTOOAcgMw0g24oskNYAIoCXxDpbnsOxM8fB5qacwKZD+3WQcS+VxQrYYXNVNGMhI1odiIRQSHb8BmbCpgZYjmVLYi0ANmxQNKpOj50FFOB3WnDzEpOnFkGbuOXPimG5Ap0jLqZOLiKoMyIsVhfB9lLEpFSQ+S26jh2Fo/n0YagRCUlLRhpAAIMIyWl9vBinAkbfoIPXf+0wnrlxAs/dPInKVB1CUOsFkdhD6Nnp49oP98EvWfjvnzqGak0hVlwwFJsaoADK9vq2Y0eOOKUGJLTAjjQgFgBAy/gTvbGIyXC0nX66jJd+YgC7X1nCo39/AccfmUVQU1F5y0d9rsvGJW/txuXv7oGqMx7+2/OoVxWIzE5SOkfaBBGyhGPHc4G8YYjT+wDLDgUgJbQPWDGuL0/VcefvnMLRB2dw3Uf78dZv345D90zjsX++gPGjC7peC8yNI7DjpSVcE476rlEPB++awmP/dCEaEMtqbAP1Fqzkhn0VaUAegMzABJkaIMG8epNEiE3R0funce75Mi4NR+MV7+3B6NUFPPnvY3jupslISJkKoW9PDld/sA+7Xt6B8SMV3Pjzx3Di0TkENQaJ5A1qM8VRljKPgpg58pcNHyCz0ADSTnhNDTBBglCZruPhvz+PY4/M4Jqwg6772AB2vqwDd/zmKYwdWQAJpMalb+vGSz81AA6Ah/76HJ69KfI7tej6K7RPUKwaWQT1FmiAlJEJykXZZh5cE02FoaEJkpYEwGsKwNQGAnDhQAUP/915TJ5YwPCleZSG3WwWvwgYvryAYr8Tm5wn/2Mc5cm481c9RzXWobQPyBpSikgDGgJAVvMARzY0AARwc7Y5Ckn3vK4TV7+/D5YncN+fnsWpJ+cgsnDICnj0n85DSOCSUBO6Rl088g8XcObZ+VgjSKweKRG1xgcIEQnA9QE46aMgwwlHAmBuOFFepeMRd8rI1cU4FBzYn8exh2bw6D9ewNihCjgrR0wI21vAzb9yIrT/pfha7/y+nXj+5gk8EWrDzJlF/WxQUgMUwEtREGW/5RlpgJdaABq0pAGicYFVFaBzxMGV7+vFvtd3YfpsFbf+6ok4KqovxqFoph+YBBAsMg7cPonTT83jsnd247J39IQRUUcceR28cxrVcrBUX2sAa1Nar7dCAwhevCkDN7UADB9gSyEBaBVYYeT37PTw9u/aAbcg8Pi/XMAz109gfqLhFAktgX46LbrOg395DscemAnD0X68+suGQ+3L4Y7fOhVHRA00nDBRa3wAEGuAA8DbqABIkyEA2xFSrBHHM2xf4Ozz82HIOb5kbgSh1TDv69wLZdz0S8dxUTgRHLwkD2HRkgCIdBi6NBPmVpggL7krBkrnA6xIA0Qjfl4x9Bw7XInDzHo1hblJbZYoNkvP3zqFw/fPIKgqGNC7aNoEtUQDEJkg23Ecv1qtrhkFiWYeTYzCUCEEeI15QDTSgjpnMerTmyUB1CsKrGACyvABQb1VAnAt13V8NAHRxGqotEMIQUbJFgGtMhNuqQa4Ui9HbEgDKFknioKIhC4kbGUwFBhsOGHO/AqhCxAh5dOsBZFBMoqCGhpARJv7ihul35oEt84E6U0ZCv1APp0T1tACsIhEpquZQhJsT2C9UAGjtqA2vDnPzOD/NUEqymcOJ94TcPJZzYSFHYKIjHlA+iXk/kvyeO1XDENYtK6J16kn53H375+OBbFukBkFtWoewHAdJ1qQKwAQWcyEtQaQ4QPSmk6KZ6gXDlVAcn0x9vTpxTSjdhkBcOYmSO+KNTZlKK0GWHYoASJkZoJIABPHFnDbb5zEFxtshqEtMkG2rfcEtAZsJAoimBpgGRqg062KVmsAmBH2V2NfWKZ1woxYAyIBwFABXma+nE30wytV4rU/OK9xLWaGUmpJAHE+awEDUsrGnoCERsooyJYALfPaOEHNByBl7BGwKQsy8kYLUZ1kOTXyZprgUYJHSBzrctLHDZ6huflCLt61qtWDWAMawsgOWgCe5+v+JYN4vT6AtAbIpSCIGuEcRoaG8TrXRcwzCeZ7u2gcm4QIZn0QEudC5wGYdYxUt2PyjRSAyWsc6mvW6hW0CnpXzAdgQ6NZAdByJsgKBQAQGCp+oQFQ8ePdhUIBxWJxXfrJYKQHNRUMMK9kuwhzc3O4eO+eeLQqpbLfFfMaAgAnhdDccrSpAZYtAUApxujIEN725lfg3//7bvT19cOyLJhg44/ZCTo1y40yI79qmT4/5un2jTx0+XLtmAOAlUJXVx6ve83LdFkrdsWMTZkUTpikjFyAJUxHFr6oDc918cDDT6KyMB8xzVFpmBpAGGZHiCgVZgoRphSlQkCQTvXxEhFklMolXnyseY28NMtlIjXaCzsHO7aPoFDIQ6nWCMDzXS2AdJvybMl4HiaSLyK89S2vxRte/wrU6vXGIFrzOxdWTZcaMNtCgq15a9vNtWyTMjUncwEguSu2ISesO3vp3YDkE2ZSypiyQMO0JO331gTFryoJIXylVLrFOCtEpAHmaG5jbQ3Qb8r45XKFN2qCOCJpSUsxi/n5SlOP8rXB0WpoUgC8HgGwQYqI7AMHj1G9zk2Ea20wgI5iPhqs8dMk6/26GrOyiqharc16nlffvn3EaWtAc/BcBw8+/Ojc+PjkKaMvuWkNME+YnZ17+rnnDxweHOi9iCM+gzbLOXLrG8piu46JIO5/4NHD9XpwbEPfEqjJ01R0XecDYcz8lvhFMSEkwJIBaU76AZA+SsST5oHOmidqvsHQieYk6ya/ucysT/pPon6yLum/5tXN4uV45ocAKHEeWFdQYcpKKb4wNnH/xMTUjwGYArBofLHfuhfjeO+eXbu+/ms+946JyWl16NAxWmV80AZGImW+M0z/dxWUNbvJNQzaqNK4ro13v/NN9C//doP4gz/+mxKAWWNQb2hHzL/s0n1XDfT3W3fe8wRAVmLytCE56HM3LL/E+bRqb+niFZ9rSvD0nnHzd2Y+M3vs5Ckwc/S9QQMABgGc0cvS9fU8migi0uUDey7asfvQ4eMQlouuzs74Am0sL4TZQhHHTpzG8FB/qdRR3DU9M/sUgJqmphfjhJaa9H1v9/Ztw/1PPn0QtWoNs7OzWBltATiOixMnzuCS/bvtgTBwCQXg6s5fNLdTmnkuSAKww0WrS7q6St7E5Ax6egbWWHpow3EcnDs/EX8v6fDw4J4XDhzxASwAEOvSAF2Wu2j3jssAQqVSQ6+ULTQ/W3+pQy/dYHauEi9Sbhsd2gGgqB2xBEDN+gCpy3rCCGjP5OQ0FHO0idGeDTexHRkoxvjEJHZsGxkE0APgnO5TYc6x1hKAIKJtu3dtGzp1+hyKxY5oB6wpDWibIRenTp3D6OhQl5RyMAiC5w0TRCtpACW+rM8aGR7cPzTYX3ziqQPw/dzmm4gtYOaYGZ7n4cTJs3jVK67xw++l23723AVtURLhaFIDEuGnG47+S33fo8mpWZQ6XUxPT6ONtfeD7dgRj6NQyNHQ0MCOUAA2ANmMBpAhhGJo//eFy6lgFsjn823zsw6cnhyHUhw74kcfe8ozfMCKAkjOAYb27tk5cubsBTiuF3v35h1w2xwpRmgxZrBj+/AIgA4AY7pfsZYGyIi6uzv3hHOArocefQbMwNTUVFsDmjdDIUmcDgfv6OhwH4CIjie0gJfVAF3J2bVjWzgB65TnL0ygs7NrnROwthZUqzWcPHUOV1y2txiuJA/Pzc0/spYJEob5ye/Zs/NiZka5XEVPr4821gfP9xAN3nA9yB4c6Nt+cG5eLvPGDCdNUKNS7769u3ZGX1NfqwfR+s//C/PDnH5TRq+kxun8fBkdxQJGhgd2Hjx01BBAwgQl7L/I5fyd4RJE3+TUdNjIPKSc0AJg/T+JxNNnK5Uly3VuterJOpzh3hmts5DWKExy3/j6l2J4eAAjI4PbjG9UF6YQrMaBWRCufu4fHRn0Bvp7USzkUS4vmD9as+IP3cSHWL5eXGTUizk6v/IDubodM7+++qs+ENbsg2RxLlE/5pr1Ew8H25aFnp6u2CFvGx0e0JHQGdMEJTWgkTo7d4xe3NfXg1KpiLe86TWg9ONtc3eKuVX3yatei5m1AIa6pRT9QaCeb2YporBzx7Zd0chnRkgKbaSLsMLZcK6/rzecU53n5TSAEkw/HPkFy86BpJtq3LRBIK6jq7NDhPOqPi0A0+cuuxq6EMas5bGJaVQWFWgTbrqVTdEX9f4ZvmfB9/3Il5bW2hNmnZbDB4omLpw/h7n5RYCa+3E0ToY4Jp9XiGSYk/WMvHmlxDEn7yN5ffN4mTzrM808G+0leJqVbG81njbfjFJHHr4no4lZ3fjRT06GoWxQ+eFHn7rTz/1Tv5QSrBQpZrAmfVMaQJyNOXHOPESjztJfs54uxFJWl5q1zYuZRzD+RzAPEufoJFln2TyMv8axwUheJPGRVSMFEHe4ZckqMy8cOXLin5f7xVUyyPypwhKAHp13IjJCVW4iHGAz30Q5mmx3I+dwyvbWE36x0ck1AFW9Gb+g06qmWkMQVuLEQEtuVldyjR/vFJqyjxNb6+mTA6DV96HMvkx0ej2pAZZxoBL5QJ8oDKIW3jxnfA5twj1xUhPMjjd9wGpOOEgIgUzaxFG8RZ4FTgxos9N1atajtd+S1LytA26p8NKbQE7/0+BtpNakNtpoo4022vgf7lRPtKCE39oAAAAASUVORK5CYII="),ip.resource.add("hterm/concat/date","text/plain","Wed, 15 Nov 2023 16:55:56 +0000"),ip.resource.add("hterm/changelog/version","text/plain","1.92.1"),ip.resource.add("hterm/changelog/date","text/plain","2022-03-04"),ip.resource.add("hterm/git/HEAD","text/plain","25a9592267b488b5ddd8688677175bfd82f6f515");const sp=(0,i.pM)({props:{terminalInstance:{type:String}},setup(e){let t;const n={"background-color":"#1d1d1d","cursor-color":"white","mouse-right-click-paste":!1,"pass-meta-v":!1,"mouse-paste-button":"no-button","pass-on-drop":!1,"shift-insert-paste":!1},r=(0,i.EW)((()=>ji.logs[e.terminalInstance])),o=(0,i.EW)((()=>void 0===r.value?0:r.value.length)),a=[],s=n=>{if(void 0===t)return;const r=ji.readOnly[e.terminalInstance]?n.replace(/\n/g,"\r\n"):n;t.io.print(r),a.push(r)};let l=0;const c=()=>{l=0,void 0!==t&&(s("[0m"),t.scrollHome(),t.wipeContents())},u=Ul();(0,i.sV)((async()=>{await ip.init(),Object.keys(n).forEach((e=>{localStorage.setItem(`/hterm/profiles/default/${e}`,n[e])})),t=new ap.Terminal,t.scrollPort_.contenteditable=!1,t.onTerminalReady=function(){this.io.sendString=t=>{ji.isReadOnly(e.terminalInstance)||u.requestTerminalRead(e.terminalInstance,t)},this.onVTKeystroke=t=>{ji.isReadOnly(e.terminalInstance)||u.requestTerminalRead(e.terminalInstance,t)},this.io.onTerminalResize=()=>{c(),a.forEach((e=>{t.io.print(e)}))},this.installKeyboard()},t.decorate(document.querySelector("#hterm-terminal")),(0,i.wB)([()=>e.terminalInstance,o],(async([n,r],[o,u])=>{void 0!==n&&ji.exists(n)&&(ji.readOnly[e.terminalInstance]?(t.scrollPort_.contenteditable=!1,t.setCursorVisible(!1)):(t.scrollPort_.contenteditable=!0,t.setCursorVisible(!0)),await(0,i.dY)(),o===n&&0!==r||(c(),a.length=0),u!==r||o!==n)&&ji.logs[n].slice(l).forEach(((e,t)=>{l>0&&n===Li&&s("\n\n"),s(e),l+=1}))}))}))}});n(21793);const lp=(0,Pe.A)(sp,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",op)}],["__scopeId","data-v-246a4a0f"]]);let cp,up=0,dp=0;const pp=e=>{const{clientY:t}=e;t>61&&cp(dp+(up-t))},hp=()=>{const e=document.querySelector(".terminal-wrapper");document.removeEventListener("mousemove",pp),document.removeEventListener("mouseup",hp),e.style["pointer-events"]=""},fp=(0,i.pM)({components:{Arrow:sr,Indicator:Ed,Bin:dd,Terminal:lp},setup(){const e=(0,s.KR)(null),t=(0,s.KR)(null),n=(0,s.KR)(void 0),r=(0,s.KR)(!1),o=(0,s.KR)(!0),a=(0,s.KR)(0),l=(0,s.KR)(!1),c=(0,i.EW)((()=>r.value?{height:`${Math.max(a.value,395)}px`}:{height:"unset"})),u=(0,i.EW)((()=>({"pointer-events":r.value?"all":"none"}))),d=(0,s.KR)([]),p=e=>t=>t.name===e,h=(0,s.KR)([]),f=(0,i.EW)((()=>h.value.map((e=>d.value.find(p(e)))))),m=(0,i.EW)((()=>{const e=Object.values(ji.logs).map((e=>e.length)),t=Object.keys(ji.logs),n=[];for(let r=0;r<t.length;r+=1)n.push({name:t[r],length:e[r]});return n}));(0,i.wB)(m,((e,t)=>{const r=null==t?void 0:t.map((e=>e.name));e.forEach((e=>{if(null==r?void 0:r.includes(e.name)){const r=t.find((t=>t.name===e.name));(null==r?void 0:r.length)!==e.length&&e.name!==n.value&&(d.value.find((t=>t.name===e.name)).hasNewMessage=!0)}else d.value.push({name:e.name,hasNewMessage:0!==e.length}),h.value.push(e.name)})),null==t||t.filter((t=>!e.some(p(t.name)))).forEach((e=>{const t=d.value.findIndex(p(e.name));d.value.splice(t,1);const r=h.value.indexOf(e.name,1);h.value.splice(r,1),n.value===e.name&&v(e.name)}))}),{immediate:!0});const g=e=>{d.value.forEach((t=>{t.name===e&&(t.hasNewMessage=!1)}))},v=(e,o=!0)=>{var a,s;if(void 0!==e||r.value)if(e===n.value||void 0===e)n.value=void 0,r.value=!1;else{const o=null!==(s=null===(a=t.value)||void 0===a?void 0:a.style.height)&&void 0!==s?s:"unset";n.value=e,r.value=!0,g(e),"unset"!==o&&(c.value.height=o)}else n.value=Li,r.value=!0,g(Li);void 0===n.value||o&&ji.isReadOnly(n.value)||(0,i.dY)().then((()=>{var e;return null===(e=document.getElementById("hterm-terminal"))||void 0===e?void 0:e.focus()}))},y={hide(){ji.show=!1,r.value&&v(n.value)},show(e){const t=null!=e?e:Li;ji.show=!0;const o=!r.value,i=n.value&&t!==n.value;(o||i)&&v(null!=t?t:n.value,!1)},view(e){e.names&&(h.value=e.names),void 0!==e.clearButton&&(o.value=e.clearButton)}};return(0,i.sV)((()=>{var t;ji.manager=y,e.value.addEventListener("mousedown",(t=e=>{a.value=e},e=>{const n=document.querySelector(".terminal-wrapper");cp=t,up=e.clientY;const r=window.getComputedStyle(n);dp=parseInt(r.height,10),document.addEventListener("mousemove",pp),document.addEventListener("mouseup",hp),n.style["pointer-events"]="none"}))})),{toggleTerminalPanel:v,clearTerminalOutput:e=>{ji.clear(e)},showClearButton:o,displayedTerminals:f,activeTerminal:n,isTerminalPanelOpened:r,resizer:e,terminalWrapper:t,pipelineSpanClasses:e=>({active:r.value&&e===n.value}),terminalWrapperStyles:c,resizerStyles:u,arrowHovered:l,terminalIndicatorColor:e=>e?"green":"gray"}}});n(64819);const mp=(0,Pe.A)(fp,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("Indicator"),u=(0,i.g2)("Bin"),d=(0,i.g2)("Arrow"),p=(0,i.g2)("Terminal");return(0,i.uX)(),(0,i.CE)("div",{ref:"terminalWrapper",class:"terminal-wrapper",style:(0,l.Tr)(e.terminalWrapperStyles)},[(0,i.Lk)("div",Qd,[(0,i.Lk)("div",{ref:"resizer",class:"resizer",style:(0,l.Tr)(e.resizerStyles)},null,4),(0,i.Lk)("div",ep,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.displayedTerminals,(t=>((0,i.uX)(),(0,i.CE)("button",{key:t.name,class:(0,l.C4)(["tab-item",e.pipelineSpanClasses(t.name)]),onClick:n=>e.toggleTerminalPanel(t.name)},[(0,i.Lk)("span",{class:(0,l.C4)(e.pipelineSpanClasses(t.name))},(0,l.v_)(t.name),3),(0,i.Lk)("div",np,[t.hasNewMessage?((0,i.uX)(),(0,i.Wv)(c,{key:0,color:e.terminalIndicatorColor(t.hasNewMessage)},null,8,["color"])):(0,i.Q3)("",!0)])],10,tp)))),128))]),(0,i.Lk)("div",rp,[e.isTerminalPanelOpened&&e.showClearButton?((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t[0]||(t[0]=t=>e.clearTerminalOutput(e.activeTerminal))},[(0,i.bF)(u),t[4]||(t[4]=(0,i.Lk)("span",null,"Clear terminal",-1))])):(0,i.Q3)("",!0),(0,i.Lk)("button",{onClick:t[1]||(t[1]=()=>{e.arrowHovered=!1,e.toggleTerminalPanel(void 0)}),onMouseenter:t[2]||(t[2]=t=>e.arrowHovered=!0),onMouseleave:t[3]||(t[3]=t=>e.arrowHovered=!1)},[e.isTerminalPanelOpened?((0,i.uX)(),(0,i.Wv)(d,{key:1,color:"white",scale:"small",rotate:"left",hover:e.arrowHovered},null,8,["hover"])):((0,i.uX)(),(0,i.Wv)(d,{key:0,color:"white",scale:"small",rotate:"up",hover:e.arrowHovered},null,8,["hover"]))],32)])]),(0,i.bo)((0,i.bF)(p,{terminalInstance:e.activeTerminal},null,8,["terminalInstance"]),[[a.aG,e.isTerminalPanelOpened]])],4)}],["__scopeId","data-v-6404167b"]]),gp={class:"loading-screen"};n(77065);var vp=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n};const yp={name:"SelfBuildingSquareSpinner",props:{animationDuration:{type:Number,default:6e3},size:{type:Number,default:40},color:{type:String,default:"#fff"}},data:()=>({squaresNum:9}),computed:{squareSize(){return this.size/4},initialTopPosition(){return 2*-this.squareSize/3},spinnerStyle(){return{top:-this.initialTopPosition+"px",height:`${this.size}px`,width:`${this.size}px`}},squareStyle(){return{height:`${this.squareSize}px`,width:`${this.squareSize}px`,top:`${this.initialTopPosition}px`,marginRight:this.squareSize/3+"px",marginTop:this.squareSize/3+"px",animationDuration:`${this.animationDuration}ms`,background:this.color}},squaresStyles(){const e=[],t=[6,7,8,3,4,5,0,1,2],n=.05*this.animationDuration;for(let r=0;r<this.squaresNum;r++)e.push(Object.assign({animationDelay:n*t[r]+"ms"},this.squareStyle));return e}}},bp={components:{SelfBuildingSquareSpinner:vp(yp,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",{class:"self-building-square-spinner",style:(0,l.Tr)(a.spinnerStyle)},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.squaresStyles,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,l.C4)(["square",{clear:t&&t%3==0}]),style:(0,l.Tr)(e)},null,6)))),128))],4)}]])}};n(97708);const wp=(0,Pe.A)(bp,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("SelfBuildingSquareSpinner");return(0,i.uX)(),(0,i.CE)("div",gp,[(0,i.bF)(s,{id:"loading-screen-spinner",size:80})])}]]),xp={class:"selection-container"};var _p=n(15531),kp=n.n(_p);function Cp(e){return t=>Math.round(t/e.value)*e.value}function Sp(e){const{graph:t}=(0,tr.uU)();return(n,r,o)=>{const i=t.value.nodes.filter((e=>e.id!==r&&!o.includes(e.id))).map((t=>t.position[e])).filter((e=>Math.abs(n-e)<100));return 0!==i.length?Math.min(...i):void 0}}function Ep(e,t=void 0,n=void 0){const{graph:r}=(0,tr.uU)(),{viewModel:o}=(0,tr.if)(),a=null!=t?t:Cp((0,s.KR)(1)),l=Cp((0,i.EW)((()=>o.value.settings.background.gridSize))),c={x:Sp("x"),y:Sp("y")},u=(0,s.KR)(null),d=(0,s.KR)(null),p=(0,s.KR)(!0),h=(0,i.EW)((()=>!(!u.value||!d.value||d.value.x===e.value.x&&d.value.y===e.value.y))),f=(e,t,o=!1,i=!1)=>{if(o&&void 0!==n){const o=c[t](e,n,r.value.selectedNodes.map((e=>e.id)));if(void 0!==o)return o}return i?l(e):p.value?a(e):e};return e.value&&(e.value.x=f(e.value.x,"x"),e.value.y=f(e.value.y,"y")),{dragging:h,onPointerDown:t=>{p.value=!t.shiftKey,u.value={x:t.pageX,y:t.pageY},d.value={x:e.value.x,y:e.value.y}},onPointerMove:t=>{p.value=!t.shiftKey;const n=t.ctrlKey,o=t.shiftKey;if(u.value&&d.value){const i=t.pageX-u.value.x,a=t.pageY-u.value.y;e.value.x=f(d.value.x+i/r.value.scaling,"x",n,o),e.value.y=f(d.value.y+a/r.value.scaling,"y",n,o)}},onPointerUp:()=>{u.value=null,d.value=null,p.value=!0}}}const Pp={key:0,class:"readonly item",style:{cursor:"default"}},Tp=["onClick","onPointerover","onPointerleave"],Ap={class:"icon"},Mp={class:"text"},Np={class:(0,l.C4)("tooltip")},Op=["href","onClick"],Ip={class:"icon"},Rp=["src","alt"],Lp={class:"text"},jp=(0,i.pM)({extends:tr.XF.ContextMenu,props:{urls:{required:!1,default:[]}},emits:["update:modelValue","click","sizeUpdate","onpointerover","onpointerleave"],setup(e,t){const{el:n,styles:r,classes:o,itemsWithHoverProperty:a}=tr.XF.ContextMenu.setup(e,t),{viewModel:l}=(0,tr.if)(),c=(0,s.KR)(!0);(0,i.sV)((async()=>{await(0,i.dY)();const e=n.value.getBoundingClientRect();t.emit("sizeUpdate",e)}));const u=r=>{!0===e.modelValue&&(!1===c.value?(document.elementsFromPoint(r.clientX,r.clientY).includes(n.value)||(window.removeEventListener("wheel",u),window.removeEventListener("pointerdown",u),t.emit("update:modelValue",!1)),c.value=!0):c.value=!1)};return window.addEventListener("wheel",u),window.addEventListener("pointerdown",u),{el:n,styles:r,classes:o,itemsWithHoverProperty:a,onClick:e=>{t.emit("click",e.value),t.emit("update:modelValue",!1)},getIconPath:e=>l.value.cache[`./${e}`]??e,onPointerOver:e=>{e.onPointerEmit&&t.emit("pointerover",e)},onPointerLeave:e=>{e.onPointerEmit&&t.emit("pointerleave",e)}}}});n(92457);const Dp=(0,Pe.A)(jp,[["render",function(e,t,n,r,o,s){return(0,i.uX)(),(0,i.Wv)(a.eB,{name:"slide-fade"},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",{ref:"el",class:(0,l.C4)(["baklava-context-menu",e.classes]),style:(0,l.Tr)(e.styles)},[0===e.itemsWithHoverProperty.length?((0,i.uX)(),(0,i.CE)("div",Pp,t[0]||(t[0]=[(0,i.Lk)("div",{class:"text"},[(0,i.Lk)("i",null,"No resources")],-1)]))):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.itemsWithHoverProperty,((t,n)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[void 0===t.url?((0,i.uX)(),(0,i.CE)("div",{key:`i-${n}`,class:(0,l.C4)(["item",{submenu:!!t.submenu,"--disabled":!!t.disabled,hoverbox:!!t.tooltipMsg}]),onClick:(0,a.D$)((n=>t.disabled?null:e.onClick(t)),["stop"]),onPointerover:n=>e.onPointerOver(t),onPointerleave:n=>e.onPointerLeave(t)},[(0,i.Lk)("div",Ap,[void 0!==t.icon?((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.icon),{key:0})):(0,i.Q3)("",!0)]),(0,i.Lk)("div",Mp,(0,l.v_)(t.label),1),(0,i.Lk)("div",Np,[(0,i.Lk)("span",null,(0,l.v_)(t.tooltipMsg),1)])],42,Tp)):((0,i.uX)(),(0,i.CE)("a",{key:t.name,href:t.url,class:"item",target:"_blank",draggable:"false",onClick:(0,a.D$)((n=>e.onClick(t)),["stop"])},[(0,i.Lk)("div",Ip,[void 0!==e.getIconPath(t.icon)?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.getIconPath(t.icon),alt:t.name,draggable:"false"},null,8,Rp)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",Lp,(0,l.v_)(t.name),1)],8,Op)),t.endSection?((0,i.uX)(),(0,i.CE)("hr",{key:`hr-${n}`})):(0,i.Q3)("",!0)],64)))),256))],6),[[a.aG,e.modelValue]])])),_:1})}],["__scopeId","data-v-02cc508d"]]),$p=["id","data-node-type"],Bp={class:"interface-cursor"},Vp=["src"],Fp=["innerHTML"],zp=["src"],Up=["innerHTML"],Wp={class:"__properties"},Kp=["onPointerdown"],Hp={class:"__interfaces"},qp={key:1,class:"baklava-node-interface --output"},Gp={key:1,class:"baklava-node-interface --input"},Xp={__name:"CustomNode",props:{node:Xr.hZ,selected:Boolean,greyedOut:Boolean,hidden:Boolean,interfaces:Array},emits:["select"],setup(e,{emit:t}){const n=e,r=t,{viewModel:o}=(0,tr.if)(),{graph:c}=(0,tr.uU)(),u=(0,i.EW)((()=>o.value.movementStep)),d=(0,s.KR)(null),p=(0,s.KR)(null),h=(0,s.KR)(!1),f=(0,s.KR)(null),m=(0,s.KR)(""),g=(0,s.lW)(n,"node"),v=o.value.editor.getNodeURLs(n.node.type),y=(0,i.EW)((()=>o.value.editor.getNodeColor(g.value))),b=(0,i.EW)((()=>o.value.editor.getTextColor(y.value))),w=o.value.editor.getNodeCategory(n.node.type),x=o.value.editor.isGraphNode(n.node.type),_=(0,i.EW)((()=>o.value.editor.nodeHasRelatedGraphs(g.value))),k=(0,i.EW)((()=>o.value.editor.getPillText(g.value.type))),C=(0,i.EW)((()=>o.value.editor.getPillColor(g.value.type))),S=(0,i.EW)((()=>o.value.editor.getTextColor(C.value))),E=!o.value.editor.nodeURLsEmpty(),P=Ti.getEditorManagerInstance(),T=(0,i.EW)((()=>Object.values(n.node.inputs).filter((e=>!e.hidden)))),A=(0,i.EW)((()=>Object.values(n.node.outputs).filter((e=>!e.hidden)))),M=(0,i.EW)((()=>Object.values(T.value).filter((e=>!e.port)))),N=(0,i.EW)((()=>P.baklavaView.settings.showHiddenProperties?M.value:M.value.filter((e=>!(e.hideOnDefault&&(!e.value||e.value===e.default)))))),O=Ul();Object.entries(n.node.inputs).forEach((([e,t])=>{if(e.startsWith("property_")){let e=!0;(0,i.wB)(t,(async t=>{if(!O.isConnected())return void(e=!0);if(e||!P.notifyWhenChanged)return void(e=!1);const r={graph_id:n.node.graphInstance.id,node_id:n.node.id,properties:[]};r.properties.push({id:t.id,new_value:t.value}),await O.notifyAboutChange("properties_on_change",r)}))}})),(0,i.wB)(n.node.position,(e=>{O.isConnected()&&O.notifyAboutChange("position_on_change",{graph_id:n.node.graphInstance.id,node_id:n.node.id,position:{x:e.x,y:e.y}})}));const I=(0,s.KR)(!1),R=(0,s.KR)(0),L=(0,s.KR)(0),j=(0,s.KR)("hidden"),D=(0,s.KR)(0),$=(0,i.EW)((()=>({"transform-origin":"0 0",transform:`scale(${1/c.value.scaling})`,visible:j.value}))),B=(0,i.EW)((()=>{const e=[];if(e.push({value:"sidebar",label:"Details",icon:Yd.Sidebar,endSection:!0}),P.baklavaView.settings.editableNodeTypes&&g.value.type!==Ci&&!o.value.editor.readonly&&(e.push({value:"configure",label:"Configure"},{value:"property",label:"Add property"},{value:"interface",label:"Add interface"},{value:"layer",label:"Set layer"},{value:"delete-property",label:"Delete property"},{value:"delete-interface",label:"Delete interface",endSection:!0}),x||P.editor.preview||e.push({value:"addSubgraph",label:"Add subgraph",icon:Yd.Subgraph},{value:"addAndEditSubgraph",label:"Add and edit subgraph",icon:Yd.Subgraph})),x&&e.push({value:"editSubgraph",label:"Go to graph",icon:Yd.Subgraph}),_.value){const t=g.value,r=o.value.editor.nodeTypes.get(n.node.type),i=e=>e?.map((({id:e,name:t})=>[e,t]))??[];Object.entries({...Object.fromEntries(i(r.relatedGraphs)),...Object.fromEntries(i(t.relatedGraphs))}).forEach((([t,n])=>{e.push({value:`gotoRelatedGraph ${t}`,label:`Go to ${n} graph`,icon:Yd.Subgraph})}))}return e.length>1&&(e.at(-1).endSection=!0),e.push(...v),o.value.editor.readonly||(e.length>1&&(e.at(-1).endSection=!0),e.push({value:"rename",label:"Rename",icon:Yd.Pencil},{value:"disconnect",label:"Disconnect",icon:Yd.Disconnect},{value:"delete",label:"Delete",icon:Yd.Bin})),e})),V=()=>{const{sidebar:e}=o.value.displayedGraph;e.nodeId=n.node.id,e.visible=!0},F=async e=>{if("delete"!==e&&"disconnect"!==e){const e={name:n.node.type,category:w,layer:n.node.layer,color:y};Zr.editedType=e.name,Zr.nodeData=e;let t=[...T.value,...A.value];t=t.filter((e=>void 0!==e.direction));const r=t?.map((e=>({name:e?.name,type:e?.type,direction:e?.direction,maxConnectionsCount:e?.maxConnectionsCount}))),o=M.value,i=o?.map((e=>({name:e?.name,type:e?.type,default:e?._value,min:e?.min,max:e?.max,values:e?.items,step:e?.step,readonly:e?.readonly,dtype:e?.dtype})));Zr.properties=i,Zr.interfaces=r}const t={name:n.node.type,category:w,layer:n.node.layer};switch(e.includes("gotoRelatedGraph")&&o.value.editor.switchToRelatedGraph(e.replace(/^gotoRelatedGraph /,"")),e){case"delete":ao(),c.value.selectedNodes.includes(n.node)||c.value.selectedNodes.push(n.node),c.value.selectedNodes.forEach((e=>uo(e))),c.value.selectedNodes=[],so();break;case"rename":m.value=n.node.title,h.value=!0,await(0,i.dY)(),f.value.focus(),f.value.select();break;case"disconnect":{ao();let e=[...T.value,...A.value];c.value.selectedNodes.forEach((t=>{e=e.concat(Object.entries(t.inputs).filter((([e,t])=>!t.hidden&&!e.startsWith("property_"))).map((([,e])=>e)),Object.values(t.outputs).filter((e=>!e.hidden)))}));const t=c.value.connections.filter((t=>void 0!==e.find((e=>e===t.from||e===t.to))));t.forEach((e=>{c.value.removeConnection(e)})),so()}break;case"sidebar":V();break;case"editSubgraph":{const e=o.value.editor.switchToSubgraph(n.node);Array.isArray(e)&&e.length&&Xi.terminalLog("error","Dataflow is invalid",e);break}case"unwrap":ao(),uo(n.node,!0),so();break;case"configure":Jr.configurationMenu.visible=!0,Jr.configurationMenu.addNode=!1,Zr.nodeData=t;break;case"property":Jr.propertyMenu=!0;break;case"interface":Jr.interfaceMenu=!0;break;case"layer":Jr.layerMenu=!0;break;case"addSubgraph":{const e=P.addSubgraphToNode(n.node);Array.isArray(e)&&e.length&&Xi.terminalLog("error","Creating subgraph failed",e);break}case"addAndEditSubgraph":{let e=P.addSubgraphToNode(n.node);Array.isArray(e)&&e.length&&Xi.terminalLog("error","Creating subgraph failed",e);const t=o.value.displayedGraph.nodes.filter((e=>e.type===n.node.type))[0];e=o.value.editor.switchToSubgraph(t),Array.isArray(e)&&e.length&&Xi.terminalLog("error","Switching to subgraph failed",e);break}case"delete-property":Jr.propertyListMenu=!0;break;case"delete-interface":Jr.interfaceListMenu=!0}},z=e=>{const t=D.value+e.height+200-window.innerHeight;t>0&&(L.value-=t),j.value="visible"},U=(0,i.EW)((()=>0===B.value.length&&E||B.value.length>0)),W=(0,s.KR)(!1),K=(0,s.KR)(!1),H=e=>{if(U.value&&!1===I.value&&!1===W.value&&!1===K.value){I.value=!0;const t=e.currentTarget;R.value=e.offsetX,L.value=e.offsetY+t.offsetTop+20,D.value=e.clientY}},q=function(e,t,n){const{graph:r}=(0,tr.uU)(),o=Ep(e,n,t),i=o.onPointerMove;return o.onPointerMove=n=>{const o=e.value.x,a=e.value.y;i(n);const s=e.value.x-o,l=e.value.y-a;r.value.selectedNodes.forEach((e=>{e.id!==t&&(e.position.x+=s,e.position.y+=l)}))},o}((0,s.lW)(n.node,"position"),n.node.id,Cp(u)),G=(0,i.EW)((()=>({"--selected":n.selected,"--dragging":q.dragging.value,"--two-column":!!n.node.twoColumn,"--greyed-out":n.greyedOut,"--hidden":n.hidden,__readonly:o.value.editor.readonly}))),X=(0,i.EW)((()=>({top:`${n.node.position?.y??0}px`,left:`${n.node.position?.x??0}px`,width:`${n.node.width??300}px`}))),Y=(0,i.EW)((()=>{const e=n.node.highlightedTitle??n.node.title,t=n.node.highlightedType??n.node.type;return""===e||n.node.title===n.node.type?t:`${e} <pre class="subtitle">${t}</pre>`})),J=e=>{r("select",e)};let Z,Q;const ee=()=>{document.removeEventListener("pointermove",q.onPointerMove),document.removeEventListener("keyboard.escape",Z),document.removeEventListener("pointerup",Q)};Z=()=>{ee()},Q=()=>{q.onPointerUp(),ee()};const te=()=>{c.value.findNodeById(n.node.id).title=m.value,h.value=!1},ne=()=>{d.value&&o.value.hooks.renderNode.execute({node:n.node,el:d.value})};(0,i.sV)(ne),(0,i.$u)(ne);const re=$u(700,(()=>{V()})),oe=()=>{const{sidebar:e}=o.value.displayedGraph;e.visible&&(e.nodeId=n.node.id),re()},ie=(0,i.EW)((()=>Object.values([...T.value,...A.value]).filter((e=>"left"===e.side&&e.port)).sort(((e,t)=>e.sidePosition-t.sidePosition)))),ae=(0,i.EW)((()=>Object.values([...T.value,...A.value]).filter((e=>"right"===e.side&&e.port)).sort(((e,t)=>e.sidePosition-t.sidePosition)))),se=e=>{if(!e.length)return[];const t=e.map((e=>e.sidePosition??0)),n=Math.max(...t);let r=0;const o=[];for(let t=0;t<=n;t+=1)e[r]?.sidePosition===t?(o.push(e[r]),r+=1):o.push(void 0);return o},le=(0,i.EW)((()=>se(ae.value))),ce=(0,i.EW)((()=>se(ie.value)));(0,i.wB)(M,(()=>{M.value.forEach((e=>{void 0!==e.setDefaultComponent&&e.setDefaultComponent()}))}),{immediate:!0});const ue=o.value.editor.getNodeIconPath(n.node.type),de=o.value.cache[`./${ue}`]??ue,pe=(0,i.EW)((()=>{let e,t=o.value.editor.getStyleIcon(g.value.type);return"object"==typeof t&&null!==t&&(t=P.getMetadataIcon(t)),void 0!==Yd[t]?e=Yd[t]:void 0!==o.value.cache[`./${t}`]&&(e=Yd.Placeholder,t=o.value.cache[`./${t}`]),{icon:e,name:t}}));let he,fe,me;const ge=(0,s.KR)(null),ve=(0,s.KR)(null),ye=(0,s.KR)({top:"0px",left:"0px",display:"none"}),be=(0,i.EW)((()=>o.value.editor.readonly?U.value?{cursor:"pointer",backgroundColor:y.value,color:b.value}:{cursor:"default",backgroundColor:y.value,color:b.value}:{cursor:"drag",backgroundColor:y.value,color:b.value})),we=(0,i.EW)((()=>({cursor:"default",backgroundColor:C.value,color:S.value}))),xe=e=>e===fe,_e=e=>{let t;"right"===fe.side?t=ve.value:"left"===fe.side&&(t=ge.value);let n=[...t.children].findIndex((t=>t.getBoundingClientRect().bottom>e.clientY));he=n,-1===n&&(n=t.children.length-1,he=t.children.length-1);const r=t.children[n];ye.value={top:r.offsetTop+r.offsetHeight/2-2.5+"px",display:"block"},"right"===fe.side?ye.value.right="-0.7em":"left"===fe.side&&(ye.value.left="-0.7em")},ke=()=>{co(n.node,fe,fe.side,he,!0),fe=void 0,ye.value={top:"0px",left:"0px",right:"0px",display:"none"},document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",ke)},Ce=(e,t)=>{fe=e,_e(t),document.addEventListener("pointermove",_e),document.addEventListener("pointerup",ke)},Se=(0,s.KR)(0),Ee=(0,s.KR)(0),Pe=()=>{const e=[];if(void 0!==fe){const t=void 0===fe.externalName?{value:"SetExternalName",label:"Expose Interface",icon:Yd.Subgraph}:{value:"UnsetExternalName",label:"Privatize Interface",icon:Yd.Subgraph};e.push(t)}return e.push({value:"SpaceUp",label:"Space Up"},{value:"SpaceDown",label:"Space Down"},{value:"MoveUp",label:"Move Up"},{value:"MoveDown",label:"Move Down"}),e},Te=(0,s.KR)(Pe()),Ae=e=>{switch(e){case"SetExternalName":o.value.editor.exposeInterface(c.value.id,fe);break;case"UnsetExternalName":o.value.editor.privatizeInterface(c.value.id,fe);break;case"MoveUp":if(0===fe.sidePosition){fe=void 0;break}he=fe.sidePosition-1,ke();break;case"MoveDown":he=fe.sidePosition+1,ke();break;case"SpaceUp":case"SpaceDown":{const t="right"===fe.side?le.value:ce.value,n="SpaceDown"===e?(e,t)=>e>t:(e,t)=>e>=t;Object.values(t).forEach((e=>{void 0!==e&&n(e.sidePosition,fe.sidePosition)&&(e.sidePosition+=1)}));break}}},Me=(e,t)=>{o.value.editor.readonly||!1!==W.value||(fe=e,Te.value=Pe(),"right"===fe.side?(Se.value=t.currentTarget.offsetLeft+162.5,Ee.value=t.currentTarget.offsetTop+12.5):"left"===fe.side&&(Se.value=t.currentTarget.offsetLeft-t.currentTarget.offsetWidth+162.5,Ee.value=t.currentTarget.offsetTop+12.5),W.value=!0)};(0,i.wB)(W,(()=>{!1===W.value&&(fe=void 0)}));const Ne=e=>{e.group.forEach((t=>{n.node.inputs[t].hidden=!e.value}))},Oe=e=>{n.node.updateDynamicInterfaces(e)},Ie=e=>{"left"===e.side?co(n.node,e,"right"):co(n.node,e,"left")},Re=(0,s.KR)(0),Le=(0,s.KR)(0),je=()=>{const e=[];if(void 0!==me){const t=void 0===me.externalName?{value:"SetExternalName",label:"Expose Property",icon:Yd.Subgraph}:{value:"UnsetExternalName",label:"Privatize Property",icon:Yd.Subgraph};e.push(t)}return e},De=(0,s.KR)(je()),$e=e=>{switch(e){case"SetExternalName":o.value.editor.exposeInterface(c.value.id,me);break;case"UnsetExternalName":o.value.editor.privatizeInterface(c.value.id,me)}};return(0,i.wB)(K,(()=>{!1===K.value&&(me=void 0)})),(e,t)=>{const r=(0,i.gN)("click-outside"),u=(0,i.gN)("long-press"),y=(0,i.gN)("long-press-to-right");return(0,i.uX)(),(0,i.CE)("div",{id:g.value.id,ref_key:"nodeRef",ref:d,class:(0,l.C4)(["baklava-node",G.value]),style:(0,l.Tr)(X.value),"data-node-type":g.value.type,onPointerdown:t[7]||(t[7]=(0,a.D$)((e=>J(e)),["left","exact"])),oncontextmenu:"return false;"},[(0,i.Lk)("div",Bp,[(0,i.Lk)("div",{class:"line",style:(0,l.Tr)(ye.value)},null,4)]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{class:"__title",ref_key:"titleRef",ref:p,style:(0,l.Tr)(be.value),onPointerdown:[(0,a.D$)(oe,["left","exact"]),t[4]||(t[4]=(0,a.D$)((e=>{return t=e,void(o.value.editor.readonly||(e=>{c.value.selectedNodes.includes(n.node)||J(e),q.onPointerDown(e),document.addEventListener("pointermove",q.onPointerMove),document.addEventListener("keyboard.escape",Z),document.addEventListener("pointerup",Q)})(t));var t}),["left"])),(0,a.D$)(H,["right"])]},[void 0!==(0,s.R1)(de)?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"__title-icon",src:(0,s.R1)(de)},null,8,Vp)):(0,i.Q3)("",!0),h.value?(0,i.bo)(((0,i.uX)(),(0,i.CE)("input",{key:2,type:"text",class:"baklava-input","onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),placeholder:"Node Name",ref_key:"renameField",ref:f,onKeydown:[t[1]||(t[1]=e=>e.stopPropagation()),(0,a.jR)(te,["enter"])]},null,544)),[[a.Jo,m.value],[r,te]]):((0,i.uX)(),(0,i.CE)("div",{key:1,class:"__title-label",innerHTML:(0,s.R1)(zd()).sanitize(Y.value)},null,8,Fp)),void 0!==pe.value.name&&null!==pe.value.name?((0,i.uX)(),(0,i.CE)(i.FK,{key:3},[void 0!==pe.value.icon?((0,i.uX)(),(0,i.Wv)((0,i.$y)(pe.value.icon),{key:0,class:"__title-icon",imgURI:pe.value.name},null,8,["imgURI"])):((0,i.uX)(),(0,i.CE)("img",{key:1,class:"__title-icon",src:pe.value.name},null,8,zp))],64)):(0,i.Q3)("",!0),(0,s.R1)(x)||_.value?((0,i.uX)(),(0,i.Wv)((0,s.R1)(Yd).Subgraph,{key:4,class:"__subgraph-icon"})):(0,i.Q3)("",!0),void 0!==k.value?((0,i.uX)(),(0,i.CE)("div",{key:5,class:"pill",style:(0,l.Tr)(we.value),innerHTML:(0,s.R1)(zd()).sanitize(k.value)},null,12,Up)):(0,i.Q3)("",!0),I.value?((0,i.uX)(),(0,i.Wv)(Dp,{key:6,modelValue:I.value,"onUpdate:modelValue":t[2]||(t[2]=e=>I.value=e),x:R.value,y:L.value,items:B.value,urls:(0,s.R1)(v),style:(0,l.Tr)($.value),onPointerdown:t[3]||(t[3]=(0,a.D$)((()=>{}),["left","stop"])),onClick:F,onSizeUpdate:z},null,8,["modelValue","x","y","items","urls","style"])):(0,i.Q3)("",!0)],36)),[[u,H,"500"]]),(0,i.Lk)("div",{class:"__content",onPointerdown:(0,a.D$)(H,["right"])},[(0,i.Lk)("div",Wp,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(N.value,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,onPointerdown:(0,a.D$)((t=>((e,t)=>{if(!o.value.editor.readonly&&!1===K.value&&(me=e,De.value=je(),De.value.length>0)){const e=t.currentTarget;Re.value=t.offsetX,Le.value=t.offsetY+e.offsetTop+20,K.value=!0}})(e,t)),["right","exact"])},[(0,i.eW)((0,l.v_)((0,s.R1)(lo)(e.componentName)?`${e.name}:`:"")+" ",1),(0,i.bF)(Vu,{node:g.value,intf:e,toggleGroup:Ne,updateDynamicInterfaces:Oe},null,8,["node","intf"])],40,Kp)))),128))]),(0,i.Lk)("div",Hp,[(0,i.Lk)("div",{class:"__outputs",ref_key:"rightSocketsRefs",ref:ve},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.value,(e=>((0,i.uX)(),(0,i.CE)(i.FK,null,[e?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(Vu,{key:e.id,onPointerdown:[(0,a.D$)((t=>Ce(e,t)),["left","shift"]),(0,a.D$)((t=>Me(e,t)),["right","exact"])],node:g.value,intf:e,highlighted:n.interfaces?.includes(e),picked:xe(e),switchSides:Ie},null,8,["onPointerdown","node","intf","highlighted","picked"])),[[y,void 0,"500"]]):((0,i.uX)(),(0,i.CE)("div",qp,""))],64)))),256))],512),(0,i.Lk)("div",{class:"__inputs",ref_key:"leftSocketsRefs",ref:ge},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(ce.value,(e=>((0,i.uX)(),(0,i.CE)(i.FK,null,[e?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(Vu,{key:e.id,onPointerdown:[(0,a.D$)((t=>Ce(e,t)),["left","shift"]),(0,a.D$)((t=>Me(e,t)),["right"])],node:g.value,intf:e,highlighted:n.interfaces?.includes(e),picked:xe(e),switchSides:Ie},null,8,["onPointerdown","node","intf","highlighted","picked"])),[[y,void 0,"500"]]):((0,i.uX)(),(0,i.CE)("div",Gp,""))],64)))),256))],512)]),W.value?((0,i.uX)(),(0,i.Wv)(Dp,{key:0,modelValue:W.value,"onUpdate:modelValue":t[5]||(t[5]=e=>W.value=e),x:Se.value,y:Ee.value,items:Te.value,style:(0,l.Tr)($.value),onClick:Ae},null,8,["modelValue","x","y","items","style"])):(0,i.Q3)("",!0),K.value?((0,i.uX)(),(0,i.Wv)(Dp,{key:1,modelValue:K.value,"onUpdate:modelValue":t[6]||(t[6]=e=>K.value=e),x:Re.value,y:Le.value,items:De.value,style:(0,l.Tr)($.value),onClick:$e},null,8,["modelValue","x","y","items","style"])):(0,i.Q3)("",!0)],32)],46,$p)}}};n(48436);const Yp=(0,Pe.A)(Xp,[["__scopeId","data-v-180097b4"]]),Jp={key:0},Zp=["d"],Qp=["onPointerdown"],eh=["d"],th=["d"],nh=["d"],rh=["d"],oh=(0,i.pM)({props:{position:{type:Object,required:!0},rightclickCallback:{required:!0,type:Function}},setup(e){const{graph:t}=(0,tr.uU)(),{viewModel:n}=(0,tr.if)(),r=(0,i.EW)((()=>({cx:(e.position.x+t.value.panning.x)*t.value.scaling+"px",cy:(e.position.y+t.value.panning.y)*t.value.scaling+"px",r:7.5*t.value.scaling+"px"}))),o=Ep((0,s.KR)(e.position)),a=()=>{o.onPointerUp(),document.removeEventListener("pointermove",o.onPointerMove),document.removeEventListener("pointerup",a)};return{styles:r,startDrag:e=>{n.value.editor.readonly||(o.onPointerDown(e),document.addEventListener("pointermove",o.onPointerMove),document.addEventListener("pointerup",a))}}}});n(96052);const ih=(0,Pe.A)(oh,[["render",function(e,t,n,r,o,s){return(0,i.uX)(),(0,i.CE)("g",{onPointerdown:[t[0]||(t[0]=(0,a.D$)(((...t)=>e.startDrag&&e.startDrag(...t)),["left"])),t[1]||(t[1]=(0,a.D$)(((...t)=>e.rightclickCallback&&e.rightclickCallback(...t)),["right","exact"]))],class:"anchor"},[(0,i.Lk)("circle",{style:(0,l.Tr)(e.styles)},null,4)],32)}]]),ah=(0,i.pM)({extends:tr.XF.Connection,props:{isHighlighted:{default:!1},connection:{required:!0},hover:{default:!1}},components:{Anchor:ih},setup(e){const{classes:t}=tr.XF.Connection.setup(e),{graph:n}=(0,tr.uU)(),{viewModel:r}=(0,tr.if)(),{interfaceTypes:o}=r.value,a=Ti.getEditorManagerInstance(),l=(0,s.lW)(e,"hover"),c=o.getConnectionStyle(e.connection.from,e.connection.to),u=(0,i.EW)((()=>({...t.value,"--hover":e.isHighlighted||l.value,"--dashed":"dashed"===c.interfaceConnectionPattern,"--dotted":"dotted"===c.interfaceConnectionPattern}))),d=(0,i.EW)((()=>({"--color":c.interfaceConnectionColor}))),p=$u(700,(t=>{r.value.editor.readonly||(t.preventDefault(),n.value.removeConnection(e.connection))})),h=(e,t)=>[(e+n.value.panning.x)*n.value.scaling,(t+n.value.panning.y)*n.value.scaling],f=(0,i.EW)((()=>{const[t,n]=h(e.x1,e.y1),[o,i]=h(e.x2,e.y2);return r.value.connectionRenderer.render(t,n,o,i,e.connection)})),m=(0,i.EW)((()=>{const e=f.value;if(Array.isArray(e)&&e.length){const t=[];for(let n=0;n<e.length-1;n+=1)t.push(`M ${e[n].x} ${e[n].y} L ${e[n+1].x} ${e[n+1].y}`);return t}return e}));return{cssClasses:u,parsedNewD:m,onMouseDown:p,onMouseCtrlDown:(t,o)=>{if(r.value.editor.readonly||!r.value.connectionRenderer.supportsAnchors())return;t.preventDefault();const i={x:t.offsetX/n.value.scaling-n.value.panning.x,y:t.offsetY/n.value.scaling-n.value.panning.y,id:Date.now()};n.value.addAnchor(i,e.connection,Math.trunc((o-1)/3))},style:d,hasAnchors:(0,i.EW)((()=>void 0!==e.connection.anchors&&e.connection.anchors.length&&r.value.connectionRenderer.supportsAnchors())),removeAnchor:t=>{r.value.editor.readonly||(n.value.events.removeAnchor.emit([e.connection,t]),e.connection.anchors.splice(t,1))},editorManager:a}}}),sh=(0,Pe.A)(ah,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("Anchor");return e.hasAnchors?((0,i.uX)(),(0,i.CE)("g",Jp,[(0,i.Lk)("path",{d:e.parsedNewD,class:"connection-wrapper baklava-connection"},null,8,Zp),e.hasAnchors?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.parsedNewD,((n,r)=>((0,i.uX)(),(0,i.CE)("g",{onPointerdown:[t[0]||(t[0]=(0,a.D$)(((...t)=>e.onMouseDown&&e.onMouseDown(...t)),["left","exact"])),t[1]||(t[1]=t=>{"touch"===t.pointerType&&e.onMouseDown(t)}),(0,a.D$)((t=>e.onMouseCtrlDown(t,r)),["left","ctrl","exact"])]},[(0,i.Lk)("path",{d:n,class:"connection-wrapper baklava-connection"},null,8,eh),(0,i.Lk)("path",{d:n,class:(0,l.C4)(["baklava-connection",e.cssClasses]),style:(0,l.Tr)(e.style)},null,14,th)],40,Qp)))),256)),e.hover||!e.editorManager.baklavaView.settings.hideAnchors?((0,i.uX)(!0),(0,i.CE)(i.FK,{key:0},(0,i.pI)(e.connection.anchors,((t,n)=>((0,i.uX)(),(0,i.Wv)(c,{key:t.id,position:t,rightclickCallback:()=>e.removeAnchor(n)},null,8,["position","rightclickCallback"])))),128)):(0,i.Q3)("",!0)],64)):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("g",{key:1,onPointerdown:[t[2]||(t[2]=(0,a.D$)(((...t)=>e.onMouseDown&&e.onMouseDown(...t)),["left","exact"])),t[3]||(t[3]=t=>{"touch"===t.pointerType&&e.onMouseDown(t)}),t[4]||(t[4]=(0,a.D$)((t=>e.onMouseCtrlDown(t,0)),["left","ctrl","exact"]))]},[(0,i.Lk)("path",{d:e.parsedNewD,class:"connection-wrapper baklava-connection"},null,8,nh),(0,i.Lk)("path",{d:e.parsedNewD,class:(0,l.C4)(["baklava-connection",e.cssClasses]),style:(0,l.Tr)(e.style)},null,14,rh)],32))}]]);function lh(e){const t=document.getElementById(e.id),n=t?.getElementsByClassName("__port");return{node:t?.closest(".baklava-node")??null,interface:t,port:n&&n.length>0?n[0]:null}}const ch=(0,i.pM)({extends:tr.XF.ConnectionWrapper,props:{connection:{required:!0},isHighlighted:{default:!1}},components:{ConnectionView:sh},setup(e){const t=(0,s.KR)(null),{graph:n}=(0,tr.uU)();let r;const o=(0,s.KR)({x1:0,y1:0,x2:0,y2:0}),a=(0,i.EW)((()=>e.connection.isInDanger?2:0)),l=(0,s.KR)(!1),c=(0,i.EW)((()=>n.value.findNodeById(e.connection.from.nodeId)?.position)),u=(0,i.EW)((()=>n.value.findNodeById(e.connection.to.nodeId)?.position)),d=(0,i.EW)((()=>n.value.findNodeById(e.connection.from.nodeId))),p=(0,i.EW)((()=>n.value.findNodeById(e.connection.to.nodeId))),h=(0,i.EW)((()=>[...Object.values(d.value?.inputs??{}),...Object.values(d.value?.outputs??{})].map((e=>[e.side,e.sidePosition])))),f=(0,i.EW)((()=>[...Object.values(p.value?.inputs??{}),...Object.values(p.value?.outputs??{})].map((e=>[e.side,e.sidePosition])))),m=e=>e.node&&e.interface&&e.port?[e.node.offsetLeft+e.interface.offsetLeft+e.port.offsetLeft+e.port.clientWidth/2,e.node.offsetTop+e.interface.offsetTop+e.port.offsetTop+e.port.clientHeight/2]:[0,0],g=()=>{const t=lh(e.connection.from),n=lh(e.connection.to);t.node&&n.node&&(r||(r=new ResizeObserver((()=>{g()})),r.observe(t.node),r.observe(n.node)));const[i,a]=m(t),[s,l]=m(n);o.value={x1:i,y1:a,x2:s,y2:l}};return(0,i.wB)([h,f],(async()=>{await(0,i.dY)(),g()})),(0,i.wB)([c,u],(async()=>{await(0,i.dY)(),g()}),{deep:!0}),(0,i.sV)((async()=>{await(0,i.dY)(),g()})),(0,i.xo)((()=>{r&&r.disconnect()})),{d:o,state:a,containsPoint:e=>e.includes(t.value.$el.firstChild),conn:t,hover:l}}}),uh=(0,Pe.A)(ch,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("ConnectionView");return(0,i.uX)(),(0,i.Wv)(s,{ref:"conn",x1:e.d.x1,y1:e.d.y1,x2:e.d.x2,y2:e.d.y2,state:e.state,connection:e.connection,isHighlighted:e.isHighlighted,hover:e.hover,onMouseover:t[0]||(t[0]=t=>e.hover=!0),onMouseleave:t[1]||(t[1]=t=>e.hover=!1)},null,8,["x1","y1","x2","y2","state","connection","isHighlighted","hover"])}]]),dh={extends:tr.XF.TemporaryConnection,components:{ConnectionView:sh},setup(e){const{d:t,status:n}=tr.XF.TemporaryConnection.setup(e),r=(0,i.EW)((()=>{let{input:n,output:r}=t.value;return e.connection.from.isInput&&([n,r]=[r,n]),{input:n,output:r}}));return{d:t,swappedD:r,status:n}}},ph=(0,Pe.A)(dh,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("ConnectionView");return(0,i.uX)(),(0,i.Wv)(s,{x1:r.swappedD.input[0],y1:r.swappedD.input[1],x2:r.swappedD.output[0],y2:r.swappedD.output[1],state:r.status,connection:e.connection,"is-temporary":""},null,8,["x1","y1","x2","y2","state","connection"])}]]),hh={class:"search-bar"},fh={class:"palette-title"},mh=["onClick"],gh={class:"__entry_search"},vh={class:"nodes entries"};var yh=n(68554);const bh={key:0},wh=["onPointerdown"],xh=["src"],_h=["innerHTML"],kh=["onClick"],Ch={class:"__icondiv"},Sh=["onClick"],Eh=["onClick","onPointerdown"],Ph=["src"],Th=["innerHTML"],Ah=["onClick"],Mh={class:"__icondiv"},Nh=["innerHTML"],Oh=["onPointerdown"],Ih=["src"],Rh=["innerHTML"],Lh=["onClick"],jh={class:"__icondiv"},Dh={key:1,class:"__title"},$h={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bh={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(53100);const Vh=(0,Pe.A)(Bh,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",$h,[(0,i.Lk)("circle",{cx:"10",cy:"2",r:"2",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("circle",{cx:"10",cy:"10",r:"2",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("circle",{cx:"10",cy:"18",r:"2",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-5ad7104f"]]),Fh={ref:"el"},zh=["href"],Uh={class:"link_item"},Wh=["src"],Kh=(0,i.pM)({props:{node:{required:!0}},setup(e){const t=(0,s.KR)(null),{viewModel:n}=(0,tr.if)();return{el:t,getIconPath:e=>n.value.cache[`./${e}`]??e,nodeRef:(0,s.KR)(e.node)}}});n(183);const Hh=(0,Pe.A)(Kh,[["render",function(e,t,n,r,o,s){return(0,i.uX)(),(0,i.Wv)(a.eB,{name:"slide-fade"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Fh,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.nodeRef.URLs,(n=>((0,i.uX)(),(0,i.CE)("a",{key:n.name,href:n.url,class:"__url",target:"_blank",draggable:"false",onPointerdown:t[0]||(t[0]=(0,a.D$)((()=>{}),["left","stop"]))},[(0,i.Lk)("div",Uh,[void 0!==n.icon?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.getIconPath(n.icon),draggable:"false"},null,8,Wh)):(0,i.Q3)("",!0),(0,i.Lk)("span",null,(0,l.v_)(n.name),1),t[1]||(t[1]=(0,i.Lk)("br",null,null,-1))])],40,zh)))),128))],512)])),_:1})}],["__scopeId","data-v-28f02260"]]),qh=e=>{const t={},n={};return e.forEach((e=>{const[t,...r]=e.split(/(?<!\\)\//),o=t.trim();Object.keys(n).includes(o)||(n[o]=[]),r.length>0&&n[o].push(r.join("/"))})),Object.entries(n).forEach((([e,n])=>{t[e]=qh(new Set(n))})),t},Gh=e=>{const[t,n]=e;n.hitSubstring=t,void 0!==n.categoryNode&&(n.categoryNode.hitSubstring=n.categoryNode.title),void 0!==n.nodes.nodeTypes&&Object.entries(n.nodes.nodeTypes).forEach((([,e])=>{e.hitSubstring=e.title})),Object.entries(n.subcategories).forEach((e=>Gh(e)))},Xh=e=>{e.mask=!0,void 0!==e.categoryNode&&(e.categoryNode.mask=!0),void 0!==e.nodes.nodeTypes&&Object.values(e.nodes.nodeTypes).forEach((e=>{e.mask=!0})),Object.values(e.subcategories).forEach((e=>Xh(e)))},Yh=(e,t,n="")=>{const r={};return Object.entries(e).forEach((([e,o])=>{var i;let a="";a=""===n?e:`${n}/${e}`;const s=null!==(i=t.find((e=>e.categoryName===a)))&&void 0!==i?i:{};if(0!==Object.keys(s).length){const n=[];Object.entries(s.nodeTypes).forEach((([e,t])=>{t.isCategory&&n.push(e)}));const i=Object.keys(s.nodeTypes),l={categoryName:s.categoryName,nodeTypes:{}};let c;i.forEach((e=>{n.includes(e)?c=s.nodeTypes[e]:l.nodeTypes[e]=s.nodeTypes[e]})),r[e]={subcategories:Yh(o,t,a),nodes:l,categoryNode:c,hitSubstring:e,mask:!0}}else r[e]={subcategories:Yh(o,t,a),nodes:{},categoryNode:void 0,hitSubstring:e,mask:!0}})),r},Jh=(e,t,n)=>Object.entries(e).map((([e,r])=>{var o;let i=!1;const a=kp().single(t,e);null!==a&&a.score>-50?(r.hitSubstring=null!==(o=kp().highlight(a,"<span>","</span>"))&&void 0!==o?o:"",i=!0):r.hitSubstring=e;let s=!1;return void 0!==r.nodes.nodeTypes&&0!==Object.keys(r.nodes.nodeTypes).length&&(s=Object.values(r.nodes.nodeTypes).map((e=>{var r;const o=kp().single(t,e.title);return e.mask=null!==o&&o.score>-50||i||n,e.hitSubstring=null!==o?null!==(r=kp().highlight(o,"<span>","</span>"))&&void 0!==r?r:"":e.title,e.mask})).includes(!0)),r.mask=Jh(r.subcategories,t,i||n)||i||s||n,r.mask})).includes(!0);let Zh;const Qh=[_i,Ci],ef=(0,i.pM)({components:{Arrow:sr,LinkMenu:Hh,VerticalEllipsis:Vh,Cross:Fi,CustomContextMenu:Dp},props:{nodeTree:{required:!0},onDragStart:{required:!0},depth:{type:Number,default:0},defaultCollapse:{type:Boolean,default:!0},tooltip:{required:!1},nodeSearch:{type:String,required:!0}},data:()=>({DOMPurify:zd()}),setup(e){const{viewModel:t}=(0,tr.if)(),n=e=>0!==Object.keys(e.nodes.nodeTypes??{}).length||0!==Object.keys(e.subcategories).length,r=(0,s.KR)(Array(Object.keys(e.nodeTree.subcategories??{}).length).fill(!e.defaultCollapse));let o=r.value;(0,i.wB)((()=>e.nodeTree),(()=>{r.value=Array(Object.keys(e.nodeTree.subcategories??{}).length).fill(!e.defaultCollapse)})),(0,i.wB)((()=>e.nodeSearch),((t,n)=>{""!==t&&""===n?(o=r.value,r.value=Array(Object.keys(e.nodeTree.subcategories??{}).length).fill(!0)):""===t&&""!==n&&(r.value=o)}));const a=e=>Qh.includes(e),l=(0,i.WQ)("menu"),c=Ti.getEditorManagerInstance(),u=(0,i.EW)((()=>c.specificationLoaded.value)),d=(0,s.Kh)({}),p=(0,s.KR)(!1),h=(0,s.KR)(0),f=(0,s.KR)(0),m=(0,s.KR)(""),g=(0,s.Kh)({isHovered:!1,hoveredItemValue:void 0}),v=(0,i.EW)((()=>{const e=()=>!c.editor.additionalNodeTypes.has(m.value),t=[];return t.push({value:"delete",label:"Delete",icon:dd,disabled:e(),onPointerEmit:e(),tooltipMsg:e()&&"Node type can't be deleted"}),t}));return{padding:(e,t=!1)=>t?"padding-left: 0":`padding-left: ${10+30*e}px`,mask:r,onMouseDown:e=>{r.value.splice(e,1,!r.value[e])},getRotation:e=>r.value[e]?"left":"right",sortedEntries:(e,t=!1)=>Object.entries(e).sort((([e,r],[o,i])=>{if(e===_i)return-1;if(o===_i)return 1;if(!a(e)&&a(o))return 1;if(a(e)&&!a(o))return-1;if(t){if(n(r)&&!n(i))return 1;if(!n(r)&&n(i))return-1}return e.toLowerCase().localeCompare(o.toLowerCase())})),prettyTitle:e=>e.replace("\\/","/"),getIconPath:e=>t.value.cache[`./${e}`]??e,isCategoryNode:e=>void 0!==e?.categoryNode,notEmptyCategory:n,showMenu:l,showMenuClick:e=>{l.value=l.value.hitSubstring!==e.hitSubstring&&e},closeMenu:()=>{l.value&&(l.value=!1)},specificationLoaded:u,nodeEntryClasses:e=>({__entry:!0,"__node-entry":!0,"__top-level-node-entry":a(e)}),isTopLevelNode:a,openContextMenu:e=>{if(!1===p.value&&!a(e)&&c.baklavaView.settings.editableNodeTypes){m.value=e,p.value=!0;const t=d[e],n=document.createRange();n.selectNodeContents(t);const r=n.getBoundingClientRect();h.value=r.right+20,f.value=r.top-5.15*r.height}},showContextMenu:p,contextMenuX:h,contextMenuY:f,contextMenuItems:v,onContextMenuClick:()=>{c.removeNodeType(m.value)},onPointerOver:e=>{g.hoveredItemValue=e,g.isHovered=!0},onPointerLeave:e=>{g.hoveredItemValue===e&&(g.hoveredItemValue=void 0,g.isHovered=!1)},labelRefs:d}}}),tf=(0,Pe.A)(ef,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("Cross"),u=(0,i.g2)("VerticalEllipsis"),d=(0,i.g2)("LinkMenu"),p=(0,i.g2)("CustomContextMenu"),h=(0,i.g2)("Arrow"),f=(0,i.g2)("PaletteCategory",!0),m=(0,i.gN)("click-outside");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bo)((0,i.Lk)("div",null,[e.nodeTree.nodes.nodeTypes?((0,i.uX)(),(0,i.CE)("div",bh,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.sortedEntries(e.nodeTree.nodes.nodeTypes),(([n,r])=>(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{style:(0,l.Tr)([{width:"100%"},e.padding(e.depth)]),class:(0,l.C4)(e.nodeEntryClasses(n)),key:n},[(0,i.Lk)("div",{onPointerdown:[(0,a.D$)((t=>e.onDragStart(n,r,r.iconPath)),["left"]),(0,a.D$)((t=>e.openContextMenu(n)),["right"])],class:(0,l.C4)(e.nodeEntryClasses(n))},[e.isTopLevelNode(n)?((0,i.uX)(),(0,i.Wv)(c,{key:1,color:"white",rotate:45,class:"__title-icon"})):((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[void 0!==r.iconPath?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"__title-icon",src:e.getIconPath(r.iconPath),draggable:"false"},null,8,xh)):(0,i.Q3)("",!0)],64)),(0,i.Lk)("div",{class:"__title-label",innerHTML:e.DOMPurify.sanitize(e.prettyTitle(r.hitSubstring)),ref_for:!0,ref:t=>e.labelRefs[n]=t},null,8,_h)],42,wh),0!==r.URLs.length?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"__vertical_ellipsis",ref_for:!0,ref:"settings",role:"button",onPointerdown:t[0]||(t[0]=(0,a.D$)((()=>{}),["stop"])),onClick:(0,a.D$)((()=>e.showMenuClick(r)),["stop"])},[(0,i.bF)(u,{class:"smaller_svg"})],40,kh)):(0,i.Q3)("",!0),(0,i.Lk)("div",Ch,[!1!==e.showMenu&&e.showMenu.hitSubstring===r.hitSubstring?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(d,{key:0,node:e.showMenu,style:{width:"18em"}},null,8,["node"])),[[m,e.closeMenu]]):(0,i.Q3)("",!0)])],6)),[[a.aG,r.mask]]))),128))])):(0,i.Q3)("",!0)],512),[[a.aG,e.nodeTree.mask]]),e.showContextMenu?((0,i.uX)(),(0,i.Wv)(p,{key:0,modelValue:e.showContextMenu,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showContextMenu=t),x:e.contextMenuX,y:e.contextMenuY,items:e.contextMenuItems,style:(0,l.Tr)(e.contextMenuStyle),onClick:e.onContextMenuClick,onPointerover:e.onPointerOver,onPointerleave:e.onPointerLeave},null,8,["modelValue","x","y","items","style","onClick","onPointerover","onPointerleave"])):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.sortedEntries(e.nodeTree.subcategories,!0),(([n,r],o)=>(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{key:n},[e.notEmptyCategory(r)?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("div",{class:"__entry __category",onClick:t=>e.onMouseDown(o),style:(0,l.Tr)(e.padding(e.depth))},[(0,i.bF)(h,{rotate:e.getRotation(o),scale:"small"},null,8,["rotate"]),e.isCategoryNode(r)?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{class:"__entry __node-entry",key:r.title,onClick:t=>e.onMouseDown(o),onPointerdown:[(0,a.D$)((t=>e.onDragStart(r.title,r.categoryNode,r.iconPath)),["left"]),(0,a.D$)((t=>e.openContextMenu(n)),["right"])]},[void 0!==r.categoryNode.iconPath?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"__title-icon",src:e.getIconPath(r.categoryNode.iconPath),draggable:"false"},null,8,Ph)):(0,i.Q3)("",!0),(0,i.Lk)("div",{class:"__title-label",innerHTML:e.DOMPurify.sanitize(e.prettyTitle(r.hitSubstring)),ref_for:!0,ref:t=>e.labelRefs[n]=t},null,8,Th),0!==r.categoryNode.URLs.length?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"__vertical_ellipsis",ref_for:!0,ref:"settings",role:"button",onPointerdown:t[2]||(t[2]=(0,a.D$)((()=>{}),["stop"])),onClick:(0,a.D$)((()=>e.showMenuClick(r)),["stop"])},[(0,i.bF)(u,{class:"smaller_svg"})],40,Ah)):(0,i.Q3)("",!0)],40,Eh)),[[a.aG,r.mask]]),(0,i.Lk)("div",Mh,[!1!==e.showMenu&&e.showMenu.hitSubstring===r.hitSubstring?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(d,{key:0,node:e.showMenu.categoryNode,style:{width:"18em"}},null,8,["node"])),[[m,e.closeMenu]]):(0,i.Q3)("",!0)])],64)):((0,i.uX)(),(0,i.CE)("div",{key:1,class:"__title",innerHTML:e.DOMPurify.sanitize(e.prettyTitle(r.hitSubstring))},null,8,Nh))],12,Sh),(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(f,{nodeTree:r,onDragStart:e.onDragStart,depth:e.depth+1,defaultCollapse:e.defaultCollapse,tooltip:e.tooltip,nodeSearch:e.nodeSearch},null,8,["nodeTree","onDragStart","depth","defaultCollapse","tooltip","nodeSearch"])],512),[[a.aG,e.mask[o]]])],64)):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[e.isCategoryNode(r)?(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)(e.nodeEntryClasses(r.title)),style:(0,l.Tr)(e.padding(e.depth)),key:r.title,onPointerdown:t=>e.onDragStart(r.title,r.categoryNode,r.iconPath)},[void 0!==r.categoryNode.iconPath?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"__title-icon",src:e.getIconPath(r.categoryNode.iconPath),draggable:"false"},null,8,Ih)):(0,i.Q3)("",!0),(0,i.Lk)("div",{class:"__title-label",innerHTML:e.DOMPurify.sanitize(r.hitSubstring)},null,8,Rh),0!==r.categoryNode.URLs.length?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"__vertical_ellipsis",ref_for:!0,ref:"settings",role:"button",onPointerdown:t[3]||(t[3]=(0,a.D$)((()=>{}),["stop"])),onClick:(0,a.D$)((()=>e.showMenuClick(r)),["stop"])},[(0,i.bF)(u,{class:"smaller_svg"})],40,Lh)):(0,i.Q3)("",!0),(0,i.Lk)("div",jh,[!1!==e.showMenu&&e.showMenu.hitSubstring===r.hitSubstring?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(d,{key:0,node:e.showMenu.categoryNode,style:{width:"18em"}},null,8,["node"])),[[m,e.closeMenu]]):(0,i.Q3)("",!0)])],46,Oh)),[[a.aG,r.mask]]):((0,i.uX)(),(0,i.CE)("div",Dh,(0,l.v_)(e.prettyTitle(r.hitSubstring)),1))],64))])),[[a.aG,r.mask]]))),128))],64)}]]),nf=tf,rf=["src"],of=["innerHTML"],af=(0,i.pM)({props:{title:{type:String,required:!0},iconPath:{type:String,required:!1},depth:{type:Number,required:!0},isCategory:{type:Boolean,required:!1},isDragged:{type:Boolean,required:!1},hitSubstring:{type:String,required:!1},mask:{required:!1}},setup(e){const{viewModel:t}=(0,tr.if)(),n=e=>t.value.cache[`./${e}`]??e,r=(0,i.EW)((()=>n(e.iconPath))),o=(0,i.EW)((()=>`padding-left: ${10+20*e.depth}px`)),a=(0,i.EW)((()=>zd().sanitize(e.hitSubstring??e.title)));return{nodeIcon:r,padding:o,getIconPath:n,titleSanitized:a}}});n(4698);const sf=(0,Pe.A)(af,[["render",function(e,t,n,r,o,s){return(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)(["__entry __node-entry",{__category:e.isCategory,__dragged:e.isDragged}]),style:(0,l.Tr)(e.padding)},[void 0!==e.nodeIcon?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"__title-icon",src:e.nodeIcon,draggable:"false"},null,8,rf)):(0,i.Q3)("",!0),(0,i.Lk)("div",{class:"__title-label",innerHTML:e.titleSanitized},null,8,of)],6)),[[a.aG,void 0===e.mask||e.mask]])}],["__scopeId","data-v-6fa34012"]]),lf=(0,i.pM)({components:{PaletteCategory:nf,PaletteEntry:sf},props:{paletteRef:{required:!0},paletteSearch:{required:!0}},setup(e){const{viewModel:t}=(0,tr.if)(),{editor:n}=t.value,{x:r,y:o}=(0,yh.RcE)(),{transform:a}=(0,tr.Gy)(),l=(0,i.EW)((()=>e.paletteSearch)),c=(0,i.WQ)("editorEl"),u=(0,s.KR)(null),d=(0,s.KR)(null),p=(0,s.KR)(null),h=(0,s.KR)(null);d.value={top:0,left:0,visible:!1,text:""};const f=(0,i.EW)((()=>{if(!u.value||!c?.value)return{};const{left:e,top:t}=c.value.getBoundingClientRect();return{top:o.value-t+"px",left:r.value-e+"px"}}));function m(e){t.value.displayedGraph.addNode(e),e.position.x=p.value,e.position.y=h.value}(0,i.wB)((()=>Jr.configurationMenu.visible),(async(e,t)=>{if(!0===t&&!1===e&&Jr.configurationMenu.placeNode){const e=Zr.nodeData.name,t=new(n.nodeTypes.get(e).type);Jr.configurationMenu.addNode&&Zr.success&&m(t)}}));const g=t=>{if(!document.elementsFromPoint(t.clientX,t.clientY).includes(e.paletteRef)){const e=c.value.getBoundingClientRect();[p.value,h.value]=a(r.value-e.left,o.value-e.top),u.value.type===_i?(Jr.configurationMenu.visible=!Jr.configurationMenu.visible,Jr.configurationMenu.addNode=!0,Jr.configurationMenu.placeNode=!0):m(new u.value.nodeInformation.type),u.value=null,document.removeEventListener("pointerup",g),document.removeEventListener("keydown",v)}},v=e=>{"Escape"===e.key&&(u.value=null,document.removeEventListener("pointerup",g),document.removeEventListener("keydown",v))},y=(0,s.KR)(0),b=(0,s.KR)(!1);(0,i.Gt)("menu",b);const w=(0,i.EW)((()=>function(e){const{viewModel:t}=(0,tr.if)(),{editor:n}=t.value,r=Ti.getEditorManagerInstance(),o=Array.from(n.nodeTypes.entries()),a=new Set(o.map((([,e])=>e.category))),s={categoryName:"TopLevel",nodeTypes:{}},l=[];a.forEach((e=>{if(""===e)return void o.filter((([,e])=>""===e.category)).forEach((([e,t])=>{s.nodeTypes[e]=Object.assign(Object.assign({},t),{isCategory:t.isCategory,mask:!0,hitSubstring:t.title,iconPath:n.getNodeIconPath(e),URLs:n.getNodeURLs(e)})}));let t=o.filter((([,t])=>t.category===e));const i=Object.fromEntries(t.map((e=>{const[t]=e;return[t,n.getNodeURLs(t)]}))),a=Object.fromEntries(t.map((e=>{const[t]=e;return[t,n.getNodeIconPath(t)]})));let c=t.filter((([e,t])=>Qh.includes(e)));if(t=t.filter((([e,t])=>!Qh.includes(e))),r.baklavaView.settings.editableNodeTypes||(c=c.filter((([e,t])=>e!==_i))),r.baklavaView.settings.newGraphNode||(c=c.filter((([e,t])=>e!==Ci))),t.length>0){const n=t.map((([e,t])=>[e,Object.assign(Object.assign({},t),{isCategory:t.isCategory,mask:!0,hitSubstring:t.title,iconPath:a[e],URLs:i[e]})]));l.push({categoryName:e,nodeTypes:Object.fromEntries(n)})}c.forEach((([e,t])=>{s.nodeTypes[e]=Object.assign(Object.assign({},t),{isCategory:t.isCategory,mask:!0,hitSubstring:t.title,iconPath:a[e],URLs:i[e]})}))}));const c=new Set(l.map((e=>e.categoryName))),u=qh(c),d=Yh(u,l);Zh&&Zh();const p={subcategories:d,nodes:s,categoryNode:void 0,hitSubstring:"TopLevel",mask:!0},h={All:p};return Zh=(0,i.wB)(e,(e=>{""===e?(Object.entries(h).forEach((e=>Gh(e))),Object.values(h).forEach((e=>Xh(e)))):Jh(h,e.toLowerCase(),!1)})),p}(l))),x=(0,i.EW)((()=>t.value.collapseSidebar));return(0,i.sV)((()=>{(0,i.EW)((()=>document.querySelector(".nodes"))).value.addEventListener("scroll",(e=>{y.value=e.target.scrollTop;const t=document.getElementsByClassName("__icondiv");for(let e=0;e<t.length;e+=1)t[e].style.translate=`0px -${y.value.toString()}px`}))})),{draggedNodeStyles:f,draggedNode:u,onDragStart:(e,t,n)=>{u.value={type:e,nodeInformation:t,iconPath:n},document.addEventListener("pointerup",g),document.addEventListener("keydown",v)},nodeTree:w,collapse:x,tooltip:d,nodeSearch:l,scroll:y}}}),cf=(0,Pe.A)(lf,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("PaletteCategory"),u=(0,i.g2)("PaletteEntry");return(0,i.uX)(),(0,i.CE)("div",vh,[(0,i.bF)(c,{nodeTree:e.nodeTree,onDragStart:e.onDragStart,defaultCollapse:e.collapse,tooltip:e.tooltip,nodeSearch:e.nodeSearch},null,8,["nodeTree","onDragStart","defaultCollapse","tooltip","nodeSearch"]),(0,i.bF)(a.eB,{name:"fade"},{default:(0,i.k6)((()=>[e.draggedNode?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"baklava-dragged-node",style:(0,l.Tr)(e.draggedNodeStyles)},[(0,i.bF)(u,{title:e.draggedNode.nodeInformation.title,iconPath:e.draggedNode.iconPath,isDragged:!0,depth:0},null,8,["title","iconPath"])],4)):(0,i.Q3)("",!0)])),_:1})])}]]),uf={class:"graphs entries"},df=(0,i.pM)({components:{PaletteEntry:sf},props:{paletteSearch:{required:!0}},setup(e){const{viewModel:t}=(0,tr.if)();return{entries:(0,i.EW)((()=>[...t.value.editor.graphs].map((n=>{const{displayedGraph:r,settings:o,editor:i}=t.value,a=[n.name,n.graphNode?.title,n.graphNode?.type,"Anonymous"].find((e=>e&&""!==e)),s=`${a} ${o.showIds?`(${n.id})`:""}`,l={},c=o.showIds?-100:-50;if(""!==e.paletteSearch){const t=kp().single(e.paletteSearch,s);t?.score>c?(l.mask=!0,l.hitSubstring=kp().highlight(t,"<span>","</span>")):l.mask=!1}return{click:()=>i.switchToRelatedGraph(n.id),title:s,isCurrent:r.id===n.id,key:n.id,...l}}))))}}}),pf=(0,Pe.A)(df,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("PaletteEntry");return(0,i.uX)(),(0,i.CE)("div",uf,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.entries,(e=>((0,i.uX)(),(0,i.Wv)(s,{onClick:e.click,key:e.id,title:e.title,isCategory:!e.isCurrent,mask:e.mask,hitSubstring:e.hitSubstring,depth:0,style:{cursor:"pointer"}},null,8,["onClick","title","isCategory","mask","hitSubstring"])))),128))])}]]),hf=(0,i.pM)({components:{GraphListPalette:pf,Magnifier:Fr,NodePalette:cf,Tooltip:zu},setup(){const e=(0,s.KR)(null),t=(0,s.KR)(null);t.value={top:0,left:0,visible:!1,text:""};const n=(0,s.KR)(""),r=(0,s.KR)("Nodes");return{tooltip:t,paletteSearch:n,paletteRef:e,tabs:{Nodes:(0,s.IG)(cf),Graphs:(0,s.IG)(pf)},tabValue:r}}}),ff=(0,Pe.A)(hf,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("Magnifier"),u=(0,i.g2)("Tooltip");return(0,i.uX)(),(0,i.CE)("div",{ref:"paletteRef",class:(0,l.C4)(["baklava-node-palette export-hidden",{"hidden-navbar":e.$isMobile}])},[(0,i.Lk)("div",hh,[(0,i.Lk)("div",fh,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Object.keys(e.tabs),(t=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,l.C4)(["tab",{"--active":t===e.tabValue}]),onClick:()=>{e.tabValue=t}},[(0,i.Lk)("span",null,(0,l.v_)(t),1)],10,mh)))),128))]),(0,i.Lk)("div",gh,[(0,i.bF)(c,{color:"gray"}),(0,i.bo)((0,i.Lk)("input",{class:"palette-search","onUpdate:modelValue":t[0]||(t[0]=t=>e.paletteSearch=t),placeholder:"Search"},null,512),[[a.Jo,e.paletteSearch]])])]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Object.entries(e.tabs),(([t,n])=>(0,i.bo)(((0,i.uX)(),(0,i.Wv)((0,i.$y)(n),{key:t,paletteRef:e.paletteRef,paletteSearch:e.paletteSearch},null,8,["paletteRef","paletteSearch"])),[[a.aG,t===e.tabValue]]))),128)),(0,i.bo)((0,i.bF)(u,{text:e.tooltip.text,left:e.tooltip.left,top:e.tooltip.top-60},null,8,["text","left","top"]),[[a.aG,e.tooltip.visible]])],2)}]]),mf=ff,gf=(0,i.pM)({setup(){const e=(0,s.KR)(!1),t=(0,s.KR)({x:0,y:0}),n=(0,s.KR)({x:0,y:0}),r=(0,i.EW)((()=>({xBegin:t?.value.x<n?.value.x?t?.value.x:n?.value.x,yBegin:t?.value.y<n?.value.y?t?.value.y:n?.value.y,xEnd:t?.value.x>=n?.value.x?t?.value.x:n?.value.x,yEnd:t?.value.y>=n?.value.y?t?.value.y:n?.value.y})));return{styles:(0,i.EW)((()=>({position:"absolute",visibility:e.value?"visible":"hidden",top:`${r.value.yBegin}px`,left:`${r.value.xBegin}px`,width:`${Math.abs(r.value.xEnd-r.value.xBegin)??0}px`,height:`${Math.abs(r.value.yEnd-r.value.yBegin)??0}px`}))),onPointerDown:r=>{e.value=!0,t.value={x:r.pageX,y:r.pageY},n.value={x:r.pageX,y:r.pageY}},onPointerMove:t=>{e.value&&(n.value={x:t.pageX,y:t.pageY})},onPointerUp:()=>{e.value=!1,t.value={x:0,y:0},n.value={x:0,y:0}},selecting:e,boundingRect:r}}}),vf=(0,Pe.A)(gf,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("div",{class:"rectangle-selection-border",style:(0,l.Tr)(e.styles)},t[0]||(t[0]=[(0,i.Lk)("div",{class:"rectangle-selection"},null,-1)]),4)}]]);function yf(e,t,n){const r=document.getElementById(t.id),o=n,i=e.panning.x,a=e.panning.y,{scaling:s}=e,l=s*(i+t.position.x),c=s*(a+t.position.y+60),u=r.offsetWidth,d=r.offsetHeight;return l+.09999999999999998*l>o.xBegin&&l+u*s-.09999999999999998*l<o.xEnd&&c+.09999999999999998*c>o.yBegin&&c+d*s-.09999999999999998*c<o.yEnd}const bf={class:"zoom-control-wrapper"},wf={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none","shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg"},xf={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(54083);const _f=(0,Pe.A)(xf,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",wf,[(0,i.Lk)("path",{d:"M4,10 H16 z",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-88bbcd12"]]),kf={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none","shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg"},Cf={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(14826);const Sf=(0,Pe.A)(Cf,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",kf,[(0,i.Lk)("path",{d:"M10,4 V16 M4,10 H16 z",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-95dab5dc"]]),Ef={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none","shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg"},Pf={props:{hover:{type:Boolean,required:!1}},setup:e=>({hoverStatus:(0,i.EW)((()=>({hovered:e.hover,normal:!e.hover})))})};n(78761);const Tf={components:{Minus:_f,Plus:Sf,Crosshair:(0,Pe.A)(Pf,[["render",function(e,t,n,r,o,a){return(0,i.uX)(),(0,i.CE)("svg",Ef,[(0,i.Lk)("path",{d:"M4.5 11.5V15.5H8.5V16.5H3.5V11.5H4.5Z",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("path",{d:"M16.5 11.5V16.5H11.5V15.5H15.5V11.5H16.5Z",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("path",{d:"M8.5 3.5V4.5H4.5V8.5H3.5V3.5H8.5Z",class:(0,l.C4)(r.hoverStatus)},null,2),(0,i.Lk)("path",{d:"M16.5 3.5V8.5H15.5V4.5H11.5V3.5H16.5Z",class:(0,l.C4)(r.hoverStatus)},null,2)])}],["__scopeId","data-v-4a72b5ad"]])},props:{floating:{type:Boolean,default:!1}},setup:e=>({floatingStatus:(0,i.EW)((()=>({floating:e.floating,normal:!e.floating})))}),emits:["zoomIn","zoomOut","center"],data:()=>({hoverInfo:{isHovered:!1,hoveredPanel:void 0}}),methods:{isHovered(e){return this.hoverInfo.hoveredPanel===e&&this.hoverInfo.isHovered},updateHoverInfo(e){this.hoverInfo.hoveredPanel=e,this.hoverInfo.isHovered=!0},resetHoverInfo(e){this.hoverInfo.hoveredPanel===e&&(this.hoverInfo.hoveredPanel=void 0,this.hoverInfo.isHovered=!1)}}};n(92232);const Af=(0,Pe.A)(Tf,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("Crosshair"),c=(0,i.g2)("Plus"),u=(0,i.g2)("Minus");return(0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)(["zoom-container export-hidden",r.floatingStatus])},[(0,i.Lk)("div",{role:"button",class:"zoom-center",onPointerover:t[0]||(t[0]=()=>a.updateHoverInfo("center")),onPointerleave:t[1]||(t[1]=()=>a.resetHoverInfo("center")),onClick:t[2]||(t[2]=t=>e.$emit("center"))},[(0,i.bF)(s,{hover:a.isHovered("center")},null,8,["hover"])],32),(0,i.Lk)("div",bf,[(0,i.Lk)("div",{role:"button",class:"zoom-control",onPointerover:t[3]||(t[3]=()=>a.updateHoverInfo("plus")),onPointerleave:t[4]||(t[4]=()=>a.resetHoverInfo("plus")),onClick:t[5]||(t[5]=t=>e.$emit("zoomIn"))},[(0,i.bF)(c,{hover:a.isHovered("plus")},null,8,["hover"])],32),(0,i.Lk)("div",{role:"button",class:"zoom-control",onPointerover:t[6]||(t[6]=()=>a.updateHoverInfo("minus")),onPointerleave:t[7]||(t[7]=()=>a.resetHoverInfo("minus")),onClick:t[8]||(t[8]=t=>e.$emit("zoomOut"))},[(0,i.bF)(u,{hover:a.isHovered("minus")},null,8,["hover"])],32)])],2)}],["__scopeId","data-v-14fd0c95"]]),Mf={components:{Arrow:sr},emits:["click"],data:()=>({isHovered:!1})};n(49881);const Nf=(0,Pe.A)(Mf,[["render",function(e,t,n,r,o,a){const s=(0,i.g2)("Arrow");return(0,i.uX)(),(0,i.CE)("div",{role:"button",class:"return-control export-hidden",onPointerover:t[0]||(t[0]=e=>o.isHovered=!0),onPointerleave:t[1]||(t[1]=e=>o.isHovered=!1),onClick:t[2]||(t[2]=t=>e.$emit("click"))},[(0,i.bF)(s,{rotate:"down",hover:o.isHovered,color:"white",class:"small_svg"},null,8,["hover"])],32)}],["__scopeId","data-v-31c81a72"]]),Of=(0,i.pM)({extends:tr.xn,props:{loading:{required:!0,type:Boolean}},components:{CustomNode:Yp,Panel:cu,ParentMenu:uc,PipelineManagerConnection:uh,TemporaryConnection:ph,Palette:mf,RectangleSelection:vf,WelcomeMenu:ru,Zoom:Af,Return:Nf},emits:["setLoad"],setup(e,{emit:t}){const{el:r,counter:o,nodes:a,connections:l,selectedNodes:c,nodeContainerStyle:u,keyDown:d,keyUp:p}=tr.xn.setup(e),h=(0,s.KR)([]),{graph:f}=(0,tr.uU)(),m=function(){const{graph:e}=(0,tr.uU)();let t=[],n=-1,r={x:0,y:0};const o=()=>e.value.size().graphWidth<=500||e.value.size().graphHeight<=500;let a=4;const s=Ep((0,i.EW)((()=>e.value.panning))),l=(t,n,r)=>{if(r<=0)return;o()&&(a=8);const i=[t/e.value.scaling-e.value.panning.x,n/e.value.scaling-e.value.panning.y],s=[t/r-e.value.panning.x,n/r-e.value.panning.y],l=[s[0]-i[0],s[1]-i[1]],c=window.innerHeight,u=window.innerWidth;(a*e.value.size().graphWidth>u/r||a*e.value.size().graphHeight>c/r||r>e.value.scaling&&e.value.size().graphHeight!==-1/0)&&(e.value.scaling=r,e.value.panning.x+=l[0],e.value.panning.y+=l[1])},c=()=>({ax:t[0].clientX,ay:t[0].clientY,bx:t[1].clientX,by:t[1].clientY});return{...s,onPointerDown:e=>{if(s.onPointerDown(e),t.length<=1&&t.push(e),2===t.length){const{ax:e,ay:t,bx:o,by:i}=c(),a=e-o,s=t-i;n=Math.sqrt(a*a+s*s),r={x:e+(o-e)/2,y:t+(i-t)/2}}},onPointerMove:o=>{if(2===t.length){for(let e=0;e<t.length;e+=1)if(o.pointerId===t[e].pointerId){t[e]=o;break}const{ax:i,ay:a,bx:s,by:u}=c(),d=i-s,p=a-u,h=Math.sqrt(d*d+p*p);if(n>0){const t=e.value.scaling*(1+(h-n)/500);l(r.x,r.y,t)}n=h}else s.onPointerMove(o)},onPointerUp:e=>{s.onPointerUp(),t=t.filter((t=>t.pointerId!==e.pointerId)),n=-1},onMouseWheel:t=>{if("textarea"===t.target.type&&"baklava-input"===t.target.className)return;t.preventDefault();let n=t.deltaY;1===t.deltaMode&&(n*=32);const r=(t=>{const n=o()?2:1.5,r=e.value.scaling*(1-t/3e3);return Math.min(r,n)})(n);l(t.clientX,t.clientY,r)},onZoomIn:()=>{const t=Math.min(1.2*e.value.scaling,1.5);l(window.innerWidth/2,window.innerHeight/2,t)},onZoomOut:()=>{l(window.innerWidth/2,window.innerHeight/2,.8*e.value.scaling)}}}(),g=function(){const{graph:e}=(0,tr.uU)(),t=(0,s.KR)(null),n=(0,s.KR)(null),r=(0,s.KR)(!1);let o=null;return(0,i.Gt)("hoveredOver",(o=>{if(n.value=o??null,o&&t.value&&r.value){t.value.to=o;const n=e.value.checkConnection(t.value.from,t.value.to);if(t.value.status=n.connectionAllowed?1:2,n.connectionAllowed){const t=n.connectionsInDanger.map((e=>e.id));e.value.connections.forEach((e=>{t.includes(e.id)&&(e.isInDanger=!0)}))}}else!o&&t.value&&(t.value.to=void 0,t.value.status=0,e.value.connections.forEach((e=>{e.isInDanger=!1})))})),{temporaryConnection:t,render:r,onMouseMove:n=>{if(t.value){const i=document.elementFromPoint(n.clientX,n.clientY);"touch"===n.pointerType?(o&&o!==i&&(r.value=!0,o.dispatchEvent(new PointerEvent("pointerout")),o=null),i&&i.classList.contains("__port")&&(i.dispatchEvent(new PointerEvent("pointerover")),o=i),t.value.mx=n.clientX/e.value.scaling-e.value.panning.x,t.value.my=n.clientY/e.value.scaling-e.value.panning.y):(r.value|=o&&o!==i,t.value.mx=n.offsetX/e.value.scaling-e.value.panning.x,t.value.my=n.offsetY/e.value.scaling-e.value.panning.y)}},onMouseDown:e=>{o=e.target,n.value&&(t.value={status:0,from:n.value,to:n.value},t.value.mx=void 0,t.value.my=void 0,r.value=!1)},onMouseUp:()=>{t.value&&n.value&&r.value&&e.value.addConnection(t.value.from,t.value.to),t.value=null}}}(),v=Ti.getEditorManagerInstance(),y=(0,s.KR)([]),b=(0,s.KR)([]),w=(0,i.EW)((()=>e.viewModel.editor.readonly)),x=(0,i.EW)((()=>e.viewModel.editor.hideHud)),_=(0,s.KR)(null),k=[],C=(0,i.EW)((()=>f.value.scaling)),S=(0,i.EW)((()=>e.viewModel.editor.searchQuery)),E=(0,s.KR)([]);let P=0;const T=(0,i.EW)((()=>({"--scale":C.value,cursor:m.dragging.value?"move":"default"}))),A=(0,i.EW)((()=>e.viewModel.editor.isInSubgraph())),M=(0,i.EW)((()=>e.viewModel.editor.preview)),N=()=>{e.viewModel.displayedGraph.selectedNodes=[]},O=new go.Hx;O.subscribe("editor",(e=>{t("setLoad",e)})),e.viewModel.editor.events.setLoad=O;const I=()=>{f.value.nodes.forEach((e=>{if(f.value.selectedNodes.includes(e))return;const t=_.value.boundingRect;yf(f.value,e,t)&&f.value.selectedNodes.push(e)}))};let R=0;const L=e=>{m.onPointerMove(e),g.onMouseMove(e),_.value.onPointerMove(e),_.value.selecting&&(f.value.selectedNodes=[],f.value.nodes.forEach((e=>{const t=_.value.boundingRect;yf(f.value,e,t)&&f.value.selectedNodes.push(e)})))},j=e=>{m.onPointerUp(e),g.onMouseUp(),new Date-P<100&&e.target===r.value&&N(),1===R&&(document.removeEventListener("pointerup",j),document.removeEventListener("pointermove",L)),R-=1},D=e=>{new Date-P>=100&&e.target===r.value&&I(),_.value.onPointerUp(),document.removeEventListener("pointerup",D),document.removeEventListener("pointermove",L)},$=()=>{f.value.selectedNodes=k.value,I(),_.value.onPointerUp(),document.removeEventListener("pointerup",$),document.removeEventListener("pointermove",L)};document.addEventListener("pointerdown",(e=>{0!==e.button||e.shiftKey||((e=>{R+=1,e.target===r.value&&m.onPointerDown(e),g.onMouseDown(e),P=new Date})(e),document.addEventListener("pointerup",j),document.addEventListener("pointermove",L)),w.value||(2===e.button&&e.ctrlKey?((e=>{_.value.onPointerDown(e),k.value=f.value.selectedNodes})(e),document.addEventListener("pointerup",$),document.addEventListener("pointermove",L)):2===e.button&&((e=>{e.target===r.value&&(N(),_.value.onPointerDown(e)),P=new Date})(e),document.addEventListener("pointerup",D),document.addEventListener("pointermove",L)))}));const B=()=>{y.value.splice(0,y.value.length)};(0,i.wB)(l.value,(()=>{B()})),(0,i.wB)(g?.temporaryConnection,(()=>{if(void 0!==(g??null)&&null!==g?.temporaryConnection)if(g?.temporaryConnection?.value?.from)for(let e=0;e<a.value.length;e+=1)[...Object.values(a.value[e].outputs)||[],...Object.values(a.value[e].inputs)||[]].forEach((e=>{var t;e.port&&e!==g.temporaryConnection.value.from&&(f.value.checkConnection(g.temporaryConnection.value.from,e).connectionAllowed||(t=e,b.value.includes(t)||b.value.push(t)))}));else b.value.splice(0,b.value.length)}));const V=(0,i.EW)((()=>e.viewModel.ignoredLayers)),F=(0,i.EW)((()=>e.viewModel.layers)),z=(0,i.EW)((()=>{const e=new Set;return F.value.forEach((t=>{t.nodeInterfaces&&V.value.has(t.name)&&t.nodeInterfaces.forEach(e.add,e)})),e})),U=(0,i.EW)((()=>{const e=new Set;return F.value.forEach((t=>{t.nodeLayers&&V.value.has(t.name)&&t.nodeLayers.forEach(e.add,e)})),e})),W=(0,i.EW)((()=>a.value.filter((e=>!U.value.has(e.layer))))),K=(0,i.EW)((()=>a.value.filter((e=>U.value.has(e.layer))))),H=(0,i.EW)((()=>K.value.map((e=>e.id)))),q=(0,i.EW)((()=>l.value.filter((e=>!(e.from.type?.some((e=>z.value.has(e)))||e.to.type?.some((e=>z.value.has(e)))||H.value.includes(e.from.nodeId)||H.value.includes(e.to.nodeId)))))),G=(0,i.EW)((()=>W.value.filter((t=>e.viewModel.displayedGraph.selectedNodes.includes(t))))),X=Ul();(0,i.wB)(W,(async(e,t)=>{if(!X.isConnected())return;if(!v.notifyWhenChanged)return;const n=Object.values(e).map((e=>e.id)),r=Object.values(t).map((e=>e.id)),o=[];Object.values(e).forEach((e=>{r.includes(e.id)||o.push(e.save())}));const i=[];Object.values(t).forEach((e=>{n.includes(e.id)||i.push(e.id)}));const a={graph_id:f.value.id,nodes:{added:o,deleted:i}};await X.notifyAboutChange("nodes_on_change",a)})),(0,i.wB)(q,(async(e,t)=>{if(!X.isConnected())return;if(!v.notifyWhenChanged)return;const n=Object.values(e).map((e=>e.id)),r=Object.values(t).map((e=>e.id)),o=[];Object.values(e).forEach((e=>{r.includes(e.id)||o.push({id:e.id,from:e.from.id,to:e.to.id})}));const i=[];Object.values(t).forEach((e=>{n.includes(e.id)||i.push({from:e.from.id,to:e.to.id})}));const a={graph_id:f.value.id,connections:{added:o,deleted:i}};await X.notifyAboutChange("connections_on_change",a)})),(0,i.wB)(G,(async(e,t)=>{if(!X.isConnected())return;if(!v.notifyWhenChanged)return;const n=Object.values(e).map((e=>e.id)),r=Object.values(t).map((e=>e.id)),o=[];Object.values(e).forEach((e=>{r.includes(e.id)||o.push(e.id)}));const i=[];Object.values(t).forEach((e=>{n.includes(e.id)||i.push(e.id)}));const a={graph_id:f.value.id,nodes:{selected:o,unselected:i}};await X.notifyAboutChange("nodes_on_highlight",a)}));const Y=(0,i.EW)((()=>a.value.map((e=>e.title))));(0,i.wB)([S,Y],(()=>{if(void 0===S.value||""===S.value)return E.value=[],void W.value.forEach((e=>{e.highlightedTitle=e.title,e.highlightedType=e.type}));const e=(t=S.value,W.value.filter((e=>{const{type:n}=e,r=kp().single(t,e.title),o=kp().single(t,n);return null!==r&&r.score>-50||null!==o&&o.score>-50?(e.highlightedTitle=kp().highlight(r,"<span>","</span>"),e.highlightedType=kp().highlight(o,"<span>","</span>"),!0):(e.highlightedTitle=e.title,e.highlightedType=e.type,!1)})));var t;const n=W.value.filter((t=>!e.includes(t)));E.value=n}));const J=void 0!=={VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_SPECIFICATION_PATH,Z=void 0!=={VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_DATAFLOW_PATH;async function Q(e){let t,n,r=Ti.validateSpecification(e);return r.length?(Xi.terminalLog("error","Specification is invalid",r),v.specificationVersion!==e.version&&Xi.terminalLog("error","Mismatched specification version",`Specification version (${e.version}) differs from the current version (${v.specificationVersion}). It may result in unexpected behaviour. Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`),r):(({errors:r,warnings:t,info:n}=await v.updateEditorSpecification(e)),Array.isArray(t)&&t.length&&Xi.terminalLog("warning","Issue when loading specification",t),Array.isArray(r)&&r.length?(Xi.terminalLog("error","Specification is invalid",r),Array.isArray(n)&&n.length&&Xi.terminalLog("error","Mismatched specification version",`${n} Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`)):Array.isArray(n)&&n.length&&Xi.terminalLog("info","Specification loaded",n),r)}async function ee(e){const{errors:t,warnings:n,info:r}=await v.loadDataflow(e);if(Array.isArray(n)&&n.length&&Xi.terminalLog("warning","Issue when loading dataflow",n),Array.isArray(t)&&t.length){const e="Dataflow is invalid";Xi.terminalLog("error",e,t),Array.isArray(r)&&r.length&&Xi.terminalLog("error","Mismatched dataflow version",`${r} Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`)}else Array.isArray(r)&&r.length&&Xi.terminalLog("info","Dataflow loaded",r);return t}(0,i.sV)((async()=>{window.addEventListener("message",(async e=>{const t=e.data??{};if(t.jsonrpc??=Qi.JSONRPC,(0,Qi.isJSONRPCResponse)(t)){if(e.source===window)return;return void ps.client.receive(t)}if(t.id??=ps.client.createID(),!(0,Qi.isJSONRPCRequest)(t))return;let n="register_external_frontend"===t.method?X.registerFrontendApplication(e.source,t):null;n??=e.data.method in es?await ps.server.receive(t):await ps.requestAdvanced(t,{externalApp:X.externalApp}),n&&e.source.postMessage(JSON.parse(JSON.stringify(n)),"*")})),Xi.setShowNotification(!1),v.updateMetadata({}),await aa(te,O)}));const te=async()=>{const t=window.location.search.replace(/&amp;/g,"&"),r=new URLSearchParams(t);if(r.has("preview")){const t="true"===r.get("preview");e.viewModel.editor.preview=t}let o;if(r.has("spec")){const[e,t]=await Pi(r.get("spec"));!1===e?(Xi.terminalLog("error",t),Xi.terminalLog("error",`Failed to load the specification file from: ${r.get("spec")}`)):o=t}else J&&(o=n(63359)({VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_SPECIFICATION_PATH));if(void 0!==o){if(r.has("include")&&(void 0===o.include&&(o.include=[]),o.include.push(r.get("include"))),(await Q(o)).length)return void Xi.restoreShowNotification();let e;if(r.has("graph")){const[t,n]=await Pi(r.get("graph"));!1===t?(Xi.terminalLog("error",n),Xi.terminalLog("error",`Failed to load the graph file from: ${r.get("graph")}`)):e=n}else Z&&(e=n(63359)({VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_DATAFLOW_PATH));e&&await ee(e)}Xi.restoreShowNotification()},ne=async e=>aa((async()=>{const t=Xi.showToast;if(e.length>2)return void t("error",`Up to two files supported, inserted: ${e.length}`);let n;try{const t=async e=>JSON.parse(await e.text());n=await Promise.all(Array.from(e).map(t))}catch(e){return void t("error","Dropped file is not in JSON format")}const r=e=>Boolean(e.nodes||e.include||e.includeGraphs),o=e=>Boolean(e.graphs&&!r(e)),i=n.map((e=>!r(e)&&!o(e)));if(i.every(Boolean))return void(1===n.length?t("error","Provided file is not of Pipeline Manager format"):t("error","Neither of provided files is of Pipeline Manager format"));n=n.filter(((e,t)=>!i[t])),i.some(Boolean)&&t("warning","One of the objects is not of Pipeline Manager format");const a=n.map(r),s=n.map(o);let l,c;a.every(Boolean)?(n.length>1&&t("warning","Two specifications provided, using the first one."),[l]=n):s.every(Boolean)?(n.length>1&&t("warning","Two dataflows provided, using the first one."),[c]=n):a.some(Boolean)&&s.some(Boolean)&&(a[0]?[l,c]=n:[c,l]=n);let u=!0;l&&(X.usesBackend()?(Xi.showToast("warning","Specification is managed by an external application."),u=!1):u=!(await Q(l)).length),u&&c&&await ee(c)}),O),re=(0,i.EW)((()=>v.baklavaView.welcome&&!v.baklavaView.editor.readonly&&!a.value.length&&!v.editor.isInSubgraph()));return{el:r,counter:o,selectedNodes:c,nodeContainerStyle:u,onRightPointerUp:D,onDrop:async e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy";const t=[];e.dataTransfer.items?[...e.dataTransfer.items].filter((e=>"file"===e.kind)).forEach((e=>t.push(e.getAsFile()))):t.push(...e.dataTransfer.files),await ne(t)},nodes:a,keyDown:d,keyUp:p,selectNode:(t,n)=>{(n&&!n.ctrlKey||!n&&!e.viewModel.commandHandler.pressedKeys.includes("Control"))&&N(),e.viewModel.displayedGraph.selectedNodes.push(t)},rectangleSelection:_,greyedOutNodes:E,temporaryConnection:g.temporaryConnection,temporaryConnectionRender:g.render,mouseWheel:m.onMouseWheel,dragging:m.dragging,changeHoveredConnections:e=>{const t=(e=>{const t=e.map((e=>{const t=window.getComputedStyle(e).zIndex;return{z_index:Number.isNaN(parseInt(t,10))?0:parseInt(t,10),element:e}})),n=t.reduce(((e,t)=>t.z_index>e.z_index?t:e),t[0]),r=h.value.filter((e=>e.containsPoint([n.element]))),o=l.value.filter((e=>r.filter((t=>t.connection===e)).length>0)),i=e.find((e=>!!e.classList?.contains("__port")||!!e.classList?.contains("baklava-node-interface")||null!==e.closest?.(".baklava-node-interface")));let a=[];if(o.length>0){const e=l.value.filter((e=>o.filter((t=>t.from===e.from)).length>0)).at(0);e&&(a=[e])}else if(i){let e=i;e=i.closest(".baklava-node-interface"),e?.id&&(a=l.value.filter((t=>t.from?.id===e.id||t.to?.id===e.id)))}return a})(document.elementsFromPoint(e.clientX,e.clientY));l.value.forEach((e=>{var n;t.includes(e)?(n=e,y.value.includes(n)||y.value.push(n)):(e=>{const t=y.value.indexOf(e);t>=0&&y.value.splice(t,1)})(e)}))},highlightConnections:y,connRefs:h,clearHighlight:B,readonly:w,hideHud:x,scale:C,visibleConnections:q,visibleNodes:W,ignoredNodes:K,highlightInterfaces:b,editorStyle:T,zoomIn:m.onZoomIn,zoomOut:m.onZoomOut,center:()=>{v.centerZoom()},returnFromSubgraph:()=>{v.returnFromSubgraph()},isInSubgraph:A,preview:M,showWelcome:re,loadFiles:ne,validating:v.validating}}}),If=(0,Pe.A)(Of,[["render",function(e,t,n,r,o,s){const c=(0,i.g2)("background"),u=(0,i.g2)("Palette"),d=(0,i.g2)("CustomNode"),p=(0,i.g2)("PipelineManagerConnection"),h=(0,i.g2)("TemporaryConnection"),f=(0,i.g2)("RectangleSelection"),m=(0,i.g2)("Zoom"),g=(0,i.g2)("Return"),v=(0,i.g2)("WelcomeMenu"),y=(0,i.g2)("ParentMenu"),b=(0,i.g2)("Panel");return(0,i.uX)(),(0,i.CE)("div",{ref:"el",tabindex:"-1",class:(0,l.C4)(["baklava-editor",{"baklava-ignore-mouse":!!e.temporaryConnection||e.dragging,"--temporary-connection":!!e.temporaryConnection}]),style:(0,l.Tr)(e.editorStyle),onWheel:t[8]||(t[8]=(0,a.D$)(((...t)=>e.mouseWheel&&e.mouseWheel(...t)),["self"])),onKeydown:t[9]||(t[9]=(...t)=>e.keyDown&&e.keyDown(...t)),onKeyup:t[10]||(t[10]=(...t)=>e.keyUp&&e.keyUp(...t)),onMouseleave:t[11]||(t[11]=t=>!e.readonly&&e.onRightPointerUp),onDrop:t[12]||(t[12]=(0,a.D$)((t=>!e.readonly&&e.onDrop(t)),["prevent"])),onDragenter:t[13]||(t[13]=(0,a.D$)((()=>{}),["prevent"])),onDragover:t[14]||(t[14]=(0,a.D$)((()=>{}),["prevent"])),oncontextmenu:"return false;"},[(0,i.RG)(e.$slots,"background",{},(()=>[(0,i.bF)(c)])),e.validating?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[e.readonly||e.hideHud?(0,i.Q3)("",!0):(0,i.RG)(e.$slots,"palette",{key:0},(()=>[(0,i.bF)(u)])),(0,i.Lk)("div",{class:"node-container",style:(0,l.Tr)(e.nodeContainerStyle),onWheel:t[0]||(t[0]=(...t)=>e.mouseWheel&&e.mouseWheel(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.changeHoveredConnections&&e.changeHoveredConnections(...t)),onMousemove:t[2]||(t[2]=(...t)=>e.changeHoveredConnections&&e.changeHoveredConnections(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.clearHighlight&&e.clearHighlight(...t))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.visibleNodes,(t=>((0,i.uX)(),(0,i.Wv)(d,{key:t.id+e.counter.toString(),node:t,selected:e.selectedNodes.includes(t),greyedOut:e.greyedOutNodes.includes(t),interfaces:e.highlightInterfaces,onSelect:n=>e.selectNode(t,n)},null,8,["node","selected","greyedOut","interfaces","onSelect"])))),128)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.ignoredNodes,(t=>((0,i.uX)(),(0,i.Wv)(d,{key:t.id+e.counter.toString(),node:t,hidden:!0},null,8,["node"])))),128))],36),((0,i.uX)(),(0,i.CE)("svg",{class:"connections-container",onMouseenter:t[4]||(t[4]=(...t)=>e.changeHoveredConnections&&e.changeHoveredConnections(...t)),onMousemove:t[5]||(t[5]=(...t)=>e.changeHoveredConnections&&e.changeHoveredConnections(...t)),onMouseleave:t[6]||(t[6]=(...t)=>e.clearHighlight&&e.clearHighlight(...t)),onWheel:t[7]||(t[7]=(...t)=>e.mouseWheel&&e.mouseWheel(...t))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.visibleConnections,(t=>((0,i.uX)(),(0,i.Wv)(p,{key:t.id+e.counter.toString(),connection:t,ref_for:!0,ref:"connRefs",isHighlighted:e.highlightConnections.includes(t)},null,8,["connection","isHighlighted"])))),128)),e.temporaryConnection&&e.temporaryConnectionRender?((0,i.uX)(),(0,i.Wv)(h,{key:0,name:"temporaryConnection","temporary-connection":e.temporaryConnection,connection:e.temporaryConnection},null,8,["temporary-connection","connection"])):(0,i.Q3)("",!0)],32)),(0,i.Lk)("div",xp,[(0,i.bF)(f,{ref:"rectangleSelection"},null,512)]),(0,i.bF)(m,{onZoomIn:e.zoomIn,onZoomOut:e.zoomOut,onCenter:e.center,floating:!e.hideHud},null,8,["onZoomIn","onZoomOut","onCenter","floating"]),e.preview&&e.isInSubgraph?((0,i.uX)(),(0,i.Wv)(g,{key:1,onClick:e.returnFromSubgraph},null,8,["onClick"])):(0,i.Q3)("",!0),(0,i.bo)((0,i.bF)(b,{blur:!1,class:"welcome-container-panel"},{default:(0,i.k6)((()=>[(0,i.bF)(y,null,{default:(0,i.k6)((()=>[(0,i.bF)(v,{loadFiles:e.loadFiles},null,8,["loadFiles"])])),_:1})])),_:1},512),[[a.aG,e.showWelcome]])],64))],38)}]]);n(83313);const Rf={components:{NavBar:Zd,Editor:If,TerminalPanel:mp,LoadingScreen:wp},setup(){const e=Ti.getEditorManagerInstance(),t=(0,s.KR)(!1),n={};try{(r=Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}())).keys().forEach((e=>n[e]=r(e)))}catch(e){}finally{e.baklavaView.cache=n}var r;const o=(0,i.EW)((()=>e.baklavaView.editor.hideHud));return{editorManager:e,hideHud:o,handleLoad:e=>{t.value=e},loading:t,terminalStore:ji}}},Lf=(0,Pe.A)(Rf,[["render",function(e,t,n,r,o,s){const l=(0,i.g2)("LoadingScreen"),c=(0,i.g2)("NavBar"),u=(0,i.g2)("Editor"),d=(0,i.g2)("TerminalPanel");return(0,i.uX)(),(0,i.CE)("div",null,[r.loading?((0,i.uX)(),(0,i.Wv)(l,{key:0})):(0,i.Q3)("",!0),(0,i.Lk)("div",nn,[(0,i.bF)(c),(0,i.bF)(u,{class:"inner-editor","view-model":r.editorManager.baklavaView,onSetLoad:r.handleLoad,loading:r.loading},null,8,["view-model","onSetLoad","loading"]),(0,i.bo)((0,i.bF)(d,null,null,512),[[a.aG,!r.loading&&!r.hideHud||r.terminalStore.show]])])])}]]),jf=function(e){const t=function(e,t){const n=[],r=new Map;function o(e,n,r){const s=!r,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ft(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);l.aliasOf=r&&r.record;const c=vt(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(Ne({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let d,p;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(d=pt(t,n,c),r?r.alias.push(d):(p=p||d,p!==d&&p.alias.push(d),s&&e.name&&!mt(d)&&i(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)o(e[t],d,r&&r.children[t])}r=r||d,(d.record.components&&Object.keys(d.record.components).length||d.record.name||d.record.redirect)&&a(d)}return p?()=>{i(p)}:Ie}function i(e){if(Ze(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function a(e){let t=0;for(;t<n.length&&lt(e,n[t])>=0&&(e.record.path!==n[t].record.path||!yt(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!mt(e)&&r.set(e.record.name,e)}return t=vt({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,i,a,s={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw nt(1,{location:e});a=o.record.name,s=Ne(ht(t.params,o.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&ht(e.params,o.keys.map((e=>e.name)))),i=o.stringify(s)}else if("path"in e)i=e.path,o=n.find((e=>e.re.test(i))),o&&(s=o.parse(i),a=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw nt(1,{location:e,currentLocation:t});a=o.record.name,s=Ne({},t.params,e.params),i=o.stringify(s)}const l=[];let c=o;for(;c;)l.unshift(c.record),c=c.parent;return{name:a,path:i,params:s,matched:l,meta:gt(l)}},removeRoute:i,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}(e.routes,e),n=e.parseQuery||Dt,r=e.stringifyQuery||$t,o=e.history,a=Kt(),l=Kt(),c=Kt(),u=(0,s.IJ)(Qe);let d=Qe;Me&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Oe.bind(null,(e=>""+e)),h=Oe.bind(null,Lt),f=Oe.bind(null,jt);function m(e,i){if(i=Ne({},i||u.value),"string"==typeof e){const r=je(n,e,i.path),a=t.resolve({path:r.path},i),s=o.createHref(r.fullPath);return Ne(r,a,{params:f(a.params),hash:jt(r.hash),redirectedFrom:void 0,href:s})}let a;if("path"in e)a=Ne({},e,{path:je(n,e.path,i.path).path});else{const t=Ne({},e.params);for(const e in t)null==t[e]&&delete t[e];a=Ne({},e,{params:h(e.params)}),i.params=h(i.params)}const s=t.resolve(a,i),l=e.hash||"";s.params=p(f(s.params));const c=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Ne({},e,{hash:(d=l,It(d).replace(At,"{").replace(Nt,"}").replace(Pt,"^")),path:s.path}));var d;const m=o.createHref(c);return Ne({fullPath:c,hash:l,query:r===$t?Bt(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function g(e){return"string"==typeof e?je(n,e,u.value.path):Ne({},e)}function v(e,t){if(d!==e)return nt(8,{from:t,to:e})}function y(e){return w(e)}function b(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=g(r):{path:r},r.params={}),Ne({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function w(e,t){const n=d=m(e),o=u.value,i=e.state,a=e.force,s=!0===e.replace,l=b(n);if(l)return w(Ne(g(l),{state:"object"==typeof l?Ne({},i,l.state):i,force:a,replace:s}),t||n);const c=n;let p;return c.redirectedFrom=t,!a&&function(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&$e(t.matched[r],n.matched[o])&&Be(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(p=nt(16,{to:c,from:o}),N(o,o,!0,!1)),(p?Promise.resolve(p):_(c,o)).catch((e=>rt(e)?rt(e,2)?e:M(e):A(e,c,o))).then((e=>{if(e){if(rt(e,2))return w(Ne({replace:s},g(e.to),{state:"object"==typeof e.to?Ne({},i,e.to.state):i,force:a}),t||c)}else e=C(c,o,!0,s,i);return k(c,o,e),e}))}function x(e,t){const n=v(e,t);return n?Promise.reject(n):Promise.resolve()}function _(e,t){let n;const[r,o,i]=function(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const i=t.matched[a];i&&(e.matched.find((e=>$e(e,i)))?r.push(i):n.push(i));const s=e.matched[a];s&&(t.matched.find((e=>$e(e,s)))||o.push(s))}return[n,r,o]}(e,t);n=qt(r.reverse(),"beforeRouteLeave",e,t);for(const o of r)o.leaveGuards.forEach((r=>{n.push(Ht(r,e,t))}));const s=x.bind(null,e,t);return n.push(s),tn(n).then((()=>{n=[];for(const r of a.list())n.push(Ht(r,e,t));return n.push(s),tn(n)})).then((()=>{n=qt(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(Ht(r,e,t))}));return n.push(s),tn(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Re(r.beforeEnter))for(const o of r.beforeEnter)n.push(Ht(o,e,t));else n.push(Ht(r.beforeEnter,e,t));return n.push(s),tn(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=qt(i,"beforeRouteEnter",e,t),n.push(s),tn(n)))).then((()=>{n=[];for(const r of l.list())n.push(Ht(r,e,t));return n.push(s),tn(n)})).catch((e=>rt(e,8)?e:Promise.reject(e)))}function k(e,t,n){for(const r of c.list())r(e,t,n)}function C(e,t,n,r,i){const a=v(e,t);if(a)return a;const s=t===Qe,l=Me?history.state:{};n&&(r||s?o.replace(e.fullPath,Ne({scroll:s&&l&&l.scroll},i)):o.push(e.fullPath,i)),u.value=e,N(e,t,n,s),M()}let S;let E,P=Kt(),T=Kt();function A(e,t,n){M(e);const r=T.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function M(e){return E||(E=!e,S||(S=o.listen(((e,t,n)=>{if(!L.listening)return;const r=m(e),i=b(r);if(i)return void w(Ne(i,{replace:!0}),r).catch(Ie);d=r;const a=u.value;var s,l;Me&&(s=qe(a.fullPath,n.delta),l=He(),Ge.set(s,l)),_(r,a).catch((e=>rt(e,12)?e:rt(e,2)?(w(e.to,r).then((e=>{rt(e,20)&&!n.delta&&n.type===ze.pop&&o.go(-1,!1)})).catch(Ie),Promise.reject()):(n.delta&&o.go(-n.delta,!1),A(e,r,a)))).then((e=>{(e=e||C(r,a,!1))&&(n.delta&&!rt(e,8)?o.go(-n.delta,!1):n.type===ze.pop&&rt(e,20)&&o.go(-1,!1)),k(r,a,e)})).catch(Ie)}))),P.list().forEach((([t,n])=>e?n(e):t())),P.reset()),e}function N(t,n,r,o){const{scrollBehavior:a}=e;if(!Me||!a)return Promise.resolve();const s=!r&&function(e){const t=Ge.get(e);return Ge.delete(e),t}(qe(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return(0,i.dY)().then((()=>a(t,n,s))).then((e=>e&&function(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}(e))).catch((e=>A(e,t,n)))}const O=e=>o.go(e);let I;const R=new Set,L={currentRoute:u,listening:!0,addRoute:function(e,n){let r,o;return Ze(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:m,options:e,push:y,replace:function(e){return y(Ne(g(e),{replace:!0}))},go:O,back:()=>O(-1),forward:()=>O(1),beforeEach:a.add,beforeResolve:l.add,afterEach:c.add,onError:T.add,isReady:function(){return E&&u.value!==Qe?Promise.resolve():new Promise(((e,t)=>{P.add([e,t])}))},install(e){e.component("RouterLink",Yt),e.component("RouterView",en),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,s.R1)(u)}),Me&&!I&&u.value===Qe&&(I=!0,y(o.location).catch((e=>{})));const t={};for(const e in Qe)t[e]=(0,i.EW)((()=>u.value[e]));e.provide(zt,this),e.provide(Ut,(0,s.Kh)(t)),e.provide(Wt,u);const n=e.unmount;R.add(e),e.unmount=function(){R.delete(e),R.size<1&&(d=Qe,S&&S(),S=null,u.value=Qe,I=!1,E=!1),n()}}};return L}({history:function(e){const t=function(e){const{history:t,location:n}=window,r={value:Ye(e,n)},o={value:t.state};function i(r,i,a){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:Xe()+e+r;try{t[a?"replaceState":"pushState"](i,"",l),o.value=i}catch(e){console.error(e),n[a?"replace":"assign"](l)}}return o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const a=Ne({},o.value,t.state,{forward:e,scroll:He()});i(a.current,a,!0),i(e,Ne({},Je(r.value,e,null),{position:a.position+1},n),!1),r.value=e},replace:function(e,n){i(e,Ne({},t.state,Je(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}(e=function(e){if(!e)if(Me){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Le,"")}(e)),n=function(e,t,n,r){let o=[],i=[],a=null;const s=({state:i})=>{const s=Ye(e,location),l=n.value,c=t.value;let u=0;if(i){if(n.value=s,t.value=i,a&&a===l)return void(a=null);u=c?i.position-c.position:0}else r(s);o.forEach((e=>{e(n.value,l,{delta:u,type:ze.pop,direction:u?u>0?Ue.forward:Ue.back:Ue.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(Ne({},e.state,{scroll:He()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",l),{pauseListeners:function(){a=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),r=Ne({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:Ke.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}(),routes:[{path:"/:catchAll(.*)",name:"home",component:Lf,meta:{title:{VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_EDITOR_TITLE??"Pipeline Manager"}}]}),Df=jf;n(15664),n(88337);const $f={},Bf=(e,t)=>({beforeMount:(n,r)=>{const o={timeout:null,newEvent:null,longPress:!1,moveEvents:0};$f[n]={pointerdown:t=>{"touch"===t.pointerType&&null===o.timeout&&(o.moveEvents=0,o.longPress=!1,e(n,r,t,o),o.timeout=setTimeout((()=>{o.longPress=!0}),r.arg??500))},pointermove:()=>{o.moveEvents+=1},pointerup:e=>{"touch"===e.pointerType&&(o.longPress&&o.moveEvents<10&&t(n,r,e,o),o.timeout&&(clearTimeout(o.timeout),o.timeout=null))}},n.addEventListener("pointerdown",$f[n].pointerdown),n.addEventListener("pointermove",$f[n].pointermove),n.addEventListener("pointerup",$f[n].pointerup)},unmounted:e=>{e.removeEventListener("pointerdown",$f[e].pointerdown),e.removeEventListener("pointermove",$f[e].pointermove),e.removeEventListener("pointerup",$f[e].pointerup)}}),Vf=Bf(((e,t,n,r)=>{r.newEvent=n}),((e,t,n,r)=>{setTimeout((()=>t.value(r.newEvent)),50)})),Ff=Bf(((e,t,n,r)=>{r.newEvent=new PointerEvent("pointerdown",{button:2,clientX:n.clientX,clientY:n.clientY,screenX:n.screenX,screenY:n.screenY,pointerType:"mouse",relatedTarget:n.relatedTarget})}),((e,t,n,r)=>{setTimeout((()=>{e.dispatchEvent(r.newEvent)}),50)})),zf={timeout:5e3,position:M.BOTTOM_RIGHT,icon:!1,closeButton:!1},Uf=(0,a.Ef)(Ae);Uf.use(Se),Uf.use(Df),Uf.use(((e,t)=>{!0===(null==t?void 0:t.shareAppContext)&&(t.shareAppContext=e);const n=_e(f({eventBus:Ce},t));e.provide(ke,n)}),zf),Uf.config.globalProperties.$isMobile=Math.min(screen.width,screen.height)<=800,Uf.directive("long-press",Vf),Uf.directive("long-press-to-right",Ff),document.title={VUE_APP_SINGLEHTML_BUILD:"true",NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_EDITOR_TITLE??"Pipeline Manager",Uf.mount("#app")},60270:(e,t,n)=>{var r=n(87068),o=n(40346);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},60498:(e,t,n)=>{var r=n(29888);e.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},60520:(e,t,n)=>{var r=n(47964);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("634f20d7",r,!0,{sourceMap:!1,shadowMode:!1})},60617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10208),o=n(99029),i=n(94227),a=n(76250),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>o.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:s,schema:l,parentSchema:c,schemaCode:u,it:d}=e;if(!s&&!l)return;const p=t.let("valid"),h=c.items?(0,r.getSchemaTypes)(c.items):[];function f(i,a){const s=t.name("item"),l=(0,r.checkDataTypes)(h,s,d.opts.strictNumbers,r.DataType.Wrong),c=t.const("indices",o._`{}`);t.for(o._`;${i}--;`,(()=>{t.let(s,o._`${n}[${i}]`),t.if(l,o._`continue`),h.length>1&&t.if(o._`typeof ${s} == "string"`,o._`${s} += "_"`),t.if(o._`typeof ${c}[${s}] == "number"`,(()=>{t.assign(a,o._`${c}[${s}]`),e.error(),t.assign(p,!1).break()})).code(o._`${c}[${s}] = ${i}`)}))}function m(r,s){const l=(0,i.useFunc)(t,a.default),c=t.name("outer");t.label(c).for(o._`;${r}--;`,(()=>t.for(o._`${s} = ${r}; ${s}--;`,(()=>t.if(o._`${l}(${n}[${r}], ${n}[${s}])`,(()=>{e.error(),t.assign(p,!1).break(c)}))))))}e.block$data(p,(function(){const r=t.let("i",o._`${n}.length`),i=t.let("j");e.setParams({i:r,j:i}),t.assign(p,!0),t.if(o._`${r} > 1`,(()=>(h.length>0&&!h.some((e=>"object"===e||"array"===e))?f:m)(r,i)))}),o._`${u} === false`),e.ok(p)}};t.default=s},61163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${i} ${o}`)}};t.default=o},61448:(e,t,n)=>{var r=n(20426),o=n(49326);e.exports=function(e,t){return null!=e&&o(e,t,r)}},61467:(e,t,n)=>{var r=n(73007);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("76a5e55a",r,!0,{sourceMap:!1,shadowMode:!1})},61489:(e,t,n)=>{var r=n(17400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},61802:(e,t,n)=>{var r=n(62224),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},61810:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(12893),a=function(){};t.Point=a;var s=function(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r};t.LineSegment=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(a);function c(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function u(e,t,n){return c(e,t,n)>0}function d(e,t,n){return c(e,t,n)<0}function p(e,t){var n,r,o,i,a=t.length-1;if(d(e,t[1],t[0])&&!u(e,t[a-1],t[0]))return 0;for(n=0,r=a;;){if(r-n==1)return u(e,t[n],t[r])?n:r;if((i=d(e,t[(o=Math.floor((n+r)/2))+1],t[o]))&&!u(e,t[o-1],t[o]))return o;u(e,t[n+1],t[n])?i||u(e,t[n],t[o])?r=o:n=o:i&&d(e,t[n],t[o])?r=o:n=o}}function h(e,t){var n,r,o,i,a=t.length-1;if(u(e,t[a-1],t[0])&&!d(e,t[1],t[0]))return 0;for(n=0,r=a;;){if(r-n==1)return d(e,t[n],t[r])?n:r;if(i=d(e,t[(o=Math.floor((n+r)/2))+1],t[o]),u(e,t[o-1],t[o])&&!i)return o;d(e,t[n+1],t[n])?i?d(e,t[n],t[o])?r=o:n=o:r=o:i?n=o:u(e,t[n],t[o])?r=o:n=o}}function f(e,t,n,r,o,i){var a,s;s=r(e[a=n(t[0],e)],t);for(var l=!1;!l;){for(l=!0;a===e.length-1&&(a=0),!o(t[s],e[a],e[a+1]);)++a;for(;0===s&&(s=t.length-1),!i(e[a],t[s],t[s-1]);)--s,l=!1}return{t1:a,t2:s}}function m(e,t){return f(e,t,p,h,u,d)}t.PolyPoint=l,t.isLeft=c,t.ConvexHull=function(e){var t,n=e.slice(0).sort((function(e,t){return e.x!==t.x?t.x-e.x:t.y-e.y})),r=e.length,o=n[0].x;for(t=1;t<r&&n[t].x===o;++t);var i=t-1,a=[];if(a.push(n[0]),i===r-1)n[i].y!==n[0].y&&a.push(n[i]);else{var s,l=r-1,u=n[r-1].x;for(t=r-2;t>=0&&n[t].x===u;t--);for(s=t+1,t=i;++t<=s;)if(!(c(n[0],n[s],n[t])>=0&&t<s)){for(;a.length>1&&!(c(a[a.length-2],a[a.length-1],n[t])>0);)a.length-=1;0!=t&&a.push(n[t])}l!=s&&a.push(n[l]);var d=a.length;for(t=s;--t>=i;)if(!(c(n[l],n[i],n[t])>=0&&t>i)){for(;a.length>d&&!(c(a[a.length-2],a[a.length-1],n[t])>0);)a.length-=1;0!=t&&a.push(n[t])}}return a},t.clockwiseRadialSweep=function(e,t,n){t.slice(0).sort((function(t,n){return Math.atan2(t.y-e.y,t.x-e.x)-Math.atan2(n.y-e.y,n.x-e.x)})).forEach(n)},t.tangent_PolyPolyC=f,t.LRtangent_PolyPolyC=function(e,t){var n=m(t,e);return{t1:n.t2,t2:n.t1}},t.RLtangent_PolyPolyC=m,t.LLtangent_PolyPolyC=function(e,t){return f(e,t,h,h,d,d)},t.RRtangent_PolyPolyC=function(e,t){return f(e,t,p,p,u,u)};var g=function(e,t){this.t1=e,this.t2=t};t.BiTangent=g;var v=function(){};t.BiTangents=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(a);t.TVGPoint=y;var b=function(e,t,n,r){this.id=e,this.polyid=t,this.polyvertid=n,this.p=r,r.vv=this};t.VisibilityVertex=b;var w=function(){function e(e,t){this.source=e,this.target=t}return e.prototype.length=function(){var e=this.source.p.x-this.target.p.x,t=this.source.p.y-this.target.p.y;return Math.sqrt(e*e+t*t)},e}();t.VisibilityEdge=w;var x=function(){function e(e,t){if(this.P=e,this.V=[],this.E=[],t)this.V=t.V.slice(0),this.E=t.E.slice(0);else{for(var n=e.length,r=0;r<n;r++){for(var o=e[r],i=0;i<o.length;++i){var a=o[i],s=new b(this.V.length,r,i,a);this.V.push(s),i>0&&this.E.push(new w(o[i-1].vv,s))}o.length>1&&this.E.push(new w(o[0].vv,o[o.length-1].vv))}for(r=0;r<n-1;r++){var l=e[r];for(i=r+1;i<n;i++){var c=e[i],u=k(l,c);for(var d in u){var p=u[d],h=l[p.t1],f=c[p.t2];this.addEdgeIfVisible(h,f,r,i)}}}}}return e.prototype.addEdgeIfVisible=function(e,t,n,r){this.intersectsPolys(new s(e.x,e.y,t.x,t.y),n,r)||this.E.push(new w(e.vv,t.vv))},e.prototype.addPoint=function(e,t){var n,r,o,i=this.P.length;this.V.push(new b(this.V.length,i,0,e));for(var a=0;a<i;++a)if(a!==t){var s=this.P[a],l=(n=e,o=void 0,(o=(r=s).slice(0)).push(r[0]),{rtan:p(n,o),ltan:h(n,o)});this.addEdgeIfVisible(e,s[l.ltan],t,a),this.addEdgeIfVisible(e,s[l.rtan],t,a)}return e.vv},e.prototype.intersectsPolys=function(e,t,n){for(var r=0,o=this.P.length;r<o;++r)if(r!=t&&r!=n&&_(e,this.P[r]).length>0)return!0;return!1},e}();function _(e,t){for(var n=[],r=1,o=t.length;r<o;++r){var a=i.Rectangle.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[r-1].x,t[r-1].y,t[r].x,t[r].y);a&&n.push(a)}return n}function k(e,t){for(var n=e.length-1,r=t.length-1,o=new v,i=0;i<n;++i)for(var a=0;a<r;++a){var s=e[0==i?n-1:i-1],l=e[i],u=e[i+1],d=t[0==a?r-1:a-1],p=t[a],h=t[a+1],f=c(s,l,p),m=c(l,d,p),y=c(l,p,h),b=c(d,p,l),w=c(p,s,l),x=c(p,l,u);f>=0&&m>=0&&y<0&&b>=0&&w>=0&&x<0?o.ll=new g(i,a):f<=0&&m<=0&&y>0&&b<=0&&w<=0&&x>0?o.rr=new g(i,a):f<=0&&m>0&&y<=0&&b>=0&&w<0&&x>=0?o.rl=new g(i,a):f>=0&&m<0&&y>=0&&b<=0&&w>0&&x<=0&&(o.lr=new g(i,a))}return o}function C(e,t){return!e.every((function(e){return!function(e,t){for(var n=1,r=t.length;n<r;++n)if(d(t[n-1],t[n],e))return!1;return!0}(e,t)}))}t.TangentVisibilityGraph=x,t.tangents=k,t.polysOverlap=function(e,t){if(C(e,t))return!0;if(C(t,e))return!0;for(var n=1,r=e.length;n<r;++n){var o=e[n],i=e[n-1];if(_(new s(i.x,i.y,o.x,o.y),t).length>0)return!0}return!1}},61904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-5ad7104f]{fill:#fff}.green[data-v-5ad7104f],.hovered[data-v-5ad7104f]{fill:#00e58d}",""]);const s=a},61909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".dropdown-wrapper[data-v-02cc508d],.tooltip[data-v-02cc508d]{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;flex-direction:column;top:100%;left:0;display:none;background-color:#181818;border:2px solid #737373}.dropdown-wrapper>div[data-v-02cc508d]:hover,.tooltip>div[data-v-02cc508d]:hover{background-color:#2a2a2a}.tooltip[data-v-02cc508d]{border-radius:15px;background-color:#1d1d1d;border:1px solid #6f6f6f;padding:10px;top:0;left:100%;transform:translate(10px);pointer-events:none;white-space:nowrap;color:#fff;display:none}.hoverbox:hover>.tooltip[data-v-02cc508d]{display:flex;z-index:11}",""]);const s=a},62006:(e,t,n)=>{var r=n(15389),o=n(64894),i=n(95950);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}},62193:(e,t,n)=>{var r=n(88984),o=n(5861),i=n(72428),a=n(56449),s=n(64894),l=n(3656),c=n(55527),u=n(37167),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},62216:e=>{e.exports=function(e){return void 0===e}},62224:(e,t,n)=>{var r=n(50104);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},62586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=n(28727),o=n(10208),i=n(7887),a=n(10208),s=n(7870),l=n(33673),c=n(24495),u=n(99029),d=n(42023),p=n(66939),h=n(94227),f=n(48708);function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:o},i){o.code.es5?e.func(t,u._`${d.default.data}, ${d.default.valCxt}`,r.$async,(()=>{e.code(u._`"use strict"; ${g(n,o)}`),function(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,u._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,u._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,u._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,u._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,u._`""`),e.var(d.default.parentData,u._`undefined`),e.var(d.default.parentDataProperty,u._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`{}`)}))}(e,o),e.code(i)})):e.func(t,u._`${d.default.data}, ${function(e){return u._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?u._`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`}(o)}`,r.$async,(()=>e.code(g(n,o)).code(i)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function y(e){return"boolean"!=typeof e.schema}function b(e){(0,h.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:o}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function w(e,t){if(e.opts.jtd)return _(e,[],!1,t);const n=(0,o.getSchemaTypes)(e.schema);_(e,n,!(0,o.coerceAndCheckDataType)(e,n),t)}function x({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:o}){const i=n.$comment;if(!0===o.$comment)e.code(u._`${d.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){const n=u.str`${r}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(u._`${d.default.self}.opts.$comment(${i}, ${n}, ${o}.schema)`)}}function _(e,t,n,r){const{gen:o,schema:s,data:l,allErrors:c,opts:p,self:f}=e,{RULES:m}=f;function g(h){(0,i.shouldUseGroup)(s,h)&&(h.type?(o.if((0,a.checkDataType)(h.type,l,p.strictNumbers)),k(e,h),1===t.length&&t[0]===h.type&&n&&(o.else(),(0,a.reportTypeError)(e)),o.endIf()):k(e,h),c||o.if(u._`${d.default.errors} === ${r||0}`))}!s.$ref||!p.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(s,m)?(p.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{C(e.dataTypes,t)||S(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const r of e.dataTypes)C(t,r)?n.push(r):t.includes("integer")&&"number"===r&&n.push("integer");e.dataTypes=n}(e,t)):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&S(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const n=e.self.RULES.all;for(const r in n){const o=n[r];if("object"==typeof o&&(0,i.shouldUseRule)(e.schema,o)){const{type:n}=o.definition;n.length&&!n.some((e=>{return r=e,(n=t).includes(r)||"number"===r&&n.includes("integer");var n,r}))&&S(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes))}(e,t),o.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):o.block((()=>P(e,"$ref",m.all.$ref.definition)))}function k(e,t){const{gen:n,schema:r,opts:{useDefaults:o}}=e;o&&(0,s.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,i.shouldUseRule)(r,n)&&P(e,n.keyword,n.definition,t.type)}))}function C(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function S(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,h.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){y(e)&&(b(e),v(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&x(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,h.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(d.default.vErrors,null),r.let(d.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:o,opts:i}=e;n.$async?t.if(u._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(u._`new ${o}(${d.default.vErrors})`))):(t.assign(u._`${r}.errors`,d.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof u.Name&&e.assign(u._`${t}.props`,n),r instanceof u.Name&&e.assign(u._`${t}.items`,r)}(e),t.return(u._`${d.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class E{constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",M(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:o,def:i}=this;n.if((0,u.or)(u._`${r} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:o}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,a.checkDataTypes)(e,t,o.opts.strictNumbers,a.DataType.Wrong)}`}return u.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const o={...this.it,...n,items:void 0,props:void 0};return function(e,t){y(e)&&(b(e),v(e))?function(e,t){const{schema:n,gen:r,opts:o}=e;o.$comment&&n.$comment&&x(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,p.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=r.const("_errs",d.default.errors);w(e,i),r.var(t,u._`${i} === ${d.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}(o,t),o}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=h.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=h.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function P(e,t,n,r){const o=new E(e,n,t);"code"in n?n.code(o,r):o.$data&&n.validate?(0,l.funcKeywordCode)(o,n):"macro"in n?(0,l.macroKeywordCode)(o,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(o,n)}t.KeywordCxt=E;const T=/^\/(?:[^~]|~0|~1)*$/,A=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function M(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let o,i;if(""===e)return d.default.rootData;if("/"===e[0]){if(!T.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=d.default.rootData}else{const a=A.exec(e);if(!a)throw new Error(`Invalid JSON-pointer: ${e}`);const s=+a[1];if(o=a[2],"#"===o){if(s>=t)throw new Error(l("property/index",s));return r[t-s]}if(s>t)throw new Error(l("data",s));if(i=n[t-s],!o)return i}let a=i;const s=o.split("/");for(const e of s)e&&(i=u._`${i}${(0,u.getProperty)((0,h.unescapeJsonPointer)(e))}`,a=u._`${a} && ${i}`);return a;function l(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=M},62948:(e,t,n)=>{var r=n(56857);e.exports=function(e){var t=function(e){var t={},n=0;return r.forEach(e.children(),(function o(i){var a=n;r.forEach(e.children(i),o),t[i]={low:a,lim:n++}})),t}(e);r.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),o=r.edgeObj,i=function(e,t,n,r){var o,i,a=[],s=[],l=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>l||c>t[o].lim));for(i=o,o=r;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(e,t,o.v,o.w),a=i.path,s=i.lca,l=0,c=a[l],u=!0;n!==o.w;){if(r=e.node(n),u){for(;(c=a[l])!==s&&e.node(c).maxRank<r.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<a.length-1&&e.node(c=a[l+1]).minRank<=r.rank;)l++;c=a[l]}e.setParent(n,c),n=e.successors(n)[0]}}))}},63040:(e,t,n)=>{var r=n(21549),o=n(80079),i=n(68223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},63282:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=n(4042),o=n(86144),i=n(36653),a=n(72079),s=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),o.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(a,s):a;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var p=n(13558);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var h=n(34551);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})},63345:e=>{e.exports=function(){return[]}},63359:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=63359,e.exports=t},63439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:o,it:i}=e,a=i.opts.multipleOfPrecision,s=t.let("res"),l=a?r._`Math.abs(Math.round(${s}) - ${s}) > 1e-${a}`:r._`${s} !== parseInt(${s})`;e.fail$data(r._`(${o} === 0 || (${s} = ${n}/${o}, ${l}))`)}};t.default=o},63490:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCServer=void 0;var s=n(51287),l=n(82616),c=function(e){return(0,s.createJSONRPCErrorResponse)((0,s.isJSONRPCID)(e.id)?e.id:null,s.JSONRPCErrorCode.InvalidRequest,"Invalid Request")},u=function(){function e(e){var t;void 0===e&&(e={}),this.mapErrorToJSONRPCErrorResponse=f,this.nameToMethodDictionary={},this.middleware=null,this.errorListener=null!==(t=e.errorListener)&&void 0!==t?t:console.warn}return e.prototype.hasMethod=function(e){return!!this.nameToMethodDictionary[e]},e.prototype.addMethod=function(e,t){this.addMethodAdvanced(e,this.toJSONRPCMethod(t))},e.prototype.toJSONRPCMethod=function(e){return function(t,n){var r=e(t.params,n);return Promise.resolve(r).then((function(e){return h(t.id,e)}))}},e.prototype.addMethodAdvanced=function(e,t){var n;this.nameToMethodDictionary=r(r({},this.nameToMethodDictionary),((n={})[e]=t,n))},e.prototype.receiveJSON=function(e,t){var n=this.tryParseRequestJSON(e);return n?this.receive(n,t):Promise.resolve((0,s.createJSONRPCErrorResponse)(null,s.JSONRPCErrorCode.ParseError,"Parse error"))},e.prototype.tryParseRequestJSON=function(e){try{return JSON.parse(e)}catch(e){return null}},e.prototype.receive=function(e,t){return Array.isArray(e)?this.receiveMultiple(e,t):this.receiveSingle(e,t)},e.prototype.receiveMultiple=function(e,t){return o(this,void 0,void 0,(function(){var n,r=this;return i(this,(function(o){switch(o.label){case 0:return[4,Promise.all(e.map((function(e){return r.receiveSingle(e,t)})))];case 1:return 1===(n=o.sent().filter(d)).length?[2,n[0]]:n.length?[2,n]:[2,null]}}))}))},e.prototype.receiveSingle=function(e,t){return o(this,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return n=this.nameToMethodDictionary[e.method],(0,s.isJSONRPCRequest)(e)?[3,1]:[2,c(e)];case 1:return[4,this.callMethod(n,e,t)];case 2:return r=o.sent(),[2,m(e,r)]}}))}))},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.middleware?this.middleware=this.combineMiddlewares(a([this.middleware],e,!0)):this.middleware=this.combineMiddlewares(e)},e.prototype.combineMiddlewares=function(e){return e.length?e.reduce(this.middlewareReducer):null},e.prototype.middlewareReducer=function(e,t){return function(n,r,o){return e((function(e,r){return t(n,e,r)}),r,o)}},e.prototype.callMethod=function(e,t,n){var r=this,o=function(e){return r.errorListener('An unexpected error occurred while executing "'.concat(t.method,'" JSON-RPC method:'),e),Promise.resolve(r.mapErrorToJSONRPCErrorResponseIfNecessary(t.id,e))};try{return(this.middleware||p)((function(t,n){return e?e(t,n):void 0!==t.id?Promise.resolve((r=t.id,(0,s.createJSONRPCErrorResponse)(r,s.JSONRPCErrorCode.MethodNotFound,"Method not found"))):Promise.resolve(null);var r}),t,n).then(void 0,o)}catch(e){return o(e)}},e.prototype.mapErrorToJSONRPCErrorResponseIfNecessary=function(e,t){return void 0!==e?this.mapErrorToJSONRPCErrorResponse(e,t):null},e}();t.JSONRPCServer=u;var d=function(e){return null!==e},p=function(e,t,n){return e(t,n)},h=function(e,t){return void 0!==e?(0,s.createJSONRPCSuccessResponse)(e,t):null},f=function(e,t){var n,r,o=null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"An unexpected error occurred",i=l.DefaultErrorCode;return t instanceof s.JSONRPCErrorException&&(i=t.code,r=t.data),(0,s.createJSONRPCErrorResponse)(e,i,o,r)},m=function(e,t){return t||(void 0!==e.id?(0,s.createJSONRPCErrorResponse)(e.id,s.JSONRPCErrorCode.InternalError,"Internal error"):null)}},63491:(e,t,n)=>{"use strict";n.d(t,{AP:()=>Zn,G9:()=>Rt,Gy:()=>h,JZ:()=>Pt,TE:()=>Yn,V1:()=>ut,XF:()=>Qn,aw:()=>He,b:()=>Ze,if:()=>u,jW:()=>yt,lo:()=>jt,mk:()=>Tt,oQ:()=>vt,qO:()=>dt,uU:()=>d,xn:()=>Xn});var r=n(50953),o=n(20641),i=n(90033),a=n(53751),s=n(46171),l=n(34250);let c=null;function u(){if(!c)throw new Error("providePlugin() must be called before usePlugin()");return{viewModel:c}}function d(){const{viewModel:e}=u();return{graph:(0,r.lW)(e.value,"displayedGraph"),switchGraph:e.value.switchGraph}}function p(e){const{graph:t}=d(),n=(0,r.KR)(null),i=(0,r.KR)(null);return{dragging:(0,o.EW)((()=>!!n.value)),onPointerDown:t=>{n.value={x:t.pageX,y:t.pageY},i.value={x:e.value.x,y:e.value.y}},onPointerMove:r=>{if(n.value){const o=r.pageX-n.value.x,a=r.pageY-n.value.y;e.value.x=i.value.x+o/t.value.scaling,e.value.y=i.value.y+a/t.value.scaling}},onPointerUp:()=>{n.value=null,i.value=null}}}function h(){const{graph:e}=d();return{transform:(t,n)=>[t/e.value.scaling-e.value.panning.x,n/e.value.scaling-e.value.panning.y]}}var f=(e=>(e[e.NONE=0]="NONE",e[e.ALLOWED=1]="ALLOWED",e[e.FORBIDDEN=2]="FORBIDDEN",e))(f||{});const m=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n},g=m((0,o.pM)({setup(){const{viewModel:e}=u(),{graph:t}=d();return{styles:(0,o.EW)((()=>{const n=e.value.settings.background,r=t.value.panning.x*t.value.scaling,o=t.value.panning.y*t.value.scaling,i=t.value.scaling*n.gridSize,a=i/n.gridDivision;return{backgroundPosition:`left ${r}px top ${o}px`,backgroundSize:`${i}px ${i}px, ${i}px ${i}px ${t.value.scaling>n.subGridVisibleThreshold?`, ${a}px ${a}px, ${a}px ${a}px`:""}`}}))}}}),[["render",function(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("div",{class:"background",style:(0,i.Tr)(e.styles)},null,4)}]]);var v;const y="undefined"!=typeof window,b=()=>{};y&&(null==(v=null==window?void 0:window.navigator)?void 0:v.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);var w=Object.defineProperty,x=Object.defineProperties,_=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))C.call(t,n)&&E(e,n,t[n]);if(k)for(var n of k(t))S.call(t,n)&&E(e,n,t[n]);return e};function T(e){var t;const n="function"==typeof(o=e)?o():(0,r.R1)(o);var o;return null!=(t=null==n?void 0:n.$el)?t:n}const A=y?window:void 0;function M(...e){let t,n,i,a;if("string"==typeof e[0]||Array.isArray(e[0])?([n,i,a]=e,t=A):[t,n,i,a]=e,!t)return b;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],l=()=>{s.forEach((e=>e())),s.length=0},c=(0,o.wB)((()=>T(t)),(e=>{l(),e&&s.push(...n.flatMap((t=>i.map((n=>((e,t,n)=>(e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)))(e,t,n))))))}),{immediate:!0,flush:"post"}),u=()=>{c(),l()};var d;return d=u,(0,r.o5)()&&(0,r.jr)(d),u}function N(e,t,n={}){const{window:r=A,ignore:o=[],capture:i=!0,detectIframe:a=!1}=n;if(!r)return;let s,l=!0;const c=e=>o.some((t=>{if("string"==typeof t)return Array.from(r.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const n=T(t);return n&&(e.target===n||e.composedPath().includes(n))}})),u=n=>{r.clearTimeout(s);const o=T(e);o&&o!==n.target&&!n.composedPath().includes(o)&&(0===n.detail&&(l=!c(n)),l?t(n):l=!0)},d=[M(r,"click",u,{passive:!0,capture:i}),M(r,"pointerdown",(t=>{const n=T(e);n&&(l=!t.composedPath().includes(n)&&!c(t))}),{passive:!0}),M(r,"pointerup",(e=>{if(0===e.button){const t=e.composedPath();e.composedPath=()=>t,s=r.setTimeout((()=>u(e)),50)}}),{passive:!0}),a&&M(r,"blur",(n=>{var o;const i=T(e);"IFRAME"!==(null==(o=r.document.activeElement)?void 0:o.tagName)||(null==i?void 0:i.contains(r.document.activeElement))||t(n)}))].filter(Boolean);return()=>d.forEach((e=>e()))}y&&window.document,y&&window.navigator,y&&window.location;const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},I="__vueuse_ssr_handlers__";O[I]=O[I]||{},O[I];var R=Object.defineProperty,L=Object.defineProperties,j=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const F={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},z=Object.keys(F);var U,W;(W=U||(U={})).UP="UP",W.RIGHT="RIGHT",W.DOWN="DOWN",W.LEFT="LEFT",W.NONE="NONE";var K=Object.defineProperty,H=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;((e,t)=>{for(var n in t||(t={}))q.call(t,n)&&X(e,n,t[n]);if(H)for(var n of H(t))G.call(t,n)&&X(e,n,t[n])})({linear:function(e){return e}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const Y=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},items:{type:Array,required:!0},x:{type:Number,default:0},y:{type:Number,default:0},isNested:{type:Boolean,default:!1},isFlipped:{type:Object,default:()=>({x:!1,y:!1})},flippable:{type:Boolean,default:!1}},emits:["click","update:modelValue"],setup(e,{emit:t}){let n=null;const i=(0,r.KR)(null),a=(0,r.KR)(-1),s=(0,r.KR)(0),l=(0,r.KR)({x:!1,y:!1}),c=(0,o.EW)((()=>e.flippable&&(l.value.x||e.isFlipped.x))),u=(0,o.EW)((()=>e.flippable&&(l.value.y||e.isFlipped.y))),d=(0,o.EW)((()=>{const t={};return e.isNested||(t.top=(u.value?e.y-s.value:e.y)+"px",t.left=e.x+"px"),t})),p=(0,o.EW)((()=>({"--flipped-x":c.value,"--flipped-y":u.value,"--nested":e.isNested}))),h=(0,o.EW)((()=>e.items.map((e=>({...e,hover:!1})))));return(0,o.wB)([()=>e.y,()=>e.items],(()=>{var t,n,r,o;s.value=30*e.items.length;const a=(null==(n=null==(t=i.value)?void 0:t.parentElement)?void 0:n.offsetWidth)??0,c=(null==(o=null==(r=i.value)?void 0:r.parentElement)?void 0:o.offsetHeight)??0;l.value.x=!e.isNested&&e.x>.75*a,l.value.y=!e.isNested&&e.y+s.value>c-20})),N(i,(()=>{e.modelValue&&t("update:modelValue",!1)})),{el:i,activeMenu:a,flippedX:c,flippedY:u,styles:d,classes:p,itemsWithHoverProperty:h,onClick:e=>{!e.submenu&&e.value&&(t("click",e.value),t("update:modelValue",!1))},onChildClick:n=>{t("click",n),a.value=-1,e.isNested||t("update:modelValue",!1)},onClickOutside:N,onMouseEnter:(t,r)=>{e.items[r].submenu&&(a.value=r,null!==n&&(clearTimeout(n),n=null))},onMouseLeave:(t,r)=>{e.items[r].submenu&&(n=window.setTimeout((()=>{a.value=-1,n=null}),200))}}}}),J=["onMouseenter","onMouseleave","onClick"],Z={class:"flex-fill"},Q={key:0,class:"__submenu-icon",style:{"line-height":"1em"}},ee=[(0,o.Lk)("svg",{width:"13",height:"13",viewBox:"-60 120 250 250"},[(0,o.Lk)("path",{d:"M160.875 279.5625 L70.875 369.5625 L70.875 189.5625 L160.875 279.5625 Z",stroke:"none",fill:"white"})],-1)],te=m(Y,[["render",function(e,t,n,r,s,l){const c=(0,o.g2)("context-menu",!0);return(0,o.uX)(),(0,o.Wv)(a.eB,{name:"slide-fade"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.Lk)("div",{ref:"el",class:(0,i.C4)(["baklava-context-menu",e.classes]),style:(0,i.Tr)(e.styles)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.itemsWithHoverProperty,((t,n)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[t.isDivider?((0,o.uX)(),(0,o.CE)("div",{key:`d-${n}`,class:"divider"})):((0,o.uX)(),(0,o.CE)("div",{key:`i-${n}`,class:(0,i.C4)(["item",{submenu:!!t.submenu,"--disabled":!!t.disabled}]),onMouseenter:t=>e.onMouseEnter(t,n),onMouseleave:t=>e.onMouseLeave(t,n),onClick:(0,a.D$)((n=>e.onClick(t)),["stop","prevent"])},[(0,o.Lk)("div",Z,(0,i.v_)(t.label),1),t.submenu?((0,o.uX)(),(0,o.CE)("div",Q,ee)):(0,o.Q3)("",!0),t.submenu?((0,o.uX)(),(0,o.Wv)(c,{key:1,value:e.activeMenu===n,items:t.submenu,"is-nested":!0,"is-flipped":{x:e.flippedX,y:e.flippedY},flippable:e.flippable,onClick:e.onChildClick},null,8,["value","items","is-flipped","flippable","onClick"])):(0,o.Q3)("",!0)],42,J))],64)))),256))],6),[[a.aG,e.modelValue]])])),_:1})}]]),ne={},re={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},oe=[(0,o.Lk)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,o.Lk)("circle",{cx:"12",cy:"12",r:"1"},null,-1),(0,o.Lk)("circle",{cx:"12",cy:"19",r:"1"},null,-1),(0,o.Lk)("circle",{cx:"12",cy:"5",r:"1"},null,-1)],ie=m(ne,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",re,oe)}]]),ae=(0,o.pM)({props:{node:{type:Object,required:!0},intf:{type:Object,required:!0}},setup(e){const{viewModel:t}=u(),n=(0,o.WQ)("hoveredOver"),i=(0,r.KR)(null),a=(0,o.EW)((()=>e.intf.connectionCount>0)),s=(0,o.EW)((()=>({"--input":e.intf.isInput,"--output":!e.intf.isInput,"--connected":a.value}))),l=(0,o.EW)((()=>e.intf.component&&0===e.intf.connectionCount&&(e.intf.isInput||!e.intf.port))),c=()=>{i.value&&t.value.hooks.renderInterface.execute({intf:e.intf,el:i.value})};return(0,o.sV)(c),(0,o.$u)(c),{el:i,isConnected:a,classes:s,showComponent:l,startHover:()=>{n(e.intf)},endHover:()=>{n(void 0)},openSidebar:()=>{const n=t.value.displayedGraph.sidebar;n.nodeId=e.node.id,n.optionName=e.intf.name,n.visible=!0}}}}),se=["id"],le={key:2,class:"align-middle"},ce=m(ae,[["render",function(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("div",{id:e.intf.id,ref:"el",class:(0,i.C4)(["baklava-node-interface",e.classes])},[e.intf.port?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"__port",onPointerover:t[0]||(t[0]=(...t)=>e.startHover&&e.startHover(...t)),onPointerout:t[1]||(t[1]=(...t)=>e.endHover&&e.endHover(...t))},null,32)):(0,o.Q3)("",!0),e.showComponent?((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.intf.component),{key:1,modelValue:e.intf.value,"onUpdate:modelValue":t[2]||(t[2]=t=>e.intf.value=t),node:e.node,intf:e.intf,onOpenSidebar:e.openSidebar},null,40,["modelValue","node","intf","onOpenSidebar"])):((0,o.uX)(),(0,o.CE)("span",le,(0,i.v_)(e.intf.name),1))],10,se)}]]),ue=["id","data-node-type"],de=["onPointerdown"],pe={class:"__title-label"},he={class:"__menu"},fe=["onKeydown"],me={class:"__content"},ge={class:"__outputs"},ve={class:"__inputs"},ye=(0,o.pM)({__name:"Node",props:{node:null,selected:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:t}){const n=e,{viewModel:l}=u(),{graph:c,switchGraph:h}=d(),f=p((0,r.lW)(n.node,"position")),m=(0,r.KR)(null),g=(0,r.KR)(!1),v=(0,r.KR)(""),y=(0,r.KR)(null),b=(0,r.KR)(!1),w=(0,o.EW)((()=>{const e=[{value:"rename",label:"Rename"},{value:"delete",label:"Delete"}];return n.node.type.startsWith(s.cO)&&e.push({value:"editSubgraph",label:"Edit Subgraph"}),e})),x=(0,o.EW)((()=>({"--selected":n.selected,"--dragging":f.dragging.value,"--two-column":!!n.node.twoColumn}))),_=(0,o.EW)((()=>{var e,t;return{top:`${(null==(e=n.node.position)?void 0:e.y)??0}px`,left:`${(null==(t=n.node.position)?void 0:t.x)??0}px`,width:`${n.node.width??200}px`}})),k=(0,o.EW)((()=>Object.values(n.node.inputs).filter((e=>!e.hidden)))),C=(0,o.EW)((()=>Object.values(n.node.outputs).filter((e=>!e.hidden)))),S=()=>{t("select")},E=e=>{f.onPointerDown(e),document.addEventListener("pointermove",f.onPointerMove),document.addEventListener("pointerup",P),S()},P=()=>{f.onPointerUp(),document.removeEventListener("pointermove",f.onPointerMove),document.removeEventListener("pointerup",P)},T=()=>{b.value=!0},A=async e=>{var t;switch(e){case"delete":c.value.removeNode(n.node);break;case"rename":v.value=n.node.title,g.value=!0,await(0,o.dY)(),null==(t=y.value)||t.focus();break;case"editSubgraph":h(n.node.template)}},M=()=>{n.node.title=v.value,g.value=!1},N=()=>{m.value&&l.value.hooks.renderNode.execute({node:n.node,el:m.value})};return(0,o.sV)(N),(0,o.$u)(N),(t,n)=>((0,o.uX)(),(0,o.CE)("div",{id:e.node.id,ref_key:"el",ref:m,class:(0,i.C4)(["baklava-node",(0,r.R1)(x)]),style:(0,i.Tr)((0,r.R1)(_)),"data-node-type":e.node.type,onPointerdown:S},[(0,o.Lk)("div",{class:"__title",onPointerdown:(0,a.D$)(E,["self","stop"])},[g.value?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:1,ref_key:"renameInputEl",ref:y,"onUpdate:modelValue":n[1]||(n[1]=e=>v.value=e),type:"text",class:"baklava-input",placeholder:"Node Name",onBlur:M,onKeydown:(0,a.jR)(M,["enter"])},null,40,fe)),[[a.Jo,v.value]]):((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",pe,(0,i.v_)(e.node.title),1),(0,o.Lk)("div",he,[(0,o.bF)(ie,{class:"--clickable",onClick:T}),(0,o.bF)(te,{modelValue:b.value,"onUpdate:modelValue":n[0]||(n[0]=e=>b.value=e),x:0,y:0,items:(0,r.R1)(w),onClick:A},null,8,["modelValue","items"])])],64))],40,de),(0,o.Lk)("div",me,[(0,o.Lk)("div",ge,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,r.R1)(C),(t=>((0,o.uX)(),(0,o.Wv)(ce,{key:t.id,node:e.node,intf:t},null,8,["node","intf"])))),128))]),(0,o.Lk)("div",ve,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,r.R1)(k),(t=>((0,o.uX)(),(0,o.Wv)(ce,{key:t.id,node:e.node,intf:t},null,8,["node","intf"])))),128))])])],46,ue))}}),be=(0,o.pM)({props:{x1:{type:Number,required:!0},y1:{type:Number,required:!0},x2:{type:Number,required:!0},y2:{type:Number,required:!0},state:{type:Number,default:f.NONE},isTemporary:{type:Boolean,default:!1}},setup(e){const{viewModel:t}=u(),{graph:n}=d(),r=(e,t)=>[(e+n.value.panning.x)*n.value.scaling,(t+n.value.panning.y)*n.value.scaling];return{d:(0,o.EW)((()=>{const[n,o]=r(e.x1,e.y1),[i,a]=r(e.x2,e.y2);if(t.value.settings.useStraightConnections)return`M ${n} ${o} L ${i} ${a}`;{const e=.3*Math.abs(n-i);return`M ${n} ${o} C ${n+e} ${o}, ${i-e} ${a}, ${i} ${a}`}})),classes:(0,o.EW)((()=>({"--temporary":e.isTemporary,"--allowed":e.state===f.ALLOWED,"--forbidden":e.state===f.FORBIDDEN})))}}}),we=["d"],xe=m(be,[["render",function(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("path",{class:(0,i.C4)(["baklava-connection",e.classes]),d:e.d},null,10,we)}]]);function _e(e){const t=document.getElementById(e.id),n=null==t?void 0:t.getElementsByClassName("__port");return{node:(null==t?void 0:t.closest(".baklava-node"))??null,interface:t,port:n&&n.length>0?n[0]:null}}const ke=m((0,o.pM)({components:{"connection-view":xe},props:{connection:{type:Object,required:!0}},setup(e){const{graph:t}=d();let n;const i=(0,r.KR)({x1:0,y1:0,x2:0,y2:0}),a=(0,o.EW)((()=>e.connection.isInDanger?f.FORBIDDEN:f.NONE)),s=(0,o.EW)((()=>{var n;return null==(n=t.value.findNodeById(e.connection.from.nodeId))?void 0:n.position})),l=(0,o.EW)((()=>{var n;return null==(n=t.value.findNodeById(e.connection.to.nodeId))?void 0:n.position})),c=e=>e.node&&e.interface&&e.port?[e.node.offsetLeft+e.interface.offsetLeft+e.port.offsetLeft+e.port.clientWidth/2,e.node.offsetTop+e.interface.offsetTop+e.port.offsetTop+e.port.clientHeight/2]:[0,0],u=()=>{const t=_e(e.connection.from),r=_e(e.connection.to);t.node&&r.node&&(n||(n=new ResizeObserver((()=>{u()})),n.observe(t.node),n.observe(r.node)));const[o,a]=c(t),[s,l]=c(r);i.value={x1:o,y1:a,x2:s,y2:l}};return(0,o.sV)((async()=>{await(0,o.dY)(),u()})),(0,o.xo)((()=>{n&&n.disconnect()})),(0,o.wB)([s,l],(()=>u()),{deep:!0}),{d:i,state:a}}}),[["render",function(e,t,n,r,i,a){const s=(0,o.g2)("connection-view");return(0,o.uX)(),(0,o.Wv)(s,{x1:e.d.x1,y1:e.d.y1,x2:e.d.x2,y2:e.d.y2,state:e.state},null,8,["x1","y1","x2","y2","state"])}]]);function Ce(e){return e.node&&e.interface&&e.port?[e.node.offsetLeft+e.interface.offsetLeft+e.port.offsetLeft+e.port.clientWidth/2,e.node.offsetTop+e.interface.offsetTop+e.port.offsetTop+e.port.clientHeight/2]:[0,0]}const Se=m((0,o.pM)({components:{"connection-view":xe},props:{connection:{type:Object,required:!0}},setup(e){const t=(0,o.EW)((()=>e.connection?e.connection.status:f.NONE));return{d:(0,o.EW)((()=>{if(!e.connection)return{input:[0,0],output:[0,0]};const t=Ce(_e(e.connection.from)),n=e.connection.to?Ce(_e(e.connection.to)):[e.connection.mx||t[0],e.connection.my||t[1]];return e.connection.from.isInput?{input:n,output:t}:{input:t,output:n}})),status:t}}}),[["render",function(e,t,n,r,i,a){const s=(0,o.g2)("connection-view");return(0,o.uX)(),(0,o.Wv)(s,{x1:e.d.input[0],y1:e.d.input[1],x2:e.d.output[0],y2:e.d.output[1],state:e.status,"is-temporary":""},null,8,["x1","y1","x2","y2","state"])}]]),Ee=(0,o.pM)({setup(){const{graph:e}=d(),t=(0,r.KR)(null),n=(0,r.KR)(300),i=(0,o.EW)((()=>{const t=e.value.sidebar.nodeId;return e.value.nodes.find((e=>e.id===t))})),a=(0,o.EW)((()=>({width:`${n.value}px`}))),s=(0,o.EW)((()=>i.value?[...Object.values(i.value.inputs),...Object.values(i.value.outputs)].filter((e=>e.displayInSidebar&&e.component)):[])),l=e=>{var r,o;const i=(null==(o=null==(r=t.value)?void 0:r.parentElement)?void 0:o.getBoundingClientRect().width)??500;n.value-=e.movementX,n.value<300?n.value=300:n.value>.9*i&&(n.value=.9*i)};return{el:t,graph:e,node:i,styles:a,displayedInterfaces:s,startResize:()=>{window.addEventListener("mousemove",l),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",l)}),{once:!0})},close:()=>{e.value.sidebar.visible=!1}}}}),Pe={class:"__header"},Te={class:"__node-name"},Ae=m(Ee,[["render",function(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("div",{ref:"el",class:(0,i.C4)(["baklava-sidebar",{"--open":e.graph.sidebar.visible}]),style:(0,i.Tr)(e.styles)},[(0,o.Lk)("div",{class:"__resizer",onMousedown:t[0]||(t[0]=(...t)=>e.startResize&&e.startResize(...t))},null,32),(0,o.Lk)("div",Pe,[(0,o.Lk)("button",{tabindex:"-1",class:"__close",onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t))},"  "),(0,o.Lk)("div",Te,[(0,o.Lk)("b",null,(0,i.v_)(e.node?e.node.title:""),1)])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.displayedInterfaces,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"__interface"},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(t.component),{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,node:e.node,intf:t},null,8,["modelValue","onUpdate:modelValue","node","intf"]))])))),128))],6)}]]),Me=m((0,o.pM)({setup(){const{viewModel:e}=u(),{graph:t}=d(),n=(0,r.KR)(null),i=(0,r.KR)(!1);let a,s=!1,l={x1:0,y1:0,x2:0,y2:0};const c=(e,t)=>[(e-l.x1)/(l.x2-l.x1)*a.canvas.clientWidth,(t-l.y1)/(l.y2-l.y1)*a.canvas.clientHeight],p=e=>{if(e){const t=e.querySelector(".__content");if(t){const e=h(t);if(e)return e}const n=h(e);if(n)return n}return"gray"},h=e=>{const t=getComputedStyle(e).backgroundColor;if(t&&"rgba(0, 0, 0, 0)"!==t)return t},f=()=>{const e=n.value.parentElement.offsetWidth,r=n.value.parentElement.offsetHeight,o=e/t.value.scaling-t.value.panning.x,i=r/t.value.scaling-t.value.panning.y;return{x1:-t.value.panning.x,y1:-t.value.panning.y,x2:o,y2:i}},m=e=>{if(s){const[o,i]=(n=e.offsetX,r=e.offsetY,[n*(l.x2-l.x1)/a.canvas.clientWidth+l.x1,r*(l.y2-l.y1)/a.canvas.clientHeight+l.y1]),s=f(),c=(s.x1-s.x2)/2,u=(s.y1-s.y2)/2;t.value.panning.x=-(o+c),t.value.panning.y=-(i+u)}var n,r},g=()=>{s=!1};return(0,o.sV)((()=>{a=n.value.getContext("2d"),a.imageSmoothingQuality="high",(()=>{var n,r;if(!a)return;const o=new Map,s=new Map;for(const e of t.value.nodes){const t=(u=e,document.getElementById(u.id)),i=(null==t?void 0:t.clientWidth)??0,a=(null==t?void 0:t.clientHeight)??0,l=(null==(n=e.position)?void 0:n.x)??0,c=(null==(r=e.position)?void 0:r.y)??0;o.set(e,{x1:l,y1:c,x2:l+i,y2:c+a}),s.set(e,t)}var u;const d={x1:Number.MAX_SAFE_INTEGER,y1:Number.MAX_SAFE_INTEGER,x2:Number.MIN_SAFE_INTEGER,y2:Number.MIN_SAFE_INTEGER};for(const e of o.values())e.x1<d.x1&&(d.x1=e.x1),e.y1<d.y1&&(d.y1=e.y1),e.x2>d.x2&&(d.x2=e.x2),e.y2>d.y2&&(d.y2=e.y2);d.x1-=50,d.y1-=50,d.x2+=50,d.y2+=50,l=d,a.clearRect(0,0,a.canvas.width,a.canvas.height),a.strokeStyle="white";for(const n of t.value.connections){const[t,r]=Ce(_e(n.from)),[o,i]=Ce(_e(n.to)),[s,l]=c(t,r),[u,d]=c(o,i);if(a.beginPath(),a.moveTo(s,l),e.value.settings.useStraightConnections)a.lineTo(u,d);else{const e=.3*Math.abs(s-u);a.bezierCurveTo(s+e,l,u-e,d,u,d)}a.stroke()}a.strokeStyle="lightgray";for(const[e,t]of o.entries()){const[n,r]=c(t.x1,t.y1),[o,i]=c(t.x2,t.y2);a.fillStyle=p(s.get(e)),a.beginPath(),a.rect(n,r,o-n,i-r),a.fill(),a.stroke()}if(i.value){const e=f(),[t,n]=c(e.x1,e.y1),[r,o]=c(e.x2,e.y2);a.fillStyle="rgba(255, 255, 255, 0.2)",a.fillRect(t,n,r-t,o-n)}})()})),{canvas:n,showViewBounds:i,mousedown:e=>{0===e.button&&(s=!0,m(e))},mousemove:m,mouseup:g,mouseenter:()=>{i.value=!0},mouseleave:()=>{i.value=!1,g()}}}}),[["render",function(e,t,n,r,i,s){return(0,o.uX)(),(0,o.CE)("canvas",{ref:"canvas",class:"baklava-minimap",onMouseenter:t[0]||(t[0]=(...t)=>e.mouseenter&&e.mouseenter(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.mouseleave&&e.mouseleave(...t)),onMousedown:t[2]||(t[2]=(0,a.D$)(((...t)=>e.mousedown&&e.mousedown(...t)),["self"])),onMousemove:t[3]||(t[3]=(0,a.D$)(((...t)=>e.mousemove&&e.mousemove(...t)),["self"])),onMouseup:t[4]||(t[4]=(...t)=>e.mouseup&&e.mouseup(...t))},null,544)}]]),Ne=(0,o.pM)({components:{ContextMenu:te,VerticalDots:ie},props:{type:{type:String,required:!0},title:{type:String,required:!0}},setup(e){const{viewModel:t}=u(),{switchGraph:n}=d(),i=(0,r.KR)(!1),a=(0,o.EW)((()=>e.type.startsWith(s.cO)));return{showContextMenu:i,hasContextMenu:a,contextMenuItems:[{label:"Edit Subgraph",value:"editSubgraph"},{label:"Delete Subgraph",value:"deleteSubgraph"}],openContextMenu:()=>{i.value=!0},onContextMenuClick:r=>{const o=e.type.substring(s.cO.length),i=t.value.editor.graphTemplates.find((e=>e.id===o));if(i)switch(r){case"editSubgraph":n(i);break;case"deleteSubgraph":t.value.editor.removeGraphTemplate(i)}}}}}),Oe=["data-node-type"],Ie={class:"__title"},Re={class:"__title-label"},Le={key:0,class:"__menu"},je=m(Ne,[["render",function(e,t,n,r,s,l){const c=(0,o.g2)("vertical-dots"),u=(0,o.g2)("context-menu");return(0,o.uX)(),(0,o.CE)("div",{class:"baklava-node --palette","data-node-type":e.type},[(0,o.Lk)("div",Ie,[(0,o.Lk)("div",Re,(0,i.v_)(e.title),1),e.hasContextMenu?((0,o.uX)(),(0,o.CE)("div",Le,[(0,o.bF)(c,{class:"--clickable",onPointerdown:t[0]||(t[0]=(0,a.D$)((()=>{}),["stop","prevent"])),onClick:(0,a.D$)(e.openContextMenu,["stop","prevent"])},null,8,["onClick"]),(0,o.bF)(u,{modelValue:e.showContextMenu,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showContextMenu=t),x:-100,y:0,items:e.contextMenuItems,onClick:e.onContextMenuClick,onPointerdown:t[2]||(t[2]=(0,a.D$)((()=>{}),["stop","prevent"]))},null,8,["modelValue","items","onClick"])])):(0,o.Q3)("",!0)])],8,Oe)}]]);let De;const $e=new Uint8Array(16);function Be(){if(!De&&(De="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!De))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return De($e)}const Ve=[];for(let e=0;e<256;++e)Ve.push((e+256).toString(16).slice(1));const Fe={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ze(e,t,n){if(Fe.randomUUID&&!t&&!e)return Fe.randomUUID();const r=(e=e||{}).random||(e.rng||Be)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(Ve[e[t+0]]+Ve[e[t+1]]+Ve[e[t+2]]+Ve[e[t+3]]+"-"+Ve[e[t+4]]+Ve[e[t+5]]+"-"+Ve[e[t+6]]+Ve[e[t+7]]+"-"+Ve[e[t+8]]+Ve[e[t+9]]+"-"+Ve[e[t+10]]+Ve[e[t+11]]+Ve[e[t+12]]+Ve[e[t+13]]+Ve[e[t+14]]+Ve[e[t+15]]).toLowerCase()}(r)}const Ue=(0,o.pM)({props:{intf:{type:Object,required:!0}},setup:e=>({onClick:()=>{e.intf.callback&&e.intf.callback()}})}),We=["title"],Ke=m(Ue,[["render",function(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("button",{class:"baklava-button --block",title:e.intf.name,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},(0,i.v_)(e.intf.name),9,We)}]]);class He extends s.gZ{constructor(e,t){super(e,void 0),this.component=(0,r.IG)(Ke),this.callback=t,this.setPort(!1)}}const qe=(0,o.pM)({props:{intf:{type:Object,required:!0}}}),Ge=["title"],Xe=(0,o.Lk)("div",{class:"__checkmark-container"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[(0,o.Lk)("path",{class:"__checkmark",d:"M 6 5 L 6 10 L 16 10",transform:"rotate(-45 10 10)"})])],-1),Ye={class:"__label"},Je=m(qe,[["render",function(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["baklava-checkbox",{"--checked":e.intf.value}]),title:e.intf.name,onClick:t[0]||(t[0]=t=>e.intf.value=!e.intf.value)},[Xe,(0,o.Lk)("div",Ye,(0,i.v_)(e.intf.name),1)],10,Ge)}]]);class Ze extends s.gZ{constructor(){super(...arguments),this.component=(0,r.IG)(Je)}}class Qe extends s.gZ{constructor(e,t,n,r){super(e,t),this.min=n,this.max=r}validate(e){return(!this.min||e>=this.min)&&(!this.max||e<=this.max)}}const et=(e,t=3)=>{const n=(0,r.KR)(null),i=(0,r.KR)(!1),a=(0,r.KR)(!1),s=(0,r.KR)("0"),l=(0,o.EW)((()=>{const n=e.value.value.toFixed(t);return n.length>9?e.value.value.toExponential(4):n})),c=t=>!Number.isNaN(t)&&(!function(e){return"validate"in e}(e.value)||e.value.validate(t)),u=t=>{c(t)&&(e.value.value=t)};return(0,o.wB)(s,(()=>{a.value=!1})),{editMode:i,invalid:a,tempValue:s,inputEl:n,stringRepresentation:l,validate:c,setValue:u,enterEditMode:async()=>{s.value=e.value.value.toFixed(t),i.value=!0,await(0,o.dY)(),n.value&&n.value.focus()},leaveEditMode:()=>{const e=parseFloat(s.value);c(e)?(u(e),i.value=!1):a.value=!0}}},tt={},nt={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},rt=[(0,o.Lk)("polyline",{points:"6 9 12 15 18 9"},null,-1)],ot=m(tt,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",nt,rt)}]]),it=(0,o.pM)({components:{"i-arrow":ot},props:{intf:{type:Object,required:!0}},setup(e){const t=et((0,r.lW)(e,"intf"),0);return{...t,increment:()=>{t.setValue(e.intf.value+1)},decrement:()=>{t.setValue(e.intf.value-1)}}}}),at={class:"baklava-num-input"},st=["title"],lt={class:"__value"},ct={key:1,class:"__content"},ut=m(it,[["render",function(e,t,n,r,s,l){const c=(0,o.g2)("i-arrow");return(0,o.uX)(),(0,o.CE)("div",at,[(0,o.Lk)("div",{class:"__button --dec",onClick:t[0]||(t[0]=(...t)=>e.decrement&&e.decrement(...t))},[(0,o.bF)(c)]),e.editMode?((0,o.uX)(),(0,o.CE)("div",ct,[(0,o.bo)((0,o.Lk)("input",{ref:"inputEl","onUpdate:modelValue":t[2]||(t[2]=t=>e.tempValue=t),type:"number",class:(0,i.C4)(["baklava-input",{"--invalid":e.invalid}]),style:{"text-align":"right"},onBlur:t[3]||(t[3]=(...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),onKeydown:t[4]||(t[4]=(0,a.jR)(((...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),["enter"]))},null,34),[[a.Jo,e.tempValue]])])):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"__content",onClick:t[1]||(t[1]=(...t)=>e.enterEditMode&&e.enterEditMode(...t))},[(0,o.Lk)("div",{class:"__label",title:e.intf.name},(0,i.v_)(e.intf.name),9,st),(0,o.Lk)("div",lt,(0,i.v_)(e.stringRepresentation),1)])),(0,o.Lk)("div",{class:"__button --inc",onClick:t[5]||(t[5]=(...t)=>e.increment&&e.increment(...t))},[(0,o.bF)(c)])])}]]);class dt extends Qe{constructor(){super(...arguments),this.component=(0,r.IG)(ut)}validate(e){return Number.isInteger(e)&&super.validate(e)}}const pt=(0,o.pM)({components:{"i-arrow":ot},props:{intf:{type:Object,required:!0}},setup(e){const t=et((0,r.lW)(e,"intf"));return{...t,increment:()=>{t.setValue(e.intf.value+.1)},decrement:()=>{t.setValue(e.intf.value-.1)}}}}),ht={class:"baklava-num-input"},ft=["title"],mt={class:"__value"},gt={key:1,class:"__content"},vt=m(pt,[["render",function(e,t,n,r,s,l){const c=(0,o.g2)("i-arrow");return(0,o.uX)(),(0,o.CE)("div",ht,[(0,o.Lk)("div",{class:"__button --dec",onClick:t[0]||(t[0]=(...t)=>e.decrement&&e.decrement(...t))},[(0,o.bF)(c)]),e.editMode?((0,o.uX)(),(0,o.CE)("div",gt,[(0,o.bo)((0,o.Lk)("input",{ref:"inputEl","onUpdate:modelValue":t[2]||(t[2]=t=>e.tempValue=t),type:"number",class:(0,i.C4)(["baklava-input",{"--invalid":e.invalid}]),style:{"text-align":"right"},onBlur:t[3]||(t[3]=(...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),onKeydown:t[4]||(t[4]=(0,a.jR)(((...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),["enter"]))},null,34),[[a.Jo,e.tempValue]])])):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"__content",onClick:t[1]||(t[1]=(...t)=>e.enterEditMode&&e.enterEditMode(...t))},[(0,o.Lk)("div",{class:"__label",title:e.intf.name},(0,i.v_)(e.intf.name),9,ft),(0,o.Lk)("div",mt,(0,i.v_)(e.stringRepresentation),1)])),(0,o.Lk)("div",{class:"__button --inc",onClick:t[5]||(t[5]=(...t)=>e.increment&&e.increment(...t))},[(0,o.bF)(c)])])}]]);class yt extends Qe{constructor(){super(...arguments),this.component=(0,r.IG)(vt)}}const bt=(0,o.pM)({components:{"i-arrow":ot},props:{intf:{type:Object,required:!0}},setup(e){const t=(0,r.KR)(null),n=(0,r.KR)(!1),i=(0,o.EW)((()=>e.intf.items.find((t=>"string"==typeof t?t===e.intf.value:t.value===e.intf.value)))),a=(0,o.EW)((()=>i.value?"string"==typeof i.value?i.value:i.value.text:""));return N(t,(()=>{n.value=!1})),{el:t,open:n,selectedItem:i,selectedText:a,setSelected:t=>{e.intf.value="string"==typeof t?t:t.value}}}}),wt=["title"],xt={class:"__selected"},_t={class:"__text"},kt={class:"__icon"},Ct={class:"__dropdown"},St={class:"item --header"},Et=["onClick"],Pt=m(bt,[["render",function(e,t,n,r,s,l){const c=(0,o.g2)("i-arrow");return(0,o.uX)(),(0,o.CE)("div",{ref:"el",class:(0,i.C4)(["baklava-select",{"--open":e.open}]),title:e.intf.name,onClick:t[0]||(t[0]=t=>e.open=!e.open)},[(0,o.Lk)("div",xt,[(0,o.Lk)("div",_t,(0,i.v_)(e.selectedText),1),(0,o.Lk)("div",kt,[(0,o.bF)(c)])]),(0,o.bF)(a.eB,{name:"slide-fade"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.Lk)("div",Ct,[(0,o.Lk)("div",St,(0,i.v_)(e.intf.name),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.intf.items,((t,n)=>((0,o.uX)(),(0,o.CE)("div",{key:n,class:(0,i.C4)(["item",{"--active":t===e.selectedItem}]),onClick:n=>e.setSelected(t)},(0,i.v_)("string"==typeof t?t:t.text),11,Et)))),128))],512),[[a.aG,e.open]])])),_:1})],10,wt)}]]);class Tt extends s.gZ{constructor(e,t,n){super(e,t),this.component=(0,r.IG)(Pt),this.items=n}}const At=(0,o.pM)({props:{intf:{type:Object,required:!0}},setup(e){const t=(0,r.KR)(null),n=et((0,r.lW)(e,"intf")),i=(0,r.KR)(!1),a=(0,r.KR)(!1),s=(0,o.EW)((()=>Math.min(100,Math.max(0,100*e.intf.value/(e.intf.max-e.intf.min)))));return{...n,el:t,percentage:s,mousedown:()=>{n.editMode.value||(a.value=!0)},mouseup:()=>{n.editMode.value||(i.value||n.enterEditMode(),a.value=!1,i.value=!1)},mousemove:r=>{if(n.editMode.value)return;const o=Math.max(e.intf.min,Math.min(e.intf.max,(e.intf.max-e.intf.min)*(r.offsetX/t.value.clientWidth)+e.intf.min));a.value&&(n.setValue(o),i.value=!0)},mouseleave:r=>{n.editMode.value||(a.value&&(r.offsetX>=t.value.clientWidth?n.setValue(e.intf.max):r.offsetX<=0&&n.setValue(e.intf.min)),a.value=!1,i.value=!1)}}}}),Mt={key:0,class:"__content"},Nt={class:"__label"},Ot={class:"__value"},It={key:1,class:"__content"},Rt=m(At,[["render",function(e,t,n,r,s,l){return(0,o.uX)(),(0,o.CE)("div",{ref:"el",class:(0,i.C4)(["baklava-slider",{"baklava-ignore-mouse":!e.editMode}]),onPointerdown:t[3]||(t[3]=(...t)=>e.mousedown&&e.mousedown(...t)),onPointerup:t[4]||(t[4]=(...t)=>e.mouseup&&e.mouseup(...t)),onPointermove:t[5]||(t[5]=(...t)=>e.mousemove&&e.mousemove(...t)),onPointerleave:t[6]||(t[6]=(...t)=>e.mouseleave&&e.mouseleave(...t))},[(0,o.Lk)("div",{class:"__slider",style:(0,i.Tr)({width:e.percentage+"%"})},null,4),e.editMode?((0,o.uX)(),(0,o.CE)("div",It,[(0,o.bo)((0,o.Lk)("input",{ref:"inputEl","onUpdate:modelValue":t[0]||(t[0]=t=>e.tempValue=t),type:"number",class:(0,i.C4)(["baklava-input",{"--invalid":e.invalid}]),style:{"text-align":"right"},onBlur:t[1]||(t[1]=(...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),onKeydown:t[2]||(t[2]=(0,a.jR)(((...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),["enter"]))},null,34),[[a.Jo,e.tempValue]])])):((0,o.uX)(),(0,o.CE)("div",Mt,[(0,o.Lk)("div",Nt,(0,i.v_)(e.intf.name),1),(0,o.Lk)("div",Ot,(0,i.v_)(e.stringRepresentation),1)]))],34)}]]),Lt=m((0,o.pM)({props:{intf:{type:Object,required:!0}}}),[["render",function(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("div",null,(0,i.v_)(e.intf.value),1)}]]);class jt extends s.gZ{constructor(e,t){super(e,t),this.component=(0,r.IG)(Lt),this.setPort(!1)}}const Dt=(0,o.pM)({props:{intf:{type:Object,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:(e,{emit:t})=>({v:(0,o.EW)({get:()=>e.modelValue,set:e=>{t("update:modelValue",e)}})})}),$t=["placeholder","title"],Bt=m(Dt,[["render",function(e,t,n,r,i,s){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.v=t),type:"text",class:"baklava-input",placeholder:e.intf.name,title:e.intf.name},null,8,$t),[[a.Jo,e.v]])])}]]);class Vt extends s.gZ{constructor(){super(...arguments),this.component=(0,r.IG)(Bt)}}const Ft="__baklava_SubgraphInputNode",zt="__baklava_SubgraphOutputNode",Ut=(0,s.EA)({type:Ft,title:"Subgraph Input",inputs:{name:()=>new Vt("Name","Input").setPort(!1)},outputs:{placeholder:()=>new s.gZ("Connection",void 0)},onCreate(){this.graphInterfaceId=ze()}}),Wt=(0,s.EA)({type:zt,title:"Subgraph Output",inputs:{name:()=>new Vt("Name","Output").setPort(!1),placeholder:()=>new s.gZ("Connection",void 0)},onCreate(){this.graphInterfaceId=ze()}});function Kt(e,t,n){if(!t.template)return!1;if((0,s.A9)(t.template)===n)return!0;const r=e.graphTemplates.find((e=>(0,s.A9)(e)===n));return!!r&&r.nodes.filter((e=>e.type.startsWith(s.cO))).some((n=>Kt(e,t,n.type)))}const Ht=(0,o.pM)({components:{PaletteEntry:je},setup(){const{viewModel:e}=u(),{x:t,y:n}=function(e={}){const{target:t=A}=e,n=(0,r.KR)(!1),o=(0,r.KR)(e.initialValue||{});Object.assign(o.value,F,o.value);const i=t=>{n.value=!0,e.pointerTypes&&!e.pointerTypes.includes(t.pointerType)||(o.value=function(e,t,n=!1){return t.reduce(((t,r)=>(r in e&&(n&&void 0===e[r]||(t[r]=e[r])),t)),{})}(t,z,!1))};return t&&(M(t,"pointerdown",i,{passive:!0}),M(t,"pointermove",i,{passive:!0}),M(t,"pointerleave",(()=>n.value=!1),{passive:!0})),a=((e,t)=>{for(var n in t||(t={}))$.call(t,n)&&V(e,n,t[n]);if(D)for(var n of D(t))B.call(t,n)&&V(e,n,t[n]);return e})({},function(e){if(!(0,r.i9)(e))return(0,r.QW)(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const n in e.value)t[n]=(0,r.rY)((()=>({get:()=>e.value[n],set(t){if(Array.isArray(e.value)){const r=[...e.value];r[n]=t,e.value=r}else{const o=(r=P({},e.value),x(r,_({[n]:t})));Object.setPrototypeOf(o,e.value),e.value=o}var r}})));return t}(o)),L(a,j({isInside:n}));var a}(),{transform:i}=h(),a=(0,o.WQ)("editorEl"),s=(0,r.KR)(null),l=(0,o.EW)((()=>{const t=Array.from(e.value.editor.nodeTypes.entries()),n=new Set(t.map((([,e])=>e.category))),r=[];for(const o of n.values()){let n=t.filter((([,e])=>e.category===o));n=e.value.displayedGraph.template?n.filter((([t])=>!Kt(e.value.editor,e.value.displayedGraph,t))):n.filter((([e])=>![Ft,zt].includes(e))),n.length>0&&r.push({name:o,nodeTypes:Object.fromEntries(n)})}return r.sort(((e,t)=>"default"===e.name?-1:"default"===t.name||e.name>t.name?1:-1)),r})),c=(0,o.EW)((()=>{if(!s.value||!(null==a?void 0:a.value))return{};const{left:e,top:r}=a.value.getBoundingClientRect();return{top:n.value-r+"px",left:t.value-e+"px"}}));return{draggedNode:s,categories:l,draggedNodeStyles:c,onDragStart:(o,l)=>{s.value={type:o,nodeInformation:l};const c=()=>{const o=(0,r.Kh)(new l.type);e.value.displayedGraph.addNode(o);const u=a.value.getBoundingClientRect(),[d,p]=i(t.value-u.left,n.value-u.top);o.position.x=d,o.position.y=p,s.value=null,document.removeEventListener("pointerup",c)};document.addEventListener("pointerup",c)},mouseX:t,mouseY:n}}}),qt={class:"baklava-node-palette"},Gt={key:0},Xt=m(Ht,[["render",function(e,t,n,r,s,l){const c=(0,o.g2)("PaletteEntry");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",qt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.categories,(t=>((0,o.uX)(),(0,o.CE)("section",{key:t.name},["default"!==t.name?((0,o.uX)(),(0,o.CE)("h1",Gt,(0,i.v_)(t.name),1)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.nodeTypes,((t,n)=>((0,o.uX)(),(0,o.Wv)(c,{key:n,type:n,title:t.title,onPointerdown:r=>e.onDragStart(n,t)},null,8,["type","title","onPointerdown"])))),128))])))),128))]),(0,o.bF)(a.eB,{name:"fade"},{default:(0,o.k6)((()=>[e.draggedNode?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"baklava-dragged-node",style:(0,i.Tr)(e.draggedNodeStyles)},[(0,o.bF)(c,{type:e.draggedNode.type,title:e.draggedNode.nodeInformation.title},null,8,["type","title"])],4)):(0,o.Q3)("",!0)])),_:1})],64)}]]),Yt="SAVE_SUBGRAPH",Jt="CREATE_SUBGRAPH",Zt=[Ft,zt],Qt="DELETE_NODES",en="SWITCH_TO_MAIN_GRAPH";class tn{constructor(e,t){this.type=e,"addNode"===e?this.nodeId=t:this.nodeState=t}undo(e){"addNode"===this.type?this.removeNode(e):this.addNode(e)}redo(e){"addNode"===this.type&&this.nodeState?this.addNode(e):"removeNode"===this.type&&this.nodeId&&this.removeNode(e)}addNode(e){const t=e.editor.nodeTypes.get(this.nodeState.type);if(!t)return;const n=new t.type;e.addNode(n),n.load(this.nodeState),this.nodeId=n.id}removeNode(e){const t=e.nodes.find((e=>e.id===this.nodeId));t&&(this.nodeState=t.save(),e.removeNode(t))}}class nn{constructor(e,t){if(this.type=e,"addConnection"===e)this.connectionId=t;else{const e=t;this.connectionState={id:e.id,from:e.from.id,to:e.to.id}}}undo(e){"addConnection"===this.type?this.removeConnection(e):this.addConnection(e)}redo(e){"addConnection"===this.type&&this.connectionState?this.addConnection(e):"removeConnection"===this.type&&this.connectionId&&this.removeConnection(e)}addConnection(e){const t=e.findNodeInterface(this.connectionState.from),n=e.findNodeInterface(this.connectionState.to);t&&n&&e.addConnection(t,n)}removeConnection(e){const t=e.connections.find((e=>e.id===this.connectionId));t&&(this.connectionState={id:t.id,from:t.from.id,to:t.to.id},e.removeConnection(t))}}class rn{constructor(e){if(this.type="transaction",0===e.length)throw new Error("Can't create a transaction with no steps");this.steps=e}undo(e){for(let t=this.steps.length-1;t>=0;t--)this.steps[t].undo(e)}redo(e){for(let t=0;t<this.steps.length;t++)this.steps[t].redo(e)}}const on="UNDO",an="REDO",sn="START_TRANSACTION",ln="COMMIT_TRANSACTION",cn="COPY",un="PASTE",dn="CLEAR_CLIPBOARD",pn="OPEN_SIDEBAR";Symbol.toStringTag;const hn={},fn={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},mn=[(0,o.Lk)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,o.Lk)("path",{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"},null,-1)],gn=m(hn,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",fn,mn)}]]),vn={},yn={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},bn=[(0,o.Lk)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,o.Lk)("path",{d:"M15 13l4 -4l-4 -4m4 4h-11a4 4 0 0 0 0 8h1"},null,-1)],wn=m(vn,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",yn,bn)}]]),xn={},_n={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},kn=[(0,o.Lk)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,o.Lk)("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),(0,o.Lk)("line",{x1:"5",y1:"12",x2:"11",y2:"18"},null,-1),(0,o.Lk)("line",{x1:"5",y1:"12",x2:"11",y2:"6"},null,-1)],Cn=m(xn,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",_n,kn)}]]),Sn={},En={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Pn=[(0,o.Lk)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,o.Lk)("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},null,-1),(0,o.Lk)("rect",{x:"9",y:"3",width:"6",height:"4",rx:"2"},null,-1)],Tn=m(Sn,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",En,Pn)}]]),An={},Mn={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Nn=[(0,o.Lk)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,o.Lk)("rect",{x:"8",y:"8",width:"12",height:"12",rx:"2"},null,-1),(0,o.Lk)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"},null,-1)],On=m(An,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",Mn,Nn)}]]),In={},Rn={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Ln=[(0,o.Lk)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,o.Lk)("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"},null,-1),(0,o.Lk)("circle",{cx:"12",cy:"14",r:"2"},null,-1),(0,o.Lk)("polyline",{points:"14 4 14 8 8 8 8 4"},null,-1)],jn=m(In,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",Rn,Ln)}]]),Dn={},$n={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Bn=[(0,o.Fv)('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 3h4v4h-4z"></path><path d="M3 17h4v4h-4z"></path><path d="M17 17h4v4h-4z"></path><path d="M7 17l5 -4l5 4"></path><line x1="12" y1="7" x2="12" y2="13"></line>',6)],Vn=m(Dn,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",$n,Bn)}]]),Fn=(0,o.pM)({props:{command:{type:String,required:!0},title:{type:String,required:!0},icon:{type:Object,required:!1,default:void 0}},setup(){const{viewModel:e}=u();return{viewModel:e}}}),zn=["disabled","title"],Un=m(Fn,[["render",function(e,t,n,r,a,s){return(0,o.uX)(),(0,o.CE)("button",{class:"baklava-toolbar-entry baklava-toolbar-button",disabled:!e.viewModel.commandHandler.canExecuteCommand(e.command),title:e.title,onClick:t[0]||(t[0]=t=>e.viewModel.commandHandler.executeCommand(e.command))},[e.icon?((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon),{key:0})):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)((0,i.v_)(e.title),1)],64))],8,zn)}]]),Wn=(0,o.pM)({components:{ToolbarButton:Un},setup(){const{viewModel:e}=u();return{isSubgraph:(0,o.EW)((()=>e.value.displayedGraph!==e.value.editor.graph)),commands:[{command:cn,title:"Copy",icon:On},{command:un,title:"Paste",icon:Tn},{command:on,title:"Undo",icon:gn},{command:an,title:"Redo",icon:wn},{command:Jt,title:"Create Subgraph",icon:Vn}],subgraphCommands:[{command:Yt,title:"Save Subgraph",icon:jn},{command:en,title:"Back to Main Graph",icon:Cn}]}}}),Kn={class:"baklava-toolbar"},Hn=m(Wn,[["render",function(e,t,n,r,i,a){const s=(0,o.g2)("toolbar-button");return(0,o.uX)(),(0,o.CE)("div",Kn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.commands,(e=>((0,o.uX)(),(0,o.Wv)(s,{key:e.command,command:e.command,title:e.title,icon:e.icon},null,8,["command","title","icon"])))),128)),e.isSubgraph?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.subgraphCommands,(e=>((0,o.uX)(),(0,o.Wv)(s,{key:e.command,command:e.command,title:e.title,icon:e.icon},null,8,["command","title","icon"])))),128)):(0,o.Q3)("",!0)])}]]),qn=(0,o.pM)({components:{Background:g,Node:ye,ConnectionWrapper:ke,TemporaryConnection:Se,Sidebar:Ae,Minimap:Me,NodePalette:Xt,Toolbar:Hn},props:{viewModel:{type:Object,required:!0}},setup(e){const t=Symbol("EditorToken"),n=(0,r.lW)(e,"viewModel");c=n;const i=(0,r.KR)(null);(0,o.Gt)("editorEl",i);const a=(0,o.EW)((()=>e.viewModel.displayedGraph.nodes)),s=(0,o.EW)((()=>e.viewModel.displayedGraph.connections)),l=(0,o.EW)((()=>e.viewModel.displayedGraph.selectedNodes)),u=function(){const{graph:e}=d();let t=[],n=-1,r={x:0,y:0};const i=p((0,o.EW)((()=>e.value.panning))),a=(0,o.EW)((()=>({"transform-origin":"0 0",transform:`scale(${e.value.scaling}) translate(${e.value.panning.x}px, ${e.value.panning.y}px)`}))),s=(t,n,r)=>{const o=[t/e.value.scaling-e.value.panning.x,n/e.value.scaling-e.value.panning.y],i=[t/r-e.value.panning.x,n/r-e.value.panning.y],a=[i[0]-o[0],i[1]-o[1]];e.value.panning.x+=a[0],e.value.panning.y+=a[1],e.value.scaling=r},l=()=>({ax:t[0].clientX,ay:t[0].clientY,bx:t[1].clientX,by:t[1].clientY});return{styles:a,...i,onPointerDown:e=>{if(t.push(e),i.onPointerDown(e),2===t.length){const{ax:e,ay:t,bx:n,by:o}=l();r={x:e+(n-e)/2,y:t+(o-t)/2}}},onPointerMove:o=>{for(let e=0;e<t.length;e++)if(o.pointerId==t[e].pointerId){t[e]=o;break}if(2==t.length){const{ax:t,ay:o,bx:i,by:a}=l(),c=t-i,u=o-a,d=Math.sqrt(c*c+u*u);if(n>0){const t=e.value.scaling*(1+(d-n)/500);s(r.x,r.y,t)}n=d}else i.onPointerMove(o)},onPointerUp:e=>{t=t.filter((t=>t.pointerId!==e.pointerId)),n=-1,i.onPointerUp()},onMouseWheel:t=>{t.preventDefault();let n=t.deltaY;1===t.deltaMode&&(n*=32);const r=e.value.scaling*(1-n/3e3);s(t.offsetX,t.offsetY,r)}}}(),h=function(){const{graph:e}=d(),t=(0,r.KR)(null),n=(0,r.KR)(null);return(0,o.Gt)("hoveredOver",(r=>{if(n.value=r??null,r&&t.value){t.value.to=r;const n=e.value.checkConnection(t.value.from,t.value.to);if(t.value.status=n.connectionAllowed?f.ALLOWED:f.FORBIDDEN,n.connectionAllowed){const t=n.connectionsInDanger.map((e=>e.id));e.value.connections.forEach((e=>{t.includes(e.id)&&(e.isInDanger=!0)}))}}else!r&&t.value&&(t.value.to=void 0,t.value.status=f.NONE,e.value.connections.forEach((e=>{e.isInDanger=!1})))})),{temporaryConnection:t,onMouseMove:n=>{t.value&&(t.value.mx=n.offsetX/e.value.scaling-e.value.panning.x,t.value.my=n.offsetY/e.value.scaling-e.value.panning.y)},onMouseDown:()=>{if(n.value){const r=e.value.connections.find((e=>e.to===n.value));n.value.isInput&&r?(t.value={status:f.NONE,from:r.from},e.value.removeConnection(r)):t.value={status:f.NONE,from:n.value},t.value.mx=void 0,t.value.my=void 0}},onMouseUp:()=>{t.value&&n.value&&e.value.addConnection(t.value.from,t.value.to),t.value=null}}}(),m=(0,o.EW)((()=>({...u.styles.value}))),g=(0,r.KR)(0);e.viewModel.editor.hooks.load.subscribe(t,(e=>(g.value++,e)));const v=()=>{e.viewModel.displayedGraph.selectedNodes=[]};return{el:i,counter:g,nodes:a,connections:s,selectedNodes:l,nodeContainerStyle:m,onPointerMove:e=>{u.onPointerMove(e),h.onMouseMove(e)},onPointerDown:e=>{0===e.button&&(e.target===i.value&&(v(),u.onPointerDown(e)),h.onMouseDown())},onPointerUp:e=>{u.onPointerUp(e),h.onMouseUp()},keyDown:t=>{"Tab"===t.key&&t.preventDefault(),e.viewModel.commandHandler.handleKeyDown(t)},keyUp:t=>{e.viewModel.commandHandler.handleKeyUp(t)},selectNode:t=>{e.viewModel.commandHandler.pressedKeys.includes("Control")||v(),e.viewModel.displayedGraph.selectedNodes.push(t)},temporaryConnection:h.temporaryConnection,mouseWheel:u.onMouseWheel,dragging:u.dragging}}}),Gn={class:"connections-container"},Xn=m(qn,[["render",function(e,t,n,r,s,l){const c=(0,o.g2)("background"),u=(0,o.g2)("toolbar"),d=(0,o.g2)("node-palette"),p=(0,o.g2)("connection-wrapper"),h=(0,o.g2)("temporary-connection"),f=(0,o.g2)("node"),m=(0,o.g2)("sidebar"),g=(0,o.g2)("minimap");return(0,o.uX)(),(0,o.CE)("div",{ref:"el",tabindex:"-1",class:(0,i.C4)(["baklava-editor",{"baklava-ignore-mouse":!!e.temporaryConnection||e.dragging,"--temporary-connection":!!e.temporaryConnection}]),onPointermove:t[0]||(t[0]=(0,a.D$)(((...t)=>e.onPointerMove&&e.onPointerMove(...t)),["self"])),onPointerdown:t[1]||(t[1]=(...t)=>e.onPointerDown&&e.onPointerDown(...t)),onPointerup:t[2]||(t[2]=(...t)=>e.onPointerUp&&e.onPointerUp(...t)),onWheel:t[3]||(t[3]=(0,a.D$)(((...t)=>e.mouseWheel&&e.mouseWheel(...t)),["self"])),onKeydown:t[4]||(t[4]=(...t)=>e.keyDown&&e.keyDown(...t)),onKeyup:t[5]||(t[5]=(...t)=>e.keyUp&&e.keyUp(...t))},[(0,o.RG)(e.$slots,"background",{},(()=>[(0,o.bF)(c)])),(0,o.RG)(e.$slots,"toolbar",{},(()=>[(0,o.bF)(u)])),(0,o.RG)(e.$slots,"palette",{},(()=>[(0,o.bF)(d)])),((0,o.uX)(),(0,o.CE)("svg",Gn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.connections,(t=>((0,o.uX)(),(0,o.CE)("g",{key:t.id+e.counter.toString()},[(0,o.RG)(e.$slots,"connection",{connection:t},(()=>[(0,o.bF)(p,{connection:t},null,8,["connection"])]))])))),128)),(0,o.RG)(e.$slots,"temporaryConnection",{temporaryConnection:e.temporaryConnection},(()=>[e.temporaryConnection?((0,o.uX)(),(0,o.Wv)(h,{key:0,connection:e.temporaryConnection},null,8,["connection"])):(0,o.Q3)("",!0)]))])),(0,o.Lk)("div",{class:"node-container",style:(0,i.Tr)(e.nodeContainerStyle)},[(0,o.bF)(a.F,{name:"fade"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.nodes,(t=>(0,o.RG)(e.$slots,"node",{node:t,selected:e.selectedNodes.includes(t),onSelect:n=>e.selectNode(t)},(()=>[((0,o.uX)(),(0,o.Wv)(f,{key:t.id+e.counter.toString(),node:t,selected:e.selectedNodes.includes(t),onSelect:n=>e.selectNode(t)},null,8,["node","selected","onSelect"]))])))),256))])),_:3})],4),(0,o.RG)(e.$slots,"sidebar",{},(()=>[(0,o.bF)(m)])),(0,o.RG)(e.$slots,"minimap",{},(()=>[e.viewModel.settings.enableMinimap?((0,o.uX)(),(0,o.Wv)(g,{key:0})):(0,o.Q3)("",!0)]))],34)}]]),Yn=()=>{const e=(0,r.KR)(new Map),t=(t,n=!1,...r)=>{if(e.value.has(t))return e.value.get(t).execute(...r);if(n)throw new Error(`[CommandHandler] Command ${t} not registered`)},n=function(e){const t=(0,r.KR)([]),n=(0,r.KR)([]);return{pressedKeys:t,handleKeyDown:r=>{t.value.includes(r.key)||t.value.push(r.key),n.value.forEach((n=>{n.keys.every((e=>t.value.includes(e)))&&e(n.commandName)}))},handleKeyUp:e=>{const n=t.value.indexOf(e.key);n>=0&&t.value.splice(n,1)},registerHotkey:(e,t)=>{n.value.push({keys:e,commandName:t})}}}(t);return(0,r.Kh)({registerCommand:(t,n)=>{if(e.value.has(t))throw new Error(`Command "${t}" already exists`);e.value.set(t,n)},executeCommand:t,canExecuteCommand:(t,n=!1,...r)=>{if(!e.value.has(t)){if(n)throw new Error(`[CommandHandler] Command ${t} not registered`);return!1}return e.value.get(t).canExecute(r)},...n})},Jn=e=>!(e instanceof s.TS);function Zn(e){const t=(0,r.KR)(e??new s.KE),n=Symbol("ViewModelToken"),i=(0,r.KR)(null),a=(0,r.nD)(i),{switchGraph:c}=function(e,t){return{switchGraph:n=>{let r;if(Jn(n))r=new s.TS(e.value),n.createGraph(r),r.inputs.forEach((e=>{const t=new Ut;t.inputs.name.value=e.name,t.graphInterfaceId=e.id,r.addNode(t);const n=r.findNodeInterface(e.nodeInterfaceId);n?r.addConnection(t.outputs.placeholder,n):console.warn(`Could not find target interface ${e.nodeInterfaceId} for subgraph input node`)})),r.outputs.forEach((e=>{const t=new Wt;t.inputs.name.value=e.name,t.graphInterfaceId=e.id,r.addNode(t);const n=r.findNodeInterface(e.nodeInterfaceId);n?r.addConnection(n,t.inputs.placeholder):console.warn(`Could not find target interface ${e.nodeInterfaceId} for subgraph input node`)}));else{if(n!==e.value.graph)throw new Error("Can only switch using 'Graph' instance when it is the root graph. Otherwise a 'GraphTemplate' must be used.");r=n}t.value&&t.value!==e.value.graph&&t.value.destroy(),r.panning=r.panning??n.panning??{x:0,y:0},r.scaling=r.scaling??n.scaling??1,r.selectedNodes=r.selectedNodes??[],r.sidebar=r.sidebar??{visible:!1,nodeId:"",optionName:""},t.value=r}}}(t,i),u=(0,o.EW)((()=>a.value&&a.value!==t.value.graph)),d=(0,r.Kh)({useStraightConnections:!1,enableMinimap:!1,background:{gridSize:100,gridDivision:5,subGridVisibleThreshold:.6}}),p=Yn(),h=function(e,t){const n=Symbol("HistoryToken"),i=(0,r.KR)(200),a=(0,r.KR)([]),s=(0,r.KR)(!1),l=(0,r.KR)(-1),c=(0,r.KR)(!1),u=(0,r.KR)([]),d=e=>{if(!s.value)if(c.value)u.value.push(e);else for(l.value!==a.value.length-1&&(a.value=a.value.slice(0,l.value+1)),a.value.push(e),l.value++;a.value.length>i.value;)a.value.shift()},p=()=>0!==a.value.length&&-1!==l.value,h=()=>0!==a.value.length&&l.value<a.value.length-1;return(0,o.wB)(e,((e,t)=>{t&&(t.events.addNode.unsubscribe(n),t.events.removeNode.unsubscribe(n),t.events.addConnection.unsubscribe(n),t.events.removeConnection.unsubscribe(n)),e&&(e.events.addNode.subscribe(n,(e=>{d(new tn("addNode",e.id))})),e.events.removeNode.subscribe(n,(e=>{d(new tn("removeNode",e.save()))})),e.events.addConnection.subscribe(n,(e=>{d(new nn("addConnection",e.id))})),e.events.removeConnection.subscribe(n,(e=>{d(new nn("removeConnection",e))})))}),{immediate:!0}),t.registerCommand(on,{canExecute:p,execute:()=>{p()&&(s.value=!0,a.value[l.value--].undo(e.value),s.value=!1)}}),t.registerCommand(an,{canExecute:h,execute:()=>{h()&&(s.value=!0,a.value[++l.value].redo(e.value),s.value=!1)}}),t.registerCommand(sn,{canExecute:()=>!c.value,execute:()=>{c.value=!0}}),t.registerCommand(ln,{canExecute:()=>c.value,execute:()=>{c.value=!1,u.value.length>0&&(d(new rn(u.value)),u.value=[])}}),t.registerHotkey(["Control","z"],on),t.registerHotkey(["Control","y"],an),(0,r.Kh)({maxSteps:i})}(a,p),f=function(e,t,n){const i=Symbol("ClipboardToken"),a=(0,r.KR)(""),s=(0,r.KR)(""),l=(0,o.EW)((()=>!a.value)),c=(e,t,n)=>{for(const r of e){let e;if(n&&"input"!==n||(e=Object.values(r.inputs).find((e=>e.id===t))),e||n&&"output"!==n||(e=Object.values(r.outputs).find((e=>e.id===t))),e)return e}};return n.registerCommand(cn,{canExecute:()=>!0,execute:()=>{const t=e.value.selectedNodes.flatMap((e=>[...Object.values(e.inputs),...Object.values(e.outputs)])),n=e.value.connections.filter((e=>t.includes(e.from)||t.includes(e.to))).map((e=>({from:e.from.id,to:e.to.id})));s.value=JSON.stringify(n),a.value=JSON.stringify(e.value.selectedNodes.map((e=>e.save())))}}),n.registerHotkey(["Control","c"],cn),n.registerCommand(un,{canExecute:()=>!l.value,execute:()=>{if(l.value)return;const r=new Map,o=JSON.parse(a.value),u=JSON.parse(s.value),d=[],p=[],h=e.value;n.executeCommand(sn);for(const e of o){const n=t.value.nodeTypes.get(e.type);if(!n)return void console.warn(`Node type ${e.type} not registered`);const o=new n.type,a=o.id;d.push(o);const s=e=>{Object.values(e).forEach((e=>{e.hooks.load.subscribe(i,(t=>{const n=ze();return r.set(t.id,n),e.id=n,e.hooks.load.unsubscribe(i),t}))}))};s(o.inputs),s(o.outputs),o.hooks.beforeLoad.subscribe(i,(e=>{const t=e;return t.position&&(t.position.x+=10,t.position.y+=10),o.hooks.beforeLoad.unsubscribe(i),t})),h.addNode(o),o.load(e),o.id=a,r.set(e.id,a)}for(const e of u){const t=c(d,r.get(e.from),"output"),n=c(d,r.get(e.to),"input");if(!t||!n)continue;const o=h.addConnection(t,n);o&&p.push(o)}return n.executeCommand(ln),{newNodes:d,newConnections:p}}}),n.registerHotkey(["Control","v"],un),n.registerCommand(dn,{canExecute:()=>!0,execute:()=>{a.value="",s.value=""}}),(0,r.Kh)({isEmpty:l})}(a,t,p),m={renderNode:new l.vz(null),renderInterface:new l.vz(null)};return function(e,t,n){!function(e,t){t.registerCommand(Qt,{canExecute:()=>e.value.selectedNodes.length>0,execute(){e.value.selectedNodes.forEach((t=>e.value.removeNode(t)))}}),t.registerHotkey(["Delete"],Qt)}(e,t),function(e,t,n){t.registerCommand(Jt,{canExecute:()=>e.value.selectedNodes.filter((e=>!Zt.includes(e.type))).length>0,execute:()=>{const o=e.value,i=e.value.editor;if(0===o.selectedNodes.length)return;const a=o.selectedNodes.filter((e=>!Zt.includes(e.type))),l=a.flatMap((e=>Object.values(e.inputs))),c=a.flatMap((e=>Object.values(e.outputs))),u=o.connections.filter((e=>!c.includes(e.from)&&l.includes(e.to))),d=o.connections.filter((e=>c.includes(e.from)&&!l.includes(e.to))),p=o.connections.filter((e=>c.includes(e.from)&&l.includes(e.to))),h=u.map((e=>e.to)),f=d.map((e=>e.from)),m=new Map,g=[];for(const e of h){const t=ze();m.set(e.id,t),g.push({id:t,nodeInterfaceId:e.id,name:e.name})}const v=[];for(const e of f){const t=ze();m.set(e.id,t),v.push({id:t,nodeInterfaceId:e.id,name:e.name})}const y=(0,r.Kh)(new s.b1({connections:p.map((e=>({id:e.id,from:e.from.id,to:e.to.id}))),inputs:g,outputs:v,nodes:a.map((e=>e.save()))},i));i.addGraphTemplate(y);const b=i.nodeTypes.get((0,s.A9)(y));if(!b)throw new Error("Unable to create subgraph: Could not find corresponding graph node type");const w=(0,r.Kh)(new b.type);o.addNode(w);const x=Math.round(a.map((e=>e.position.x)).reduce(((e,t)=>e+t),0)/a.length),_=Math.round(a.map((e=>e.position.y)).reduce(((e,t)=>e+t),0)/a.length);w.position.x=x,w.position.y=_,u.forEach((e=>{o.removeConnection(e),o.addConnection(e.from,w.inputs[m.get(e.to.id)])})),d.forEach((e=>{o.removeConnection(e),o.addConnection(w.outputs[m.get(e.from.id)],e.to)})),a.forEach((e=>o.removeNode(e))),t.canExecuteCommand(Yt)&&t.executeCommand(Yt),n(y),e.value.panning={...o.panning},e.value.scaling=o.scaling}})}(e,t,n),function(e,t){t.registerCommand(Yt,{canExecute:()=>{var t;return e.value!==(null==(t=e.value.editor)?void 0:t.graph)},execute:()=>{const t=e.value;if(!t.template)throw new Error("Graph template property not set");const n=[],r=[],o=t.nodes.filter((e=>e.type===Ft));for(const e of o){const o=t.connections.filter((t=>t.from===e.outputs.placeholder));o.forEach((t=>{r.push({id:e.graphInterfaceId,name:e.inputs.name.value,nodeInterfaceId:t.to.id})})),n.push(...o)}const i=[],a=t.nodes.filter((e=>e.type===zt));for(const e of a){const r=t.connections.filter((t=>t.to===e.inputs.placeholder));r.forEach((t=>{i.push({id:e.graphInterfaceId,name:e.inputs.name.value,nodeInterfaceId:t.from.id})})),n.push(...r)}const s=t.connections.filter((e=>!n.includes(e))),l=t.nodes.filter((e=>e.type!==Ft&&e.type!==zt));t.template.update({inputs:r,outputs:i,connections:s.map((e=>({id:e.id,from:e.from.id,to:e.to.id}))),nodes:l.map((e=>e.save()))}),t.template.panning=t.panning,t.template.scaling=t.scaling}})}(e,t),function(e,t,n){t.registerCommand(en,{canExecute:()=>e.value!==e.value.editor.graph,execute:()=>{t.executeCommand(Yt),n(e.value.editor.graph)}})}(e,t,n)}(a,p,c),function(e,t){!function(e,t){t.registerCommand(pn,{execute:t=>{e.value.sidebar.nodeId=t,e.value.sidebar.visible=!0},canExecute:()=>!0})}(e,t)}(a,p),(0,o.wB)(t,((e,r)=>{r&&(r.events.registerGraph.unsubscribe(n),r.graphEvents.beforeAddNode.unsubscribe(n),e.nodeHooks.beforeLoad.unsubscribe(n),e.nodeHooks.afterSave.unsubscribe(n),e.graphTemplateHooks.beforeLoad.unsubscribe(n),e.graphTemplateHooks.afterSave.unsubscribe(n)),e&&(e.nodeHooks.beforeLoad.subscribe(n,((e,t)=>(t.position=e.position??{x:0,y:0},t.width=e.width??200,t.twoColumn=e.twoColumn??!1,e))),e.nodeHooks.afterSave.subscribe(n,((e,t)=>(e.position=t.position,e.width=t.width,e.twoColumn=t.twoColumn,e))),e.graphTemplateHooks.beforeLoad.subscribe(n,((e,t)=>(t.panning=e.panning,t.scaling=e.scaling,e))),e.graphTemplateHooks.afterSave.subscribe(n,((e,t)=>(e.panning=t.panning,e.scaling=t.scaling,e))),e.graphEvents.beforeAddNode.subscribe(n,(e=>function(e){e.position=e.position??{x:0,y:0},e.disablePointerEvents=!1,e.twoColumn=e.twoColumn??!1,e.width=e.width??200}(e))),t.value.registerNodeType(Ut,{category:"Subgraphs"}),t.value.registerNodeType(Wt,{category:"Subgraphs"}),c(e.graph))}),{immediate:!0}),(0,r.Kh)({editor:t,displayedGraph:a,isSubgraph:u,settings:d,commandHandler:p,history:h,clipboard:f,hooks:m,switchGraph:c})}const Qn=Object.freeze(Object.defineProperty({__proto__:null,Connection:xe,ConnectionWrapper:ke,TemporaryConnection:Se,Node:ye,NodeInterface:ce,ContextMenu:te,Minimap:Me,Sidebar:Ae},Symbol.toStringTag,{value:"Module"}))},63560:(e,t,n)=>{var r=n(73170);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},63605:e=>{e.exports=function(e){return this.__data__.get(e)}},63702:e=>{e.exports=function(){this.__data__=[],this.size=0}},63837:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},63862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},63950:e=>{e.exports=function(){}},64673:(e,t,n)=>{var r=n(6421);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("392fe9d4",r,!0,{sourceMap:!1,shadowMode:!1})},64750:(e,t,n)=>{var r=n(52842);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("5b677324",r,!0,{sourceMap:!1,shadowMode:!1})},64819:(e,t,n)=>{var r=n(98871);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("71fe5232",r,!0,{sourceMap:!1,shadowMode:!1})},64894:(e,t,n)=>{var r=n(1882),o=n(30294);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},64914:e=>{"use strict";e.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},65111:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1),o=function(e){e&&e("layout","dagre",r)};"undefined"!=typeof cytoscape&&o(cytoscape),e.exports=o},function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=function(e){return"function"==typeof e},i=n(2),a=n(3),s=n(4);function l(e){this.options=a({},i,e)}l.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,i=function(e,t){return o(t)?t.apply(e,[e]):t},a=e.boundingBox||{x1:0,y1:0,w:t.width(),h:t.height()};void 0===a.x2&&(a.x2=a.x1+a.w),void 0===a.w&&(a.w=a.x2-a.x1),void 0===a.y2&&(a.y2=a.y1+a.h),void 0===a.h&&(a.h=a.y2-a.y1);var l=new s.graphlib.Graph({multigraph:!0,compound:!0}),c={},u=function(e,t){null!=t&&(c[e]=t)};u("nodesep",e.nodeSep),u("edgesep",e.edgeSep),u("ranksep",e.rankSep),u("rankdir",e.rankDir),u("align",e.align),u("ranker",e.ranker),u("acyclicer",e.acyclicer),l.setGraph(c),l.setDefaultEdgeLabel((function(){return{}})),l.setDefaultNodeLabel((function(){return{}}));var d=n.nodes();o(e.sort)&&(d=d.sort(e.sort));for(var p=0;p<d.length;p++){var h=d[p],f=h.layoutDimensions(e);l.setNode(h.id(),{width:f.w,height:f.h,name:h.id()})}for(var m=0;m<d.length;m++){var g=d[m];g.isChild()&&l.setParent(g.id(),g.parent().id())}var v=n.edges().stdFilter((function(e){return!e.source().isParent()&&!e.target().isParent()}));o(e.sort)&&(v=v.sort(e.sort));for(var y=0;y<v.length;y++){var b=v[y];l.setEdge(b.source().id(),b.target().id(),{minlen:i(b,e.minLen),weight:i(b,e.edgeWeight),name:b.id()},b.id())}s.layout(l);for(var w,x=l.nodes(),_=0;_<x.length;_++){var k=x[_],C=l.node(k);t.getElementById(k).scratch().dagre=C}return e.boundingBox?(w={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},d.forEach((function(e){var t=e.scratch().dagre;w.x1=Math.min(w.x1,t.x),w.x2=Math.max(w.x2,t.x),w.y1=Math.min(w.y1,t.y),w.y2=Math.max(w.y2,t.y)})),w.w=w.x2-w.x1,w.h=w.y2-w.y1):w=a,d.layoutPositions(this,e,(function(t){var n=(t="object"===r(t)?t:this).scratch().dagre;return function(t){if(e.boundingBox){var n=0===w.w?0:(t.x-w.x1)/w.w,r=0===w.h?0:(t.y-w.y1)/w.h;return{x:a.x1+n*a.w,y:a.y1+r*a.h}}return t}({x:n.x,y:n.y})})),this},e.exports=l},function(e,t){e.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(e,t){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(e,t){return t},ready:function(){},sort:void 0,stop:function(){}}},function(e,t){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(t,n){t.exports=e}])},e.exports=r(n(76246))},65354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20494),o={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=o},65520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(72476),o=n(33252),i=n(12721),a=n(23799),s=[r.default,o.default,i.default,a.default];t.default=s},65731:(e,t,n)=>{e.exports=n(34297)},66157:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".white[data-v-ef71f1c4]{fill:#fff}.green[data-v-ef71f1c4]{fill:#00e58d}.black[data-v-ef71f1c4]{fill:#0f0f0f}.left[data-v-ef71f1c4]{rotate:270deg}.right[data-v-ef71f1c4]{rotate:180deg}.up[data-v-ef71f1c4]{rotate:90deg}.small[data-v-ef71f1c4]{scale:.33}.medium[data-v-ef71f1c4]{scale:.5}.big[data-v-ef71f1c4]{scale:.6}.hovered[data-v-ef71f1c4]{fill:#00e58d}.noninteractable[data-v-ef71f1c4]{pointer-events:none}",""]);const s=a},66182:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,':root{--baklava-control-color-primary:#5379b5;--baklava-control-color-error:red;--baklava-control-color-background:#2c2c2c;--baklava-control-color-foreground:#fff;--baklava-control-color-hover:#4c4c4c;--baklava-control-color-active:#6c6c6c;--baklava-control-color-disabled-foreground:gray;--baklava-control-border-radius:3px;--baklava-sidebar-color-background:#3f3f3f;--baklava-sidebar-color-foreground:#fff;--baklava-node-color-background:#3f3f3fcc;--baklava-node-color-foreground:#fff;--baklava-node-color-selected:var(--baklava-control-color-primary);--baklava-node-title-color-background:#000;--baklava-node-title-color-foreground:#fff;--baklava-group-node-title-color-background:#054b05;--baklava-group-node-title-color-foreground:#fff;--baklava-node-border-radius:4px;--baklava-color-connection-default:#fff;--baklava-color-connection-allowed:green;--baklava-color-connection-forbidden:red;--baklava-editor-background-pattern-default:#232323;--baklava-editor-background-pattern-line:#131313;--baklava-editor-background-pattern-black:#00000022;--baklava-context-menu-background:#000000cc;--baklava-context-menu-shadow:0 0 8px rgba(0,0,0,.65);--baklava-toolbar-background:#0003;--baklava-toolbar-foreground:#fff;--baklava-node-palette-background:#0003;--baklava-node-palette-foreground:#fff;--baklava-visual-transition:0.1s linear}.baklava-button{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);transition:background-color var(--baklava-visual-transition);border:none;padding:.45em .35em;border-radius:var(--baklava-control-border-radius);font-size:inherit;cursor:pointer;overflow-x:hidden}.baklava-button:hover{background-color:var(--baklava-control-color-hover)}.baklava-button:active{background-color:var(--baklava-control-color-primary)}.baklava-button.--block{width:100%}.baklava-checkbox{display:flex;padding:.35em 0;cursor:pointer;overflow-x:hidden;align-items:center}.baklava-checkbox .__checkmark-container{display:flex;background-color:var(--baklava-control-color-background);border-radius:var(--baklava-control-border-radius);transition:background-color var(--baklava-visual-transition);width:18px;height:18px}.baklava-checkbox:hover .__checkmark-container{background-color:var(--baklava-control-color-hover)}.baklava-checkbox:active .__checkmark-container{background-color:var(--baklava-control-color-active)}.baklava-checkbox .__checkmark{stroke-dasharray:15;stroke-dashoffset:15;stroke:var(--baklava-control-color-foreground);stroke-width:2px;fill:none;transition:stroke-dashoffset var(--baklava-visual-transition)}.baklava-checkbox.--checked .__checkmark{stroke-dashoffset:0}.baklava-checkbox.--checked .__checkmark-container{background-color:var(--baklava-control-color-primary)}.baklava-checkbox .__label{margin-left:.5rem}.baklava-context-menu{color:var(--baklava-control-color-foreground);position:absolute;display:inline-block;z-index:100;background-color:var(--baklava-context-menu-background);box-shadow:var(--baklava-context-menu-shadow);border-radius:0 0 var(--baklava-control-border-radius) var(--baklava-control-border-radius);min-width:6rem;width:-moz-max-content;width:max-content}.baklava-context-menu>.item{display:flex;align-items:center;padding:.35em 1em;transition:background .05s linear;position:relative}.baklava-context-menu>.item>.__label{flex:1 1 auto}.baklava-context-menu>.item>.__submenu-icon{margin-left:.75rem}.baklava-context-menu>.item.--disabled{color:var(--baklava-control-color-hover)}.baklava-context-menu>.item.--active,.baklava-context-menu>.item:not(.--header):not(.--active):not(.--disabled):hover{background:var(--baklava-control-color-primary)}.baklava-context-menu.--nested{left:100%;top:0}.baklava-context-menu.--flipped-x.--nested{left:unset;right:100%}.baklava-context-menu.--flipped-y.--nested{top:unset;bottom:0}.baklava-context-menu>.divider{margin:.35em 0;height:1px;background-color:var(--baklava-control-color-hover)}.baklava-icon{display:block;height:100%}.baklava-icon.--clickable{cursor:pointer;transition:color var(--baklava-visual-transition)}.baklava-icon.--clickable:hover{color:var(--baklava-control-color-primary)}.baklava-input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);border:none;border-radius:var(--baklava-control-border-radius);padding:.45em .75em;width:100%;transition:background-color var(--baklava-visual-transition);font-size:inherit;font:inherit}.baklava-input:hover{background-color:var(--baklava-control-color-hover)}.baklava-input:active{background-color:var(--baklava-control-color-active)}.baklava-input:focus-visible{outline:1px solid var(--baklava-control-color-primary)}.baklava-input[type=number]::-webkit-inner-spin-button,.baklava-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.baklava-input.--invalid{box-shadow:0 0 2px 2px var(--baklava-control-color-error)}.baklava-num-input{background:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);border-radius:var(--baklava-control-border-radius);width:100%;display:grid;grid-template-columns:20px 1fr 20px}.baklava-num-input>.__button{display:flex;flex:0 0 auto;width:20px;justify-content:center;align-items:center;transition:background var(--baklava-visual-transition);cursor:pointer}.baklava-num-input>.__button:hover{background-color:var(--baklava-control-color-hover)}.baklava-num-input>.__button:active{background-color:var(--baklava-control-color-active)}.baklava-num-input>.__button.--dec{grid-area:1/1/span 1/span 1}.baklava-num-input>.__button.--dec>svg{transform:rotate(90deg)}.baklava-num-input>.__button.--inc{grid-area:1/3/span 1/span 1}.baklava-num-input>.__button.--inc>svg{transform:rotate(-90deg)}.baklava-num-input>.__button path{stroke:var(--baklava-control-color-foreground);fill:var(--baklava-control-color-foreground)}.baklava-num-input>.__content{grid-area:1/2/span 1/span 1;display:inline-flex;cursor:pointer;max-width:100%;min-width:0;align-items:center;transition:background-color var(--baklava-visual-transition)}.baklava-num-input>.__content:hover{background-color:var(--baklava-control-color-hover)}.baklava-num-input>.__content:active{background-color:var(--baklava-control-color-active)}.baklava-num-input>.__content>.__label,.baklava-num-input>.__content>.__value{margin:.35em 0;padding:0 .5em}.baklava-num-input>.__content>.__label{flex:1;min-width:0;overflow:hidden}.baklava-num-input>.__content>.__value{text-align:right}.baklava-num-input>.__content>input{background-color:var(--baklava-control-color-background);caret-color:var(--baklava-control-color-primary);padding:.35em}.baklava-num-input>.__content>input,.baklava-select{color:var(--baklava-control-color-foreground);width:100%}.baklava-select{position:relative}.baklava-select.--open>.__selected{border-bottom-left-radius:0;border-bottom-right-radius:0}.baklava-select.--open>.__selected>.__icon{transform:rotate(180deg)}.baklava-select>.__selected{background-color:var(--baklava-control-color-background);padding:.35em .75em;border-radius:var(--baklava-control-border-radius);transition:background var(--baklava-visual-transition);min-height:1.7em;display:flex;align-items:center;cursor:pointer}.baklava-select>.__selected:hover{background:var(--baklava-control-color-hover)}.baklava-select>.__selected:active{background:var(--baklava-control-color-active)}.baklava-select>.__selected>.__text{flex:1 0 auto;flex-basis:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.baklava-select>.__selected>.__icon{flex:0 0 auto;display:flex;justify-content:center;align-items:center;transition:transform .25s ease;width:18px;height:18px}.baklava-select>.__selected>.__icon path{stroke:var(--baklava-control-color-foreground);fill:var(--baklava-control-color-foreground)}.baklava-select>.__dropdown{position:absolute;top:100%;left:0;right:0;z-index:10;background-color:var(--baklava-context-menu-background);filter:drop-shadow(0 0 4px black);border-radius:0 0 var(--baklava-control-border-radius) var(--baklava-control-border-radius);max-height:15em;overflow-y:scroll}.baklava-select>.__dropdown::-webkit-scrollbar{width:0;background:transparent}.baklava-select>.__dropdown>.item{padding:.35em;padding-left:1em;transition:background .05s linear}.baklava-select>.__dropdown>.item:not(.--header):not(.--active){cursor:pointer}.baklava-select>.__dropdown>.item:not(.--header):not(.--active):hover{background:var(--baklava-control-color-hover)}.baklava-select>.__dropdown>.item.--active{background:var(--baklava-control-color-primary)}.baklava-select>.__dropdown>.item.--header{color:var(--baklava-control-color-disabled-foreground);border-bottom:1px solid var(--baklava-control-color-disabled-foreground);padding:.5em .35em;padding-left:1em}.baklava-slider{background:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);border-radius:var(--baklava-control-border-radius);position:relative;cursor:pointer}.baklava-slider>.__content{display:flex;position:relative;z-index:1}.baklava-slider>.__content>.__label,.baklava-slider>.__content>.__value{flex:1 1 auto;margin:.35em 0;padding:0 .5em;text-overflow:ellipsis}.baklava-slider>.__content>.__value{text-align:right}.baklava-slider>.__content>input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);padding:.35em;width:100%}.baklava-slider>.__slider{position:absolute;top:0;bottom:0;left:0;background-color:var(--baklava-control-color-primary);border-radius:var(--baklava-control-border-radius)}.baklava-connection{stroke:var(--baklava-color-connection-default);stroke-width:2px;fill:none}.baklava-connection.--temporary{stroke-width:4px;stroke-dasharray:5 5;stroke-dashoffset:0;animation:dash 1s linear infinite;transform:translateY(-1px)}@keyframes dash{to{stroke-dashoffset:20}}.baklava-connection.--allowed{stroke:var(--baklava-color-connection-allowed)}.baklava-connection.--forbidden{stroke:var(--baklava-color-connection-forbidden)}.minimap{position:absolute;height:15%;width:15%;min-width:150px;max-width:90%;top:20px;right:20px;z-index:900}.baklava-editor{width:100%;height:100%;position:relative;overflow:hidden;outline:none!important;font-family:Lato,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:15px;touch-action:none}.baklava-editor .background{background-color:var(--baklava-editor-background-pattern-default);background-image:linear-gradient(var(--baklava-editor-background-pattern-black) 2px,transparent 2px),linear-gradient(90deg,var(--baklava-editor-background-pattern-black) 2px,transparent 2px),linear-gradient(var(--baklava-editor-background-pattern-line) 1px,transparent 1px),linear-gradient(90deg,var(--baklava-editor-background-pattern-line) 1px,transparent 1px);background-repeat:repeat;width:100%;height:100%;pointer-events:none!important}.baklava-editor :not(input):not(textarea){-webkit-user-select:none;user-select:none;-moz-user-select:none;touch-action:none}.baklava-editor .input-user-select{-webkit-user-select:auto;user-select:auto;-moz-user-select:auto}.baklava-editor *,.baklava-editor :after,.baklava-editor :before{box-sizing:border-box}.baklava-editor.--temporary-connection{cursor:crosshair}.baklava-editor .connections-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none!important}.baklava-editor .node-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.baklava-editor .node-container *{pointer-events:all}.baklava-ignore-mouse *{pointer-events:none!important}.baklava-ignore-mouse .__port{pointer-events:all!important}.baklava-node-interface{padding:.25em 0;position:relative}.baklava-node-interface .__port{position:absolute;width:10px;height:10px;background:#fff;border-radius:50%;top:calc(50% - 5px);cursor:crosshair}.baklava-node-interface.--input{text-align:left;padding-left:.5em}.baklava-node-interface.--input .__port{left:-1.1em}.baklava-node-interface.--output{text-align:right;padding-right:.5em}.baklava-node-interface.--output .__port{right:-1.1em}.baklava-node-palette{position:absolute;left:0;top:60px;width:250px;height:calc(100% - 60px);z-index:3;padding:2rem;overflow-y:auto;background:var(--baklava-node-palette-background);color:var(--baklava-node-palette-foreground)}.baklava-node-palette h1{margin-top:2rem}.baklava-node.--palette{position:unset;margin:1rem 0;cursor:grab}.baklava-node.--palette:first-child{margin-top:0}.baklava-node.--palette .__title{padding:.5rem;border-radius:var(--baklava-node-border-radius)}.baklava-dragged-node{position:absolute;width:calc(250px - 4rem);height:40px;z-index:4;pointer-events:none}.baklava-node{max-width:20rem;background:var(--baklava-node-color-background);color:var(--baklava-node-color-foreground);border-radius:var(--baklava-node-border-radius);position:absolute;filter:drop-shadow(0 0 3px rgba(0,0,0,.8));transition:box-shadow var(--baklava-visual-transition),filter var(--baklava-visual-transition)}.baklava-node:hover{box-shadow:0 0 0 .35px var(--baklava-node-color-selected)}.baklava-node.--selected{z-index:5;box-shadow:0 0 0 1px var(--baklava-node-color-selected)}.baklava-node.--dragging{filter:drop-shadow(0 0 7px rgba(0,0,0,.8))}.baklava-node.--dragging>.__title{cursor:grabbing}.baklava-node>.__title{display:flex;background:var(--baklava-node-title-color-background);color:var(--baklava-node-title-color-foreground);padding:.4em .75em;border-radius:var(--baklava-node-border-radius) var(--baklava-node-border-radius) 0 0;cursor:grab}.baklava-node>.__title>:first-child{flex-grow:1}.baklava-node>.__title>.__title-label{pointer-events:none}.baklava-node>.__title>.__menu{position:relative;cursor:auto}.baklava-node[data-node-type^=__baklava_]>.__title{background:var(--baklava-group-node-title-color-background);color:var(--baklava-group-node-title-color-foreground)}.baklava-node>.__content{padding:.75em}.baklava-node>.__content>div>div{margin:.5em 0}.baklava-node.--two-column>.__content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;grid-template-areas:". ." ". ."}.baklava-node.--two-column>.__content>.__inputs{grid-row:1;grid-column:1}.baklava-node.--two-column>.__content>.__outputs{grid-row:1;grid-column:2}.baklava-sidebar{position:absolute;height:100%;width:25%;min-width:300px;max-width:90%;top:0;right:0;z-index:1000;background-color:var(--baklava-sidebar-color-background);color:var(--baklava-sidebar-color-foreground);box-shadow:none;overflow-x:hidden;padding:1em;transform:translateX(100%);transition:transform .5s;display:flex;flex-direction:column}.baklava-sidebar.--open{transform:translateX(0);box-shadow:0 0 15px #000}.baklava-sidebar .__resizer{position:absolute;left:0;top:0;height:100%;width:4px;cursor:col-resize}.baklava-sidebar .__header{display:flex;align-items:center}.baklava-sidebar .__header .__node-name{margin-left:.5rem}.baklava-sidebar .__close{font-size:2em;border:none;background:none;color:inherit;cursor:pointer}.baklava-sidebar .__interface{margin:.5em 0}.baklava-toolbar{position:absolute;left:0;top:0;width:100%;height:60px;z-index:3;padding:.5rem 2rem;background:var(--baklava-toolbar-background);color:var(--baklava-toolbar-foreground);display:flex;align-items:center}.baklava-toolbar-entry{margin-left:.5rem;margin-right:.5rem}.baklava-toolbar-button{color:var(--baklava-toolbar-foreground);background:none;border:none;transition:color var(--baklava-visual-transition)}.baklava-toolbar-button:not([disabled]){cursor:pointer}.baklava-toolbar-button:hover:not([disabled]){color:var(--baklava-control-color-primary)}.baklava-toolbar-button[disabled]{color:var(--baklava-control-color-disabled-foreground)}.slide-fade-enter-active,.slide-fade-leave-active{transition:all .1s ease-out}.slide-fade-enter-from,.slide-fade-leave-to{transform:translateY(5px);opacity:0}.fade-enter-active,.fade-leave-active{transition:opacity .1s ease-out!important}.fade-enter-from,.fade-leave-to{opacity:0}',""]);const s=a},66262:(e,t)=>{"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}},66454:(e,t,n)=>{"use strict";var r=n(10117);e.exports=i;var o="\0";function i(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function l(e,t,n,o){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+""+a+""+(r.isUndefined(o)?"\0":o)}function c(e,t){return l(e,t.v,t.w,t.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return r.keys(this._nodes)},i.prototype.sources=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._in[t])}))},i.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._out[t])}))},i.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,(function(e){n.length>1?o.setNode(e,t):o.setNode(e)})),this},i.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=o,this._children[e]={},this._children[o][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return r.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=o;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==o)return t}},i.prototype.children=function(e){if(r.isUndefined(e)&&(e=o),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===o)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),r.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var o={};function i(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},i.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return r.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,(function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},i.prototype.setEdge=function(){var e,t,n,o,i=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var c=l(this._isDirected,e,t,n);if(r.has(this._edgeLabels,c))return i&&(this._edgeLabels[c]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[c]=i?o:this._defaultEdgeLabelFn(e,t,n);var u=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}(this._isDirected,e,t,n);return e=u.v,t=u.w,Object.freeze(u),this._edgeObjs[c]=u,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][c]=u,this._out[e][c]=u,this._edgeCount++,this},i.prototype.edge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},i.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.v===t})):o}},i.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.w===t})):o}},i.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},66721:(e,t,n)=>{var r=n(81042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},66939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(94227),o=n(32017),i=n(7106),a=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(s.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!a.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=c(e))),t===1/0))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=h(t));const r=e.parse(t);return d(e,r)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const p=/#\/?$/;function h(e){return e?e.replace(p,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,n){return n=h(n),e.resolve(t,n)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,a=h(e[n]||t),s={"":a},l=u(r,a,!1),c={},d=new Set;return i(e,{allKeys:!0},((e,t,r,o)=>{if(void 0===o)return;const i=l+t;let a=s[o];function u(t){const n=this.opts.uriResolver.resolve;if(t=h(a?n(a,t):t),d.has(t))throw m(t);d.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?p(e,r.schema,t):t!==h(i)&&("#"===t[0]?(p(e,c[t],t),c[t]=e):this.refs[t]=i),t}function g(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(a=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),s[t]=a})),c;function p(e,t,n){if(void 0!==t&&!o(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},67060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(75882),o=n(63439),i=n(77307),a=n(90422),s=n(34486),l=n(34003),c=n(61163),u=n(60617),d=n(27935),p=n(28643),h=[r.default,o.default,i.default,a.default,s.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,p.default];t.default=h},67084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(20641),o=n(90033),i=n(53751);const a=["title"],s={class:"__value"},l={key:2,class:"__content"};var c=n(63491);const u=(0,r.pM)({extends:c.V1,setup:e=>c.V1.setup(e)}),d=(0,n(66262).A)(u,[["render",function(e,t,n,c,u,d){const p=(0,r.g2)("i-arrow");return(0,r.uX)(),(0,r.CE)("div",{class:"baklava-num-input",style:(0,o.Tr)({gridTemplateColumns:e.intf.readonly?"0 1fr 0":null})},[e.intf.readonly?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",{key:0,class:"__button --dec",onClick:t[0]||(t[0]=(...t)=>e.decrement&&e.decrement(...t))},[(0,r.bF)(p)])),!e.editMode||e.intf.readonly?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"__content",style:(0,o.Tr)({borderRadius:e.intf.readonly?"var(--baklava-control-border-radius)":null,cursor:e.intf.readonly?"default":null}),onClick:t[1]||(t[1]=(...t)=>e.enterEditMode&&e.enterEditMode(...t))},[(0,r.Lk)("div",{class:"__label",title:e.intf.name},(0,o.v_)(e.intf.name),9,a),(0,r.Lk)("div",s,(0,o.v_)(e.stringRepresentation),1)],4)):((0,r.uX)(),(0,r.CE)("div",l,[(0,r.bo)((0,r.Lk)("input",{ref:"inputEl","onUpdate:modelValue":t[2]||(t[2]=t=>e.tempValue=t),type:"number",class:(0,o.C4)(["baklava-input",{"--invalid":e.invalid}]),style:{"text-align":"right"},onBlur:t[3]||(t[3]=(...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),onKeydown:t[4]||(t[4]=(0,i.jR)(((...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),["enter"]))},null,34),[[i.Jo,e.tempValue]])])),e.intf.readonly?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",{key:3,class:"__button --inc",onClick:t[5]||(t[5]=(...t)=>e.increment&&e.increment(...t))},[(0,r.bF)(p)]))],4)}]])},67197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},67643:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},68022:(e,t,n)=>{var r=n(97858);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("0b015299",r,!0,{sourceMap:!1,shadowMode:!1})},68073:(e,t,n)=>{"use strict";var r=n(56857);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),(function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.min(r.map(e.outEdges(o),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},68090:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},68191:(e,t,n)=>{var r;try{r=n(38362)}catch(e){}r||(r=window.graphlib),e.exports=r},68223:(e,t,n)=>{var r=n(56110)(n(9325),"Map");e.exports=r},68554:(e,t,n)=>{"use strict";n.d(t,{RcE:()=>F,wYm:()=>A});var r,o=n(50953),i=n(20641);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const a="undefined"!=typeof window,s=(Object.prototype.toString,e=>"string"==typeof e),l=()=>{};function c(e){return"function"==typeof e?e():(0,o.R1)(e)}function u(e){return!!(0,o.o5)()&&((0,o.jr)(e),!0)}a&&(null==(r=null==window?void 0:window.navigator)?void 0:r.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent),Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var d=Object.defineProperty,p=Object.defineProperties,h=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&v(e,n,t[n]);if(f)for(var n of f(t))g.call(t,n)&&v(e,n,t[n]);return e},b=(e,t)=>p(e,h(t));function w(e){var t;const n=c(e);return null!=(t=null==n?void 0:n.$el)?t:n}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const x=a?window:void 0;function _(...e){let t,n,r,o;if(s(e[0])||Array.isArray(e[0])?([n,r,o]=e,t=x):[t,n,r,o]=e,!t)return l;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const a=[],d=()=>{a.forEach((e=>e())),a.length=0},p=(0,i.wB)((()=>[w(t),c(o)]),(([e,t])=>{d(),e&&a.push(...n.flatMap((n=>r.map((r=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,n,r,t))))))}),{immediate:!0,flush:"post"}),h=()=>{p(),d()};return u(h),h}a&&window.document,a&&window.navigator,a&&window.location,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C="__vueuse_ssr_handlers__";k[C]=k[C]||{},k[C],Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var S=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,T=(e,t)=>{var n={};for(var r in e)E.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&S)for(var r of S(e))t.indexOf(r)<0&&P.call(e,r)&&(n[r]=e[r]);return n};function A(e,t,n={}){const r=n,{window:a=x}=r,s=T(r,["window"]);let l;const c=function(e,t=!1){const n=(0,o.KR)(),r=()=>n.value=Boolean(e());return r(),function(e,t=!0){(0,i.nI)()?(0,i.sV)(e):t?e():(0,i.dY)(e)}(r,t),n}((()=>a&&"ResizeObserver"in a)),d=()=>{l&&(l.disconnect(),l=void 0)},p=(0,i.wB)((()=>w(e)),(e=>{d(),c.value&&a&&e&&(l=new ResizeObserver(t),l.observe(e,s))}),{immediate:!0,flush:"post"}),h=()=>{d(),p()};return u(h),{isSupported:c,stop:h}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,new Map,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var M=Object.defineProperty,N=Object.defineProperties,O=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&j(e,n,t[n]);if(I)for(var n of I(t))L.call(t,n)&&j(e,n,t[n]);return e},$=(e,t)=>N(e,O(t));const B={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},V=Object.keys(B);function F(e={}){const{target:t=x}=e,n=(0,o.KR)(!1),r=(0,o.KR)(e.initialValue||{});Object.assign(r.value,B,r.value);const i=t=>{n.value=!0,e.pointerTypes&&!e.pointerTypes.includes(t.pointerType)||(r.value=function(e,t,n=!1){return t.reduce(((t,r)=>(r in e&&(n&&void 0===e[r]||(t[r]=e[r])),t)),{})}(t,V,!1))};return t&&(_(t,"pointerdown",i,{passive:!0}),_(t,"pointermove",i,{passive:!0}),_(t,"pointerleave",(()=>n.value=!1),{passive:!0})),$(D({},function(e){if(!(0,o.i9)(e))return(0,o.QW)(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const n in e.value)t[n]=(0,o.rY)((()=>({get:()=>e.value[n],set(t){if(Array.isArray(e.value)){const r=[...e.value];r[n]=t,e.value=r}else{const r=b(y({},e.value),{[n]:t});Object.setPrototypeOf(r,e.value),e.value=r}}})));return t}(r)),{isInside:n})}var z,U;(U=z||(z={})).UP="UP",U.RIGHT="RIGHT",U.DOWN="DOWN",U.LEFT="LEFT",U.NONE="NONE",Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var W=Object.defineProperty,K=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,G=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;((e,t)=>{for(var n in t||(t={}))H.call(t,n)&&G(e,n,t[n]);if(K)for(var n of K(t))q.call(t,n)&&G(e,n,t[n])})({linear:function(e){return e}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]})},68581:(e,t)=>{"use strict";function n(e,t){var n={};for(var r in e)n[r]={};for(var r in t)n[r]={};return Object.keys(n).length}function r(e,t){var n=0;for(var r in e)void 0!==t[r]&&++n;return n}function o(e,t,n,r){var o=function(e,t){var n={},r=function(e,t){void 0===n[e]&&(n[e]={}),n[e][t]={}};return e.forEach((function(e){var n=t.getSourceIndex(e),o=t.getTargetIndex(e);r(n,o),r(o,n)})),n}(e,r);e.forEach((function(e){var i=o[r.getSourceIndex(e)],a=o[r.getTargetIndex(e)];r.setLength(e,1+t*n(i,a))}))}function i(e,t,n){var r=[],o=0,i=[],a=[];function s(e){e.index=e.lowlink=o++,i.push(e),e.onStack=!0;for(var t=0,n=e.out;t<n.length;t++){var r=n[t];void 0===r.index?(s(r),e.lowlink=Math.min(e.lowlink,r.lowlink)):r.onStack&&(e.lowlink=Math.min(e.lowlink,r.index))}if(e.lowlink===e.index){for(var l=[];i.length&&((r=i.pop()).onStack=!1,l.push(r),r!==e););a.push(l.map((function(e){return e.id})))}}for(var l=0;l<e;l++)r.push({id:l,out:[]});for(var c=0,u=t;c<u.length;c++){var d=u[c],p=r[n.getSourceIndex(d)],h=r[n.getTargetIndex(d)];p.out.push(h)}for(var f=0,m=r;f<m.length;f++){var g=m[f];void 0===g.index&&s(g)}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.symmetricDiffLinkLengths=function(e,t,i){void 0===i&&(i=1),o(e,i,(function(e,t){return Math.sqrt(n(e,t)-r(e,t))}),t)},t.jaccardLinkLengths=function(e,t,i){void 0===i&&(i=1),o(e,i,(function(e,t){return Math.min(Object.keys(e).length,Object.keys(t).length)<1.1?0:r(e,t)/n(e,t)}),t)},t.generateDirectedEdgeConstraints=function(e,t,n,r){var o=i(e,t,r),a={};o.forEach((function(e,t){return e.forEach((function(e){return a[e]=t}))}));var s=[];return t.forEach((function(e){var t=r.getSourceIndex(e),o=r.getTargetIndex(e);a[t]!==a[o]&&s.push({axis:n,left:t,right:o,gap:r.getMinSeparation(e)})})),s},t.stronglyConnectedComponents=i},69302:(e,t,n)=>{var r=n(83488),o=n(56757),i=n(32865);e.exports=function(e,t){return i(o(e,t,r),e+"")}},69310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"path[data-v-95dab5dc]{stroke-width:2px}.normal[data-v-95dab5dc]{stroke:#fff}.hovered[data-v-95dab5dc]{stroke:#00e58d}",""]);const s=a},69633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-5307c3a1]{fill:#fff}.hovered[data-v-5307c3a1]{fill:#00e58d}",""]);const s=a},69752:(e,t,n)=>{var r=n(83729),o=n(39344),i=n(30641),a=n(15389),s=n(28879),l=n(56449),c=n(3656),u=n(1882),d=n(23805),p=n(37167);e.exports=function(e,t,n){var h=l(e),f=h||c(e)||p(e);if(t=a(t,4),null==n){var m=e&&e.constructor;n=f?h?new m:[]:d(e)&&u(m)?o(s(e)):{}}return(f?r:i)(e,(function(e,r,o){return t(n,e,r,o)})),n}},69857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},69884:(e,t,n)=>{var r=n(21791),o=n(37241);e.exports=function(e){return r(e,o(e))}},70080:(e,t,n)=>{var r=n(26025),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},70695:(e,t,n)=>{var r=n(78096),o=n(72428),i=n(56449),a=n(3656),s=n(30361),l=n(37167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&a(e),p=!n&&!u&&!d&&l(e),h=n||u||d||p,f=h?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},71024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88138),o=n(4908),i=n(80958),a=n(90058),s=n(36534),l=n(20711),c=n(78030),u=["/properties"];t.default=function(e){return[r,o,i,a,t(this,s),l,t(this,c)].forEach((e=>this.addMetaSchema(e,void 0,!1))),this;function t(t,n){return e?t.$dataMetaSchema(n,u):n}}},71095:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),i=n(2),a=n(5)||("undefined"!=typeof window?window.cola:null),s=n(4),l=function(e){return(void 0===e?"undefined":r(e))===r(0)},c=function(){},u=function(e,t){var n;return null!=(n=e)&&(void 0===n?"undefined":r(n))===r((function(){}))?e.apply(t,[t]):e};function d(e){this.options=o({},i,e)}d.prototype.run=function(){var e=this,t=this.options;e.manuallyStopped=!1;var n=t.cy,o=t.eles,i=o.nodes(),d=o.edges(),p=!1,h=i.filter((function(e){return e.isParent()})),f=i.subtract(h),m=t.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===m.x2&&(m.x2=m.x1+m.w),void 0===m.w&&(m.w=m.x2-m.x1),void 0===m.y2&&(m.y2=m.y1+m.h),void 0===m.h&&(m.h=m.y2-m.y1);var g=function(){for(var e=0;e<i.length;e++){var r=i[e],o=r.layoutDimensions(t),a=r.scratch("cola");if(!a.updatedDims){var s=u(t.nodeSpacing,r);a.width=o.w+2*s,a.height=o.h+2*s}}i.positions((function(e){var t=e.scratch().cola,n=void 0;return!e.grabbed()&&f.contains(e)&&(n={x:m.x1+t.x,y:m.y1+t.y},l(n.x)&&l(n.y)||(n=void 0)),n})),i.updateCompoundBounds(),p||(y(),p=!0),t.fit&&n.fit(t.padding)},v=function(){t.ungrabifyWhileSimulating&&x.grabify(),n.off("destroy",_),i.off("grab free position",k),i.off("lock unlock",C),e.one("layoutstop",t.stop),e.trigger({type:"layoutstop",layout:e})},y=function(){e.one("layoutready",t.ready),e.trigger({type:"layoutready",layout:e})},b=t.refresh;b=t.refresh<0?1:Math.max(1,b);var w=e.adaptor=a.adaptor({trigger:function(e){var n=a.EventType?a.EventType.tick:null,r=a.EventType?a.EventType.end:null;switch(e.type){case"tick":case n:t.animate&&g();break;case"end":case r:g(),t.infinite||v()}},kick:function(){var n=!0,r=function(){if(e.manuallyStopped)return v(),!0;var r=w.tick();return t.infinite||n||w.convergenceThreshold(t.convergenceThreshold),n=!1,r&&t.infinite&&w.resume(),r};if(t.animate)s((function e(){(function(){for(var e=void 0,t=0;t<b&&!e;t++)e=e||r();return e})()||s(e)}));else for(;!r(););},on:c,drag:c});e.adaptor=w;var x=i.filter(":grabbable");t.ungrabifyWhileSimulating&&x.ungrabify();var _=void 0;n.one("destroy",_=function(){e.stop()});var k=void 0;i.on("grab free position",k=function(e){var t=this,n=t.scratch().cola,r=t.position();if(e.cyTarget===t||e.target===t)switch(e.type){case"grab":w.dragstart(n);break;case"free":w.dragend(n);break;case"position":n.px===r.x-m.x1&&n.py===r.y-m.y1||(n.px=r.x-m.x1,n.py=r.y-m.y1)}});var C=void 0;i.on("lock unlock",C=function(){var e=this,t=e.scratch().cola;t.fixed=e.locked(),e.locked()?w.dragstart(t):w.dragend(t)}),w.nodes(f.map((function(e,n){var r=u(t.nodeSpacing,e),o=e.position(),i=e.layoutDimensions(t);return e.scratch().cola={x:t.randomize&&!e.locked()||void 0===o.x?Math.round(Math.random()*m.w):o.x,y:t.randomize&&!e.locked()||void 0===o.y?Math.round(Math.random()*m.h):o.y,width:i.w+2*r,height:i.h+2*r,index:n,fixed:e.locked()}})));var S=[];t.alignment&&(t.alignment.vertical&&t.alignment.vertical.forEach((function(e){var t=[];e.forEach((function(e){var n=e.node.scratch().cola.index;t.push({node:n,offset:e.offset?e.offset:0})})),S.push({type:"alignment",axis:"x",offsets:t})})),t.alignment.horizontal&&t.alignment.horizontal.forEach((function(e){var t=[];e.forEach((function(e){var n=e.node.scratch().cola.index;t.push({node:n,offset:e.offset?e.offset:0})})),S.push({type:"alignment",axis:"y",offsets:t})}))),t.gapInequalities&&t.gapInequalities.forEach((function(e){var t=e.left.scratch().cola.index,n=e.right.scratch().cola.index;S.push({axis:e.axis,left:t,right:n,gap:e.gap,equality:e.equality})})),S.length>0&&w.constraints(S),w.groups(h.map((function(e,n){var r=u(t.nodeSpacing,e),o=function(t){return parseFloat(e.style("padding-"+t))},i=o("left")+r,a=o("right")+r,s=o("top")+r,l=o("bottom")+r;return e.scratch().cola={index:n,padding:Math.max(i,a,s,l),leaves:e.children().intersection(f).map((function(e){return e[0].scratch().cola.index})),fixed:e.locked()},e})).map((function(e){return e.scratch().cola.groups=e.children().intersection(h).map((function(e){return e.scratch().cola.index})),e.scratch().cola})));var E,P=void 0,T=void 0;if(null!=t.edgeLength?(P=t.edgeLength,T="linkDistance"):null!=t.edgeSymDiffLength?(P=t.edgeSymDiffLength,T="symmetricDiffLinkLengths"):null!=t.edgeJaccardLength?(P=t.edgeJaccardLength,T="jaccardLinkLengths"):(P=100,T="linkDistance"),w.links(d.stdFilter((function(e){return f.contains(e.source())&&f.contains(e.target())})).map((function(e){var t=e.scratch().cola={source:e.source()[0].scratch().cola.index,target:e.target()[0].scratch().cola.index};return null!=P&&(t.calcLength=u(P,e)),t}))),w.size([m.w,m.h]),null!=P&&w[T]((function(e){return e.calcLength})),t.flow){var A=void 0;(void 0===(E=t.flow)?"undefined":r(E))===r("")?A={axis:t.flow,minSeparation:50}:l(t.flow)?A={axis:"y",minSeparation:t.flow}:function(e){return null!=e&&(void 0===e?"undefined":r(e))===r({})}(t.flow)?((A=t.flow).axis=A.axis||"y",A.minSeparation=null!=A.minSeparation?A.minSeparation:50):A={axis:"y",minSeparation:50},w.flowLayout(A.axis,A.minSeparation)}return e.trigger({type:"layoutstart",layout:e}),w.avoidOverlaps(t.avoidOverlap).handleDisconnected(t.handleDisconnected).start(t.unconstrIter,t.userConstIter,t.allConstIter,void 0,void 0,t.centerGraph),t.infinite||setTimeout((function(){e.manuallyStopped||w.stop()}),t.maxSimulationTime),this},d.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e.exports=d},function(e,t,n){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.filter((function(e){return null!=e})).forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(e,t,n){"use strict";e.exports={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1}},function(e,t,n){"use strict";var r=n(0),o=function(e){e&&e("layout","cola",r)};"undefined"!=typeof cytoscape&&o(cytoscape),e.exports=o},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r="undefined"!==("undefined"==typeof window?"undefined":o(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)}:function(e){e()},e.exports=r},function(t,n){t.exports=e}])},e.exports=r(n(78109))},71737:(e,t,n)=>{var r=n(10117);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},71743:(e,t,n)=>{var r=n(33643);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("219f9ade",r,!0,{sourceMap:!1,shadowMode:!1})},71961:(e,t,n)=>{var r=n(49653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},72042:(e,t,n)=>{var r=n(77454);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("e9b8c1d2",r,!0,{sourceMap:!1,shadowMode:!1})},72079:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},72128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(83463),o=n(13693),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,o.default];t.default=i},72428:(e,t,n)=>{var r=n(27534),o=n(40346),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},72476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicAnchor=void 0;const r=n(99029),o=n(42023),i=n(73835),a=n(13693),s={keyword:"$dynamicAnchor",schemaType:"string",code:e=>l(e,e.schema)};function l(e,t){const{gen:n,it:s}=e;s.schemaEnv.root.dynamicAnchors[t]=!0;const l=r._`${o.default.dynamicAnchors}${(0,r.getProperty)(t)}`,c="#"===s.errSchemaPath?s.validateName:function(e){const{schemaEnv:t,schema:n,self:r}=e.it,{root:o,baseId:s,localRefs:l,meta:c}=t.root,{schemaId:u}=r.opts,d=new i.SchemaEnv({schema:n,schemaId:u,root:o,baseId:s,localRefs:l,meta:c});return i.compileSchema.call(r,d),(0,a.getValidate)(e,d)}(e);n.if(r._`!${l}`,(()=>n.assign(l,c)))}t.dynamicAnchor=l,t.default=s},72552:(e,t,n)=>{var r=n(51873),o=n(659),i=n(59350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},72804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52128),o=n(99155);t.gridify=function(e,t,n,r){return e.cola.start(0,0,0,10,!1),function(e,t,n,r){e.forEach((function(e){e.routerNode={name:e.name,bounds:e.bounds.inflate(-n)}})),t.forEach((function(t){t.routerNode={bounds:t.bounds.inflate(-r),children:(void 0!==t.groups?t.groups.map((function(t){return e.length+t.id})):[]).concat(void 0!==t.leaves?t.leaves.map((function(e){return e.index})):[])}}));var i=e.concat(t).map((function(e,t){return e.routerNode.id=t,e.routerNode}));return new o.GridRouter(i,{getChildren:function(e){return e.children},getBounds:function(e){return e.bounds}},n-r)}(e.cola.nodes(),e.cola.groups(),n,r).routeEdges(e.powerGraph.powerEdges,t,(function(e){return e.source.routerNode.id}),(function(e){return e.target.routerNode.id}))},t.powerGraphGridLayout=function(e,t,n){var o;e.nodes.forEach((function(e,t){return e.index=t})),(new r.Layout).avoidOverlaps(!1).nodes(e.nodes).links(e.links).powerGraphGroups((function(e){(o=e).groups.forEach((function(e){return e.padding=n}))}));var i=e.nodes.length,a=[],s=e.nodes.slice(0);return s.forEach((function(e,t){return e.index=t})),o.groups.forEach((function(e){var t=e.index=e.id+i;s.push(e),void 0!==e.leaves&&e.leaves.forEach((function(e){return a.push({source:t,target:e.index})})),void 0!==e.groups&&e.groups.forEach((function(e){return a.push({source:t,target:e.id+i})}))})),o.powerEdges.forEach((function(e){a.push({source:e.source.index,target:e.target.index})})),(new r.Layout).size(t).nodes(s).links(a).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new r.Layout).convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(e.nodes).links(e.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups((function(e){(o=e).groups.forEach((function(e){e.padding=n}))})).start(50,0,100,0,!1),powerGraph:o}}},72903:(e,t,n)=>{var r=n(23805),o=n(55527),i=n(90181),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},72949:(e,t,n)=>{var r=n(12651);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},73007:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".wrapper[data-v-2f1c5908]{z-index:5}.wrapper-hud[data-v-2f1c5908]{position:relative}.wrapper-hidden[data-v-2f1c5908]{position:absolute;width:100%;top:-60px;padding-bottom:90px;transition:.2s}.wrapper-hidden.isHovered[data-v-2f1c5908]{transform:translateY(60px);padding-bottom:0}.wrapper-hidden:not(.isHovered)>.progress-bar[data-v-2f1c5908]{bottom:91px}.container[data-v-2f1c5908]{display:flex;justify-content:space-between;align-items:center;height:60px;background-color:#1d1d1d;border:1px solid #343434;border-left:0;border-right:0}.container .editorTitle[data-v-2f1c5908]{width:auto;text-wrap:wrap;flex-grow:1;cursor:text;text-align:center;padding:0 10px}.container .editorTitle.compressed-mobile[data-v-2f1c5908]{display:none}.container .graphId[data-v-2f1c5908]{-webkit-user-select:text;-moz-user-select:text;user-select:text}.container .editorTitleInput[data-v-2f1c5908]{font-size:12px;padding:0 10px;flex-grow:1}.container .editorTitleInput.compressed-mobile[data-v-2f1c5908]{display:none}.container .progress-bar[data-v-2f1c5908]{position:absolute;height:12px;left:0;bottom:0;border-radius:3px;z-index:5;background-color:#00e58d}.container .progress-bar.animate[data-v-2f1c5908]{animation:pulse-2f1c5908 2s ease-in-out infinite}@keyframes pulse-2f1c5908{0%{left:0;width:0}50%{width:100%;left:0}to{left:100%;width:0}}.container>div[data-v-2f1c5908]{display:inherit;flex-grow:1}.container>div>div[data-v-2f1c5908]{flex-grow:0;display:flex;width:3.75em;height:3.75em;justify-content:center;align-items:center;position:relative;box-sizing:border-box;border-left:1px solid #343434}.container>div>div.compressed-mobile[data-v-2f1c5908]{width:auto;flex-grow:1;max-width:3.75em}.container>div>div[data-v-2f1c5908]:last-child{border-right:1px solid #343434}.container>div>div>svg[data-v-2f1c5908]{display:block;width:1.6875em;height:1.6875em}.container>div>div>.small_svg[data-v-2f1c5908]{display:block;width:1.2em;height:1.2em}.container>div>div>.smaller_svg[data-v-2f1c5908]{display:block;width:1em;height:1em}.container>div>div>.small_svg_stop[data-v-2f1c5908]{position:absolute;width:.8em;height:.8em;top:8%;right:8%;stroke:#999}.container>div>div>.dropdown-wrapper[data-v-2f1c5908],.container>div>div>.external-app-status[data-v-2f1c5908],.container>div>div>.tooltip[data-v-2f1c5908]{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;flex-direction:column;top:100%;left:0;display:none;background-color:#181818;border:2px solid #737373}.container>div>div>.dropdown-wrapper>div[data-v-2f1c5908]:hover,.container>div>div>.external-app-status>div[data-v-2f1c5908]:hover,.container>div>div>.tooltip>div[data-v-2f1c5908]:hover{background-color:#2a2a2a}.container>div>div>.external-app-status[data-v-2f1c5908]{width:220px;transform:translate(-89%,-180px);padding:20px;font-size:12px;border:none;transition:transform 1s}.container>div>div>.external-app-status[data-v-2f1c5908],.container>div>div>.external-app-status>div[data-v-2f1c5908]{display:flex;justify-content:space-between}.container>div>div>.external-app-status>div>.disconnected[data-v-2f1c5908]{color:#cc4747}.container>div>div>.external-app-status>div>.connected[data-v-2f1c5908]{color:#00e58d}.container>div>div>.tooltip[data-v-2f1c5908]{border-radius:15px;background-color:#1d1d1d;border:1px solid #6f6f6f;padding:10px;left:1.875em;transform:translate(-50%,25%);pointer-events:none;white-space:nowrap}.container>div>div.logo:hover>.dropdown-wrapper[data-v-2f1c5908],.container>div>div.logo:hover>.external-app-status[data-v-2f1c5908],.container>div>div.logo:hover>.tooltip[data-v-2f1c5908]{display:flex}.container>div>div.box>.small_svg[data-v-2f1c5908],.container>div>div.hoverbox>.small_svg[data-v-2f1c5908]{fill:#fff}.container>div>div.box:hover>.tooltip[data-v-2f1c5908]:not(.compressed-mobile),.container>div>div.hoverbox:hover>.tooltip[data-v-2f1c5908]:not(.compressed-mobile){display:flex;z-index:11}.container>div>div.hoverbox[data-v-2f1c5908]:hover{cursor:pointer}.container>div>div.hoverbox:hover>.small_svg[data-v-2f1c5908]{fill:#00e58d}.container>div>div.hoverbox:hover>.small_svg_stop[data-v-2f1c5908]{stroke:#a02c2c}.container>div>div.box>.small_svg[data-v-2f1c5908]{filter:brightness(50%)}.container>div>div.search-editor-nodes[data-v-2f1c5908]{max-width:15em}.container>div>div.search-editor-nodes>input[data-v-2f1c5908]{width:100%;height:100%;padding:0 .5em;color:#fff;border:none;background-color:#1d1d1d}.container>div>div.search-editor-nodes>input[data-v-2f1c5908]:focus{outline:1px solid #00e58d;z-index:12}.container>div>div.search-editor-nodes>input[data-v-2f1c5908]::-moz-placeholder{opacity:.5}.container>div>div.search-editor-nodes>input[data-v-2f1c5908]::placeholder{opacity:.5}.container>div>div.search-editor-nodes.compressed-mobile[data-v-2f1c5908]{position:absolute;top:61px;max-width:40vw;border:1px solid #343434;box-sizing:border-box}.container>div:last-child>div:last-child .tooltip[data-v-2f1c5908]{transform:translate(-75%,25%)}span[data-v-2f1c5908]{font-size:12px;color:#fff}.prevent-select[data-v-2f1c5908],span[data-v-2f1c5908]{-webkit-user-select:none;-moz-user-select:none;user-select:none}",""]);const s=a},73170:(e,t,n)=>{var r=n(16547),o=n(31769),i=n(30361),a=n(23805),s=n(77797);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=o(t,e)).length,d=u-1,p=e;null!=p&&++c<u;){var h=s(t[c]),f=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=d){var m=p[h];void 0===(f=l?l(m,h,p):void 0)&&(f=a(m)?m:i(t[c+1])?[]:{})}r(p,h,f),p=p[h]}return e}},73201:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},73265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(80392),o=n(13445),i=[r.default,o.default];t.default=i},73590:(e,t,n)=>{var r=n(10117);e.exports=function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(e,t||o,n||function(t){return e.outEdges(t)})};var o=r.constant(1)},73776:(e,t,n)=>{"use strict";var r=n(56857),o=n(3988),i=n(39741).positionX;e.exports=function(e){(function(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,i=0;r.forEach(t,(function(t){var o=r.max(r.map(t,(function(t){return e.node(t).height})));r.forEach(t,(function(t){e.node(t).y=i+o/2})),i+=o+n}))})(e=o.asNonCompoundGraph(e)),r.forEach(i(e),(function(t,n){e.node(n).x=t}))}},73835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(99029),o=n(13558),i=n(42023),a=n(66939),s=n(94227),l=n(62586);class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,a.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=p.call(this,e);if(t)return t;const n=(0,a.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:s,lines:c}=this.opts.code,{ownProperties:u}=this.opts,d=new r.CodeGen(this.scope,{es5:s,lines:c,ownProperties:u});let h;e.$async&&(h=d.scopeValue("Error",{ref:o.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const f=d.scopeName("validate");e.validateName=f;const m={gen:d,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,l.validateFunctionCode)(m),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${i.default.self}`,`${i.default.scope}`,g)(this,this.scope.get());if(this.scope.value(f,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:f,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function d(e){return(0,a.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function p(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function h(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||f.call(this,e,t)}function f(e,t){const n=this.opts.uriResolver.parse(t),r=(0,a._getFullPath)(this.opts.uriResolver,n);let o=(0,a.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===o)return g.call(this,n,e);const i=(0,a.normalizeId)(r),s=this.refs[i]||this.schemas[i];if("string"==typeof s){const t=f.call(this,e,s);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==s?void 0:s.schema)){if(s.validate||u.call(this,s),i===(0,a.normalizeId)(t)){const{schema:t}=s,{schemaId:n}=this.opts,r=t[n];return r&&(o=(0,a.resolveUrl)(this.opts.uriResolver,o,r)),new c({schema:t,schemaId:n,root:e,baseId:o})}return g.call(this,n,s)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,n){var r;n=(0,a.resolveUrl)(this.opts.uriResolver,t,n);const o=e.refs[n];if(o)return o;let i=h.call(this,e,n);if(void 0===i){const o=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:a}=this.opts;o&&(i=new c({schema:o,schemaId:a,root:e,baseId:t}))}return void 0!==i?e.refs[n]=d.call(this,i):void 0},t.getCompilingSchema=p,t.resolveSchema=f;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:r}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const r of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,s.unescapeFragment)(r)];if(void 0===e)return;const o="object"==typeof(n=e)&&n[this.opts.schemaId];!m.has(r)&&o&&(t=(0,a.resolveUrl)(this.opts.uriResolver,t,o))}let i;if("boolean"!=typeof n&&n.$ref&&!(0,s.schemaHasRulesButRef)(n,this.RULES)){const e=(0,a.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=f.call(this,r,e)}const{schemaId:l}=this.opts;return i=i||new c({schema:n,schemaId:l,root:r,baseId:t}),i.schema!==i.root.schema?i:void 0}},73916:(e,t,n)=>{var r=n(43360),o=n(30641),i=n(15389);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},73937:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},74149:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".return-control[data-v-31c81a72]{width:44px;height:44px;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#1d1d1d;border:1px solid #343434;border-radius:100%;position:fixed;left:30px;top:30px;z-index:100}",""]);const s=a},74218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},74335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},74431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".blur-panel{background-color:var(--09ab25c4);-webkit-backdrop-filter:var(--416482c2);backdrop-filter:var(--416482c2);position:var(--5e37c91a);padding:20px;color:#fff;left:0;z-index:10;top:0;width:100%;height:100%;min-height:-moz-fit-content;min-height:fit-content}.blur-panel>.panel{display:grid;grid-row-gap:20px;-webkit-user-select:none;-moz-user-select:none;user-select:none;right:25%;top:25%;width:50%;height:50%}.blur-panel>.panel>div>.option-label{padding-bottom:10px;color:#fff;font-size:14px}",""]);const s=a},74733:(e,t,n)=>{var r=n(21791),o=n(95950);e.exports=function(e,t){return e&&r(t,o(t),e)}},75288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},75585:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".settings-panel{background-color:#1d1d1de6;position:absolute;padding:20px;color:#fff;top:61px;right:-495px;width:435px;max-height:calc(100% - 135px);min-height:-moz-fit-content;min-height:fit-content;max-width:calc(100vw - 40px);z-index:4;overflow-y:auto}.settings-panel>.setting-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.settings-panel>.setting-header>span{color:#fff;font-size:16px}.settings-panel>.panel{display:grid;grid-row-gap:20px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.settings-panel>.panel>div{max-width:calc(100vw - 40px)}.settings-panel>.panel>div>.option-label{padding-bottom:10px;color:#fff;font-size:14px}",""]);const s=a},75882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=r.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},a={message:({keyword:e,schemaCode:t})=>r.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${i[e].okStr}, limit: ${t}}`},s={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:a,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data(r._`${n} ${i[t].fail} ${o} || isNaN(${n})`)}};t.default=s},76001:(e,t,n)=>{var r=n(97420),o=n(80631);e.exports=function(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},76135:(e,t,n)=>{e.exports=n(39754)},76169:(e,t,n)=>{var r=n(49653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},76189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},76246:(e,t,n)=>{e.exports={graphlib:n(68191),layout:n(78202),debug:n(78909),util:{time:n(3988).time,notime:n(3988).notime},version:n(87038)}},76250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32017);r.code='require("ajv/dist/runtime/equal").default',t.default=r},76433:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".__title-icon circle[data-v-6e7ec49e]{fill:#00e58d}",""]);const s=a},76545:(e,t,n)=>{var r=n(56110)(n(9325),"Set");e.exports=r},76868:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".Vue-Toastification__container{z-index:9999;position:fixed;padding:4px;width:600px;box-sizing:border-box;display:flex;min-height:100%;color:#fff;flex-direction:column;pointer-events:none}@media only screen and (min-width:600px){.Vue-Toastification__container.top-center,.Vue-Toastification__container.top-left,.Vue-Toastification__container.top-right{top:1em}.Vue-Toastification__container.bottom-center,.Vue-Toastification__container.bottom-left,.Vue-Toastification__container.bottom-right{bottom:1em;flex-direction:column-reverse}.Vue-Toastification__container.bottom-left,.Vue-Toastification__container.top-left{left:1em}.Vue-Toastification__container.bottom-left .Vue-Toastification__toast,.Vue-Toastification__container.top-left .Vue-Toastification__toast{margin-right:auto}@supports not (-moz-appearance:none){.Vue-Toastification__container.bottom-left .Vue-Toastification__toast--rtl,.Vue-Toastification__container.top-left .Vue-Toastification__toast--rtl{margin-right:unset;margin-left:auto}}.Vue-Toastification__container.bottom-right,.Vue-Toastification__container.top-right{right:1em}.Vue-Toastification__container.bottom-right .Vue-Toastification__toast,.Vue-Toastification__container.top-right .Vue-Toastification__toast{margin-left:auto}@supports not (-moz-appearance:none){.Vue-Toastification__container.bottom-right .Vue-Toastification__toast--rtl,.Vue-Toastification__container.top-right .Vue-Toastification__toast--rtl{margin-left:unset;margin-right:auto}}.Vue-Toastification__container.bottom-center,.Vue-Toastification__container.top-center{left:50%;margin-left:-300px}.Vue-Toastification__container.bottom-center .Vue-Toastification__toast,.Vue-Toastification__container.top-center .Vue-Toastification__toast{margin-left:auto;margin-right:auto}}@media only screen and (max-width:600px){.Vue-Toastification__container{width:100vw;padding:0;left:0;margin:0}.Vue-Toastification__container .Vue-Toastification__toast{width:100%}.Vue-Toastification__container.top-center,.Vue-Toastification__container.top-left,.Vue-Toastification__container.top-right{top:0}.Vue-Toastification__container.bottom-center,.Vue-Toastification__container.bottom-left,.Vue-Toastification__container.bottom-right{bottom:0;flex-direction:column-reverse}}.Vue-Toastification__toast{display:inline-flex;position:relative;max-height:800px;min-height:64px;box-sizing:border-box;margin-bottom:1rem;padding:22px 24px;border-radius:8px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);justify-content:space-between;font-family:Lato,Helvetica,Roboto,Arial,sans-serif;max-width:600px;min-width:326px;pointer-events:auto;overflow:hidden;transform:translateZ(0);direction:ltr}.Vue-Toastification__toast--rtl{direction:rtl}.Vue-Toastification__toast--default{background-color:#1976d2;color:#fff}.Vue-Toastification__toast--info{background-color:#2196f3;color:#fff}.Vue-Toastification__toast--success{background-color:#4caf50;color:#fff}.Vue-Toastification__toast--error{background-color:#ff5252;color:#fff}.Vue-Toastification__toast--warning{background-color:#ffc107;color:#fff}@media only screen and (max-width:600px){.Vue-Toastification__toast{border-radius:0;margin-bottom:.5rem}}.Vue-Toastification__toast-body{flex:1;line-height:24px;font-size:16px;word-break:break-word;white-space:pre-wrap}.Vue-Toastification__toast-component-body{flex:1}.Vue-Toastification__toast.disable-transition{animation:none!important}.Vue-Toastification__close-button{font-weight:700;font-size:24px;line-height:24px;background:transparent;outline:none;border:none;padding:0;padding-left:10px;cursor:pointer;transition:.3s ease;align-items:center;color:#fff;opacity:.3;transition:visibility 0s,opacity .2s linear}.Vue-Toastification__close-button:focus,.Vue-Toastification__close-button:hover{opacity:1}.Vue-Toastification__toast:not(:hover) .Vue-Toastification__close-button.show-on-hover{opacity:0}.Vue-Toastification__toast--rtl .Vue-Toastification__close-button{padding-left:unset;padding-right:10px}@keyframes scale-x-frames{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Vue-Toastification__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:5px;z-index:10000;background-color:hsla(0,0%,100%,.7);transform-origin:left;animation:scale-x-frames linear 1 forwards}.Vue-Toastification__toast--rtl .Vue-Toastification__progress-bar{right:0;left:unset;transform-origin:right}.Vue-Toastification__icon{margin:auto 18px auto 0;background:transparent;outline:none;border:none;padding:0;transition:.3s ease;align-items:center;width:20px;height:100%}.Vue-Toastification__toast--rtl .Vue-Toastification__icon{margin:auto 0 auto 18px}@keyframes bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes bounceOutRight{40%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(1000px,0,0)}}@keyframes bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}@keyframes bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Vue-Toastification__bounce-enter-active.bottom-left,.Vue-Toastification__bounce-enter-active.top-left{animation-name:bounceInLeft}.Vue-Toastification__bounce-enter-active.bottom-right,.Vue-Toastification__bounce-enter-active.top-right{animation-name:bounceInRight}.Vue-Toastification__bounce-enter-active.top-center{animation-name:bounceInDown}.Vue-Toastification__bounce-enter-active.bottom-center{animation-name:bounceInUp}.Vue-Toastification__bounce-leave-active:not(.disable-transition).bottom-left,.Vue-Toastification__bounce-leave-active:not(.disable-transition).top-left{animation-name:bounceOutLeft}.Vue-Toastification__bounce-leave-active:not(.disable-transition).bottom-right,.Vue-Toastification__bounce-leave-active:not(.disable-transition).top-right{animation-name:bounceOutRight}.Vue-Toastification__bounce-leave-active:not(.disable-transition).top-center{animation-name:bounceOutUp}.Vue-Toastification__bounce-leave-active:not(.disable-transition).bottom-center{animation-name:bounceOutDown}.Vue-Toastification__bounce-enter-active,.Vue-Toastification__bounce-leave-active{animation-duration:.75s;animation-fill-mode:both}.Vue-Toastification__bounce-move{transition-timing-function:ease-in-out;transition-property:all;transition-duration:.4s}@keyframes fadeOutTop{0%{transform:translateY(0);opacity:1}to{transform:translateY(-50px);opacity:0}}@keyframes fadeOutLeft{0%{transform:translateX(0);opacity:1}to{transform:translateX(-50px);opacity:0}}@keyframes fadeOutBottom{0%{transform:translateY(0);opacity:1}to{transform:translateY(50px);opacity:0}}@keyframes fadeOutRight{0%{transform:translateX(0);opacity:1}to{transform:translateX(50px);opacity:0}}@keyframes fadeInLeft{0%{transform:translateX(-50px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes fadeInRight{0%{transform:translateX(50px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes fadeInTop{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes fadeInBottom{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.Vue-Toastification__fade-enter-active.bottom-left,.Vue-Toastification__fade-enter-active.top-left{animation-name:fadeInLeft}.Vue-Toastification__fade-enter-active.bottom-right,.Vue-Toastification__fade-enter-active.top-right{animation-name:fadeInRight}.Vue-Toastification__fade-enter-active.top-center{animation-name:fadeInTop}.Vue-Toastification__fade-enter-active.bottom-center{animation-name:fadeInBottom}.Vue-Toastification__fade-leave-active:not(.disable-transition).bottom-left,.Vue-Toastification__fade-leave-active:not(.disable-transition).top-left{animation-name:fadeOutLeft}.Vue-Toastification__fade-leave-active:not(.disable-transition).bottom-right,.Vue-Toastification__fade-leave-active:not(.disable-transition).top-right{animation-name:fadeOutRight}.Vue-Toastification__fade-leave-active:not(.disable-transition).top-center{animation-name:fadeOutTop}.Vue-Toastification__fade-leave-active:not(.disable-transition).bottom-center{animation-name:fadeOutBottom}.Vue-Toastification__fade-enter-active,.Vue-Toastification__fade-leave-active{animation-duration:.75s;animation-fill-mode:both}.Vue-Toastification__fade-move{transition-timing-function:ease-in-out;transition-property:all;transition-duration:.4s}@keyframes slideInBlurredLeft{0%{transform:translateX(-1000px) scaleX(2.5) scaleY(.2);transform-origin:100% 50%;filter:blur(40px);opacity:0}to{transform:translateX(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}}@keyframes slideInBlurredTop{0%{transform:translateY(-1000px) scaleY(2.5) scaleX(.2);transform-origin:50% 0;filter:blur(240px);opacity:0}to{transform:translateY(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}}@keyframes slideInBlurredRight{0%{transform:translateX(1000px) scaleX(2.5) scaleY(.2);transform-origin:0 50%;filter:blur(40px);opacity:0}to{transform:translateX(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}}@keyframes slideInBlurredBottom{0%{transform:translateY(1000px) scaleY(2.5) scaleX(.2);transform-origin:50% 100%;filter:blur(240px);opacity:0}to{transform:translateY(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}}@keyframes slideOutBlurredTop{0%{transform:translateY(0) scaleY(1) scaleX(1);transform-origin:50% 0;filter:blur(0);opacity:1}to{transform:translateY(-1000px) scaleY(2) scaleX(.2);transform-origin:50% 0;filter:blur(240px);opacity:0}}@keyframes slideOutBlurredBottom{0%{transform:translateY(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}to{transform:translateY(1000px) scaleY(2) scaleX(.2);transform-origin:50% 100%;filter:blur(240px);opacity:0}}@keyframes slideOutBlurredLeft{0%{transform:translateX(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}to{transform:translateX(-1000px) scaleX(2) scaleY(.2);transform-origin:100% 50%;filter:blur(40px);opacity:0}}@keyframes slideOutBlurredRight{0%{transform:translateX(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}to{transform:translateX(1000px) scaleX(2) scaleY(.2);transform-origin:0 50%;filter:blur(40px);opacity:0}}.Vue-Toastification__slideBlurred-enter-active.bottom-left,.Vue-Toastification__slideBlurred-enter-active.top-left{animation-name:slideInBlurredLeft}.Vue-Toastification__slideBlurred-enter-active.bottom-right,.Vue-Toastification__slideBlurred-enter-active.top-right{animation-name:slideInBlurredRight}.Vue-Toastification__slideBlurred-enter-active.top-center{animation-name:slideInBlurredTop}.Vue-Toastification__slideBlurred-enter-active.bottom-center{animation-name:slideInBlurredBottom}.Vue-Toastification__slideBlurred-leave-active:not(.disable-transition).bottom-left,.Vue-Toastification__slideBlurred-leave-active:not(.disable-transition).top-left{animation-name:slideOutBlurredLeft}.Vue-Toastification__slideBlurred-leave-active:not(.disable-transition).bottom-right,.Vue-Toastification__slideBlurred-leave-active:not(.disable-transition).top-right{animation-name:slideOutBlurredRight}.Vue-Toastification__slideBlurred-leave-active:not(.disable-transition).top-center{animation-name:slideOutBlurredTop}.Vue-Toastification__slideBlurred-leave-active:not(.disable-transition).bottom-center{animation-name:slideOutBlurredBottom}.Vue-Toastification__slideBlurred-enter-active,.Vue-Toastification__slideBlurred-leave-active{animation-duration:.75s;animation-fill-mode:both}.Vue-Toastification__slideBlurred-move{transition-timing-function:ease-in-out;transition-property:all;transition-duration:.4s}",""]);const s=a},76959:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},77065:(e,t,n)=>{var r=n(93210);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("61efe9b7",r,!0,{sourceMap:!1,shadowMode:!1})},77199:(e,t,n)=>{var r=n(49653),o=n(76169),i=n(73201),a=n(93736),s=n(71961);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},77307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i=n(53853),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:a,it:s}=e,l="maxLength"===t?r.operators.GT:r.operators.LT,c=!1===s.opts.unicode?r._`${n}.length`:r._`${(0,o.useFunc)(e.gen,i.default)}(${n})`;e.fail$data(r._`${c} ${l} ${a}`)}};t.default=a},77381:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(52128),a=function(e){function t(t){var n=e.call(this)||this,r=t;return r.trigger&&(n.trigger=r.trigger),r.kick&&(n.kick=r.kick),r.drag&&(n.drag=r.drag),r.on&&(n.on=r.on),n.dragstart=n.dragStart=i.Layout.dragStart,n.dragend=n.dragEnd=i.Layout.dragEnd,n}return o(t,e),t.prototype.trigger=function(e){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(e,t){return this},t}(i.Layout);t.LayoutAdaptor=a,t.adaptor=function(e){return new a(e)}},77454:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-01af3b1e]{fill:#fff}.hovered[data-v-01af3b1e]{fill:#00e58d}",""]);const s=a},77556:(e,t,n)=>{var r=n(51873),o=n(34932),i=n(56449),a=n(44394),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},77681:()=>{},77797:(e,t,n)=>{var r=n(44394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},77927:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",u=c+l+"(?:\\u200d(?:"+[i,a,s].join("|")+")"+c+l+")*",d="(?:"+[i+r+"?",r,a,s,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+d+u,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},78030:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/validation","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/validation":true},"$recursiveAnchor":true,"title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}},"const":true,"enum":{"type":"array","items":true},"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},78096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},78109:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(77381)),r(n(57890)),r(n(23210)),r(n(61810)),r(n(99155)),r(n(1795)),r(n(52128)),r(n(56755)),r(n(68581)),r(n(89965)),r(n(29957)),r(n(46266)),r(n(12893)),r(n(95542)),r(n(78126)),r(n(72804))},78126:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.scale=e,this.AB=0,this.AD=0,this.A2=0}return e.prototype.addVariable=function(e){var t=this.scale/e.scale,n=e.offset/e.scale,r=e.weight;this.AB+=r*t*n,this.AD+=r*t*e.desiredPosition,this.A2+=r*t*t},e.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},e}();t.PositionStats=n;var r=function(){function e(e,t,n,r){void 0===r&&(r=!1),this.left=e,this.right=t,this.gap=n,this.equality=r,this.active=!1,this.unsatisfiable=!1,this.left=e,this.right=t,this.gap=n,this.equality=r}return e.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},e}();t.Constraint=r;var o=function(){function e(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1),this.desiredPosition=e,this.weight=t,this.scale=n,this.offset=0}return e.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},e.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},e.prototype.visitNeighbours=function(e,t){var n=function(n,r){return n.active&&e!==r&&t(n,r)};this.cOut.forEach((function(e){return n(e,e.right)})),this.cIn.forEach((function(e){return n(e,e.left)}))},e}();t.Variable=o;var i=function(){function e(e){this.vars=[],e.offset=0,this.ps=new n(e.scale),this.addVariable(e)}return e.prototype.addVariable=function(e){e.block=this,this.vars.push(e),this.ps.addVariable(e),this.posn=this.ps.getPosn()},e.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var e=0,t=this.vars.length;e<t;++e)this.ps.addVariable(this.vars[e]);this.posn=this.ps.getPosn()},e.prototype.compute_lm=function(e,t,n){var r=this,o=e.dfdv();return e.visitNeighbours(t,(function(t,i){var a=r.compute_lm(i,e,n);i===t.right?(o+=a*t.left.scale,t.lm=a):(o+=a*t.right.scale,t.lm=-a),n(t)})),o/e.scale},e.prototype.populateSplitBlock=function(e,t){var n=this;e.visitNeighbours(t,(function(t,r){r.offset=e.offset+(r===t.right?t.gap:-t.gap),n.addVariable(r),n.populateSplitBlock(r,e)}))},e.prototype.traverse=function(e,t,n,r){var o=this;void 0===n&&(n=this.vars[0]),void 0===r&&(r=null),n.visitNeighbours(r,(function(r,i){t.push(e(r)),o.traverse(e,t,i,n)}))},e.prototype.findMinLM=function(){var e=null;return this.compute_lm(this.vars[0],null,(function(t){!t.equality&&(null===e||t.lm<e.lm)&&(e=t)})),e},e.prototype.findMinLMBetween=function(e,t){this.compute_lm(e,null,(function(){}));var n=null;return this.findPath(e,null,t,(function(e,t){!e.equality&&e.right===t&&(null===n||e.lm<n.lm)&&(n=e)})),n},e.prototype.findPath=function(e,t,n,r){var o=this,i=!1;return e.visitNeighbours(t,(function(t,a){i||a!==n&&!o.findPath(a,e,n,r)||(i=!0,r(t,a))})),i},e.prototype.isActiveDirectedPathBetween=function(e,t){if(e===t)return!0;for(var n=e.cOut.length;n--;){var r=e.cOut[n];if(r.active&&this.isActiveDirectedPathBetween(r.right,t))return!0}return!1},e.split=function(t){return t.active=!1,[e.createSplitBlock(t.left),e.createSplitBlock(t.right)]},e.createSplitBlock=function(t){var n=new e(t);return n.populateSplitBlock(t,null),n},e.prototype.splitBetween=function(t,n){var r=this.findMinLMBetween(t,n);if(null!==r){var o=e.split(r);return{constraint:r,lb:o[0],rb:o[1]}}return null},e.prototype.mergeAcross=function(e,t,n){t.active=!0;for(var r=0,o=e.vars.length;r<o;++r){var i=e.vars[r];i.offset+=n,this.addVariable(i)}this.posn=this.ps.getPosn()},e.prototype.cost=function(){for(var e=0,t=this.vars.length;t--;){var n=this.vars[t],r=n.position()-n.desiredPosition;e+=r*r*n.weight}return e},e}();t.Block=i;var a=function(){function e(e){this.vs=e;var t=e.length;for(this.list=new Array(t);t--;){var n=new i(e[t]);this.list[t]=n,n.blockInd=t}}return e.prototype.cost=function(){for(var e=0,t=this.list.length;t--;)e+=this.list[t].cost();return e},e.prototype.insert=function(e){e.blockInd=this.list.length,this.list.push(e)},e.prototype.remove=function(e){var t=this.list.length-1,n=this.list[t];this.list.length=t,e!==n&&(this.list[e.blockInd]=n,n.blockInd=e.blockInd)},e.prototype.merge=function(e){var t=e.left.block,n=e.right.block,r=e.right.offset-e.left.offset-e.gap;t.vars.length<n.vars.length?(n.mergeAcross(t,e,r),this.remove(t)):(t.mergeAcross(n,e,-r),this.remove(n))},e.prototype.forEach=function(e){this.list.forEach(e)},e.prototype.updateBlockPositions=function(){this.list.forEach((function(e){return e.updateWeightedPosition()}))},e.prototype.split=function(e){var t=this;this.updateBlockPositions(),this.list.forEach((function(n){var r=n.findMinLM();null!==r&&r.lm<s.LAGRANGIAN_TOLERANCE&&(n=r.left.block,i.split(r).forEach((function(e){return t.insert(e)})),t.remove(n),e.push(r))}))},e}();t.Blocks=a;var s=function(){function e(e,t){this.vs=e,this.cs=t,this.vs=e,e.forEach((function(e){e.cIn=[],e.cOut=[]})),this.cs=t,t.forEach((function(e){e.left.cOut.push(e),e.right.cIn.push(e)})),this.inactive=t.map((function(e){return e.active=!1,e})),this.bs=null}return e.prototype.cost=function(){return this.bs.cost()},e.prototype.setStartingPositions=function(e){this.inactive=this.cs.map((function(e){return e.active=!1,e})),this.bs=new a(this.vs),this.bs.forEach((function(t,n){return t.posn=e[n]}))},e.prototype.setDesiredPositions=function(e){this.vs.forEach((function(t,n){return t.desiredPosition=e[n]}))},e.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,n=null,r=this.inactive,o=r.length,i=o,a=0;a<o;++a){var s=r[a];if(!s.unsatisfiable){var l=s.slack();if((s.equality||l<t)&&(t=l,n=s,i=a,s.equality))break}}return i!==o&&(t<e.ZERO_UPPERBOUND&&!n.active||n.equality)&&(r[i]=r[o-1],r.length=o-1),n},e.prototype.satisfy=function(){null==this.bs&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<e.ZERO_UPPERBOUND&&!t.active);){var n=t.left.block;if(n!==t.right.block)this.bs.merge(t);else{if(n.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var r=n.splitBetween(t.left,t.right);if(null===r){t.unsatisfiable=!0;continue}this.bs.insert(r.lb),this.bs.insert(r.rb),this.bs.remove(n),this.inactive.push(r.constraint),t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},e.prototype.solve=function(){this.satisfy();for(var e=Number.MAX_VALUE,t=this.bs.cost();Math.abs(e-t)>1e-4;)this.satisfy(),e=t,t=this.bs.cost();return t},e.LAGRANGIAN_TOLERANCE=-1e-4,e.ZERO_UPPERBOUND=-1e-10,e}();t.Solver=s,t.removeOverlapInOneDimension=function(e,t,n){for(var i=e.map((function(e){return new o(e.desiredCenter)})),a=[],l=e.length,c=0;c<l-1;c++){var u=e[c],d=e[c+1];a.push(new r(i[c],i[c+1],(u.size+d.size)/2))}var p=i[0],h=i[l-1],f=e[0].size/2,m=e[l-1].size/2,g=null,v=null;return t&&(g=new o(t,1e3*p.weight),i.push(g),a.push(new r(g,p,f))),n&&(v=new o(n,1e3*h.weight),i.push(v),a.push(new r(h,v,m))),new s(i,a).solve(),{newCenters:i.slice(0,e.length).map((function(e){return e.position()})),lowerBound:g?g.position():p.position()-f,upperBound:v?v.position():h.position()+m}}},78202:(e,t,n)=>{"use strict";var r=n(56857),o=n(96822),i=n(18209),a=n(79361),s=n(3988).normalizeRanks,l=n(62948),c=n(3988).removeEmptyRanks,u=n(56353),d=n(40135),p=n(4850),h=n(51453),f=n(73776),m=n(3988),g=n(68191).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new g({multigraph:!0,compound:!0}),n=E(e.graph());return t.setGraph(r.merge({},y,S(n,v),r.pick(n,b))),r.forEach(e.nodes(),(function(n){var o=E(e.node(n));t.setNode(n,r.defaults(S(o,w),x)),t.setParent(n,e.parent(n))})),r.forEach(e.edges(),(function(n){var o=E(e.edge(n));t.setEdge(n,r.merge({},k,S(o,_),r.pick(o,C)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){r.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){o.run(e)})),t("    nestingGraph.run",(function(){u.run(e)})),t("    rank",(function(){a(m.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};m.addDummyNode(e,"edge-proxy",o,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){c(e)})),t("    nestingGraph.cleanup",(function(){u.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;r.forEach(e.nodes(),(function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=r.max(t,o.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){i.run(e)})),t("    parentDummyChains",(function(){l(e)})),t("    addBorderSegments",(function(){d(e)})),t("    order",(function(){h(e)})),t("    insertSelfEdges",(function(){!function(e){var t=m.buildLayerMatrix(e);r.forEach(t,(function(t){var n=0;r.forEach(t,(function(t,o){var i=e.node(t);i.order=o+n,r.forEach(i.selfEdges,(function(t){m.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){p.adjust(e)})),t("    position",(function(){f(e)})),t("    positionSelfEdges",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){r.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){i.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){p.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,l=a.marginy||0;function c(e){var r=e.x,a=e.y,s=e.width,l=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-l/2),i=Math.max(i,a+l/2)}r.forEach(e.nodes(),(function(t){c(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.has(n,"x")&&c(n)})),t-=s,o-=l,r.forEach(e.nodes(),(function(n){var r=e.node(n);r.x-=t,r.y-=o})),r.forEach(e.edges(),(function(n){var i=e.edge(n);r.forEach(i.points,(function(e){e.x-=t,e.y-=o})),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)})),a.width=n-t+s,a.height=i-o+l}(e)})),t("    assignNodeIntersects",(function(){!function(e){r.forEach(e.edges(),(function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(m.intersectRect(i,n)),o.points.push(m.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){o.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){r.forEach(e.nodes(),(function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(e.edges(),(function(n){var o=e.edge(n),i=t.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function S(e,t){return r.mapValues(r.pick(e,t),Number)}function E(e){var t={};return r.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},78761:(e,t,n)=>{var r=n(52797);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("4f770e8c",r,!0,{sourceMap:!1,shadowMode:!1})},78909:(e,t,n)=>{var r=n(56857),o=n(3988),i=n(68191).Graph;e.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),r.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),r.forEach(t,(function(e,t){var o="layer"+t;n.setNode(o,{rank:"same"}),r.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},79361:(e,t,n)=>{"use strict";var r=n(68073).longestPath,o=n(38481),i=n(36860);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:!function(e){i(e)}(e);break;case"tight-tree":!function(e){r(e),o(e)}(e);break;case"longest-path":a(e)}};var a=r},79524:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".details-panel{position:absolute;padding:0;top:61px;right:-495px;height:calc(100% - 95px);width:435px;max-width:calc(100vw - 40px);background-color:#1d1d1de6;color:#fff;z-index:4;overflow-y:auto}.details-panel>.__content{display:flex;flex-direction:column}.details-panel>.__content>div,.details-panel>.__content>div>.__title{border:1px solid #393939;border-right:0;border-left:0;border-top:0}.details-panel>.__content>div>.__title{text-align:left;font-weight:600;padding:1.25em .625em}.details-panel>.__content>.__properties>.__property{padding:.625em 1.25em 0 1.25em}.details-panel>.__content>.__properties>.__property>.__property-name{font-size:.9em}.details-panel>.__content>.__properties>.__property *{box-sizing:border-box}.details-panel>.__content>.__properties>.__property:last-child{padding-bottom:1.25em}.details-panel>.__content>.__properties>button{margin:1.25em 1.25em}",""]);const s=a},79770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},79992:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-1fe6e8c5]{fill:#fff}.hovered[data-v-1fe6e8c5]{fill:#00e58d}",""]);const s=a},80079:(e,t,n)=>{var r=n(63702),o=n(70080),i=n(24739),a=n(48655),s=n(31175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},80299:(e,t,n)=>{var r=n(83120),o=n(69302),i=n(55765),a=n(83693),s=o((function(e){return i(r(e,1,a,!0))}));e.exports=s},80376:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(20641),o=n(90033),i=n(53751);const a=["title"],s={class:"__value"},l={key:2,class:"__content"};var c=n(63491);const u=(0,r.pM)({extends:c.oQ,setup:e=>c.oQ.setup(e)}),d=(0,n(66262).A)(u,[["render",function(e,t,n,c,u,d){const p=(0,r.g2)("i-arrow");return(0,r.uX)(),(0,r.CE)("div",{class:"baklava-num-input",style:(0,o.Tr)({gridTemplateColumns:e.intf.readonly?"0 1fr 0":null})},[e.intf.readonly?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",{key:0,class:"__button --dec",onClick:t[0]||(t[0]=(...t)=>e.decrement&&e.decrement(...t))},[(0,r.bF)(p)])),!e.editMode||e.intf.readonly?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"__content",style:(0,o.Tr)({borderRadius:e.intf.readonly?"var(--baklava-control-border-radius)":null,cursor:e.intf.readonly?"default":null}),onClick:t[1]||(t[1]=(...t)=>e.enterEditMode&&e.enterEditMode(...t))},[(0,r.Lk)("div",{class:"__label",title:e.intf.name},(0,o.v_)(e.intf.name),9,a),(0,r.Lk)("div",s,(0,o.v_)(e.stringRepresentation),1)],4)):((0,r.uX)(),(0,r.CE)("div",l,[(0,r.bo)((0,r.Lk)("input",{ref:"inputEl","onUpdate:modelValue":t[2]||(t[2]=t=>e.tempValue=t),type:"number",class:(0,o.C4)(["baklava-input",{"--invalid":e.invalid}]),style:{"text-align":"right"},onBlur:t[3]||(t[3]=(...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),onKeydown:t[4]||(t[4]=(0,i.jR)(((...t)=>e.leaveEditMode&&e.leaveEditMode(...t)),["enter"]))},null,34),[[i.Jo,e.tempValue]])])),e.intf.readonly?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",{key:3,class:"__button --inc",onClick:t[5]||(t[5]=(...t)=>e.increment&&e.increment(...t))},[(0,r.bF)(p)]))],4)}]])},80392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i=n(42023),a={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:e})=>r._`{unevaluatedProperty: ${e.unevaluatedProperty}}`},code(e){const{gen:t,schema:n,data:a,errsCount:s,it:l}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:c,props:u}=l;function d(i){if(!1===n)return e.setParams({unevaluatedProperty:i}),e.error(),void(c||t.break());if(!(0,o.alwaysValidSchema)(l,n)){const n=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:i,dataPropType:o.Type.Str},n),c||t.if((0,r.not)(n),(()=>t.break()))}}u instanceof r.Name?t.if(r._`${u} !== true`,(()=>t.forIn("key",a,(e=>t.if(function(e,t){return r._`!${e} || !${e}[${t}]`}(u,e),(()=>d(e))))))):!0!==u&&t.forIn("key",a,(e=>void 0===u?d(e):t.if(function(e,t){const n=[];for(const o in e)!0===e[o]&&n.push(r._`${t} !== ${o}`);return(0,r.and)(...n)}(u,e),(()=>d(e))))),l.props=!0,e.ok(r._`${s} === ${i.default.errors}`)}};t.default=a},80631:(e,t,n)=>{var r=n(28077),o=n(49326);e.exports=function(e,t){return null!=e&&o(e,t,r)}},80909:(e,t,n)=>{var r=n(30641),o=n(38329)(r);e.exports=o},80945:(e,t,n)=>{var r=n(80079),o=n(68223),i=n(53661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},80958:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/content","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/content":true},"$recursiveAnchor":true,"title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"contentSchema":{"$recursiveRef":"#"}}}')},81042:(e,t,n)=>{var r=n(56110)(Object,"create");e.exports=r},81813:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},81993:(e,t,n)=>{var r=n(99811),o=n(49698),i=n(77927);e.exports=function(e){return o(e)?i(e):r(e)}},82112:(e,t,n)=>{var r=n(84596);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("5e63d766",r,!0,{sourceMap:!1,shadowMode:!1})},82199:(e,t,n)=>{var r=n(14528),o=n(56449);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},82616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultErrorCode=void 0,t.DefaultErrorCode=0},83025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(99029),o=n(94227),i=n(15765);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const o=1===t?"property":"properties";return r.str`must have ${o} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:o}})=>r._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${n}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e)"__proto__"!==r&&((Array.isArray(e[r])?t:n)[r]=e[r]);return[t,n]}(e);s(e,t),l(e,n)}};function s(e,t=e.schema){const{gen:n,data:o,it:a}=e;if(0===Object.keys(t).length)return;const s=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,i.propertyInData)(n,o,l,a.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),a.allErrors?n.if(u,(()=>{for(const t of c)(0,i.checkReportMissingProp)(e,t)})):(n.if(r._`${u} && (${(0,i.checkMissingProp)(e,c,s)})`),(0,i.reportMissingProp)(e,s),n.else())}}function l(e,t=e.schema){const{gen:n,data:r,keyword:a,it:s}=e,l=n.name("valid");for(const c in t)(0,o.alwaysValidSchema)(s,t[c])||(n.if((0,i.propertyInData)(n,r,c,s.opts.ownProperties),(()=>{const t=e.subschema({keyword:a,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}t.validatePropertyDeps=s,t.validateSchemaDeps=l,t.default=a},83120:(e,t,n)=>{var r=n(14528),o=n(45891);e.exports=function e(t,n,i,a,s){var l=-1,c=t.length;for(i||(i=o),s||(s=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,a,s):r(s,u):a||(s[s.length]=u)}return s}},83221:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},83313:(e,t,n)=>{var r=n(66182);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("375ed742",r,!0,{sourceMap:!1,shadowMode:!1})},83349:(e,t,n)=>{var r=n(82199),o=n(86375),i=n(37241);e.exports=function(e){return r(e,i,o)}},83463:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},83488:e=>{e.exports=function(e){return e}},83693:(e,t,n)=>{var r=n(64894),o=n(40346);e.exports=function(e){return o(e)&&r(e)}},83729:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},84149:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-5707e051]{fill:#fff}.hovered[data-v-5707e051]{fill:#00e58d}",""]);const s=a},84247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},84596:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".hovered[data-v-78309d1e]{fill:#00e58d}",""]);const s=a},84684:(e,t,n)=>{var r=n(69302),o=n(75288),i=n(36800),a=n(37241),s=Object.prototype,l=s.hasOwnProperty,c=r((function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&i(t[0],t[1],c)&&(r=1);++n<r;)for(var u=t[n],d=a(u),p=-1,h=d.length;++p<h;){var f=d[p],m=e[f];(void 0===m||o(m,s[f])&&!l.call(e,f))&&(e[f]=u[f])}return e}));e.exports=c},85015:(e,t,n)=>{var r=n(72552),o=n(56449),i=n(40346);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},85250:(e,t,n)=>{var r=n(37217),o=n(87805),i=n(86649),a=n(42824),s=n(23805),l=n(37241),c=n(14974);e.exports=function e(t,n,u,d,p){t!==n&&i(n,(function(i,l){if(p||(p=new r),s(i))a(t,n,l,u,e,d,p);else{var h=d?d(c(t,l),i,l+"",t,n,p):void 0;void 0===h&&(h=i),o(t,l,h)}}),l)}},85463:e=>{e.exports=function(e){return e!=e}},85508:(e,t,n)=>{var r=n(86151),o=n(36800),i=n(17400);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},85558:e=>{e.exports=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}},85851:(e,t,n)=>{var r=n(90679);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("0c87c7a0",r,!0,{sourceMap:!1,shadowMode:!1})},86009:(e,t,n)=>{e=n.nmd(e);var r=n(34840),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},86049:(e,t,n)=>{"use strict";var r,o,i,a=n(7598),s=n(98466).extname,l=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=l.exec(e),n=t&&a[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!c.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=l.exec(e),r=n&&t.extensions[n[1].toLowerCase()];return!(!r||!r.length)&&r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=s("x."+e).toLowerCase().substr(1);return n&&t.types[n]||!1},t.types=Object.create(null),r=t.extensions,o=t.types,i=["nginx","apache",void 0,"iana"],Object.keys(a).forEach((function(e){var t=a[e],n=t.extensions;if(n&&n.length){r[e]=n;for(var s=0;s<n.length;s++){var l=n[s];if(o[l]){var c=i.indexOf(a[o[l]].source),u=i.indexOf(t.source);if("application/octet-stream"!==o[l]&&(c>u||c===u&&"application/"===o[l].substr(0,12)))continue}o[l]=e}}}))},86144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(72128),o=n(67060),i=n(56378),a=n(97532),s=n(69857),l=[r.default,o.default,(0,i.default)(),a.default,s.metadataVocabulary,s.contentVocabulary];t.default=l},86151:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,o,i){for(var a=-1,s=n(t((r-e)/(o||1)),0),l=Array(s);s--;)l[i?s:++a]=e,e+=o;return l}},86229:(e,t,n)=>{var r=n(69633);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("612da11a",r,!0,{sourceMap:!1,shadowMode:!1})},86375:(e,t,n)=>{var r=n(14528),o=n(28879),i=n(4664),a=n(63345),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},86649:(e,t,n)=>{var r=n(83221)();e.exports=r},86976:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-653cba30]{fill:#fff}.hovered[data-v-653cba30]{fill:#00e58d}",""]);const s=a},87038:e=>{e.exports="0.8.5"},87068:(e,t,n)=>{var r=n(37217),o=n(25911),i=n(21986),a=n(50689),s=n(5861),l=n(56449),c=n(3656),u=n(37167),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),w=y?p:s(e),x=b?p:s(t),_=(w=w==d?h:w)==h,k=(x=x==d?h:x)==h,C=w==x;if(C&&c(e)){if(!c(t))return!1;y=!0,_=!1}if(C&&!_)return v||(v=new r),y||u(e)?o(e,t,n,m,g,v):i(e,t,w,n,m,g,v);if(!(1&n)){var S=_&&f.call(e,"__wrapped__"),E=k&&f.call(t,"__wrapped__");if(S||E){var P=S?e.value():e,T=E?t.value():t;return v||(v=new r),g(P,T,n,m,v)}}return!!C&&(v||(v=new r),a(e,t,n,m,g,v))}},87296:(e,t,n)=>{var r,o=n(55481),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},87612:(e,t,n)=>{var r=n(79770),o=n(16574),i=n(15389),a=n(56449);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},87730:(e,t,n)=>{var r=n(29172),o=n(27301),i=n(86009),a=i&&i.isMap,s=a?o(a):r;e.exports=s},87792:(e,t,n)=>{var r=n(30700);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("2c9c687e",r,!0,{sourceMap:!1,shadowMode:!1})},87805:(e,t,n)=>{var r=n(43360),o=n(75288);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},87978:(e,t,n)=>{var r=n(60270),o=n(58156),i=n(80631),a=n(28586),s=n(30756),l=n(67197),c=n(77797);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},88055:(e,t,n)=>{var r=n(9999);e.exports=function(e){return r(e,5)}},88138:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/schema","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/core":true,"https://json-schema.org/draft/2019-09/vocab/applicator":true,"https://json-schema.org/draft/2019-09/vocab/validation":true,"https://json-schema.org/draft/2019-09/vocab/meta-data":true,"https://json-schema.org/draft/2019-09/vocab/format":false,"https://json-schema.org/draft/2019-09/vocab/content":true},"$recursiveAnchor":true,"title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format"},{"$ref":"meta/content"}],"type":["object","boolean"],"properties":{"definitions":{"$comment":"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.","type":"object","additionalProperties":{"$recursiveRef":"#"},"default":{}},"dependencies":{"$comment":"\\"dependencies\\" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to \\"dependentSchemas\\" and \\"dependentRequired\\"","type":"object","additionalProperties":{"anyOf":[{"$recursiveRef":"#"},{"$ref":"meta/validation#/$defs/stringArray"}]}}}}')},88319:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".baklava-select>.__dropdown.readonly>.item:not(.--header):not(.--active):hover{background:none}",""]);const s=a},88337:(e,t,n)=>{var r=n(76868);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("ede31fe8",r,!0,{sourceMap:!1,shadowMode:!1})},88860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".normal[data-v-a55b147a]{fill:#fff}.hovered[data-v-a55b147a]{fill:#00e58d}",""]);const s=a},88984:(e,t,n)=>{var r=n(55527),o=n(3650),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},89288:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".list{flex:1 1 auto;min-height:0;overflow-y:auto}",""]);const s=a},89935:e=>{e.exports=function(){return!1}},89965:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.source=e,this.target=t,this.type=n};t.PowerEdge=n;var r=function(){function e(e,t,n,r){var o=this;if(this.linkAccessor=n,this.modules=new Array(e),this.roots=[],r)this.initModulesFromGroup(r);else{this.roots.push(new a);for(var s=0;s<e;++s)this.roots[0].add(this.modules[s]=new i(s))}this.R=t.length,t.forEach((function(e){var t=o.modules[n.getSourceIndex(e)],r=o.modules[n.getTargetIndex(e)],i=n.getType(e);t.outgoing.add(i,r),r.incoming.add(i,t)}))}return e.prototype.initModulesFromGroup=function(e){var t=new a;this.roots.push(t);for(var n=0;n<e.leaves.length;++n){var r=e.leaves[n],o=new i(r.id);this.modules[r.id]=o,t.add(o)}if(e.groups)for(var l=0;l<e.groups.length;++l){var c=e.groups[l],u={};for(var d in c)"leaves"!==d&&"groups"!==d&&c.hasOwnProperty(d)&&(u[d]=c[d]);t.add(new i(-1-l,new s,new s,this.initModulesFromGroup(c),u))}return t},e.prototype.merge=function(e,t,n){void 0===n&&(n=0);var r=e.incoming.intersection(t.incoming),o=e.outgoing.intersection(t.outgoing),s=new a;s.add(e),s.add(t);var l=new i(this.modules.length,o,r,s);this.modules.push(l);var c=function(n,r,o){n.forAll((function(n,i){n.forAll((function(n){var a=n[r];a.add(i,l),a.remove(i,e),a.remove(i,t),e[o].remove(i,n),t[o].remove(i,n)}))}))};return c(o,"incoming","outgoing"),c(r,"outgoing","incoming"),this.R-=r.count()+o.count(),this.roots[n].remove(e),this.roots[n].remove(t),this.roots[n].add(l),l},e.prototype.rootMerges=function(e){void 0===e&&(e=0);for(var t=this.roots[e].modules(),n=t.length,r=new Array(n*(n-1)),o=0,i=0,a=n-1;i<a;++i)for(var s=i+1;s<n;++s){var l=t[i],c=t[s];r[o]={id:o,nEdges:this.nEdges(l,c),a:l,b:c},o++}return r},e.prototype.greedyMerge=function(){for(var e=0;e<this.roots.length;++e)if(!(this.roots[e].modules().length<2)){var t=this.rootMerges(e).sort((function(e,t){return e.nEdges==t.nEdges?e.id-t.id:e.nEdges-t.nEdges}))[0];if(!(t.nEdges>=this.R))return this.merge(t.a,t.b,e),!0}},e.prototype.nEdges=function(e,t){var n=e.incoming.intersection(t.incoming),r=e.outgoing.intersection(t.outgoing);return this.R-n.count()-r.count()},e.prototype.getGroupHierarchy=function(e){var t=this,r=[];return o(this.roots[0],{},r),this.allEdges().forEach((function(o){var i=t.modules[o.source],a=t.modules[o.target];e.push(new n(void 0===i.gid?o.source:r[i.gid],void 0===a.gid?o.target:r[a.gid],o.type))})),r},e.prototype.allEdges=function(){var t=[];return e.getEdges(this.roots[0],t),t},e.getEdges=function(t,n){t.forAll((function(t){t.getEdges(n),e.getEdges(t.children,n)}))},e}();function o(e,t,n){e.forAll((function(e){if(e.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(e.id);else{var r=t;if(e.gid=n.length,!e.isIsland()||e.isPredefined()){if(r={id:e.gid},e.isPredefined())for(var i in e.definition)r[i]=e.definition[i];t.groups||(t.groups=[]),t.groups.push(e.gid),n.push(r)}o(e.children,r,n)}}))}t.Configuration=r;var i=function(){function e(e,t,n,r,o){void 0===t&&(t=new s),void 0===n&&(n=new s),void 0===r&&(r=new a),this.id=e,this.outgoing=t,this.incoming=n,this.children=r,this.definition=o}return e.prototype.getEdges=function(e){var t=this;this.outgoing.forAll((function(r,o){r.forAll((function(r){e.push(new n(t.id,r.id,o))}))}))},e.prototype.isLeaf=function(){return 0===this.children.count()},e.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},e.prototype.isPredefined=function(){return void 0!==this.definition},e}();t.Module=i;var a=function(){function e(){this.table={}}return e.prototype.count=function(){return Object.keys(this.table).length},e.prototype.intersection=function(t){var n=new e;return n.table=function(e,t){var n={};for(var r in e)r in t&&(n[r]=e[r]);return n}(this.table,t.table),n},e.prototype.intersectionCount=function(e){return this.intersection(e).count()},e.prototype.contains=function(e){return e in this.table},e.prototype.add=function(e){this.table[e.id]=e},e.prototype.remove=function(e){delete this.table[e.id]},e.prototype.forAll=function(e){for(var t in this.table)e(this.table[t])},e.prototype.modules=function(){var e=[];return this.forAll((function(t){t.isPredefined()||e.push(t)})),e},e}();t.ModuleSet=a;var s=function(){function e(){this.sets={},this.n=0}return e.prototype.count=function(){return this.n},e.prototype.contains=function(e){var t=!1;return this.forAllModules((function(n){t||n.id!=e||(t=!0)})),t},e.prototype.add=function(e,t){(e in this.sets?this.sets[e]:this.sets[e]=new a).add(t),++this.n},e.prototype.remove=function(e,t){var n=this.sets[e];n.remove(t),0===n.count()&&delete this.sets[e],--this.n},e.prototype.forAll=function(e){for(var t in this.sets)e(this.sets[t],Number(t))},e.prototype.forAllModules=function(e){this.forAll((function(t,n){return t.forAll(e)}))},e.prototype.intersection=function(t){var n=new e;return this.forAll((function(e,r){if(r in t.sets){var o=e.intersection(t.sets[r]),i=o.count();i>0&&(n.sets[r]=o,n.n+=i)}})),n},e}();t.LinkSets=s,t.getGroups=function(e,t,n,o){for(var i=e.length,a=new r(i,t,n,o);a.greedyMerge(););var s=[],l=a.getGroupHierarchy(s);return s.forEach((function(t){var n=function(n){var r=t[n];"number"==typeof r&&(t[n]=e[r])};n("source"),n("target")})),{groups:l,powerEdges:s}}},90033:(e,t,n)=>{"use strict";function r(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}n.d(t,{$3:()=>h,$H:()=>D,BH:()=>W,BX:()=>Q,Bm:()=>x,C4:()=>Y,CE:()=>m,CP:()=>c,DY:()=>$,Gv:()=>_,J$:()=>J,Kg:()=>w,MZ:()=>o,Mp:()=>l,NO:()=>s,Oj:()=>i,PT:()=>O,Qd:()=>P,Ro:()=>F,SU:()=>A,TF:()=>d,Tg:()=>R,Tn:()=>b,Tr:()=>K,We:()=>U,X$:()=>u,Y2:()=>Z,ZH:()=>L,Zf:()=>E,bB:()=>V,cy:()=>f,gd:()=>y,pD:()=>r,rU:()=>j,tE:()=>a,u3:()=>ee,vM:()=>g,v_:()=>ne,yI:()=>T,yL:()=>k,yQ:()=>B});const o={},i=[],a=()=>{},s=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),c=e=>e.startsWith("onUpdate:"),u=Object.assign,d=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},p=Object.prototype.hasOwnProperty,h=(e,t)=>p.call(e,t),f=Array.isArray,m=e=>"[object Map]"===S(e),g=e=>"[object Set]"===S(e),v=e=>"[object Date]"===S(e),y=e=>"[object RegExp]"===S(e),b=e=>"function"==typeof e,w=e=>"string"==typeof e,x=e=>"symbol"==typeof e,_=e=>null!==e&&"object"==typeof e,k=e=>(_(e)||b(e))&&b(e.then)&&b(e.catch),C=Object.prototype.toString,S=e=>C.call(e),E=e=>S(e).slice(8,-1),P=e=>"[object Object]"===S(e),T=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,A=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},N=/-(\w)/g,O=M((e=>e.replace(N,((e,t)=>t?t.toUpperCase():"")))),I=/\B([A-Z])/g,R=M((e=>e.replace(I,"-$1").toLowerCase())),L=M((e=>e.charAt(0).toUpperCase()+e.slice(1))),j=M((e=>e?`on${L(e)}`:"")),D=(e,t)=>!Object.is(e,t),$=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},B=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},V=e=>{const t=parseFloat(e);return isNaN(t)?e:t},F=e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t};let z;const U=()=>z||(z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),W=r("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol");function K(e){if(f(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=w(r)?X(r):K(r);if(o)for(const e in o)t[e]=o[e]}return t}if(w(e)||_(e))return e}const H=/;(?![^(]*\))/g,q=/:([^]+)/,G=/\/\*[^]*?\*\//g;function X(e){const t={};return e.replace(G,"").split(H).forEach((e=>{if(e){const n=e.split(q);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Y(e){let t="";if(w(e))t=e;else if(f(e))for(let n=0;n<e.length;n++){const r=Y(e[n]);r&&(t+=r+" ")}else if(_(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const J=r("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Z(e){return!!e||""===e}function Q(e,t){if(e===t)return!0;let n=v(e),r=v(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=x(e),r=x(t),n||r)return e===t;if(n=f(e),r=f(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Q(e[r],t[r]);return n}(e,t);if(n=_(e),r=_(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!Q(e[n],t[n]))return!1}}return String(e)===String(t)}function ee(e,t){return e.findIndex((e=>Q(e,t)))}const te=e=>!(!e||!0!==e.__v_isRef),ne=e=>w(e)?e:null==e?"":f(e)||_(e)&&(e.toString===C||!b(e.toString))?te(e)?ne(e.value):JSON.stringify(e,re,2):String(e),re=(e,t)=>te(t)?re(e,t.value):m(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[oe(t,r)+" =>"]=n,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>oe(e)))}:x(t)?oe(t):!_(t)||f(t)||P(t)?t:String(t),oe=(e,t="")=>{var n;return x(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},90058:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/core","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/core":true},"$recursiveAnchor":true,"title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"type":"string","format":"uri"},"$anchor":{"type":"string","pattern":"^[A-Za-z][-A-Za-z0-9.:_]*$"},"$ref":{"type":"string","format":"uri-reference"},"$recursiveRef":{"type":"string","format":"uri-reference"},"$recursiveAnchor":{"type":"boolean","default":false},"$vocabulary":{"type":"object","propertyNames":{"type":"string","format":"uri"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$recursiveRef":"#"},"default":{}}}}')},90181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},90289:(e,t,n)=>{var r=n(12651);e.exports=function(e){return r(this,e).get(e)}},90422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15765),o=n(99029),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>o.str`must match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:i,schemaCode:a,it:s}=e,l=s.opts.unicodeRegExp?"u":"",c=n?o._`(new RegExp(${a}, ${l}))`:(0,r.usePattern)(e,i);e.fail$data(o._`!${c}.test(${t})`)}};t.default=i},90679:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".flip[data-v-0f428cc6]{rotate:180deg}",""]);const s=a},90938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},91033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},91040:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".anchor{pointer-events:all}.anchor>circle{fill:#00e58d}.anchor>circle:hover{fill:#cc4747}",""]);const s=a},91924:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(52128),a=function(e){function t(t){var n=e.call(this)||this;n.d3Context=t,n.event=t.dispatch(i.EventType[i.EventType.start],i.EventType[i.EventType.tick],i.EventType[i.EventType.end]);var r=n;return n.drag=function(){if(!e)var e=t.drag().subject(i.Layout.dragOrigin).on("start.d3adaptor",i.Layout.dragStart).on("drag.d3adaptor",(function(e){i.Layout.drag(e,t.event),r.resume()})).on("end.d3adaptor",i.Layout.dragEnd);if(!arguments.length)return e;arguments[0].call(e)},n}return o(t,e),t.prototype.trigger=function(e){var t={type:i.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event.call(t.type,t)},t.prototype.kick=function(){var t=this,n=this.d3Context.timer((function(){return e.prototype.tick.call(t)&&n.stop()}))},t.prototype.on=function(e,t){return"string"==typeof e?this.event.on(e,t):this.event.on(i.EventType[e],t),this},t}(i.Layout);t.D3StyleLayoutAdaptor=a},92002:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".active>.highlighted[data-v-7a759b63]{fill:#fff}.active>.highlighted_line[data-v-7a759b63]{stroke:#fff;stroke-width:.998972}.active>.hovered[data-v-7a759b63]{fill:#00e58d}.active>.hovered_line[data-v-7a759b63]{stroke:#00e58d;stroke-width:.998972}",""]);const s=a},92013:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".hex-input{text-align:right}",""]);const s=a},92232:(e,t,n)=>{var r=n(27252);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("c754fa90",r,!0,{sourceMap:!1,shadowMode:!1})},92271:(e,t,n)=>{var r=n(21791),o=n(4664);e.exports=function(e,t){return r(e,o(e),t)}},92457:(e,t,n)=>{var r=n(61909);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("ef6a8afc",r,!0,{sourceMap:!1,shadowMode:!1})},93149:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(20641),o=n(53751);const i=["placeholder","title","disabled"];var a=n(50953);const s=(0,r.pM)({props:{intf:{required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=(0,a.KR)(null);return{v:(0,r.EW)({get:()=>e.modelValue,set:e=>{t("update:modelValue",e)}}),el:n}}}),l=(0,n(66262).A)(s,[["render",function(e,t,n,a,s,l){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bo)((0,r.Lk)("input",{ref:"el","onUpdate:modelValue":t[0]||(t[0]=t=>e.v=t),type:"text",class:"baklava-input",placeholder:e.intf.name,title:e.intf.name,tabindex:"-1",disabled:e.intf.readonly},null,8,i),[[o.Jo,e.v]])])}]])},93210:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".self-building-square-spinner,.self-building-square-spinner *{box-sizing:border-box}.self-building-square-spinner{height:40px;width:40px;top:-6.66667px}.self-building-square-spinner .square{height:10px;width:10px;top:-6.66667px;margin-right:3.33333px;margin-top:3.33333px;background:#ff1d5e;float:left;position:relative;opacity:0;animation:self-building-square-spinner 6s infinite}.self-building-square-spinner .square:first-child{animation-delay:1.8s}.self-building-square-spinner .square:nth-child(2){animation-delay:2.1s}.self-building-square-spinner .square:nth-child(3){animation-delay:2.4s}.self-building-square-spinner .square:nth-child(4){animation-delay:.9s}.self-building-square-spinner .square:nth-child(5){animation-delay:1.2s}.self-building-square-spinner .square:nth-child(6){animation-delay:1.5s}.self-building-square-spinner .square:nth-child(7){animation-delay:0s}.self-building-square-spinner .square:nth-child(8){animation-delay:.3s}.self-building-square-spinner .square:nth-child(9){animation-delay:.6s}.self-building-square-spinner .clear{clear:both}@keyframes self-building-square-spinner{0%{opacity:0}5%{opacity:1;top:0}50.9%{opacity:1;top:0}55.9%{opacity:0;top:inherit}}",""]);const s=a},93243:(e,t,n)=>{var r=n(56110),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},93290:(e,t,n)=>{e=n.nmd(e);var r=n(9325),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},93325:(e,t,n)=>{var r=n(32681);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("7f33d8c2",r,!0,{sourceMap:!1,shadowMode:!1})},93599:(e,t,n)=>{var r=n(44394);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,c=a}return c}},93663:(e,t,n)=>{var r=n(41799),o=n(10776),i=n(67197);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},93736:(e,t,n)=>{var r=n(51873),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},93966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i=n(15765),a=n(15457),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:s}=n;r.items=!0,(0,o.alwaysValidSchema)(r,t)||(s?(0,a.validateAdditionalItems)(e,s):e.ok((0,i.validateArray)(e)))}};t.default=s},94227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(99029),o=n(41520);function i(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const o=r.RULES.keywords;for(const n in t)o[n]||f(e,`unknown keyword: "${n}"`)}function a(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function s(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:o}){return(i,a,s,l)=>{const c=void 0===s?a:s instanceof r.Name?(a instanceof r.Name?e(i,a,s):t(i,a,s),s):a instanceof r.Name?(t(i,s,a),a):n(a,s);return l!==r.Name||c instanceof r.Name?c:o(i,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&d(e,n,t),n}function d(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!a(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=a,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,o,i){if(!i){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(o)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(s(e))},t.escapeJsonPointer=s,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),d(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d;const p={};var h;function f(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:p[t.code]||(p[t.code]=new o._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(h||(t.Type=h={})),t.getErrorPath=function(e,t,n){if(e instanceof r.Name){const o=t===h.Num;return n?o?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:o?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+s(e)},t.checkStrictMode=f},94384:(e,t,n)=>{var r=n(56857);e.exports=function(e,t,n){var o,i={};r.forEach(n,(function(n){for(var r,a,s=e.parent(n);s;){if((r=e.parent(s))?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s)return void t.setEdge(a,s);s=r}}))}},94506:(e,t,n)=>{var r=n(93599),o=n(3335),i=n(83488);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},94541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const r=n(4042),o=n(86144),i=n(65520),a=n(25413),s=n(73265),l=n(36653),c=n(71024),u="https://json-schema.org/draft/2019-09/schema";class d extends r.default{constructor(e={}){super({...e,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(i.default),o.default.forEach((e=>this.addVocabulary(e))),this.addVocabulary(a.default),this.addVocabulary(s.default),this.opts.discriminator&&this.addKeyword(l.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:e,meta:t}=this.opts;t&&(c.default.call(this,e),this.refs["http://json-schema.org/schema"]=u)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv2019=d,e.exports=t=d,e.exports.Ajv2019=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var p=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return p.KeywordCxt}});var h=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var f=n(13558);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var m=n(34551);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})},94647:function(e){var t,n,r,o,i,a,s,l;e.exports=(t="__v-click-outside",n="undefined"!=typeof window,r="undefined"!=typeof navigator,o=n&&("ontouchstart"in window||r&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],i=function(e){var t=e.event,n=e.handler;(0,e.middleware)(t)&&n(t)},a=function(e,n){var r=function(e){var t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||o,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe),capture:Boolean(e.capture)}}(n.value),a=r.handler,s=r.middleware,l=r.detectIframe,c=r.capture;if(r.isActive){if(e[t]=r.events.map((function(t){return{event:t,srcTarget:document.documentElement,handler:function(t){return function(e){var t=e.el,n=e.event,r=e.handler,o=e.middleware,a=n.path||n.composedPath&&n.composedPath();(a?a.indexOf(t)<0:!t.contains(n.target))&&i({event:n,handler:r,middleware:o})}({el:e,event:t,handler:a,middleware:s})},capture:c}})),l){var u={event:"blur",srcTarget:window,handler:function(t){return function(e){var t=e.el,n=e.event,r=e.handler,o=e.middleware;setTimeout((function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&!t.contains(e)&&i({event:n,handler:r,middleware:o})}),0)}({el:e,event:t,handler:a,middleware:s})},capture:c};e[t]=[].concat(e[t],[u])}e[t].forEach((function(n){var r=n.event,o=n.srcTarget,i=n.handler;return setTimeout((function(){e[t]&&o.addEventListener(r,i,c)}),0)}))}},s=function(e){(e[t]||[]).forEach((function(e){return e.srcTarget.removeEventListener(e.event,e.handler,e.capture)})),delete e[t]},l=n?{beforeMount:a,updated:function(e,t){var n=t.value,r=t.oldValue;JSON.stringify(n)!==JSON.stringify(r)&&(s(e),a(e,{value:n}))},unmounted:s}:{},{install:function(e){e.directive("click-outside",l)},directive:l})},94672:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".interface-cursor[data-v-180097b4]{position:relative;top:0;left:0}.interface-cursor>.line[data-v-180097b4]{position:absolute;height:.2em;width:1.4em;background-color:#cca747;z-index:100}.pill[data-v-180097b4]{border-radius:25px;transform:translate(-20%,-50%);font-size:.75em;padding:5px;width:auto;height:auto;z-index:1;pointer-events:none;position:absolute;top:0;right:0}",""]);const s=a},94737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:o,$data:i,schema:a,schemaCode:s,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:p}=l;c.validateFormats&&(i?function(){const i=n.scopeValue("formats",{ref:p.formats,code:c.code.formats}),a=n.const("fDef",r._`${i}[${s}]`),l=n.let("fType"),u=n.let("format");n.if(r._`typeof ${a} == "object" && !(${a} instanceof RegExp)`,(()=>n.assign(l,r._`${a}.type || "string"`).assign(u,r._`${a}.validate`)),(()=>n.assign(l,r._`"string"`).assign(u,a))),e.fail$data((0,r.or)(!1===c.strictSchema?r.nil:r._`${s} && !${u}`,function(){const e=d.$async?r._`(${a}.async ? await ${u}(${o}) : ${u}(${o}))`:r._`${u}(${o})`,n=r._`(typeof ${u} == "function" ? ${e} : ${u}.test(${o}))`;return r._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const i=p.formats[a];if(!i)return void function(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${a}" ignored in schema at path "${u}"`}p.logger.warn(e())}();if(!0===i)return;const[s,l,h]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):c.code.formats?r._`${c.code.formats}${(0,r.getProperty)(a)}`:void 0,o=n.scopeValue("formats",{key:a,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,o]:[e.type||"string",e.validate,r._`${o}.validate`]}(i);s===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!d.$async)throw new Error("async format in sync schema");return r._`await ${h}(${o})`}return"function"==typeof l?r._`${h}(${o})`:r._`${h}.test(${o})`}())}())}};t.default=o},95505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".hovered svg{display:block}.hovered path{fill:#00e58d!important}",""]);const s=a},95542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29957),o=function(e,t){this.id=e,this.distance=t},i=function(e){this.id=e,this.neighbours=[]},a=function(e,t,n){this.node=e,this.prev=t,this.d=n},s=function(){function e(e,t,n,r,a){this.n=e,this.es=t,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new i(s);for(s=this.es.length;s--;){var l=this.es[s],c=n(l),u=r(l),d=a(l);this.neighbours[c].neighbours.push(new o(u,d)),this.neighbours[u].neighbours.push(new o(c,d))}}return e.prototype.DistanceMatrix=function(){for(var e=new Array(this.n),t=0;t<this.n;++t)e[t]=this.dijkstraNeighbours(t);return e},e.prototype.DistancesFromNode=function(e){return this.dijkstraNeighbours(e)},e.prototype.PathFromNodeToNode=function(e,t){return this.dijkstraNeighbours(e,t)},e.prototype.PathFromNodeToNodeWithPrevCost=function(e,t,n){var o=new r.PriorityQueue((function(e,t){return e.d<=t.d})),i=this.neighbours[e],s=new a(i,null,0),l={};for(o.push(s);!o.empty()&&(i=(s=o.pop()).node).id!==t;)for(var c=i.neighbours.length;c--;){var u=i.neighbours[c],d=this.neighbours[u.id];if(!s.prev||d.id!==s.prev.node.id){var p=d.id+","+i.id;if(!(p in l&&l[p]<=s.d)){var h=s.prev?n(s.prev.node.id,i.id,d.id):0,f=s.d+u.distance+h;l[p]=f,o.push(new a(d,s,f))}}}for(var m=[];s.prev;)s=s.prev,m.push(s.node.id);return m},e.prototype.dijkstraNeighbours=function(e,t){void 0===t&&(t=-1);for(var n=new r.PriorityQueue((function(e,t){return e.d<=t.d})),o=this.neighbours.length,i=new Array(o);o--;){var a=this.neighbours[o];a.d=o===e?0:Number.POSITIVE_INFINITY,a.q=n.push(a)}for(;!n.empty();){var s=n.pop();if(i[s.id]=s.d,s.id===t){for(var l=[],c=s;void 0!==c.prev;)l.push(c.prev.id),c=c.prev;return l}for(o=s.neighbours.length;o--;){var u=s.neighbours[o],d=(c=this.neighbours[u.id],s.d+u.distance);s.d!==Number.MAX_VALUE&&c.d>d&&(c.d=d,c.prev=s,n.reduceKey(c.q,c,(function(e,t){return e.q=t})))}}return i},e}();t.Calculator=s},95950:(e,t,n)=>{var r=n(70695),o=n(88984),i=n(64894);e.exports=function(e){return i(e)?r(e):o(e)}},95983:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"path[data-v-88bbcd12]{stroke-width:2px}.normal[data-v-88bbcd12]{stroke:#fff}.hovered[data-v-88bbcd12]{stroke:#00e58d}",""]);const s=a},96052:(e,t,n)=>{var r=n(91040);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("62f7d47e",r,!0,{sourceMap:!1,shadowMode:!1})},96080:(e,t,n)=>{var r=n(15068);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("15fc7d69",r,!0,{sourceMap:!1,shadowMode:!1})},96131:(e,t,n)=>{var r=n(2523),o=n(85463),i=n(76959);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},96163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99029),o=n(94227),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:i,it:a}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(a.opts.discriminator&&i.discriminator)return;const s=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){s.forEach(((n,i)=>{let s;(0,o.alwaysValidSchema)(a,n)?t.var(u,!0):s=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},u),i>0&&t.if(r._`${u} && ${l}`).assign(l,!1).assign(c,r._`[${c}, ${i}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,i),s&&e.mergeEvaluated(s,r.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},96237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(20641),o=n(53751);const i=["placeholder","title","disabled"],a=(0,r.pM)({props:{intf:{required:!0},modelValue:{required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e.intf.dtype||"string";return{v:(0,r.EW)({get:()=>void 0!==e.modelValue?e.modelValue.join(" "):"",set:e=>{const r=e.trim().split(/\s+/).map((e=>{switch(n){case"string":return e.toString();case"integer":return parseInt(e,10);case"number":return parseFloat(e);case"boolean":return Boolean(e);default:return e}}));t("update:modelValue",r)}})}}}),s=(0,n(66262).A)(a,[["render",function(e,t,n,a,s,l){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.v=t),type:"text",class:"baklava-input",placeholder:e.intf.name,title:e.intf.name,tabindex:"-1",disabled:e.intf.readonly},null,8,i),[[o.Jo,e.v,void 0,{lazy:!0}]])])}]])},96822:(e,t,n)=>{"use strict";var r=n(56857),o=n(22031);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?o(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},o={};return r.forEach(e.nodes(),(function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),(function(e){r.has(n,e.w)?t.push(e):i(e.w)})),delete n[a])})),t}(e);r.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))}))},undo:function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},96908:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".__tooltip{z-index:4;font-size:12px;color:#fff;position:absolute;text-align:center;flex-direction:column;width:-moz-max-content;width:max-content;margin:1em 0;padding:1em;background-color:#1d1d1d;border:1px solid #343434;border-radius:15px;transform:translateX(-50%)}",""]);const s=a},97200:(e,t,n)=>{var r=n(13222),o=0;e.exports=function(e){var t=++o;return r(e)+t}},97420:(e,t,n)=>{var r=n(47422),o=n(73170),i=n(31769);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=r(e,c);n(u,c)&&o(l,i(c,e),u)}return l}},97532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(94737).default];t.default=r},97629:()=>{},97652:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(n||(t.DiscrError=n={}))},97708:(e,t,n)=>{var r=n(27280);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("f8423786",r,!0,{sourceMap:!1,shadowMode:!1})},97858:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"div[data-v-9ef0f814]{width:35px;height:35px;border-radius:50%;display:flex;align-items:center;justify-content:center}.info[data-v-9ef0f814]{background-color:#00e58d}.warning[data-v-9ef0f814]{background-color:#cca747}.error[data-v-9ef0f814]{background-color:#cc4747}",""]);const s=a},97860:(e,t,n)=>{var r=n(56857),o=n(68191).Graph;e.exports=function(e,t,n){var i=function(e){for(var t;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return r.forEach(e.nodes(),(function(o){var s=e.node(o),l=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(o),a.setParent(o,l||i),r.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,i=a.edge(n,o),s=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:e.edge(t).weight+s})})),r.has(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))})),a}},98297:(e,t,n)=>{var r=n(84149);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("63b59234",r,!0,{sourceMap:!1,shadowMode:!1})},98466:()=>{},98621:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,"#hterm-terminal[data-v-246a4a0f]{position:relative;width:100%;height:100%;background-color:#1d1d1d}",""]);const s=a},98871:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(45522),o=n.n(r),i=n(67643),a=n.n(i)()(o());a.push([e.id,".terminal-wrapper[data-v-6404167b]{z-index:3;position:absolute;min-height:35px;border-top:1px solid #343434;bottom:0;width:100%;transition:transform 1s;display:flex;flex-direction:column}.container[data-v-6404167b]{position:relative;height:35px;min-height:35px;background-color:#1d1d1d;width:calc(100% - 30px);border-bottom:1px solid #343434;display:flex;padding-right:30px;align-items:center;justify-content:space-between;-webkit-user-select:none;-moz-user-select:none;user-select:none}.container>.resizer[data-v-6404167b]{position:absolute;height:5px;width:100%;top:0;cursor:row-resize;pointer-events:none}.container>.button-wrapper[data-v-6404167b]{display:flex;align-items:center;gap:30px}.container>.button-wrapper>button[data-v-6404167b]{gap:10px}.container>.tab[data-v-6404167b]{display:flex;text-align:center;height:35px}.container>.tab>.tab-item[data-v-6404167b]{border-right:1px solid #343434;padding:0 0 0 25px;line-height:35px}.container>.tab>.tab-item.active[data-v-6404167b]{background-color:#4a4a4a}.container>.tab>.tab-item[data-v-6404167b]:not(.active):hover{background-color:#343434}.container>.tab>.tab-item.active:hover>span[data-v-6404167b]{color:#00e58d}.container>.tab>.tab-item .indicator-wrapper[data-v-6404167b]{width:25px;height:100%;display:flex}.container>.tab>.tab-item .indicator-wrapper>svg[data-v-6404167b]{padding:5px;display:block;margin-left:auto}span[data-v-6404167b]{color:#fff;font-size:12px;-webkit-user-select:none;-moz-user-select:none;user-select:none}button[data-v-6404167b]{display:flex}button[data-v-6404167b]:hover,button:hover>span[data-v-6404167b]{color:#00e58d}",""]);const s=a},98918:(e,t,n)=>{"use strict";var r=n(56857);e.exports=function(e){var t={},n=r.filter(e.nodes(),(function(t){return!e.children(t).length})),o=r.max(r.map(n,(function(t){return e.node(t).rank}))),i=r.map(r.range(o+1),(function(){return[]})),a=r.sortBy(n,(function(t){return e.node(t).rank}));return r.forEach(a,(function n(o){if(!r.has(t,o)){t[o]=!0;var a=e.node(o);i[a.rank].push(o),r.forEach(e.successors(o),n)}})),i}},98937:(e,t,n)=>{var r=n(66157);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(99548).A)("3c915db6",r,!0,{sourceMap:!1,shadowMode:!1})},99029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(41520),o=n(57845);var i=n(41520);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var a=n(57845);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class s{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends s{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?o.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=N(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class c extends s{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=N(this.rhs,e,t),this}get names(){return M(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class p extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class h extends s{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends s{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=N(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends s{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const o=n[r];o.optimizeNames(e,t)||(O(e,o.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>A(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends m{}class y extends g{}y.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(I(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=N(this.condition,e,t),this}get names(){const e=super.names;return M(e,this.condition),this.else&&A(e,this.else.names),e}}b.kind="if";class w extends g{}w.kind="for";class x extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=N(this.iteration,e,t),this}get names(){return A(super.names,this.iteration.names)}}class _ extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?o.varKinds.var:this.varKind,{name:n,from:r,to:i}=this;return`for(${t} ${n}=${r}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){const e=M(super.names,this.from);return M(e,this.to)}}class k extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=N(this.iterable,e,t),this}get names(){return A(super.names,this.iterable.names)}}class C extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}C.kind="func";class S extends m{render(e){return"return "+super.render(e)}}S.kind="return";class E extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&A(e,this.catch.names),this.finally&&A(e,this.finally.names),e}}class P extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}P.kind="catch";class T extends g{render(e){return"finally"+super.render(e)}}function A(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function M(e,t){return t instanceof r._CodeOrName?A(e,t.names):e}function N(e,t,n){return e instanceof r.Name?i(e):(o=e)instanceof r._Code&&o._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=i(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;var o;function i(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function O(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${D(e)}`}T.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new o.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const o=this._scope.toName(t);return void 0!==n&&r&&(this._constants[o.str]=n),this._leafNode(new l(e,o,n)),o}const(e,t,n){return this._def(o.varKinds.const,e,t,n)}let(e,t,n){return this._def(o.varKinds.let,e,t,n)}var(e,t,n){return this._def(o.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[n,o]of e)t.length>1&&t.push(","),t.push(n),(n!==o||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,o));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(b,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new x(e),t)}forRange(e,t,n,r,i=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const a=this._scope.toName(e);return this._for(new _(i,a,t,n),(()=>r(a)))}forOf(e,t,n,i=o.varKinds.const){const a=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(a,r._`${e}[${t}]`),n(a)}))}return this._for(new k("of",i,a,t),(()=>n(a)))}forIn(e,t,n,i=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const a=this._scope.toName(e);return this._for(new k("in",i,a,t),(()=>n(a)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new p(e))}return(e){const t=new S;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new E;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new P(e),t(e)}return n&&(this._currNode=r.finally=new T,this.code(n)),this._endBlockNode(P,T)}throw(e){return this._leafNode(new h(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,o){return this._blockNode(new C(e,t,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=I;const R=j(t.operators.AND);t.and=function(...e){return e.reduce(R)};const L=j(t.operators.OR);function j(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${D(t)} ${e} ${D(n)}`}function D(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(...e){return e.reduce(L)}},99155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12893),o=n(78126),i=n(95542),a=function(e,t,n){this.id=e,this.rect=t,this.children=n,this.leaf=void 0===n||0===n.length};t.NodeWrapper=a;var s=function(e,t,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null),this.id=e,this.x=t,this.y=n,this.node=r,this.line=o};t.Vert=s;var l=function(){function e(t,n){this.s=t,this.t=n;var r=e.findMatch(t,n),o=n.slice(0).reverse(),i=e.findMatch(t,o);r.length>=i.length?(this.length=r.length,this.si=r.si,this.ti=r.ti,this.reversed=!1):(this.length=i.length,this.si=i.si,this.ti=n.length-i.ti-i.length,this.reversed=!0)}return e.findMatch=function(e,t){for(var n=e.length,r=t.length,o={length:0,si:-1,ti:-1},i=new Array(n),a=0;a<n;a++){i[a]=new Array(r);for(var s=0;s<r;s++)if(e[a]===t[s]){var l=i[a][s]=0===a||0===s?1:i[a-1][s-1]+1;l>o.length&&(o.length=l,o.si=a-l+1,o.ti=s-l+1)}else i[a][s]=0}return o},e.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},e}();t.LongestCommonSubsequence=l;var c=function(){function e(e,t,n){var o=this;void 0===n&&(n=12),this.originalnodes=e,this.groupPadding=n,this.leaves=null,this.nodes=e.map((function(e,n){return new a(n,t.getBounds(e),t.getChildren(e))})),this.leaves=this.nodes.filter((function(e){return e.leaf})),this.groups=this.nodes.filter((function(e){return!e.leaf})),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach((function(e){return e.children.forEach((function(t){return o.nodes[t].parent=e}))})),this.root={children:[]},this.nodes.forEach((function(e){void 0===e.parent&&(e.parent=o.root,o.root.children.push(e.id)),e.ports=[]})),this.backToFront=this.nodes.slice(0),this.backToFront.sort((function(e,t){return o.getDepth(e)-o.getDepth(t)})),this.backToFront.slice(0).reverse().filter((function(e){return!e.leaf})).forEach((function(e){var t=r.Rectangle.empty();e.children.forEach((function(e){return t=t.union(o.nodes[e].rect)})),e.rect=t.inflate(o.groupPadding)}));var i=this.midPoints(this.cols.map((function(e){return e.pos}))),l=this.midPoints(this.rows.map((function(e){return e.pos}))),c=i[0],u=i[i.length-1],d=l[0],p=l[l.length-1],h=this.rows.map((function(e){return{x1:c,x2:u,y1:e.pos,y2:e.pos}})).concat(l.map((function(e){return{x1:c,x2:u,y1:e,y2:e}}))),f=this.cols.map((function(e){return{x1:e.pos,x2:e.pos,y1:d,y2:p}})).concat(i.map((function(e){return{x1:e,x2:e,y1:d,y2:p}}))),m=h.concat(f);m.forEach((function(e){return e.verts=[]})),this.verts=[],this.edges=[],h.forEach((function(e){return f.forEach((function(t){var n=new s(o.verts.length,t.x1,e.y1);e.verts.push(n),t.verts.push(n),o.verts.push(n);for(var r=o.backToFront.length;r-- >0;){var i=o.backToFront[r],a=i.rect,l=Math.abs(n.x-a.cx()),c=Math.abs(n.y-a.cy());if(l<a.width()/2&&c<a.height()/2){n.node=i;break}}}))})),m.forEach((function(e,t){o.nodes.forEach((function(t,n){t.rect.lineIntersections(e.x1,e.y1,e.x2,e.y2).forEach((function(n,r){var i=new s(o.verts.length,n.x,n.y,t,e);o.verts.push(i),e.verts.push(i),t.ports.push(i)}))}));var n=Math.abs(e.y1-e.y2)<.1,r=function(e,t){return n?t.x-e.x:t.y-e.y};e.verts.sort(r);for(var i=1;i<e.verts.length;i++){var a=e.verts[i-1],l=e.verts[i];a.node&&a.node===l.node&&a.node.leaf||o.edges.push({source:a.id,target:l.id,length:Math.abs(r(a,l))})}}))}return e.prototype.avg=function(e){return e.reduce((function(e,t){return e+t}))/e.length},e.prototype.getGridLines=function(e){for(var t=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var r=n.filter((function(t){return t.rect["overlap"+e.toUpperCase()](n[0].rect)})),o={nodes:r,pos:this.avg(r.map((function(t){return t.rect["c"+e]()})))};t.push(o),o.nodes.forEach((function(e){return n.splice(n.indexOf(e),1)}))}return t.sort((function(e,t){return e.pos-t.pos})),t},e.prototype.getDepth=function(e){for(var t=0;e.parent!==this.root;)t++,e=e.parent;return t},e.prototype.midPoints=function(e){for(var t=e[1]-e[0],n=[e[0]-t/2],r=1;r<e.length;r++)n.push((e[r]+e[r-1])/2);return n.push(e[e.length-1]+t/2),n},e.prototype.findLineage=function(e){var t=[e];do{e=e.parent,t.push(e)}while(e!==this.root);return t.reverse()},e.prototype.findAncestorPathBetween=function(e,t){for(var n=this.findLineage(e),r=this.findLineage(t),o=0;n[o]===r[o];)o++;return{commonAncestor:n[o-1],lineages:n.slice(o).concat(r.slice(o))}},e.prototype.siblingObstacles=function(e,t){var n=this,r=this.findAncestorPathBetween(e,t),o={};r.lineages.forEach((function(e){return o[e.id]={}}));var i=r.commonAncestor.children.filter((function(e){return!(e in o)}));return r.lineages.filter((function(e){return e.parent!==r.commonAncestor})).forEach((function(e){return i=i.concat(e.parent.children.filter((function(t){return t!==e.id})))})),i.map((function(e){return n.nodes[e]}))},e.getSegmentSets=function(e,t,n){for(var r=[],o=0;o<e.length;o++)for(var i=e[o],a=0;a<i.length;a++){(d=i[a]).edgeid=o,d.i=a;var s=d[1][t]-d[0][t];Math.abs(s)<.1&&r.push(d)}r.sort((function(e,n){return e[0][t]-n[0][t]}));for(var l=[],c=null,u=0;u<r.length;u++){var d=r[u];(!c||Math.abs(d[0][t]-c.pos)>.1)&&(c={pos:d[0][t],segments:[]},l.push(c)),c.segments.push(d)}return l},e.nudgeSegs=function(e,t,n,r,i,a){var s=r.length;if(!(s<=1)){for(var l=r.map((function(t){return new o.Variable(t[0][e])})),c=[],u=0;u<s;u++)for(var d=0;d<s;d++)if(u!==d){var p=r[u],h=r[d],f=p.edgeid,m=h.edgeid,g=-1,v=-1;"x"==e?i(f,m)&&(p[0][t]<p[1][t]?(g=d,v=u):(g=u,v=d)):i(f,m)&&(p[0][t]<p[1][t]?(g=u,v=d):(g=d,v=u)),g>=0&&c.push(new o.Constraint(l[g],l[v],a))}new o.Solver(l,c).solve(),l.forEach((function(t,o){var i=r[o],a=t.position();i[0][e]=i[1][e]=a;var s=n[i.edgeid];i.i>0&&(s[i.i-1][1][e]=a),i.i<s.length-1&&(s[i.i+1][0][e]=a)}))}},e.nudgeSegments=function(t,n,r,o,i){for(var a=e.getSegmentSets(t,n,r),s=0;s<a.length;s++){for(var l=a[s],c=[],u=0;u<l.segments.length;u++){var d=l.segments[u];c.push({type:0,s:d,pos:Math.min(d[0][r],d[1][r])}),c.push({type:1,s:d,pos:Math.max(d[0][r],d[1][r])})}c.sort((function(e,t){return e.pos-t.pos+e.type-t.type}));var p=[],h=0;c.forEach((function(a){0===a.type?(p.push(a.s),h++):h--,0==h&&(e.nudgeSegs(n,r,t,p,o,i),p=[])}))}},e.prototype.routeEdges=function(t,n,r,o){var i=this,a=t.map((function(e){return i.route(r(e),o(e))})),s=e.orderEdges(a),l=a.map((function(t){return e.makeSegments(t)}));return e.nudgeSegments(l,"x","y",s,n),e.nudgeSegments(l,"y","x",s,n),e.unreverseEdges(l,a),l},e.unreverseEdges=function(e,t){e.forEach((function(e,n){t[n].reversed&&(e.reverse(),e.forEach((function(e){e.reverse()})))}))},e.angleBetween2Lines=function(e,t){var n=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),r=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),o=n-r;return(o>Math.PI||o<-Math.PI)&&(o=r-n),o},e.isLeft=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)<=0},e.getOrder=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];void 0===t[r.l]&&(t[r.l]={}),t[r.l][r.r]=!0}return function(e,n){return void 0!==t[e]&&t[e][n]}},e.orderEdges=function(t){for(var n=[],r=0;r<t.length-1;r++)for(var o=r+1;o<t.length;o++){var i,a,s,c=t[r],u=t[o],d=new l(c,u);0!==d.length&&(d.reversed&&(u.reverse(),u.reversed=!0,d=new l(c,u)),(d.si<=0||d.ti<=0)&&(d.si+d.length>=c.length||d.ti+d.length>=u.length)?n.push({l:r,r:o}):(d.si+d.length>=c.length||d.ti+d.length>=u.length?(i=c[d.si+1],s=c[d.si-1],a=u[d.ti-1]):(i=c[d.si+d.length-2],a=c[d.si+d.length],s=u[d.ti+d.length]),e.isLeft(i,a,s)?n.push({l:o,r}):n.push({l:r,r:o})))}return e.getOrder(n)},e.makeSegments=function(e){function t(e){return{x:e.x,y:e.y}}for(var n=function(e,t,n){return Math.abs((t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x))<.001},r=[],o=t(e[0]),i=1;i<e.length;i++){var a=t(e[i]),s=i<e.length-1?e[i+1]:null;s&&n(o,a,s)||(r.push([o,a]),o=a)}return r},e.prototype.route=function(e,t){var n=this,r=this.nodes[e],o=this.nodes[t];this.obstacles=this.siblingObstacles(r,o);var a={};this.obstacles.forEach((function(e){return a[e.id]=e})),this.passableEdges=this.edges.filter((function(e){var t=n.verts[e.source],r=n.verts[e.target];return!(t.node&&t.node.id in a||r.node&&r.node.id in a)}));for(var s=1;s<r.ports.length;s++){var l=r.ports[0].id,c=r.ports[s].id;this.passableEdges.push({source:l,target:c,length:0})}for(s=1;s<o.ports.length;s++)l=o.ports[0].id,c=o.ports[s].id,this.passableEdges.push({source:l,target:c,length:0});var u=new i.Calculator(this.verts.length,this.passableEdges,(function(e){return e.source}),(function(e){return e.target}),(function(e){return e.length})).PathFromNodeToNodeWithPrevCost(r.ports[0].id,o.ports[0].id,(function(e,t,i){var a=n.verts[e],s=n.verts[t],l=n.verts[i],c=Math.abs(l.x-a.x),u=Math.abs(l.y-a.y);return a.node===r&&a.node===s.node||s.node===o&&s.node===l.node?0:c>1&&u>1?1e3:0})),d=u.reverse().map((function(e){return n.verts[e]}));return d.push(this.nodes[o.id].ports[0]),d.filter((function(e,t){return!(t<d.length-1&&d[t+1].node===r&&e.node===r||t>0&&e.node===o&&d[t-1].node===o)}))},e.getRoutePath=function(t,n,r,o){var i,a,s,l={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var c=0;c<t.length;c++){var u=(i=t[c])[1].x,d=i[1].y,p=u-i[0].x,h=d-i[0].y;if(c<t.length-1){Math.abs(p)>0?u-=p/Math.abs(p)*n:d-=h/Math.abs(h)*n,l.routepath+="L "+u+" "+d+" ";var f=t[c+1],m=f[0].x,g=f[0].y;p=f[1].x-m,h=f[1].y-g;var v,y,b=e.angleBetween2Lines(i,f)<0?1:0;Math.abs(p)>0?(v=m+p/Math.abs(p)*n,y=g):(v=m,y=g+h/Math.abs(h)*n);var w=Math.abs(v-u),x=Math.abs(y-d);l.routepath+="A "+w+" "+x+" 0 0 "+b+" "+v+" "+y+" "}else{var _=[u,d];Math.abs(p)>0?(a=[u-=p/Math.abs(p)*o,d+r],s=[u,d-r]):(a=[u+r,d-=h/Math.abs(h)*o],s=[u-r,d]),l.routepath+="L "+u+" "+d+" ",o>0&&(l.arrowpath="M "+_[0]+" "+_[1]+" L "+a[0]+" "+a[1]+" L "+s[0]+" "+s[1])}}else u=(i=t[0])[1].x,d=i[1].y,p=u-i[0].x,h=d-i[0].y,_=[u,d],Math.abs(p)>0?(a=[u-=p/Math.abs(p)*o,d+r],s=[u,d-r]):(a=[u+r,d-=h/Math.abs(h)*o],s=[u-r,d]),l.routepath+="L "+u+" "+d+" ",o>0&&(l.arrowpath="M "+_[0]+" "+_[1]+" L "+a[0]+" "+a[1]+" L "+s[0]+" "+s[1]);return l},e}();t.GridRouter=c},99374:(e,t,n)=>{var r=n(54128),o=n(23805),i=n(44394),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},99548:(e,t,n)=>{"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],s={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}n.d(t,{A:()=>f});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,u=function(){},d=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,n,o){c=n,d=o||{};var a=r(e,t);return m(a),function(t){for(var n=[],o=0;o<a.length;o++){var s=a[o];(l=i[s.id]).refs--,n.push(l)}for(t?m(a=r(e,t)):a=[],o=0;o<n.length;o++){var l;if(0===(l=n[o]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(v(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(v(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+p+'~="'+e.id+'"]');if(r){if(c)return u;r.parentNode.removeChild(r)}if(h){var o=l++;r=s||(s=g()),t=w.bind(null,r,o,!1),n=w.bind(null,r,o,!0)}else r=g(),t=x.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var y,b=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function w(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function x(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(p,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},99811:(e,t,n)=>{var r=n(47237)("length");e.exports=r}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.c=t,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(n.s=59662)})();
//# sourceMappingURL=index.9c295a1a.js.map</script></head><body><noscript><strong>Please enable JavaScript in your browser.</strong></noscript><div id="app"></div></body></html>